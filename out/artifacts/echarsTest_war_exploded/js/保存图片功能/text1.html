<!DOCTYPE html>
<html style="height: 100%">

<head>
    <meta charset="utf-8">
    <title>JS实现Echarts的图表保存为图片功能</title>
</head>

<body style="height: 100%; margin: 0">
<input type="button" value="导出" onclick="saveAsImage()"/>
<div id="container" style="height: 100%"></div>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts.min.js"></script>
<script type="text/javascript">
    var dom = document.getElementById("container");
    var myChart = echarts.init(dom);
    var app = {};
    option = null;
    option = {
        xAxis: {
            type: 'category',
            data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
        },
        yAxis: {
            type: 'value'
        },
        // toolbox: {
        //     show: true,
        //     feature: {
        //         saveAsImage: {}
        //     }
        // },
        series: [{
            data: [820, 932, 901, 934, 1290, 1330, 1320],
            type: 'line'
        }]
    };
    if (option && typeof option === "object") {
        myChart.setOption(option, true);
    }
    console.log(myChart.getDataURL());

  //  data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAEYCAYAAAByXKB5AAAWaUlEQVR4Xu3dfZAkZ10H8OeZLZUYS//AsiRVgEqgpBK5JJc7fCOiETAUWmACJAgmd7ntCVBBoVKFWpo3yxcQCBIg2Z7jchDARIJYRawg8hKgkDJ3FxINBlQoKRRRREQhkJfrx+pzJsxNdnd6ftm925377J/bz6/3eT79u/5Od8/M5eSHAAECBAgEBHKgRgkBAgQIEEgCRBMQIECAQEhAgITYFBEgQICAANEDBAgQIBASECAhNkUECBAgIED0AAECBAiEBARIiE0RAQIECAgQPUCAAAECIQEBEmJTRIAAAQICRA8QIECAQEhAgITYFBEgQICAANEDBAgQIBASECAhNkUECBAgIED0AAECBAiEBARIiE0RAQIECAgQPUCAAAECIQEBEmJTRIAAAQICRA8QIECAQEhAgITYFBEgQICAANEDBAgQIBASECAhNkUECBAgIED0AAECBAiEBARIiE0RAQIECAgQPUCAAAECIQEBEmJTRIAAAQICRA8QIECAQEhAgITYFBEgQICAANEDBAgQIBASECAhNkUECBAgIED0AAECBAiEBARIiE0RAQIECAgQPUCAAAECIQEBEmJTRIAAAQICRA8QIECAQEhAgITYFBEgQICAANEDBAgQIBASECAhNkUECBAgIED0AAECBAiEBARIiE0RAQIECAgQPUCAAAECIQEBEmJTRIAAAQICRA8QIECAQEhAgITYFBEgQICAANEDBAgQIBASECAhNkUECBAgIED0AAECBAiEBARIiE0RAQIECAgQPUCAAAECIQEBEmJTRIAAAQICRA8QIECAQEhAgITYFBEgQICAANEDBAgQIBASECAhNkUECBAgIED0AAECBAiEBARIiE0RAQIECAgQPUCAAAECIQEBEmJTRIAAAQICRA8QIECAQEhAgITYFBEgQICAANEDBAgQIBASECAhNkUECBAgIED0AAECBAiEBARIiE0RAQIECAgQPUCAAAECIQEBEmJTRIAAAQICRA8QIECAQEhAgITYFBEgQICAANEDBAgQIBASECAhNkUECBAgIED0AAECBAiEBARIiE0RAQIECAgQPUCAAAECIQEBEmJTRIAAAQICRA8QIECAQEhAgITYFBEgQICAANEDBAgQIBASECAhNkUECBAgIED0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FiBdlIwhQIDAHAn0+/23l1KOSym1QfG5nPNTSin31XV9XkqpdF2qAOkqZRwBAgQ2qUC/3/+Je++99+69e/f+99jzj/aK4zkppfuHz0YO3dZqfy666KLtpZSFpaWlT6y2ZAGySRvCtAkQINBVoKqqr953330/PB4gbe2uXbsGvV7va3VdXzK+rzZADh48ePVgMHiyAOmqbBwBAgTmUGClAFlpqQJkDpvAkggQIBARECARNTUECBAgkBYXF9+Xc37GLBSllHcMBoMXuoU1i5qxBAgQINBJwEP0TkwGESBAgMCkgADREwQIECAQEhAgITZFBAgQICBA9AABAgQIhAQESIhNEQECBAgIED1AgAABAiEBARJiU0SAAAECAkQPECBAgEBIQICE2BQRIECAgADRAwQIECAQEhAgITZFBAgQICBA9AABAgQIhAQESIhNEQECBAgIED1AgAABAiEBARJiU0SAAAECAkQPECBAgEBIQICE2BQRIECAgADRAwQIECAQEhAgITZFBAgQICBA9AABAgQIhAQESIhNEQECBAgIED1AgAABAiEBARJiU0SAAAECAkQPECBAgEBIQICE2BQRIECAgADRAwQIECAQEhAgITZFBAgQICBA9AABAgQIhAQESIhNEQECBAgIED1AgAABAiEBARJiU0SAAAECAkQPECBAgEBIQICE2BQRIECAgADRAwQIECAQEhAgITZFBAgQICBA9AABAgQIhAQESIhNEQECBAgIED1AgAABAiEBARJiU0SAAAECAkQPECBAgEBIQICE2BQRIECAgADRAwQIECAQEhAgITZFBAgQICBA9AABAgQIhAQESIhNEQECBAgIED1AgAABAiEBARJiU0SAAAECAkQPECBAgEBIQICE2BQRIECAgADRAwQIECAQEhAgITZFBAgQICBA9AABAgQIhAQESIhNEQECBAgIED1AgAABAiEBARJiU0SAAAECAkQPECBAgEBIQICE2BQRIECAgADRAwQIECAQEhAgITZFBAgQICBA9AABAgQIhAQESIhNEQECBAgIED1AgAABAiEBARJiU0SAAAECAkQPECBAgEBIQICE2BQRIECAgADRAwQIECAQEhAgITZFBAgQICBA9AABAgQIhAQESIhNEQECBAgIED1AgAABAiEBARJiU0SAAAECAkQPECBAgEBIQICE2BQRIECA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
    //base64转blob
    function base64ToBlob(code) {
        let parts = code.split(';base64,');
        let contentType = parts[0].split(':')[1];
        let raw = window.atob(parts[1]);
        let rawLength = raw.length;

        let uInt8Array = new Uint8Array(rawLength);

        for (let i = 0; i < rawLength; ++i) {
            uInt8Array[i] = raw.charCodeAt(i);
        }
        return new Blob([uInt8Array], { type: contentType });
    }
    function saveAsImage() {
        let content = myChart.getDataURL();

        let aLink = document.createElement('a');
        let blob = this.base64ToBlob(content);

        let evt = document.createEvent("HTMLEvents");
        evt.initEvent("click", true, true);
        aLink.download = "line.png";
        aLink.href = URL.createObjectURL(blob);
        aLink.dispatchEvent(new MouseEvent('click', { bubbles: true, cancelable: true, view: window }));
    }
</script>
</body>

</html>
