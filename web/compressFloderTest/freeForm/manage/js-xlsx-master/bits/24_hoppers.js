function recordhopper(r,e,t){var f,i,n;prep_blob(r,r.l||0);while(r.l<r.length){var u=r.read_shift(1);if(u&128)u=(u&127)+((r.read_shift(1)&127)<<7);var a=XLSBRecordEnum[u]||XLSBRecordEnum[65535];f=r.read_shift(1);n=f&127;for(i=1;i<4&&f&128;++i)n+=((f=r.read_shift(1))&127)<<7*i;var h=a.f(r,n,t);if(e(h,a,u))return}}function buf_array(){var r=[],e=2048;var t=function r(e){var t=new_buf(e);prep_blob(t,0);return t};var f=t(e);var i=function e(){f.length=f.l;if(f.length>0)r.push(f);f=null};var n=function r(n){if(n<f.length-f.l)return f;i();return f=t(Math.max(n+1,e))};var u=function e(){i();return __toBuffer([r])};var a=function r(t){i();f=t;n(e)};return{next:n,push:a,end:u,_bufs:r}}function write_record(r,e,t,f){var i=evert_RE[e],n;if(!f)f=XLSBRecordEnum[i].p||(t||[]).length||0;n=1+(i>=128?1:0)+1+f;if(f>=128)++n;if(f>=16384)++n;if(f>=2097152)++n;var u=r.next(n);if(i<=127)u.write_shift(1,i);else{u.write_shift(1,(i&127)+128);u.write_shift(1,i>>7)}for(var a=0;a!=4;++a){if(f>=128){u.write_shift(1,(f&127)+128);f>>=7}else{u.write_shift(1,f);break}}if(f>0&&is_buf(t))r.push(t)}