(function(t,e){typeof exports==="object"&&typeof module!=="undefined"?e(exports):typeof define==="function"&&define.amd?define(["exports"],e):(t=typeof globalThis!=="undefined"?globalThis:t||self,e(t.echarts={}))})(this,function(t){"use strict";var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]};return e(t,r)};function r(t,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function i(){this.constructor=t}t.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}var i=function(){i=Object.assign||function t(e){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n))e[n]=r[n]}return e};return i.apply(this,arguments)};function a(t,e,r){if(r||arguments.length===2)for(var i=0,a=e.length,n;i<a;i++){if(n||!(i in e)){if(!n)n=Array.prototype.slice.call(e,0,i);n[i]=e[i]}}return t.concat(n||e)}var n=function(){function t(){this.firefox=false;this.ie=false;this.edge=false;this.newEdge=false;this.weChat=false}return t}();var o=function(){function t(){this.browser=new n;this.node=false;this.wxa=false;this.worker=false;this.canvasSupported=false;this.svgSupported=false;this.touchEventsSupported=false;this.pointerEventsSupported=false;this.domSupported=false;this.transformSupported=false;this.transform3dSupported=false}return t}();var s=new o;if(typeof wx==="object"&&typeof wx.getSystemInfoSync==="function"){s.wxa=true;s.canvasSupported=true;s.touchEventsSupported=true}else if(typeof document==="undefined"&&typeof self!=="undefined"){s.worker=true;s.canvasSupported=true}else if(typeof navigator==="undefined"){s.node=true;s.canvasSupported=true;s.svgSupported=true}else{l(navigator.userAgent,s)}function l(t,e){var r=e.browser;var i=t.match(/Firefox\/([\d.]+)/);var a=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/);var n=t.match(/Edge?\/([\d.]+)/);var o=/micromessenger/i.test(t);if(i){r.firefox=true;r.version=i[1]}if(a){r.ie=true;r.version=a[1]}if(n){r.edge=true;r.version=n[1];r.newEdge=+n[1].split(".")[0]>18}if(o){r.weChat=true}e.canvasSupported=!!document.createElement("canvas").getContext;e.svgSupported=typeof SVGRect!=="undefined";e.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge;e.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11);e.domSupported=typeof document!=="undefined";var s=document.documentElement.style;e.transform3dSupported=(r.ie&&"transition"in s||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s);e.transformSupported=e.transform3dSupported||r.ie&&+r.version>=9}var u={"[object Function]":true,"[object RegExp]":true,"[object Date]":true,"[object Error]":true,"[object CanvasGradient]":true,"[object CanvasPattern]":true,"[object Image]":true,"[object Canvas]":true};var f={"[object Int8Array]":true,"[object Uint8Array]":true,"[object Uint8ClampedArray]":true,"[object Int16Array]":true,"[object Uint16Array]":true,"[object Int32Array]":true,"[object Uint32Array]":true,"[object Float32Array]":true,"[object Float64Array]":true};var h=Object.prototype.toString;var v=Array.prototype;var c=v.forEach;var p=v.filter;var d=v.slice;var g=v.map;var y=function(){}.constructor;var m=y?y.prototype:null;var x={};function _(t,e){x[t]=e}var b=2311;function w(){return b++}function S(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}if(typeof console!=="undefined"){console.error.apply(console,t)}}function M(t){if(t==null||typeof t!=="object"){return t}var e=t;var r=h.call(t);if(r==="[object Array]"){if(!ht(t)){e=[];for(var i=0,a=t.length;i<a;i++){e[i]=M(t[i])}}}else if(f[r]){if(!ht(t)){var n=t.constructor;if(n.from){e=n.from(t)}else{e=new n(t.length);for(var i=0,a=t.length;i<a;i++){e[i]=M(t[i])}}}}else if(!u[r]&&!ht(t)&&!$(t)){e={};for(var o in t){if(t.hasOwnProperty(o)){e[o]=M(t[o])}}}return e}function I(t,e,r){if(!j(e)||!j(t)){return r?M(e):t}for(var i in e){if(e.hasOwnProperty(i)){var a=t[i];var n=e[i];if(j(n)&&j(a)&&!W(n)&&!W(a)&&!$(n)&&!$(a)&&!q(n)&&!q(a)&&!ht(n)&&!ht(a)){I(a,n,r)}else if(r||!(i in t)){t[i]=M(e[i])}}}return t}function T(t,e){var r=t[0];for(var i=1,a=t.length;i<a;i++){r=I(r,t[i],e)}return r}function C(t,e){if(Object.assign){Object.assign(t,e)}else{for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}}return t}function D(t,e,r){var i=V(e);for(var a=0;a<i.length;a++){var n=i[a];if(r?e[n]!=null:t[n]==null){t[n]=e[n]}}return t}var A=function(){return x.createCanvas()};x.createCanvas=function(){return document.createElement("canvas")};function k(t,e){if(t){if(t.indexOf){return t.indexOf(e)}for(var r=0,i=t.length;r<i;r++){if(t[r]===e){return r}}}return-1}function L(t,e){var r=t.prototype;function i(){}i.prototype=e.prototype;t.prototype=new i;for(var a in r){if(r.hasOwnProperty(a)){t.prototype[a]=r[a]}}t.prototype.constructor=t;t.superClass=e}function P(t,e,r){t="prototype"in t?t.prototype:t;e="prototype"in e?e.prototype:e;if(Object.getOwnPropertyNames){var i=Object.getOwnPropertyNames(e);for(var a=0;a<i.length;a++){var n=i[a];if(n!=="constructor"){if(r?e[n]!=null:t[n]==null){t[n]=e[n]}}}}else{D(t,e,r)}}function O(t){if(!t){return false}if(typeof t==="string"){return false}return typeof t.length==="number"}function R(t,e,r){if(!(t&&e)){return}if(t.forEach&&t.forEach===c){t.forEach(e,r)}else if(t.length===+t.length){for(var i=0,a=t.length;i<a;i++){e.call(r,t[i],i,t)}}else{for(var n in t){if(t.hasOwnProperty(n)){e.call(r,t[n],n,t)}}}}function N(t,e,r){if(!t){return[]}if(!e){return nt(t)}if(t.map&&t.map===g){return t.map(e,r)}else{var i=[];for(var a=0,n=t.length;a<n;a++){i.push(e.call(r,t[a],a,t))}return i}}function E(t,e,r,i){if(!(t&&e)){return}for(var a=0,n=t.length;a<n;a++){r=e.call(i,r,t[a],a,t)}return r}function z(t,e,r){if(!t){return[]}if(!e){return nt(t)}if(t.filter&&t.filter===p){return t.filter(e,r)}else{var i=[];for(var a=0,n=t.length;a<n;a++){if(e.call(r,t[a],a,t)){i.push(t[a])}}return i}}function B(t,e,r){if(!(t&&e)){return}for(var i=0,a=t.length;i<a;i++){if(e.call(r,t[i],i,t)){return t[i]}}}function V(t){if(!t){return[]}if(Object.keys){return Object.keys(t)}var e=[];for(var r in t){if(t.hasOwnProperty(r)){e.push(r)}}return e}function G(t,e){var r=[];for(var i=2;i<arguments.length;i++){r[i-2]=arguments[i]}return function(){return t.apply(e,r.concat(d.call(arguments)))}}var F=m&&U(m.bind)?m.call.bind(m.bind):G;function H(t){var e=[];for(var r=1;r<arguments.length;r++){e[r-1]=arguments[r]}return function(){return t.apply(this,e.concat(d.call(arguments)))}}function W(t){if(Array.isArray){return Array.isArray(t)}return h.call(t)==="[object Array]"}function U(t){return typeof t==="function"}function Y(t){return typeof t==="string"}function X(t){return h.call(t)==="[object String]"}function Z(t){return typeof t==="number"}function j(t){var e=typeof t;return e==="function"||!!t&&e==="object"}function q(t){return!!u[h.call(t)]}function K(t){return!!f[h.call(t)]}function $(t){return typeof t==="object"&&typeof t.nodeType==="number"&&typeof t.ownerDocument==="object"}function J(t){return t.colorStops!=null}function Q(t){return t.image!=null}function tt(t){return h.call(t)==="[object RegExp]"}function et(t){return t!==t}function rt(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}for(var r=0,i=t.length;r<i;r++){if(t[r]!=null){return t[r]}}}function it(t,e){return t!=null?t:e}function at(t,e,r){return t!=null?t:e!=null?e:r}function nt(t){var e=[];for(var r=1;r<arguments.length;r++){e[r-1]=arguments[r]}return d.apply(t,e)}function ot(t){if(typeof t==="number"){return[t,t,t,t]}var e=t.length;if(e===2){return[t[0],t[1],t[0],t[1]]}else if(e===3){return[t[0],t[1],t[2],t[1]]}return t}function st(t,e){if(!t){throw new Error(e)}}function lt(t){if(t==null){return null}else if(typeof t.trim==="function"){return t.trim()}else{return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}var ut="__ec_primitive__";function ft(t){t[ut]=true}function ht(t){return t[ut]}var vt=function(){function t(e){this.data={};var r=W(e);this.data={};var i=this;e instanceof t?e.each(a):e&&R(e,a);function a(t,e){r?i.set(t,e):i.set(e,t)}}t.prototype.get=function(t){return this.data.hasOwnProperty(t)?this.data[t]:null};t.prototype.set=function(t,e){return this.data[t]=e};t.prototype.each=function(t,e){for(var r in this.data){if(this.data.hasOwnProperty(r)){t.call(e,this.data[r],r)}}};t.prototype.keys=function(){return V(this.data)};t.prototype.removeKey=function(t){delete this.data[t]};return t}();function ct(t){return new vt(t)}function pt(t,e){var r=new t.constructor(t.length+e.length);for(var i=0;i<t.length;i++){r[i]=t[i]}var a=t.length;for(var i=0;i<e.length;i++){r[i+a]=e[i]}return r}function dt(t,e){var r;if(Object.create){r=Object.create(t)}else{var i=function(){};i.prototype=t;r=new i}if(e){C(r,e)}return r}function gt(t,e){return t.hasOwnProperty(e)}function yt(){}var mt=Object.freeze({__proto__:null,$override:_,guid:w,logError:S,clone:M,merge:I,mergeAll:T,extend:C,defaults:D,createCanvas:A,indexOf:k,inherits:L,mixin:P,isArrayLike:O,each:R,map:N,reduce:E,filter:z,find:B,keys:V,bind:F,curry:H,isArray:W,isFunction:U,isString:Y,isStringSafe:X,isNumber:Z,isObject:j,isBuiltInObject:q,isTypedArray:K,isDom:$,isGradientObject:J,isImagePatternObject:Q,isRegExp:tt,eqNaN:et,retrieve:rt,retrieve2:it,retrieve3:at,slice:nt,normalizeCssArray:ot,assert:st,trim:lt,setAsPrimitive:ft,isPrimitive:ht,HashMap:vt,createHashMap:ct,concatArray:pt,createObject:dt,hasOwn:gt,noop:yt});function xt(t,e){if(t==null){t=0}if(e==null){e=0}return[t,e]}function _t(t,e){t[0]=e[0];t[1]=e[1];return t}function bt(t){return[t[0],t[1]]}function wt(t,e,r){t[0]=e;t[1]=r;return t}function St(t,e,r){t[0]=e[0]+r[0];t[1]=e[1]+r[1];return t}function Mt(t,e,r,i){t[0]=e[0]+r[0]*i;t[1]=e[1]+r[1]*i;return t}function It(t,e,r){t[0]=e[0]-r[0];t[1]=e[1]-r[1];return t}function Tt(t){return Math.sqrt(Dt(t))}var Ct=Tt;function Dt(t){return t[0]*t[0]+t[1]*t[1]}var At=Dt;function kt(t,e,r){t[0]=e[0]*r[0];t[1]=e[1]*r[1];return t}function Lt(t,e,r){t[0]=e[0]/r[0];t[1]=e[1]/r[1];return t}function Pt(t,e){return t[0]*e[0]+t[1]*e[1]}function Ot(t,e,r){t[0]=e[0]*r;t[1]=e[1]*r;return t}function Rt(t,e){var r=Tt(e);if(r===0){t[0]=0;t[1]=0}else{t[0]=e[0]/r;t[1]=e[1]/r}return t}function Nt(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var Et=Nt;function zt(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var Bt=zt;function Vt(t,e){t[0]=-e[0];t[1]=-e[1];return t}function Gt(t,e,r,i){t[0]=e[0]+i*(r[0]-e[0]);t[1]=e[1]+i*(r[1]-e[1]);return t}function Ft(t,e,r){var i=e[0];var a=e[1];t[0]=r[0]*i+r[2]*a+r[4];t[1]=r[1]*i+r[3]*a+r[5];return t}function Ht(t,e,r){t[0]=Math.min(e[0],r[0]);t[1]=Math.min(e[1],r[1]);return t}function Wt(t,e,r){t[0]=Math.max(e[0],r[0]);t[1]=Math.max(e[1],r[1]);return t}var Ut=Object.freeze({__proto__:null,create:xt,copy:_t,clone:bt,set:wt,add:St,scaleAndAdd:Mt,sub:It,len:Tt,length:Ct,lenSquare:Dt,lengthSquare:At,mul:kt,div:Lt,dot:Pt,scale:Ot,normalize:Rt,distance:Nt,dist:Et,distanceSquare:zt,distSquare:Bt,negate:Vt,lerp:Gt,applyTransform:Ft,min:Ht,max:Wt});var Yt=function(){function t(t,e){this.target=t;this.topTarget=e&&e.topTarget}return t}();var Xt=function(){function t(t){this.handler=t;t.on("mousedown",this._dragStart,this);t.on("mousemove",this._drag,this);t.on("mouseup",this._dragEnd,this)}t.prototype._dragStart=function(t){var e=t.target;while(e&&!e.draggable){e=e.parent}if(e){this._draggingTarget=e;e.dragging=true;this._x=t.offsetX;this._y=t.offsetY;this.handler.dispatchToElement(new Yt(e,t),"dragstart",t.event)}};t.prototype._drag=function(t){var e=this._draggingTarget;if(e){var r=t.offsetX;var i=t.offsetY;var a=r-this._x;var n=i-this._y;this._x=r;this._y=i;e.drift(a,n,t);this.handler.dispatchToElement(new Yt(e,t),"drag",t.event);var o=this.handler.findHover(r,i,e).target;var s=this._dropTarget;this._dropTarget=o;if(e!==o){if(s&&o!==s){this.handler.dispatchToElement(new Yt(s,t),"dragleave",t.event)}if(o&&o!==s){this.handler.dispatchToElement(new Yt(o,t),"dragenter",t.event)}}}};t.prototype._dragEnd=function(t){var e=this._draggingTarget;if(e){e.dragging=false}this.handler.dispatchToElement(new Yt(e,t),"dragend",t.event);if(this._dropTarget){this.handler.dispatchToElement(new Yt(this._dropTarget,t),"drop",t.event)}this._draggingTarget=null;this._dropTarget=null};return t}();var Zt=function(){function t(t){if(t){this._$eventProcessor=t}}t.prototype.on=function(t,e,r,i){if(!this._$handlers){this._$handlers={}}var a=this._$handlers;if(typeof e==="function"){i=r;r=e;e=null}if(!r||!t){return this}var n=this._$eventProcessor;if(e!=null&&n&&n.normalizeQuery){e=n.normalizeQuery(e)}if(!a[t]){a[t]=[]}for(var o=0;o<a[t].length;o++){if(a[t][o].h===r){return this}}var s={h:r,query:e,ctx:i||this,callAtLast:r.zrEventfulCallAtLast};var l=a[t].length-1;var u=a[t][l];u&&u.callAtLast?a[t].splice(l,0,s):a[t].push(s);return this};t.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length};t.prototype.off=function(t,e){var r=this._$handlers;if(!r){return this}if(!t){this._$handlers={};return this}if(e){if(r[t]){var i=[];for(var a=0,n=r[t].length;a<n;a++){if(r[t][a].h!==e){i.push(r[t][a])}}r[t]=i}if(r[t]&&r[t].length===0){delete r[t]}}else{delete r[t]}return this};t.prototype.trigger=function(t){var e=[];for(var r=1;r<arguments.length;r++){e[r-1]=arguments[r]}if(!this._$handlers){return this}var i=this._$handlers[t];var a=this._$eventProcessor;if(i){var n=e.length;var o=i.length;for(var s=0;s<o;s++){var l=i[s];if(a&&a.filter&&l.query!=null&&!a.filter(t,l.query)){continue}switch(n){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,e[0]);break;case 2:l.h.call(l.ctx,e[0],e[1]);break;default:l.h.apply(l.ctx,e);break}}}a&&a.afterTrigger&&a.afterTrigger(t);return this};t.prototype.triggerWithContext=function(t){var e=[];for(var r=1;r<arguments.length;r++){e[r-1]=arguments[r]}if(!this._$handlers){return this}var i=this._$handlers[t];var a=this._$eventProcessor;if(i){var n=e.length;var o=e[n-1];var s=i.length;for(var l=0;l<s;l++){var u=i[l];if(a&&a.filter&&u.query!=null&&!a.filter(t,u.query)){continue}switch(n){case 0:u.h.call(o);break;case 1:u.h.call(o,e[0]);break;case 2:u.h.call(o,e[0],e[1]);break;default:u.h.apply(o,e.slice(1,n-1));break}}}a&&a.afterTrigger&&a.afterTrigger(t);return this};return t}();var jt=Math.log(2);function qt(t,e,r,i,a,n){var o=i+"-"+a;var s=t.length;if(n.hasOwnProperty(o)){return n[o]}if(e===1){var l=Math.round(Math.log((1<<s)-1&~a)/jt);return t[r][l]}var u=i|1<<r;var f=r+1;while(i&1<<f){f++}var h=0;for(var v=0,c=0;v<s;v++){var p=1<<v;if(!(p&a)){h+=(c%2?-1:1)*t[r][v]*qt(t,e-1,f,u,a|p,n);c++}}n[o]=h;return h}function Kt(t,e){var r=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]];var i={};var a=qt(r,8,0,0,0,i);if(a===0){return}var n=[];for(var o=0;o<8;o++){for(var s=0;s<8;s++){n[s]==null&&(n[s]=0);n[s]+=((o+s)%2?-1:1)*qt(r,7,o===0?1:0,1<<o,1<<s,i)/a*e[o]}}return function(t,e,r){var i=e*n[6]+r*n[7]+1;t[0]=(e*n[0]+r*n[1]+n[2])/i;t[1]=(e*n[3]+r*n[4]+n[5])/i}}var $t="___zrEVENTSAVED";var Jt=[];function Qt(t,e,r,i,a){return te(Jt,e,i,a,true)&&te(t,r,Jt[0],Jt[1])}function te(t,e,r,i,a){if(e.getBoundingClientRect&&s.domSupported&&!ie(e)){var n=e[$t]||(e[$t]={});var o=ee(e,n);var l=re(o,n,a);if(l){l(t,r,i);return true}}return false}function ee(t,e){var r=e.markers;if(r){return r}r=e.markers=[];var i=["left","right"];var a=["top","bottom"];for(var n=0;n<4;n++){var o=document.createElement("div");var s=o.style;var l=n%2;var u=(n>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[l]+":0",a[u]+":0",i[1-l]+":auto",a[1-u]+":auto",""].join("!important;");t.appendChild(o);r.push(o)}return r}function re(t,e,r){var i=r?"invTrans":"trans";var a=e[i];var n=e.srcCoords;var o=[];var s=[];var l=true;for(var u=0;u<4;u++){var f=t[u].getBoundingClientRect();var h=2*u;var v=f.left;var c=f.top;o.push(v,c);l=l&&n&&v===n[h]&&c===n[h+1];s.push(t[u].offsetLeft,t[u].offsetTop)}return l&&a?a:(e.srcCoords=o,e[i]=r?Kt(s,o):Kt(o,s))}function ie(t){return t.nodeName.toUpperCase()==="CANVAS"}var ae=typeof window!=="undefined"&&!!window.addEventListener;var ne=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;var oe=[];function se(t,e,r,i){r=r||{};if(i||!s.canvasSupported){le(t,e,r)}else if(s.browser.firefox&&e.layerX!=null&&e.layerX!==e.offsetX){r.zrX=e.layerX;r.zrY=e.layerY}else if(e.offsetX!=null){r.zrX=e.offsetX;r.zrY=e.offsetY}else{le(t,e,r)}return r}function le(t,e,r){if(s.domSupported&&t.getBoundingClientRect){var i=e.clientX;var a=e.clientY;if(ie(t)){var n=t.getBoundingClientRect();r.zrX=i-n.left;r.zrY=a-n.top;return}else{if(te(oe,t,i,a)){r.zrX=oe[0];r.zrY=oe[1];return}}}r.zrX=r.zrY=0}function ue(t){return t||window.event}function fe(t,e,r){e=ue(e);if(e.zrX!=null){return e}var i=e.type;var a=i&&i.indexOf("touch")>=0;if(!a){se(t,e,e,r);var n=he(e);e.zrDelta=n?n/120:-(e.detail||0)/3}else{var o=i!=="touchend"?e.targetTouches[0]:e.changedTouches[0];o&&se(t,o,e,r)}var s=e.button;if(e.which==null&&s!==undefined&&ne.test(e.type)){e.which=s&1?1:s&2?3:s&4?2:0}return e}function he(t){var e=t.wheelDelta;if(e){return e}var r=t.deltaX;var i=t.deltaY;if(r==null||i==null){return e}var a=i!==0?Math.abs(i):Math.abs(r);var n=i>0?-1:i<0?1:r>0?-1:1;return 3*a*n}function ve(t,e,r,i){if(ae){t.addEventListener(e,r,i)}else{t.attachEvent("on"+e,r)}}function ce(t,e,r,i){if(ae){t.removeEventListener(e,r,i)}else{t.detachEvent("on"+e,r)}}var pe=ae?function(t){t.preventDefault();t.stopPropagation();t.cancelBubble=true}:function(t){t.returnValue=false;t.cancelBubble=true};function de(t){return t.which===2||t.which===3}var ge=function(){function t(){this._track=[]}t.prototype.recognize=function(t,e,r){this._doTrack(t,e,r);return this._recognize(t)};t.prototype.clear=function(){this._track.length=0;return this};t.prototype._doTrack=function(t,e,r){var i=t.touches;if(!i){return}var a={points:[],touches:[],target:e,event:t};for(var n=0,o=i.length;n<o;n++){var s=i[n];var l=se(r,s,{});a.points.push([l.zrX,l.zrY]);a.touches.push(s)}this._track.push(a)};t.prototype._recognize=function(t){for(var e in xe){if(xe.hasOwnProperty(e)){var r=xe[e](this._track,t);if(r){return r}}}};return t}();function ye(t){var e=t[1][0]-t[0][0];var r=t[1][1]-t[0][1];return Math.sqrt(e*e+r*r)}function me(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var xe={pinch:function(t,e){var r=t.length;if(!r){return}var i=(t[r-1]||{}).points;var a=(t[r-2]||{}).points||i;if(a&&a.length>1&&i&&i.length>1){var n=ye(i)/ye(a);!isFinite(n)&&(n=1);e.pinchScale=n;var o=me(i);e.pinchX=o[0];e.pinchY=o[1];return{type:"pinch",target:t[0].target,event:e}}}};var _e="silent";function be(t,e,r){return{type:t,event:r,target:e.target,topTarget:e.topTarget,cancelBubble:false,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:we}}function we(){pe(this.event)}var Se=function(t){r(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.handler=null;return e}e.prototype.dispose=function(){};e.prototype.setCursor=function(){};return e}(Zt);var Me=function(){function t(t,e){this.x=t;this.y=e}return t}();var Ie=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var Te=function(t){r(e,t);function e(e,r,i,a){var n=t.call(this)||this;n._hovered=new Me(0,0);n.storage=e;n.painter=r;n.painterRoot=a;i=i||new Se;n.proxy=null;n.setHandlerProxy(i);n._draggingMgr=new Xt(n);return n}e.prototype.setHandlerProxy=function(t){if(this.proxy){this.proxy.dispose()}if(t){R(Ie,function(e){t.on&&t.on(e,this[e],this)},this);t.handler=this}this.proxy=t};e.prototype.mousemove=function(t){var e=t.zrX;var r=t.zrY;var i=De(this,e,r);var a=this._hovered;var n=a.target;if(n&&!n.__zr){a=this.findHover(a.x,a.y);n=a.target}var o=this._hovered=i?new Me(e,r):this.findHover(e,r);var s=o.target;var l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:"default");if(n&&s!==n){this.dispatchToElement(a,"mouseout",t)}this.dispatchToElement(o,"mousemove",t);if(s&&s!==n){this.dispatchToElement(o,"mouseover",t)}};e.prototype.mouseout=function(t){var e=t.zrEventControl;if(e!=="only_globalout"){this.dispatchToElement(this._hovered,"mouseout",t)}if(e!=="no_globalout"){this.trigger("globalout",{type:"globalout",event:t})}};e.prototype.resize=function(){this._hovered=new Me(0,0)};e.prototype.dispatch=function(t,e){var r=this[t];r&&r.call(this,e)};e.prototype.dispose=function(){this.proxy.dispose();this.storage=null;this.proxy=null;this.painter=null};e.prototype.setCursorStyle=function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)};e.prototype.dispatchToElement=function(t,e,r){t=t||{};var i=t.target;if(i&&i.silent){return}var a="on"+e;var n=be(e,t,r);while(i){i[a]&&(n.cancelBubble=!!i[a].call(i,n));i.trigger(e,n);i=i.__hostTarget?i.__hostTarget:i.parent;if(n.cancelBubble){break}}if(!n.cancelBubble){this.trigger(e,n);if(this.painter&&this.painter.eachOtherLayer){this.painter.eachOtherLayer(function(t){if(typeof t[a]==="function"){t[a].call(t,n)}if(t.trigger){t.trigger(e,n)}})}}};e.prototype.findHover=function(t,e,r){var i=this.storage.getDisplayList();var a=new Me(t,e);for(var n=i.length-1;n>=0;n--){var o=void 0;if(i[n]!==r&&!i[n].ignore&&(o=Ce(i[n],t,e))){!a.topTarget&&(a.topTarget=i[n]);if(o!==_e){a.target=i[n];break}}}return a};e.prototype.processGesture=function(t,e){if(!this._gestureMgr){this._gestureMgr=new ge}var r=this._gestureMgr;e==="start"&&r.clear();var i=r.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);e==="end"&&r.clear();if(i){var a=i.type;t.gestureEvent=a;var n=new Me;n.target=i.target;this.dispatchToElement(n,a,i.event)}};return e}(Zt);R(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){Te.prototype[t]=function(e){var r=e.zrX;var i=e.zrY;var a=De(this,r,i);var n;var o;if(t!=="mouseup"||!a){n=this.findHover(r,i);o=n.target}if(t==="mousedown"){this._downEl=o;this._downPoint=[e.zrX,e.zrY];this._upEl=o}else if(t==="mouseup"){this._upEl=o}else if(t==="click"){if(this._downEl!==this._upEl||!this._downPoint||Et(this._downPoint,[e.zrX,e.zrY])>4){return}this._downPoint=null}this.dispatchToElement(n,t,e)}});function Ce(t,e,r){if(t[t.rectHover?"rectContain":"contain"](e,r)){var i=t;var a=void 0;var n=false;while(i){if(i.ignoreClip){n=true}if(!n){var o=i.getClipPath();if(o&&!o.contain(e,r)){return false}if(i.silent){a=true}}var s=i.__hostTarget;i=s?s:i.parent}return a?_e:true}return false}function De(t,e,r){var i=t.painter;return e<0||e>i.getWidth()||r<0||r>i.getHeight()}var Ae=32;var ke=7;function Le(t){var e=0;while(t>=Ae){e|=t&1;t>>=1}return t+e}function Pe(t,e,r,i){var a=e+1;if(a===r){return 1}if(i(t[a++],t[e])<0){while(a<r&&i(t[a],t[a-1])<0){a++}Oe(t,e,a)}else{while(a<r&&i(t[a],t[a-1])>=0){a++}}return a-e}function Oe(t,e,r){r--;while(e<r){var i=t[e];t[e++]=t[r];t[r--]=i}}function Re(t,e,r,i,a){if(i===e){i++}for(;i<r;i++){var n=t[i];var o=e;var s=i;var l;while(o<s){l=o+s>>>1;if(a(n,t[l])<0){s=l}else{o=l+1}}var u=i-o;switch(u){case 3:t[o+3]=t[o+2];case 2:t[o+2]=t[o+1];case 1:t[o+1]=t[o];break;default:while(u>0){t[o+u]=t[o+u-1];u--}}t[o]=n}}function Ne(t,e,r,i,a,n){var o=0;var s=0;var l=1;if(n(t,e[r+a])>0){s=i-a;while(l<s&&n(t,e[r+a+l])>0){o=l;l=(l<<1)+1;if(l<=0){l=s}}if(l>s){l=s}o+=a;l+=a}else{s=a+1;while(l<s&&n(t,e[r+a-l])<=0){o=l;l=(l<<1)+1;if(l<=0){l=s}}if(l>s){l=s}var u=o;o=a-l;l=a-u}o++;while(o<l){var f=o+(l-o>>>1);if(n(t,e[r+f])>0){o=f+1}else{l=f}}return l}function Ee(t,e,r,i,a,n){var o=0;var s=0;var l=1;if(n(t,e[r+a])<0){s=a+1;while(l<s&&n(t,e[r+a-l])<0){o=l;l=(l<<1)+1;if(l<=0){l=s}}if(l>s){l=s}var u=o;o=a-l;l=a-u}else{s=i-a;while(l<s&&n(t,e[r+a+l])>=0){o=l;l=(l<<1)+1;if(l<=0){l=s}}if(l>s){l=s}o+=a;l+=a}o++;while(o<l){var f=o+(l-o>>>1);if(n(t,e[r+f])<0){l=f}else{o=f+1}}return l}function ze(t,e){var r=ke;var i=0;var a;var n;var o=0;i=t.length;var s=[];a=[];n=[];function l(t,e){a[o]=t;n[o]=e;o+=1}function u(){while(o>1){var t=o-2;if(t>=1&&n[t-1]<=n[t]+n[t+1]||t>=2&&n[t-2]<=n[t]+n[t-1]){if(n[t-1]<n[t+1]){t--}}else if(n[t]>n[t+1]){break}h(t)}}function f(){while(o>1){var t=o-2;if(t>0&&n[t-1]<n[t+1]){t--}h(t)}}function h(r){var i=a[r];var s=n[r];var l=a[r+1];var u=n[r+1];n[r]=s+u;if(r===o-3){a[r+1]=a[r+2];n[r+1]=n[r+2]}o--;var f=Ee(t[l],t,i,s,0,e);i+=f;s-=f;if(s===0){return}u=Ne(t[i+s-1],t,l,u,u-1,e);if(u===0){return}if(s<=u){v(i,s,l,u)}else{c(i,s,l,u)}}function v(i,a,n,o){var l=0;for(l=0;l<a;l++){s[l]=t[i+l]}var u=0;var f=n;var h=i;t[h++]=t[f++];if(--o===0){for(l=0;l<a;l++){t[h+l]=s[u+l]}return}if(a===1){for(l=0;l<o;l++){t[h+l]=t[f+l]}t[h+o]=s[u];return}var v=r;var c;var p;var d;while(1){c=0;p=0;d=false;do{if(e(t[f],s[u])<0){t[h++]=t[f++];p++;c=0;if(--o===0){d=true;break}}else{t[h++]=s[u++];c++;p=0;if(--a===1){d=true;break}}}while((c|p)<v);if(d){break}do{c=Ee(t[f],s,u,a,0,e);if(c!==0){for(l=0;l<c;l++){t[h+l]=s[u+l]}h+=c;u+=c;a-=c;if(a<=1){d=true;break}}t[h++]=t[f++];if(--o===0){d=true;break}p=Ne(s[u],t,f,o,0,e);if(p!==0){for(l=0;l<p;l++){t[h+l]=t[f+l]}h+=p;f+=p;o-=p;if(o===0){d=true;break}}t[h++]=s[u++];if(--a===1){d=true;break}v--}while(c>=ke||p>=ke);if(d){break}if(v<0){v=0}v+=2}r=v;r<1&&(r=1);if(a===1){for(l=0;l<o;l++){t[h+l]=t[f+l]}t[h+o]=s[u]}else if(a===0){throw new Error}else{for(l=0;l<a;l++){t[h+l]=s[u+l]}}}function c(i,a,n,o){var l=0;for(l=0;l<o;l++){s[l]=t[n+l]}var u=i+a-1;var f=o-1;var h=n+o-1;var v=0;var c=0;t[h--]=t[u--];if(--a===0){v=h-(o-1);for(l=0;l<o;l++){t[v+l]=s[l]}return}if(o===1){h-=a;u-=a;c=h+1;v=u+1;for(l=a-1;l>=0;l--){t[c+l]=t[v+l]}t[h]=s[f];return}var p=r;while(true){var d=0;var g=0;var y=false;do{if(e(s[f],t[u])<0){t[h--]=t[u--];d++;g=0;if(--a===0){y=true;break}}else{t[h--]=s[f--];g++;d=0;if(--o===1){y=true;break}}}while((d|g)<p);if(y){break}do{d=a-Ee(s[f],t,i,a,a-1,e);if(d!==0){h-=d;u-=d;a-=d;c=h+1;v=u+1;for(l=d-1;l>=0;l--){t[c+l]=t[v+l]}if(a===0){y=true;break}}t[h--]=s[f--];if(--o===1){y=true;break}g=o-Ne(t[u],s,0,o,o-1,e);if(g!==0){h-=g;f-=g;o-=g;c=h+1;v=f+1;for(l=0;l<g;l++){t[c+l]=s[v+l]}if(o<=1){y=true;break}}t[h--]=t[u--];if(--a===0){y=true;break}p--}while(d>=ke||g>=ke);if(y){break}if(p<0){p=0}p+=2}r=p;if(r<1){r=1}if(o===1){h-=a;u-=a;c=h+1;v=u+1;for(l=a-1;l>=0;l--){t[c+l]=t[v+l]}t[h]=s[f]}else if(o===0){throw new Error}else{v=h-(o-1);for(l=0;l<o;l++){t[v+l]=s[l]}}}return{mergeRuns:u,forceMergeRuns:f,pushRun:l}}function Be(t,e,r,i){if(!r){r=0}if(!i){i=t.length}var a=i-r;if(a<2){return}var n=0;if(a<Ae){n=Pe(t,r,i,e);Re(t,r,i,r+n,e);return}var o=ze(t,e);var s=Le(a);do{n=Pe(t,r,i,e);if(n<s){var l=a;if(l>s){l=s}Re(t,r,r+l,r+n,e);n=l}o.pushRun(r,n);o.mergeRuns();a-=n;r+=n}while(a!==0);o.forceMergeRuns()}var Ve=1;var Ge=2;var Fe=4;var He=false;function We(){if(He){return}He=true;console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors")}function Ue(t,e){if(t.zlevel===e.zlevel){if(t.z===e.z){return t.z2-e.z2}return t.z-e.z}return t.zlevel-e.zlevel}var Ye=function(){function t(){this._roots=[];this._displayList=[];this._displayListLen=0;this.displayableSortFunc=Ue}t.prototype.traverse=function(t,e){for(var r=0;r<this._roots.length;r++){this._roots[r].traverse(t,e)}};t.prototype.getDisplayList=function(t,e){e=e||false;var r=this._displayList;if(t||!r.length){this.updateDisplayList(e)}return r};t.prototype.updateDisplayList=function(t){this._displayListLen=0;var e=this._roots;var r=this._displayList;for(var i=0,a=e.length;i<a;i++){this._updateAndAddDisplayable(e[i],null,t)}r.length=this._displayListLen;s.canvasSupported&&Be(r,Ue)};t.prototype._updateAndAddDisplayable=function(t,e,r){if(t.ignore&&!r){return}t.beforeUpdate();t.update();t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip){e=null}else if(i){if(e){e=e.slice()}else{e=[]}var a=i;var n=t;while(a){a.parent=n;a.updateTransform();e.push(a);n=a;a=a.getClipPath()}}if(t.childrenRef){var o=t.childrenRef();for(var s=0;s<o.length;s++){var l=o[s];if(t.__dirty){l.__dirty|=Ve}this._updateAndAddDisplayable(l,e,r)}t.__dirty=0}else{var u=t;if(e&&e.length){u.__clipPaths=e}else if(u.__clipPaths&&u.__clipPaths.length>0){u.__clipPaths=[]}if(isNaN(u.z)){We();u.z=0}if(isNaN(u.z2)){We();u.z2=0}if(isNaN(u.zlevel)){We();u.zlevel=0}this._displayList[this._displayListLen++]=u}var f=t.getDecalElement&&t.getDecalElement();if(f){this._updateAndAddDisplayable(f,e,r)}var h=t.getTextGuideLine();if(h){this._updateAndAddDisplayable(h,e,r)}var v=t.getTextContent();if(v){this._updateAndAddDisplayable(v,e,r)}};t.prototype.addRoot=function(t){if(t.__zr&&t.__zr.storage===this){return}this._roots.push(t)};t.prototype.delRoot=function(t){if(t instanceof Array){for(var e=0,r=t.length;e<r;e++){this.delRoot(t[e])}return}var i=k(this._roots,t);if(i>=0){this._roots.splice(i,1)}};t.prototype.delAllRoots=function(){this._roots=[];this._displayList=[];this._displayListLen=0;return};t.prototype.getRoots=function(){return this._roots};t.prototype.dispose=function(){this._displayList=null;this._roots=null};return t}();var Xe;Xe=typeof window!=="undefined"&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};var Ze=Xe;var je={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){if((t*=2)<1){return.5*t*t}return-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){if((t*=2)<1){return.5*t*t*t}return.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){if((t*=2)<1){return.5*t*t*t*t}return-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){if((t*=2)<1){return.5*t*t*t*t*t}return.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){if(t===0){return 0}if(t===1){return 1}if((t*=2)<1){return.5*Math.pow(1024,t-1)}return.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){if((t*=2)<1){return-.5*(Math.sqrt(1-t*t)-1)}return.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e;var r=.1;var i=.4;if(t===0){return 0}if(t===1){return 1}if(!r||r<1){r=1;e=i/4}else{e=i*Math.asin(1/r)/(2*Math.PI)}return-(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i))},elasticOut:function(t){var e;var r=.1;var i=.4;if(t===0){return 0}if(t===1){return 1}if(!r||r<1){r=1;e=i/4}else{e=i*Math.asin(1/r)/(2*Math.PI)}return r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1},elasticInOut:function(t){var e;var r=.1;var i=.4;if(t===0){return 0}if(t===1){return 1}if(!r||r<1){r=1;e=i/4}else{e=i*Math.asin(1/r)/(2*Math.PI)}if((t*=2)<1){return-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i))}return r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=1.70158*1.525;if((t*=2)<1){return.5*(t*t*((e+1)*t-e))}return.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-je.bounceOut(1-t)},bounceOut:function(t){if(t<1/2.75){return 7.5625*t*t}else if(t<2/2.75){return 7.5625*(t-=1.5/2.75)*t+.75}else if(t<2.5/2.75){return 7.5625*(t-=2.25/2.75)*t+.9375}else{return 7.5625*(t-=2.625/2.75)*t+.984375}},bounceInOut:function(t){if(t<.5){return je.bounceIn(t*2)*.5}return je.bounceOut(t*2-1)*.5+.5}};var qe=function(){function t(t){this._initialized=false;this._startTime=0;this._pausedTime=0;this._paused=false;this._life=t.life||1e3;this._delay=t.delay||0;this.loop=t.loop==null?false:t.loop;this.gap=t.gap||0;this.easing=t.easing||"linear";this.onframe=t.onframe;this.ondestroy=t.ondestroy;this.onrestart=t.onrestart}t.prototype.step=function(t,e){if(!this._initialized){this._startTime=t+this._delay;this._initialized=true}if(this._paused){this._pausedTime+=e;return}var r=(t-this._startTime-this._pausedTime)/this._life;if(r<0){r=0}r=Math.min(r,1);var i=this.easing;var a=typeof i==="string"?je[i]:i;var n=typeof a==="function"?a(r):r;this.onframe&&this.onframe(n);if(r===1){if(this.loop){this._restart(t);this.onrestart&&this.onrestart()}else{return true}}return false};t.prototype._restart=function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap;this._pausedTime=0};t.prototype.pause=function(){this._paused=true};t.prototype.resume=function(){this._paused=false};return t}();var Ke=function(){function t(t){this.value=t}return t}();var $e=function(){function t(){this._len=0}t.prototype.insert=function(t){var e=new Ke(t);this.insertEntry(e);return e};t.prototype.insertEntry=function(t){if(!this.head){this.head=this.tail=t}else{this.tail.next=t;t.prev=this.tail;t.next=null;this.tail=t}this._len++};t.prototype.remove=function(t){var e=t.prev;var r=t.next;if(e){e.next=r}else{this.head=r}if(r){r.prev=e}else{this.tail=e}t.next=t.prev=null;this._len--};t.prototype.len=function(){return this._len};t.prototype.clear=function(){this.head=this.tail=null;this._len=0};return t}();var Je=function(){function t(t){this._list=new $e;this._maxSize=10;this._map={};this._maxSize=t}t.prototype.put=function(t,e){var r=this._list;var i=this._map;var a=null;if(i[t]==null){var n=r.len();var o=this._lastRemovedEntry;if(n>=this._maxSize&&n>0){var s=r.head;r.remove(s);delete i[s.key];a=s.value;this._lastRemovedEntry=s}if(o){o.value=e}else{o=new Ke(e)}o.key=t;r.insertEntry(o);i[t]=o}return a};t.prototype.get=function(t){var e=this._map[t];var r=this._list;if(e!=null){if(e!==r.tail){r.remove(e);r.insertEntry(e)}return e.value}};t.prototype.clear=function(){this._list.clear();this._map={}};t.prototype.len=function(){return this._list.len()};return t}();var Qe={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function tr(t){t=Math.round(t);return t<0?0:t>255?255:t}function er(t){t=Math.round(t);return t<0?0:t>360?360:t}function rr(t){return t<0?0:t>1?1:t}function ir(t){var e=t;if(e.length&&e.charAt(e.length-1)==="%"){return tr(parseFloat(e)/100*255)}return tr(parseInt(e,10))}function ar(t){var e=t;if(e.length&&e.charAt(e.length-1)==="%"){return rr(parseFloat(e)/100)}return rr(parseFloat(e))}function nr(t,e,r){if(r<0){r+=1}else if(r>1){r-=1}if(r*6<1){return t+(e-t)*r*6}if(r*2<1){return e}if(r*3<2){return t+(e-t)*(2/3-r)*6}return t}function or(t,e,r){return t+(e-t)*r}function sr(t,e,r,i,a){t[0]=e;t[1]=r;t[2]=i;t[3]=a;return t}function lr(t,e){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];return t}var ur=new Je(20);var fr=null;function hr(t,e){if(fr){lr(fr,e)}fr=ur.put(t,fr||e.slice())}function vr(t,e){if(!t){return}e=e||[];var r=ur.get(t);if(r){return lr(e,r)}t=t+"";var i=t.replace(/ /g,"").toLowerCase();if(i in Qe){lr(e,Qe[i]);hr(t,e);return e}var a=i.length;if(i.charAt(0)==="#"){if(a===4||a===5){var n=parseInt(i.slice(1,4),16);if(!(n>=0&&n<=4095)){sr(e,0,0,0,1);return}sr(e,(n&3840)>>4|(n&3840)>>8,n&240|(n&240)>>4,n&15|(n&15)<<4,a===5?parseInt(i.slice(4),16)/15:1);hr(t,e);return e}else if(a===7||a===9){var n=parseInt(i.slice(1,7),16);if(!(n>=0&&n<=16777215)){sr(e,0,0,0,1);return}sr(e,(n&16711680)>>16,(n&65280)>>8,n&255,a===9?parseInt(i.slice(7),16)/255:1);hr(t,e);return e}return}var o=i.indexOf("(");var s=i.indexOf(")");if(o!==-1&&s+1===a){var l=i.substr(0,o);var u=i.substr(o+1,s-(o+1)).split(",");var f=1;switch(l){case"rgba":if(u.length!==4){return u.length===3?sr(e,+u[0],+u[1],+u[2],1):sr(e,0,0,0,1)}f=ar(u.pop());case"rgb":if(u.length!==3){sr(e,0,0,0,1);return}sr(e,ir(u[0]),ir(u[1]),ir(u[2]),f);hr(t,e);return e;case"hsla":if(u.length!==4){sr(e,0,0,0,1);return}u[3]=ar(u[3]);cr(u,e);hr(t,e);return e;case"hsl":if(u.length!==3){sr(e,0,0,0,1);return}cr(u,e);hr(t,e);return e;default:return}}sr(e,0,0,0,1);return}function cr(t,e){var r=(parseFloat(t[0])%360+360)%360/360;var i=ar(t[1]);var a=ar(t[2]);var n=a<=.5?a*(i+1):a+i-a*i;var o=a*2-n;e=e||[];sr(e,tr(nr(o,n,r+1/3)*255),tr(nr(o,n,r)*255),tr(nr(o,n,r-1/3)*255),1);if(t.length===4){e[3]=t[3]}return e}function pr(t){if(!t){return}var e=t[0]/255;var r=t[1]/255;var i=t[2]/255;var a=Math.min(e,r,i);var n=Math.max(e,r,i);var o=n-a;var s=(n+a)/2;var l;var u;if(o===0){l=0;u=0}else{if(s<.5){u=o/(n+a)}else{u=o/(2-n-a)}var f=((n-e)/6+o/2)/o;var h=((n-r)/6+o/2)/o;var v=((n-i)/6+o/2)/o;if(e===n){l=v-h}else if(r===n){l=1/3+f-v}else if(i===n){l=2/3+h-f}if(l<0){l+=1}if(l>1){l-=1}}var c=[l*360,u,s];if(t[3]!=null){c.push(t[3])}return c}function dr(t,e){var r=vr(t);if(r){for(var i=0;i<3;i++){if(e<0){r[i]=r[i]*(1-e)|0}else{r[i]=(255-r[i])*e+r[i]|0}if(r[i]>255){r[i]=255}else if(r[i]<0){r[i]=0}}return Sr(r,r.length===4?"rgba":"rgb")}}function gr(t){var e=vr(t);if(e){return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}}function yr(t,e,r){if(!(e&&e.length)||!(t>=0&&t<=1)){return}r=r||[];var i=t*(e.length-1);var a=Math.floor(i);var n=Math.ceil(i);var o=e[a];var s=e[n];var l=i-a;r[0]=tr(or(o[0],s[0],l));r[1]=tr(or(o[1],s[1],l));r[2]=tr(or(o[2],s[2],l));r[3]=rr(or(o[3],s[3],l));return r}var mr=yr;function xr(t,e,r){if(!(e&&e.length)||!(t>=0&&t<=1)){return}var i=t*(e.length-1);var a=Math.floor(i);var n=Math.ceil(i);var o=vr(e[a]);var s=vr(e[n]);var l=i-a;var u=Sr([tr(or(o[0],s[0],l)),tr(or(o[1],s[1],l)),tr(or(o[2],s[2],l)),rr(or(o[3],s[3],l))],"rgba");return r?{color:u,leftIndex:a,rightIndex:n,value:i}:u}var _r=xr;function br(t,e,r,i){var a=vr(t);if(t){a=pr(a);e!=null&&(a[0]=er(e));r!=null&&(a[1]=ar(r));i!=null&&(a[2]=ar(i));return Sr(cr(a),"rgba")}}function wr(t,e){var r=vr(t);if(r&&e!=null){r[3]=rr(e);return Sr(r,"rgba")}}function Sr(t,e){if(!t||!t.length){return}var r=t[0]+","+t[1]+","+t[2];if(e==="rgba"||e==="hsva"||e==="hsla"){r+=","+t[3]}return e+"("+r+")"}function Mr(t,e){var r=vr(t);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*e:0}function Ir(){var t=Math.round(Math.random()*255);var e=Math.round(Math.random()*255);var r=Math.round(Math.random()*255);return"rgb("+t+","+e+","+r+")"}var Tr=Object.freeze({__proto__:null,parse:vr,lift:dr,toHex:gr,fastLerp:yr,fastMapToColor:mr,lerp:xr,mapToColor:_r,modifyHSL:br,modifyAlpha:wr,stringify:Sr,lum:Mr,random:Ir});var Cr=Array.prototype.slice;function Dr(t,e,r){return(e-t)*r+t}function Ar(t,e,r){return r>.5?e:t}function kr(t,e,r,i){var a=e.length;for(var n=0;n<a;n++){t[n]=Dr(e[n],r[n],i)}}function Lr(t,e,r,i){var a=e.length;var n=a&&e[0].length;for(var o=0;o<a;o++){if(!t[o]){t[o]=[]}for(var s=0;s<n;s++){t[o][s]=Dr(e[o][s],r[o][s],i)}}}function Pr(t,e,r,i){var a=e.length;for(var n=0;n<a;n++){t[n]=e[n]+r[n]*i}return t}function Or(t,e,r,i){var a=e.length;var n=a&&e[0].length;for(var o=0;o<a;o++){if(!t[o]){t[o]=[]}for(var s=0;s<n;s++){t[o][s]=e[o][s]+r[o][s]*i}}return t}function Rr(t,e,r){var i=t;var a=e;if(!i.push||!a.push){return}var n=i.length;var o=a.length;if(n!==o){var s=n>o;if(s){i.length=o}else{for(var l=n;l<o;l++){i.push(r===1?a[l]:Cr.call(a[l]))}}}var u=i[0]&&i[0].length;for(var l=0;l<i.length;l++){if(r===1){if(isNaN(i[l])){i[l]=a[l]}}else{for(var f=0;f<u;f++){if(isNaN(i[l][f])){i[l][f]=a[l][f]}}}}}function Nr(t,e){var r=t.length;if(r!==e.length){return false}for(var i=0;i<r;i++){if(t[i]!==e[i]){return false}}return true}function Er(t,e,r,i,a,n,o){var s=(r-t)*.5;var l=(i-e)*.5;return(2*(e-r)+s+l)*o+(-3*(e-r)-2*s-l)*n+s*a+e}function zr(t,e,r,i,a,n,o,s){var l=e.length;for(var u=0;u<l;u++){t[u]=Er(e[u],r[u],i[u],a[u],n,o,s)}}function Br(t,e,r,i,a,n,o,s){var l=e.length;var u=e[0].length;for(var f=0;f<l;f++){if(!t[f]){t[1]=[]}for(var h=0;h<u;h++){t[f][h]=Er(e[f][h],r[f][h],i[f][h],a[f][h],n,o,s)}}}function Vr(t){if(O(t)){var e=t.length;if(O(t[0])){var r=[];for(var i=0;i<e;i++){r.push(Cr.call(t[i]))}return r}return Cr.call(t)}return t}function Gr(t){t[0]=Math.floor(t[0]);t[1]=Math.floor(t[1]);t[2]=Math.floor(t[2]);return"rgba("+t.join(",")+")"}function Fr(t){return O(t&&t[0])?2:1}var Hr=[0,0,0,0];var Wr=function(){function t(t){this.keyframes=[];this.maxTime=0;this.arrDim=0;this.interpolable=true;this._needsSort=false;this._isAllValueEqual=true;this._lastFrame=0;this._lastFramePercent=0;this.propName=t}t.prototype.isFinished=function(){return this._finished};t.prototype.setFinished=function(){this._finished=true;if(this._additiveTrack){this._additiveTrack.setFinished()}};t.prototype.needsAnimate=function(){return!this._isAllValueEqual&&this.keyframes.length>=2&&this.interpolable&&this.maxTime>0};t.prototype.getAdditiveTrack=function(){return this._additiveTrack};t.prototype.addKeyframe=function(t,e){if(t>=this.maxTime){this.maxTime=t}else{this._needsSort=true}var r=this.keyframes;var i=r.length;if(this.interpolable){if(O(e)){var a=Fr(e);if(i>0&&this.arrDim!==a){this.interpolable=false;return}if(a===1&&typeof e[0]!=="number"||a===2&&typeof e[0][0]!=="number"){this.interpolable=false;return}if(i>0){var n=r[i-1];if(this._isAllValueEqual){if(a===1){if(!Nr(e,n.value)){this._isAllValueEqual=false}}else{this._isAllValueEqual=false}}}this.arrDim=a}else{if(this.arrDim>0){this.interpolable=false;return}if(typeof e==="string"){var o=vr(e);if(o){e=o;this.isValueColor=true}else{this.interpolable=false}}else if(typeof e!=="number"||isNaN(e)){this.interpolable=false;return}if(this._isAllValueEqual&&i>0){var n=r[i-1];if(this.isValueColor&&!Nr(n.value,e)){this._isAllValueEqual=false}else if(n.value!==e){this._isAllValueEqual=false}}}}var s={time:t,value:e,percent:0};this.keyframes.push(s);return s};t.prototype.prepare=function(t){var e=this.keyframes;if(this._needsSort){e.sort(function(t,e){return t.time-e.time})}var r=this.arrDim;var i=e.length;var a=e[i-1];for(var n=0;n<i;n++){e[n].percent=e[n].time/this.maxTime;if(r>0&&n!==i-1){Rr(e[n].value,a.value,r)}}if(t&&this.needsAnimate()&&t.needsAnimate()&&r===t.arrDim&&this.isValueColor===t.isValueColor&&!t._finished){this._additiveTrack=t;var o=e[0].value;for(var n=0;n<i;n++){if(r===0){if(this.isValueColor){e[n].additiveValue=Pr([],e[n].value,o,-1)}else{e[n].additiveValue=e[n].value-o}}else if(r===1){e[n].additiveValue=Pr([],e[n].value,o,-1)}else if(r===2){e[n].additiveValue=Or([],e[n].value,o,-1)}}}};t.prototype.step=function(t,e){if(this._finished){return}if(this._additiveTrack&&this._additiveTrack._finished){this._additiveTrack=null}var r=this._additiveTrack!=null;var i=r?"additiveValue":"value";var a=this.keyframes;var n=this.keyframes.length;var o=this.propName;var s=this.arrDim;var l=this.isValueColor;var u;if(e<0){u=0}else if(e<this._lastFramePercent){var f=Math.min(this._lastFrame+1,n-1);for(u=f;u>=0;u--){if(a[u].percent<=e){break}}u=Math.min(u,n-2)}else{for(u=this._lastFrame;u<n;u++){if(a[u].percent>e){break}}u=Math.min(u-1,n-2)}var h=a[u+1];var v=a[u];if(!(v&&h)){return}this._lastFrame=u;this._lastFramePercent=e;var c=h.percent-v.percent;if(c===0){return}var p=(e-v.percent)/c;var d=r?this._additiveValue:l?Hr:t[o];if((s>0||l)&&!d){d=this._additiveValue=[]}if(this.useSpline){var g=a[u][i];var y=a[u===0?u:u-1][i];var m=a[u>n-2?n-1:u+1][i];var x=a[u>n-3?n-1:u+2][i];if(s>0){s===1?zr(d,y,g,m,x,p,p*p,p*p*p):Br(d,y,g,m,x,p,p*p,p*p*p)}else if(l){zr(d,y,g,m,x,p,p*p,p*p*p);if(!r){t[o]=Gr(d)}}else{var _=void 0;if(!this.interpolable){_=m}else{_=Er(y,g,m,x,p,p*p,p*p*p)}if(r){this._additiveValue=_}else{t[o]=_}}}else{if(s>0){s===1?kr(d,v[i],h[i],p):Lr(d,v[i],h[i],p)}else if(l){kr(d,v[i],h[i],p);if(!r){t[o]=Gr(d)}}else{var _=void 0;if(!this.interpolable){_=Ar(v[i],h[i],p)}else{_=Dr(v[i],h[i],p)}if(r){this._additiveValue=_}else{t[o]=_}}}if(r){this._addToTarget(t)}};t.prototype._addToTarget=function(t){var e=this.arrDim;var r=this.propName;var i=this._additiveValue;if(e===0){if(this.isValueColor){vr(t[r],Hr);Pr(Hr,Hr,i,1);t[r]=Gr(Hr)}else{t[r]=t[r]+i}}else if(e===1){Pr(t[r],t[r],i,1)}else if(e===2){Or(t[r],t[r],i,1)}};return t}();var Ur=function(){function t(t,e,r){this._tracks={};this._trackKeys=[];this._delay=0;this._maxTime=0;this._paused=false;this._started=0;this._clip=null;this._target=t;this._loop=e;if(e&&r){S("Can' use additive animation on looped animation.");return}this._additiveAnimators=r}t.prototype.getTarget=function(){return this._target};t.prototype.changeTarget=function(t){this._target=t};t.prototype.when=function(t,e){return this.whenWithKeys(t,e,V(e))};t.prototype.whenWithKeys=function(t,e,r){var i=this._tracks;for(var a=0;a<r.length;a++){var n=r[a];var o=i[n];if(!o){o=i[n]=new Wr(n);var s=void 0;var l=this._getAdditiveTrack(n);if(l){var u=l.keyframes[l.keyframes.length-1];s=u&&u.value;if(l.isValueColor&&s){s=Gr(s)}}else{s=this._target[n]}if(s==null){continue}if(t!==0){o.addKeyframe(0,Vr(s))}this._trackKeys.push(n)}o.addKeyframe(t,Vr(e[n]))}this._maxTime=Math.max(this._maxTime,t);return this};t.prototype.pause=function(){this._clip.pause();this._paused=true};t.prototype.resume=function(){this._clip.resume();this._paused=false};t.prototype.isPaused=function(){return!!this._paused};t.prototype._doneCallback=function(){this._setTracksFinished();this._clip=null;var t=this._doneCbs;if(t){var e=t.length;for(var r=0;r<e;r++){t[r].call(this)}}};t.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation;var e=this._abortedCbs;if(t){t.removeClip(this._clip)}this._clip=null;if(e){for(var r=0;r<e.length;r++){e[r].call(this)}}};t.prototype._setTracksFinished=function(){var t=this._tracks;var e=this._trackKeys;for(var r=0;r<e.length;r++){t[e[r]].setFinished()}};t.prototype._getAdditiveTrack=function(t){var e;var r=this._additiveAnimators;if(r){for(var i=0;i<r.length;i++){var a=r[i].getTrack(t);if(a){e=a}}}return e};t.prototype.start=function(t,e){if(this._started>0){return}this._started=1;var r=this;var i=[];for(var a=0;a<this._trackKeys.length;a++){var n=this._trackKeys[a];var o=this._tracks[n];var s=this._getAdditiveTrack(n);var l=o.keyframes;o.prepare(s);if(o.needsAnimate()){i.push(o)}else if(!o.interpolable){var u=l[l.length-1];if(u){r._target[o.propName]=u.value}}}if(i.length||e){var f=new qe({life:this._maxTime,loop:this._loop,delay:this._delay,onframe:function(t){r._started=2;var e=r._additiveAnimators;if(e){var a=false;for(var n=0;n<e.length;n++){if(e[n]._clip){a=true;break}}if(!a){r._additiveAnimators=null}}for(var n=0;n<i.length;n++){i[n].step(r._target,t)}var o=r._onframeCbs;if(o){for(var n=0;n<o.length;n++){o[n](r._target,t)}}},ondestroy:function(){r._doneCallback()}});this._clip=f;if(this.animation){this.animation.addClip(f)}if(t&&t!=="spline"){f.easing=t}}else{this._doneCallback()}return this};t.prototype.stop=function(t){if(!this._clip){return}var e=this._clip;if(t){e.onframe(1)}this._abortedCallback()};t.prototype.delay=function(t){this._delay=t;return this};t.prototype.during=function(t){if(t){if(!this._onframeCbs){this._onframeCbs=[]}this._onframeCbs.push(t)}return this};t.prototype.done=function(t){if(t){if(!this._doneCbs){this._doneCbs=[]}this._doneCbs.push(t)}return this};t.prototype.aborted=function(t){if(t){if(!this._abortedCbs){this._abortedCbs=[]}this._abortedCbs.push(t)}return this};t.prototype.getClip=function(){return this._clip};t.prototype.getTrack=function(t){return this._tracks[t]};t.prototype.stopTracks=function(t,e){if(!t.length||!this._clip){return true}var r=this._tracks;var i=this._trackKeys;for(var a=0;a<t.length;a++){var n=r[t[a]];if(n){if(e){n.step(this._target,1)}else if(this._started===1){n.step(this._target,0)}n.setFinished()}}var o=true;for(var a=0;a<i.length;a++){if(!r[i[a]].isFinished()){o=false;break}}if(o){this._abortedCallback()}return o};t.prototype.saveFinalToTarget=function(t,e){if(!t){return}e=e||this._trackKeys;for(var r=0;r<e.length;r++){var i=e[r];var a=this._tracks[i];if(!a||a.isFinished()){continue}var n=a.keyframes;var o=n[n.length-1];if(o){var s=Vr(o.value);if(a.isValueColor){s=Gr(s)}t[i]=s}}};t.prototype.__changeFinalValue=function(t,e){e=e||V(t);for(var r=0;r<e.length;r++){var i=e[r];var a=this._tracks[i];if(!a){continue}var n=a.keyframes;if(n.length>1){var o=n.pop();a.addKeyframe(o.time,t[i]);a.prepare(a.getAdditiveTrack())}}};return t}();var Yr=function(t){r(e,t);function e(e){var r=t.call(this)||this;r._running=false;r._time=0;r._pausedTime=0;r._pauseStart=0;r._paused=false;e=e||{};r.stage=e.stage||{};r.onframe=e.onframe||function(){};return r}e.prototype.addClip=function(t){if(t.animation){this.removeClip(t)}if(!this._clipsHead){this._clipsHead=this._clipsTail=t}else{this._clipsTail.next=t;t.prev=this._clipsTail;t.next=null;this._clipsTail=t}t.animation=this};e.prototype.addAnimator=function(t){t.animation=this;var e=t.getClip();if(e){this.addClip(e)}};e.prototype.removeClip=function(t){if(!t.animation){return}var e=t.prev;var r=t.next;if(e){e.next=r}else{this._clipsHead=r}if(r){r.prev=e}else{this._clipsTail=e}t.next=t.prev=t.animation=null};e.prototype.removeAnimator=function(t){var e=t.getClip();if(e){this.removeClip(e)}t.animation=null};e.prototype.update=function(t){var e=(new Date).getTime()-this._pausedTime;var r=e-this._time;var i=this._clipsHead;while(i){var a=i.next;var n=i.step(e,r);if(n){i.ondestroy&&i.ondestroy();this.removeClip(i);i=a}else{i=a}}this._time=e;if(!t){this.onframe(r);this.trigger("frame",r);this.stage.update&&this.stage.update()}};e.prototype._startLoop=function(){var t=this;this._running=true;function e(){if(t._running){Ze(e);!t._paused&&t.update()}}Ze(e)};e.prototype.start=function(){if(this._running){return}this._time=(new Date).getTime();this._pausedTime=0;this._startLoop()};e.prototype.stop=function(){this._running=false};e.prototype.pause=function(){if(!this._paused){this._pauseStart=(new Date).getTime();this._paused=true}};e.prototype.resume=function(){if(this._paused){this._pausedTime+=(new Date).getTime()-this._pauseStart;this._paused=false}};e.prototype.clear=function(){var t=this._clipsHead;while(t){var e=t.next;t.prev=t.next=t.animation=null;t=e}this._clipsHead=this._clipsTail=null};e.prototype.isFinished=function(){return this._clipsHead==null};e.prototype.animate=function(t,e){e=e||{};this.start();var r=new Ur(t,e.loop);this.addAnimator(r);return r};return e}(Zt);var Xr=300;var Zr=s.domSupported;var jr=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var e=["touchstart","touchend","touchmove"];var r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};var i=N(t,function(t){var e=t.replace("mouse","pointer");return r.hasOwnProperty(e)?e:t});return{mouse:t,touch:e,pointer:i}}();var qr={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};var Kr=false;function $r(t){var e=t.pointerType;return e==="pen"||e==="touch"}function Jr(t){t.touching=true;if(t.touchTimer!=null){clearTimeout(t.touchTimer);t.touchTimer=null}t.touchTimer=setTimeout(function(){t.touching=false;t.touchTimer=null},700)}function Qr(t){t&&(t.zrByTouch=true)}function ti(t,e){return fe(t.dom,new ri(t,e),true)}function ei(t,e){var r=e;var i=false;while(r&&r.nodeType!==9&&!(i=r.domBelongToZr||r!==e&&r===t.painterRoot)){r=r.parentNode}return i}var ri=function(){function t(t,e){this.stopPropagation=yt;this.stopImmediatePropagation=yt;this.preventDefault=yt;this.type=e.type;this.target=this.currentTarget=t.dom;this.pointerType=e.pointerType;this.clientX=e.clientX;this.clientY=e.clientY}return t}();var ii={mousedown:function(t){t=fe(this.dom,t);this.__mayPointerCapture=[t.zrX,t.zrY];this.trigger("mousedown",t)},mousemove:function(t){t=fe(this.dom,t);var e=this.__mayPointerCapture;if(e&&(t.zrX!==e[0]||t.zrY!==e[1])){this.__togglePointerCapture(true)}this.trigger("mousemove",t)},mouseup:function(t){t=fe(this.dom,t);this.__togglePointerCapture(false);this.trigger("mouseup",t)},mouseout:function(t){t=fe(this.dom,t);var e=t.toElement||t.relatedTarget;if(!ei(this,e)){if(this.__pointerCapturing){t.zrEventControl="no_globalout"}this.trigger("mouseout",t)}},wheel:function(t){Kr=true;t=fe(this.dom,t);this.trigger("mousewheel",t)},mousewheel:function(t){if(Kr){return}t=fe(this.dom,t);this.trigger("mousewheel",t)},touchstart:function(t){t=fe(this.dom,t);Qr(t);this.__lastTouchMoment=new Date;this.handler.processGesture(t,"start");ii.mousemove.call(this,t);ii.mousedown.call(this,t)},touchmove:function(t){t=fe(this.dom,t);Qr(t);this.handler.processGesture(t,"change");ii.mousemove.call(this,t)},touchend:function(t){t=fe(this.dom,t);Qr(t);this.handler.processGesture(t,"end");ii.mouseup.call(this,t);if(+new Date-+this.__lastTouchMoment<Xr){ii.click.call(this,t)}},pointerdown:function(t){ii.mousedown.call(this,t)},pointermove:function(t){if(!$r(t)){ii.mousemove.call(this,t)}},pointerup:function(t){ii.mouseup.call(this,t)},pointerout:function(t){if(!$r(t)){ii.mouseout.call(this,t)}}};R(["click","dblclick","contextmenu"],function(t){ii[t]=function(e){e=fe(this.dom,e);this.trigger(t,e)}});var ai={pointermove:function(t){if(!$r(t)){ai.mousemove.call(this,t)}},pointerup:function(t){ai.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(false);this.trigger("mouseup",t);if(e){t.zrEventControl="only_globalout";this.trigger("mouseout",t)}}};function ni(t,e){var r=e.domHandlers;if(s.pointerEventsSupported){R(jr.pointer,function(i){si(e,i,function(e){r[i].call(t,e)})})}else{if(s.touchEventsSupported){R(jr.touch,function(i){si(e,i,function(a){r[i].call(t,a);Jr(e)})})}R(jr.mouse,function(i){si(e,i,function(a){a=ue(a);if(!e.touching){r[i].call(t,a)}})})}}function oi(t,e){if(s.pointerEventsSupported){R(qr.pointer,r)}else if(!s.touchEventsSupported){R(qr.mouse,r)}function r(r){function i(i){i=ue(i);if(!ei(t,i.target)){i=ti(t,i);e.domHandlers[r].call(t,i)}}si(e,r,i,{capture:true})}}function si(t,e,r,i){t.mounted[e]=r;t.listenerOpts[e]=i;ve(t.domTarget,e,r,i)}function li(t){var e=t.mounted;for(var r in e){if(e.hasOwnProperty(r)){ce(t.domTarget,r,e[r],t.listenerOpts[r])}}t.mounted={}}var ui=function(){function t(t,e){this.mounted={};this.listenerOpts={};this.touching=false;this.domTarget=t;this.domHandlers=e}return t}();var fi=function(t){r(e,t);function e(e,r){var i=t.call(this)||this;i.__pointerCapturing=false;i.dom=e;i.painterRoot=r;i._localHandlerScope=new ui(e,ii);if(Zr){i._globalHandlerScope=new ui(document,ai)}ni(i,i._localHandlerScope);return i}e.prototype.dispose=function(){li(this._localHandlerScope);if(Zr){li(this._globalHandlerScope)}};e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")};e.prototype.__togglePointerCapture=function(t){this.__mayPointerCapture=null;if(Zr&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var e=this._globalHandlerScope;t?oi(this,e):li(e)}};return e}(Zt);var hi=1;if(typeof window!=="undefined"){hi=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1)}var vi=hi;var ci=.4;var pi="#333";var di="#ccc";var gi="#eee";function yi(){return[1,0,0,1,0,0]}function mi(t){t[0]=1;t[1]=0;t[2]=0;t[3]=1;t[4]=0;t[5]=0;return t}function xi(t,e){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];t[4]=e[4];t[5]=e[5];return t}function _i(t,e,r){var i=e[0]*r[0]+e[2]*r[1];var a=e[1]*r[0]+e[3]*r[1];var n=e[0]*r[2]+e[2]*r[3];var o=e[1]*r[2]+e[3]*r[3];var s=e[0]*r[4]+e[2]*r[5]+e[4];var l=e[1]*r[4]+e[3]*r[5]+e[5];t[0]=i;t[1]=a;t[2]=n;t[3]=o;t[4]=s;t[5]=l;return t}function bi(t,e,r){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];t[4]=e[4]+r[0];t[5]=e[5]+r[1];return t}function wi(t,e,r){var i=e[0];var a=e[2];var n=e[4];var o=e[1];var s=e[3];var l=e[5];var u=Math.sin(r);var f=Math.cos(r);t[0]=i*f+o*u;t[1]=-i*u+o*f;t[2]=a*f+s*u;t[3]=-a*u+f*s;t[4]=f*n+u*l;t[5]=f*l-u*n;return t}function Si(t,e,r){var i=r[0];var a=r[1];t[0]=e[0]*i;t[1]=e[1]*a;t[2]=e[2]*i;t[3]=e[3]*a;t[4]=e[4]*i;t[5]=e[5]*a;return t}function Mi(t,e){var r=e[0];var i=e[2];var a=e[4];var n=e[1];var o=e[3];var s=e[5];var l=r*o-n*i;if(!l){return null}l=1/l;t[0]=o*l;t[1]=-n*l;t[2]=-i*l;t[3]=r*l;t[4]=(i*s-o*a)*l;t[5]=(n*a-r*s)*l;return t}function Ii(t){var e=yi();xi(e,t);return e}var Ti=Object.freeze({__proto__:null,create:yi,identity:mi,copy:xi,mul:_i,translate:bi,rotate:wi,scale:Si,invert:Mi,clone:Ii});var Ci=mi;var Di=5e-5;function Ai(t){return t>Di||t<-Di}var ki=[];var Li=[];var Pi=yi();var Oi=Math.abs;var Ri=function(){function t(){}t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)};t.prototype.setPosition=function(t){this.x=t[0];this.y=t[1]};t.prototype.setScale=function(t){this.scaleX=t[0];this.scaleY=t[1]};t.prototype.setSkew=function(t){this.skewX=t[0];this.skewY=t[1]};t.prototype.setOrigin=function(t){this.originX=t[0];this.originY=t[1]};t.prototype.needLocalTransform=function(){return Ai(this.rotation)||Ai(this.x)||Ai(this.y)||Ai(this.scaleX-1)||Ai(this.scaleY-1)};t.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform;var e=this.needLocalTransform();var r=this.transform;if(!(e||t)){r&&Ci(r);return}r=r||yi();if(e){this.getLocalTransform(r)}else{Ci(r)}if(t){if(e){_i(r,t,r)}else{xi(r,t)}}this.transform=r;this._resolveGlobalScaleRatio(r)};t.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(e!=null&&e!==1){this.getGlobalScale(ki);var r=ki[0]<0?-1:1;var i=ki[1]<0?-1:1;var a=((ki[0]-r)*e+r)/ki[0]||0;var n=((ki[1]-i)*e+i)/ki[1]||0;t[0]*=a;t[1]*=a;t[2]*=n;t[3]*=n}this.invTransform=this.invTransform||yi();Mi(this.invTransform,t)};t.prototype.getComputedTransform=function(){var t=this;var e=[];while(t){e.push(t);t=t.parent}while(t=e.pop()){t.updateTransform()}return this.transform};t.prototype.setLocalTransform=function(t){if(!t){return}var e=t[0]*t[0]+t[1]*t[1];var r=t[2]*t[2]+t[3]*t[3];var i=Math.atan2(t[1],t[0]);var a=Math.PI/2+i-Math.atan2(t[3],t[2]);r=Math.sqrt(r)*Math.cos(a);e=Math.sqrt(e);this.skewX=a;this.skewY=0;this.rotation=-i;this.x=+t[4];this.y=+t[5];this.scaleX=e;this.scaleY=r;this.originX=0;this.originY=0};t.prototype.decomposeTransform=function(){if(!this.transform){return}var t=this.parent;var e=this.transform;if(t&&t.transform){_i(Li,t.invTransform,e);e=Li}var r=this.originX;var i=this.originY;if(r||i){Pi[4]=r;Pi[5]=i;_i(Li,e,Pi);Li[4]-=r;Li[5]-=i;e=Li}this.setLocalTransform(e)};t.prototype.getGlobalScale=function(t){var e=this.transform;t=t||[];if(!e){t[0]=1;t[1]=1;return t}t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]);t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]);if(e[0]<0){t[0]=-t[0]}if(e[3]<0){t[1]=-t[1]}return t};t.prototype.transformCoordToLocal=function(t,e){var r=[t,e];var i=this.invTransform;if(i){Ft(r,r,i)}return r};t.prototype.transformCoordToGlobal=function(t,e){var r=[t,e];var i=this.transform;if(i){Ft(r,r,i)}return r};t.prototype.getLineScale=function(){var t=this.transform;return t&&Oi(t[0]-1)>1e-10&&Oi(t[3]-1)>1e-10?Math.sqrt(Oi(t[0]*t[3]-t[2]*t[1])):1};t.prototype.copyTransform=function(t){var e=this;for(var r=0;r<Ni.length;r++){var i=Ni[r];e[i]=t[i]}};t.getLocalTransform=function(t,e){e=e||[];var r=t.originX||0;var i=t.originY||0;var a=t.scaleX;var n=t.scaleY;var o=t.rotation||0;var s=t.x;var l=t.y;var u=t.skewX?Math.tan(t.skewX):0;var f=t.skewY?Math.tan(-t.skewY):0;if(r||i){e[4]=-r*a-u*i*n;e[5]=-i*n-f*r*a}else{e[4]=e[5]=0}e[0]=a;e[3]=n;e[1]=f*a;e[2]=u*n;o&&wi(e,e,o);e[4]+=r+s;e[5]+=i+l;return e};t.initDefaultProps=function(){var e=t.prototype;e.x=0;e.y=0;e.scaleX=1;e.scaleY=1;e.originX=0;e.originY=0;e.skewX=0;e.skewY=0;e.rotation=0;e.globalScaleRatio=1}();return t}();var Ni=["x","y","originX","originY","rotation","scaleX","scaleY","skewX","skewY"];var Ei=function(){function t(t,e){this.x=t||0;this.y=e||0}t.prototype.copy=function(t){this.x=t.x;this.y=t.y;return this};t.prototype.clone=function(){return new t(this.x,this.y)};t.prototype.set=function(t,e){this.x=t;this.y=e;return this};t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y};t.prototype.add=function(t){this.x+=t.x;this.y+=t.y;return this};t.prototype.scale=function(t){this.x*=t;this.y*=t};t.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e;this.y+=t.y*e};t.prototype.sub=function(t){this.x-=t.x;this.y-=t.y;return this};t.prototype.dot=function(t){return this.x*t.x+this.y*t.y};t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y};t.prototype.normalize=function(){var t=this.len();this.x/=t;this.y/=t;return this};t.prototype.distance=function(t){var e=this.x-t.x;var r=this.y-t.y;return Math.sqrt(e*e+r*r)};t.prototype.distanceSquare=function(t){var e=this.x-t.x;var r=this.y-t.y;return e*e+r*r};t.prototype.negate=function(){this.x=-this.x;this.y=-this.y;return this};t.prototype.transform=function(t){if(!t){return}var e=this.x;var r=this.y;this.x=t[0]*e+t[2]*r+t[4];this.y=t[1]*e+t[3]*r+t[5];return this};t.prototype.toArray=function(t){t[0]=this.x;t[1]=this.y;return t};t.prototype.fromArray=function(t){this.x=t[0];this.y=t[1]};t.set=function(t,e,r){t.x=e;t.y=r};t.copy=function(t,e){t.x=e.x;t.y=e.y};t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};t.lenSquare=function(t){return t.x*t.x+t.y*t.y};t.dot=function(t,e){return t.x*e.x+t.y*e.y};t.add=function(t,e,r){t.x=e.x+r.x;t.y=e.y+r.y};t.sub=function(t,e,r){t.x=e.x-r.x;t.y=e.y-r.y};t.scale=function(t,e,r){t.x=e.x*r;t.y=e.y*r};t.scaleAndAdd=function(t,e,r,i){t.x=e.x+r.x*i;t.y=e.y+r.y*i};t.lerp=function(t,e,r,i){var a=1-i;t.x=a*e.x+i*r.x;t.y=a*e.y+i*r.y};return t}();var zi=Math.min;var Bi=Math.max;var Vi=new Ei;var Gi=new Ei;var Fi=new Ei;var Hi=new Ei;var Wi=new Ei;var Ui=new Ei;var Yi=function(){function t(t,e,r,i){if(r<0){t=t+r;r=-r}if(i<0){e=e+i;i=-i}this.x=t;this.y=e;this.width=r;this.height=i}t.prototype.union=function(t){var e=zi(t.x,this.x);var r=zi(t.y,this.y);if(isFinite(this.x)&&isFinite(this.width)){this.width=Bi(t.x+t.width,this.x+this.width)-e}else{this.width=t.width}if(isFinite(this.y)&&isFinite(this.height)){this.height=Bi(t.y+t.height,this.y+this.height)-r}else{this.height=t.height}this.x=e;this.y=r};t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)};t.prototype.calculateTransform=function(t){var e=this;var r=t.width/e.width;var i=t.height/e.height;var a=yi();bi(a,a,[-e.x,-e.y]);Si(a,a,[r,i]);bi(a,a,[t.x,t.y]);return a};t.prototype.intersect=function(e,r){if(!e){return false}if(!(e instanceof t)){e=t.create(e)}var i=this;var a=i.x;var n=i.x+i.width;var o=i.y;var s=i.y+i.height;var l=e.x;var u=e.x+e.width;var f=e.y;var h=e.y+e.height;var v=!(n<l||u<a||s<f||h<o);if(r){var c=Infinity;var p=0;var d=Math.abs(n-l);var g=Math.abs(u-a);var y=Math.abs(s-f);var m=Math.abs(h-o);var x=Math.min(d,g);var _=Math.min(y,m);if(n<l||u<a){if(x>p){p=x;if(d<g){Ei.set(Ui,-d,0)}else{Ei.set(Ui,g,0)}}}else{if(x<c){c=x;if(d<g){Ei.set(Wi,d,0)}else{Ei.set(Wi,-g,0)}}}if(s<f||h<o){if(_>p){p=_;if(y<m){Ei.set(Ui,0,-y)}else{Ei.set(Ui,0,m)}}}else{if(x<c){c=x;if(y<m){Ei.set(Wi,0,y)}else{Ei.set(Wi,0,-m)}}}}if(r){Ei.copy(r,v?Wi:Ui)}return v};t.prototype.contain=function(t,e){var r=this;return t>=r.x&&t<=r.x+r.width&&e>=r.y&&e<=r.y+r.height};t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)};t.prototype.copy=function(e){t.copy(this,e)};t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}};t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)};t.prototype.isZero=function(){return this.width===0||this.height===0};t.create=function(e){return new t(e.x,e.y,e.width,e.height)};t.copy=function(t,e){t.x=e.x;t.y=e.y;t.width=e.width;t.height=e.height};t.applyTransform=function(e,r,i){if(!i){if(e!==r){t.copy(e,r)}return}if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var a=i[0];var n=i[3];var o=i[4];var s=i[5];e.x=r.x*a+o;e.y=r.y*n+s;e.width=r.width*a;e.height=r.height*n;if(e.width<0){e.x+=e.width;e.width=-e.width}if(e.height<0){e.y+=e.height;e.height=-e.height}return}Vi.x=Fi.x=r.x;Vi.y=Hi.y=r.y;Gi.x=Hi.x=r.x+r.width;Gi.y=Fi.y=r.y+r.height;Vi.transform(i);Hi.transform(i);Gi.transform(i);Fi.transform(i);e.x=zi(Vi.x,Gi.x,Fi.x,Hi.x);e.y=zi(Vi.y,Gi.y,Fi.y,Hi.y);var l=Bi(Vi.x,Gi.x,Fi.x,Hi.x);var u=Bi(Vi.y,Gi.y,Fi.y,Hi.y);e.width=l-e.x;e.height=u-e.y};return t}();var Xi={};var Zi="12px sans-serif";var ji;var qi;function Ki(t,e){if(!ji){ji=A().getContext("2d")}if(qi!==e){qi=ji.font=e||Zi}return ji.measureText(t)}var $i={measureText:Ki};function Ji(t,e){e=e||Zi;var r=Xi[e];if(!r){r=Xi[e]=new Je(500)}var i=r.get(t);if(i==null){i=$i.measureText(t,e).width;r.put(t,i)}return i}function Qi(t,e,r,i){var a=Ji(t,e);var n=ia(e);var o=ea(0,a,r);var s=ra(0,n,i);var l=new Yi(o,s,a,n);return l}function ta(t,e,r,i){var a=((t||"")+"").split("\n");var n=a.length;if(n===1){return Qi(a[0],e,r,i)}else{var o=new Yi(0,0,0,0);for(var s=0;s<a.length;s++){var l=Qi(a[s],e,r,i);s===0?o.copy(l):o.union(l)}return o}}function ea(t,e,r){if(r==="right"){t-=e}else if(r==="center"){t-=e/2}return t}function ra(t,e,r){if(r==="middle"){t-=e/2}else if(r==="bottom"){t-=e}return t}function ia(t){return Ji("",t)}function aa(t,e){if(typeof t==="string"){if(t.lastIndexOf("%")>=0){return parseFloat(t)/100*e}return parseFloat(t)}return t}function na(t,e,r){var i=e.position||"inside";var a=e.distance!=null?e.distance:5;var n=r.height;var o=r.width;var s=n/2;var l=r.x;var u=r.y;var f="left";var h="top";if(i instanceof Array){l+=aa(i[0],r.width);u+=aa(i[1],r.height);f=null;h=null}else{switch(i){case"left":l-=a;u+=s;f="right";h="middle";break;case"right":l+=a+o;u+=s;h="middle";break;case"top":l+=o/2;u-=a;f="center";h="bottom";break;case"bottom":l+=o/2;u+=n+a;f="center";break;case"inside":l+=o/2;u+=s;f="center";h="middle";break;case"insideLeft":l+=a;u+=s;h="middle";break;case"insideRight":l+=o-a;u+=s;f="right";h="middle";break;case"insideTop":l+=o/2;u+=a;f="center";break;case"insideBottom":l+=o/2;u+=n-a;f="center";h="bottom";break;case"insideTopLeft":l+=a;u+=a;break;case"insideTopRight":l+=o-a;u+=a;f="right";break;case"insideBottomLeft":l+=a;u+=n-a;h="bottom";break;case"insideBottomRight":l+=o-a;u+=n-a;f="right";h="bottom";break}}t=t||{};t.x=l;t.y=u;t.align=f;t.verticalAlign=h;return t}var oa="__zr_normal__";var sa=["x","y","scaleX","scaleY","originX","originY","rotation","ignore"];var la={x:true,y:true,scaleX:true,scaleY:true,originX:true,originY:true,rotation:true,ignore:false};var ua={};var fa=new Yi(0,0,0,0);var ha=function(){function t(t){this.id=w();this.animators=[];this.currentStates=[];this.states={};this._init(t)}t.prototype._init=function(t){this.attr(t)};t.prototype.drift=function(t,e,r){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0;break}var i=this.transform;if(!i){i=this.transform=[1,0,0,1,0,0]}i[4]+=t;i[5]+=e;this.decomposeTransform();this.markRedraw()};t.prototype.beforeUpdate=function(){};t.prototype.afterUpdate=function(){};t.prototype.update=function(){this.updateTransform();if(this.__dirty){this.updateInnerText()}};t.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){if(!this.textConfig){this.textConfig={}}var r=this.textConfig;var i=r.local;var a=e.innerTransformable;var n=void 0;var o=void 0;var s=false;a.parent=i?this:null;var l=false;a.copyTransform(e);if(r.position!=null){var u=fa;if(r.layoutRect){u.copy(r.layoutRect)}else{u.copy(this.getBoundingRect())}if(!i){u.applyTransform(this.transform)}if(this.calculateTextPosition){this.calculateTextPosition(ua,r,u)}else{na(ua,r,u)}a.x=ua.x;a.y=ua.y;n=ua.align;o=ua.verticalAlign;var f=r.origin;if(f&&r.rotation!=null){var h=void 0;var v=void 0;if(f==="center"){h=u.width*.5;v=u.height*.5}else{h=aa(f[0],u.width);v=aa(f[1],u.height)}l=true;a.originX=-a.x+h+(i?0:u.x);a.originY=-a.y+v+(i?0:u.y)}}if(r.rotation!=null){a.rotation=r.rotation}var c=r.offset;if(c){a.x+=c[0];a.y+=c[1];if(!l){a.originX=-c[0];a.originY=-c[1]}}var p=r.inside==null?typeof r.position==="string"&&r.position.indexOf("inside")>=0:r.inside;var d=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});var g=void 0;var y=void 0;var m=void 0;if(p&&this.canBeInsideText()){g=r.insideFill;y=r.insideStroke;if(g==null||g==="auto"){g=this.getInsideTextFill()}if(y==null||y==="auto"){y=this.getInsideTextStroke(g);m=true}}else{g=r.outsideFill;y=r.outsideStroke;if(g==null||g==="auto"){g=this.getOutsideFill()}if(y==null||y==="auto"){y=this.getOutsideStroke(g);m=true}}g=g||"#000";if(g!==d.fill||y!==d.stroke||m!==d.autoStroke||n!==d.align||o!==d.verticalAlign){s=true;d.fill=g;d.stroke=y;d.autoStroke=m;d.align=n;d.verticalAlign=o;e.setDefaultTextStyle(d)}e.__dirty|=Ve;if(s){e.dirtyStyle(true)}}};t.prototype.canBeInsideText=function(){return true};t.prototype.getInsideTextFill=function(){return"#fff"};t.prototype.getInsideTextStroke=function(t){return"#000"};t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?di:pi};t.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor();var r=typeof e==="string"&&vr(e);if(!r){r=[255,255,255,1]}var i=r[3];var a=this.__zr.isDarkMode();for(var n=0;n<3;n++){r[n]=r[n]*i+(a?0:255)*(1-i)}r[3]=1;return Sr(r,"rgba")};t.prototype.traverse=function(t,e){};t.prototype.attrKV=function(t,e){if(t==="textConfig"){this.setTextConfig(e)}else if(t==="textContent"){this.setTextContent(e)}else if(t==="clipPath"){this.setClipPath(e)}else if(t==="extra"){this.extra=this.extra||{};C(this.extra,e)}else{this[t]=e}};t.prototype.hide=function(){this.ignore=true;this.markRedraw()};t.prototype.show=function(){this.ignore=false;this.markRedraw()};t.prototype.attr=function(t,e){if(typeof t==="string"){this.attrKV(t,e)}else if(j(t)){var r=t;var i=V(r);for(var a=0;a<i.length;a++){var n=i[a];this.attrKV(n,t[n])}}this.markRedraw();return this};t.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);var e=this._normalState;for(var r=0;r<this.animators.length;r++){var i=this.animators[r];var a=i.__fromStateTransition;if(a&&a!==oa){continue}var n=i.targetName;var o=n?e[n]:e;i.saveFinalToTarget(o)}};t.prototype._innerSaveToNormal=function(t){var e=this._normalState;if(!e){e=this._normalState={}}if(t.textConfig&&!e.textConfig){e.textConfig=this.textConfig}this._savePrimaryToNormal(t,e,sa)};t.prototype._savePrimaryToNormal=function(t,e,r){for(var i=0;i<r.length;i++){var a=r[i];if(t[a]!=null&&!(a in e)){e[a]=this[a]}}};t.prototype.hasState=function(){return this.currentStates.length>0};t.prototype.getState=function(t){return this.states[t]};t.prototype.ensureState=function(t){var e=this.states;if(!e[t]){e[t]={}}return e[t]};t.prototype.clearStates=function(t){this.useState(oa,false,t)};t.prototype.useState=function(t,e,r,i){var a=t===oa;var n=this.hasState();if(!n&&a){return}var o=this.currentStates;var s=this.stateTransition;if(k(o,t)>=0&&(e||o.length===1)){return}var l;if(this.stateProxy&&!a){l=this.stateProxy(t)}if(!l){l=this.states&&this.states[t]}if(!l&&!a){S("State "+t+" not exists.");return}if(!a){this.saveCurrentToNormalState(l)}var u=!!(l&&l.hoverLayer||i);if(u){this._toggleHoverLayerFlag(true)}this._applyStateObj(t,l,this._normalState,e,!r&&!this.__inHover&&s&&s.duration>0,s);var f=this._textContent;var h=this._textGuide;if(f){f.useState(t,e,r,u)}if(h){h.useState(t,e,r,u)}if(a){this.currentStates=[];this._normalState={}}else{if(!e){this.currentStates=[t]}else{this.currentStates.push(t)}}this._updateAnimationTargets();this.markRedraw();if(!u&&this.__inHover){this._toggleHoverLayerFlag(false);this.__dirty&=~Ve}return l};t.prototype.useStates=function(t,e,r){if(!t.length){this.clearStates()}else{var i=[];var a=this.currentStates;var n=t.length;var o=n===a.length;if(o){for(var s=0;s<n;s++){if(t[s]!==a[s]){o=false;break}}}if(o){return}for(var s=0;s<n;s++){var l=t[s];var u=void 0;if(this.stateProxy){u=this.stateProxy(l,t)}if(!u){u=this.states[l]}if(u){i.push(u)}}var f=i[n-1];var h=!!(f&&f.hoverLayer||r);if(h){this._toggleHoverLayerFlag(true)}var v=this._mergeStates(i);var c=this.stateTransition;this.saveCurrentToNormalState(v);this._applyStateObj(t.join(","),v,this._normalState,false,!e&&!this.__inHover&&c&&c.duration>0,c);var p=this._textContent;var d=this._textGuide;if(p){p.useStates(t,e,h)}if(d){d.useStates(t,e,h)}this._updateAnimationTargets();this.currentStates=t.slice();this.markRedraw();if(!h&&this.__inHover){this._toggleHoverLayerFlag(false);this.__dirty&=~Ve}}};t.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];if(e.targetName){e.changeTarget(this[e.targetName])}}};t.prototype.removeState=function(t){var e=k(this.currentStates,t);if(e>=0){var r=this.currentStates.slice();r.splice(e,1);this.useStates(r)}};t.prototype.replaceState=function(t,e,r){var i=this.currentStates.slice();var a=k(i,t);var n=k(i,e)>=0;if(a>=0){if(!n){i[a]=e}else{i.splice(a,1)}}else if(r&&!n){i.push(e)}this.useStates(i)};t.prototype.toggleState=function(t,e){if(e){this.useState(t,true)}else{this.removeState(t)}};t.prototype._mergeStates=function(t){var e={};var r;for(var i=0;i<t.length;i++){var a=t[i];C(e,a);if(a.textConfig){r=r||{};C(r,a.textConfig)}}if(r){e.textConfig=r}return e};t.prototype._applyStateObj=function(t,e,r,i,a,n){var o=!(e&&i);if(e&&e.textConfig){this.textConfig=C({},i?this.textConfig:r.textConfig);C(this.textConfig,e.textConfig)}else if(o){if(r.textConfig){this.textConfig=r.textConfig}}var s={};var l=false;for(var u=0;u<sa.length;u++){var f=sa[u];var h=a&&la[f];if(e&&e[f]!=null){if(h){l=true;s[f]=e[f]}else{this[f]=e[f]}}else if(o){if(r[f]!=null){if(h){l=true;s[f]=r[f]}else{this[f]=r[f]}}}}if(!a){for(var u=0;u<this.animators.length;u++){var v=this.animators[u];var c=v.targetName;v.__changeFinalValue(c?(e||r)[c]:e||r)}}if(l){this._transitionState(t,s,n)}};t.prototype._attachComponent=function(t){if(t.__zr&&!t.__hostTarget){throw new Error("Text element has been added to zrender.")}if(t===this){throw new Error("Recursive component attachment.")}var e=this.__zr;if(e){t.addSelfToZr(e)}t.__zr=e;t.__hostTarget=this};t.prototype._detachComponent=function(t){if(t.__zr){t.removeSelfFromZr(t.__zr)}t.__zr=null;t.__hostTarget=null};t.prototype.getClipPath=function(){return this._clipPath};t.prototype.setClipPath=function(t){if(this._clipPath&&this._clipPath!==t){this.removeClipPath()}this._attachComponent(t);this._clipPath=t;this.markRedraw()};t.prototype.removeClipPath=function(){var t=this._clipPath;if(t){this._detachComponent(t);this._clipPath=null;this.markRedraw()}};t.prototype.getTextContent=function(){return this._textContent};t.prototype.setTextContent=function(t){var e=this._textContent;if(e===t){return}if(e&&e!==t){this.removeTextContent()}if(t.__zr&&!t.__hostTarget){throw new Error("Text element has been added to zrender.")}t.innerTransformable=new Ri;this._attachComponent(t);this._textContent=t;this.markRedraw()};t.prototype.setTextConfig=function(t){if(!this.textConfig){this.textConfig={}}C(this.textConfig,t);this.markRedraw()};t.prototype.removeTextConfig=function(){this.textConfig=null;this.markRedraw()};t.prototype.removeTextContent=function(){var t=this._textContent;if(t){t.innerTransformable=null;this._detachComponent(t);this._textContent=null;this._innerTextDefaultStyle=null;this.markRedraw()}};t.prototype.getTextGuideLine=function(){return this._textGuide};t.prototype.setTextGuideLine=function(t){if(this._textGuide&&this._textGuide!==t){this.removeTextGuideLine()}this._attachComponent(t);this._textGuide=t;this.markRedraw()};t.prototype.removeTextGuideLine=function(){var t=this._textGuide;if(t){this._detachComponent(t);this._textGuide=null;this.markRedraw()}};t.prototype.markRedraw=function(){this.__dirty|=Ve;var t=this.__zr;if(t){if(this.__inHover){t.refreshHover()}else{t.refresh()}}if(this.__hostTarget){this.__hostTarget.markRedraw()}};t.prototype.dirty=function(){this.markRedraw()};t.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent;var r=this._textGuide;if(e){e.__inHover=t}if(r){r.__inHover=t}};t.prototype.addSelfToZr=function(t){if(this.__zr===t){return}this.__zr=t;var e=this.animators;if(e){for(var r=0;r<e.length;r++){t.animation.addAnimator(e[r])}}if(this._clipPath){this._clipPath.addSelfToZr(t)}if(this._textContent){this._textContent.addSelfToZr(t)}if(this._textGuide){this._textGuide.addSelfToZr(t)}};t.prototype.removeSelfFromZr=function(t){if(!this.__zr){return}this.__zr=null;var e=this.animators;if(e){for(var r=0;r<e.length;r++){t.animation.removeAnimator(e[r])}}if(this._clipPath){this._clipPath.removeSelfFromZr(t)}if(this._textContent){this._textContent.removeSelfFromZr(t)}if(this._textGuide){this._textGuide.removeSelfFromZr(t)}};t.prototype.animate=function(t,e){var r=t?this[t]:this;if(!r){S('Property "'+t+'" is not existed in element '+this.id);return}var i=new Ur(r,e);this.addAnimator(i,t);return i};t.prototype.addAnimator=function(t,e){var r=this.__zr;var i=this;t.during(function(){i.updateDuringAnimation(e)}).done(function(){var e=i.animators;var r=k(e,t);if(r>=0){e.splice(r,1)}});this.animators.push(t);if(r){r.animation.addAnimator(t)}r&&r.wakeUp()};t.prototype.updateDuringAnimation=function(t){this.markRedraw()};t.prototype.stopAnimation=function(t,e){var r=this.animators;var i=r.length;var a=[];for(var n=0;n<i;n++){var o=r[n];if(!t||t===o.scope){o.stop(e)}else{a.push(o)}}this.animators=a;return this};t.prototype.animateTo=function(t,e,r){va(this,t,e,r)};t.prototype.animateFrom=function(t,e,r){va(this,t,e,r,true)};t.prototype._transitionState=function(t,e,r,i){var a=va(this,e,r,i);for(var n=0;n<a.length;n++){a[n].__fromStateTransition=t}};t.prototype.getBoundingRect=function(){return null};t.prototype.getPaintRect=function(){return null};t.initDefaultProps=function(){var e=t.prototype;e.type="element";e.name="";e.ignore=false;e.silent=false;e.isGroup=false;e.draggable=false;e.dragging=false;e.ignoreClip=false;e.__inHover=false;e.__dirty=Ve;var r={};function i(t,e,i){if(!r[t+e+i]){console.warn("DEPRECATED: '"+t+"' has been deprecated. use '"+e+"', '"+i+"' instead");r[t+e+i]=true}}function a(t,r,a,n){Object.defineProperty(e,t,{get:function(){i(t,a,n);if(!this[r]){var e=this[r]=[];o(this,e)}return this[r]},set:function(e){i(t,a,n);this[a]=e[0];this[n]=e[1];this[r]=e;o(this,e)}});function o(t,e){Object.defineProperty(e,0,{get:function(){return t[a]},set:function(e){t[a]=e}});Object.defineProperty(e,1,{get:function(){return t[n]},set:function(e){t[n]=e}})}}if(Object.defineProperty&&(!s.browser.ie||s.browser.version>8)){a("position","_legacyPos","x","y");a("scale","_legacyScale","scaleX","scaleY");a("origin","_legacyOrigin","originX","originY")}}();return t}();P(ha,Zt);P(ha,Ri);function va(t,e,r,i,a){r=r||{};var n=[];ga(t,"",t,e,r,i,n,a);var o=n.length;var s=false;var l=r.done;var u=r.aborted;var f=function(){s=true;o--;if(o<=0){s?l&&l():u&&u()}};var h=function(){o--;if(o<=0){s?l&&l():u&&u()}};if(!o){l&&l()}if(n.length>0&&r.during){n[0].during(function(t,e){r.during(e)})}for(var v=0;v<n.length;v++){var c=n[v];if(f){c.done(f)}if(h){c.aborted(h)}c.start(r.easing,r.force)}return n}function ca(t,e,r){for(var i=0;i<r;i++){t[i]=e[i]}}function pa(t){return O(t[0])}function da(t,e,r){if(O(e[r])){if(!O(t[r])){t[r]=[]}if(K(e[r])){var i=e[r].length;if(t[r].length!==i){t[r]=new e[r].constructor(i);ca(t[r],e[r],i)}}else{var a=e[r];var n=t[r];var o=a.length;if(pa(a)){var s=a[0].length;for(var l=0;l<o;l++){if(!n[l]){n[l]=Array.prototype.slice.call(a[l])}else{ca(n[l],a[l],s)}}}else{ca(n,a,o)}n.length=a.length}}else{t[r]=e[r]}}function ga(t,e,r,i,a,n,o,s){var l=[];var u=[];var f=V(i);var h=a.duration;var v=a.delay;var c=a.additive;var p=a.setToFinal;var d=!j(n);for(var g=0;g<f.length;g++){var y=f[g];if(r[y]!=null&&i[y]!=null&&(d||n[y])){if(j(i[y])&&!O(i[y])){if(e){if(!s){r[y]=i[y];t.updateDuringAnimation(e)}continue}ga(t,y,r[y],i[y],a,n&&n[y],o,s)}else{l.push(y);u.push(y)}}else if(!s){r[y]=i[y];t.updateDuringAnimation(e);u.push(y)}}var m=l.length;if(m>0||a.force&&!o.length){var x=t.animators;var _=[];for(var b=0;b<x.length;b++){if(x[b].targetName===e){_.push(x[b])}}if(!c&&_.length){for(var b=0;b<_.length;b++){var w=_[b].stopTracks(u);if(w){var S=k(x,_[b]);x.splice(S,1)}}}var M=void 0;var I=void 0;var T=void 0;if(s){I={};if(p){M={}}for(var b=0;b<m;b++){var y=l[b];I[y]=r[y];if(p){M[y]=i[y]}else{r[y]=i[y]}}}else if(p){T={};for(var b=0;b<m;b++){var y=l[b];T[y]=Vr(r[y]);da(r,i,y)}}var C=new Ur(r,false,c?_:null);C.targetName=e;if(a.scope){C.scope=a.scope}if(p&&M){C.whenWithKeys(0,M,l)}if(T){C.whenWithKeys(0,T,l)}C.whenWithKeys(h==null?500:h,s?I:i,l).delay(v||0);t.addAnimator(C,e);o.push(C)}}var ya=function(t){r(e,t);function e(e){var r=t.call(this)||this;r.isGroup=true;r._children=[];r.attr(e);return r}e.prototype.childrenRef=function(){return this._children};e.prototype.children=function(){return this._children.slice()};e.prototype.childAt=function(t){return this._children[t]};e.prototype.childOfName=function(t){var e=this._children;for(var r=0;r<e.length;r++){if(e[r].name===t){return e[r]}}};e.prototype.childCount=function(){return this._children.length};e.prototype.add=function(t){if(t){if(t!==this&&t.parent!==this){this._children.push(t);this._doAdd(t)}if(t.__hostTarget){throw"This elemenet has been used as an attachment"}}return this};e.prototype.addBefore=function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var r=this._children;var i=r.indexOf(e);if(i>=0){r.splice(i,0,t);this._doAdd(t)}}return this};e.prototype.replace=function(t,e){var r=k(this._children,t);if(r>=0){this.replaceAt(e,r)}return this};e.prototype.replaceAt=function(t,e){var r=this._children;var i=r[e];if(t&&t!==this&&t.parent!==this&&t!==i){r[e]=t;i.parent=null;var a=this.__zr;if(a){i.removeSelfFromZr(a)}this._doAdd(t)}return this};e.prototype._doAdd=function(t){if(t.parent){t.parent.remove(t)}t.parent=this;var e=this.__zr;if(e&&e!==t.__zr){t.addSelfToZr(e)}e&&e.refresh()};e.prototype.remove=function(t){var e=this.__zr;var r=this._children;var i=k(r,t);if(i<0){return this}r.splice(i,1);t.parent=null;if(e){t.removeSelfFromZr(e)}e&&e.refresh();return this};e.prototype.removeAll=function(){var t=this._children;var e=this.__zr;for(var r=0;r<t.length;r++){var i=t[r];if(e){i.removeSelfFromZr(e)}i.parent=null}t.length=0;return this};e.prototype.eachChild=function(t,e){var r=this._children;for(var i=0;i<r.length;i++){var a=r[i];t.call(e,a,i)}return this};e.prototype.traverse=function(t,e){for(var r=0;r<this._children.length;r++){var i=this._children[r];var a=t.call(e,i);if(i.isGroup&&!a){i.traverse(t,e)}}return this};e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.addSelfToZr(e)}};e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.removeSelfFromZr(e)}};e.prototype.getBoundingRect=function(t){var e=new Yi(0,0,0,0);var r=t||this._children;var i=[];var a=null;for(var n=0;n<r.length;n++){var o=r[n];if(o.ignore||o.invisible){continue}var s=o.getBoundingRect();var l=o.getLocalTransform(i);if(l){Yi.applyTransform(e,s,l);a=a||e.clone();a.union(e)}else{a=a||s.clone();a.union(s)}}return a||e};return e}(ha);ya.prototype.type="group";var ma=!s.canvasSupported;var xa={};var _a={};function ba(t){delete _a[t]}function wa(t){if(!t){return false}if(typeof t==="string"){return Mr(t,1)<ci}else if(t.colorStops){var e=t.colorStops;var r=0;var i=e.length;for(var a=0;a<i;a++){r+=Mr(e[a].color,1)}r/=i;return r<ci}return false}var Sa=function(){function t(t,e,r){var i=this;this._sleepAfterStill=10;this._stillFrameAccum=0;this._needsRefresh=true;this._needsRefreshHover=true;this._darkMode=false;r=r||{};this.dom=e;this.id=t;var a=new Ye;var n=r.renderer||"canvas";if(ma){throw new Error("IE8 support has been dropped since 5.0")}if(!xa[n]){n=V(xa)[0]}if(!xa[n]){throw new Error("Renderer '"+n+"' is not imported. Please import it first.")}r.useDirtyRect=r.useDirtyRect==null?false:r.useDirtyRect;var o=new xa[n](e,a,r,t);this.storage=a;this.painter=o;var l=!s.node&&!s.worker?new fi(o.getViewportRoot(),o.root):null;this.handler=new Te(a,o,l,o.root);this.animation=new Yr({stage:{update:function(){return i._flush(true)}}});this.animation.start()}t.prototype.add=function(t){if(!t){return}this.storage.addRoot(t);t.addSelfToZr(this);this.refresh()};t.prototype.remove=function(t){if(!t){return}this.storage.delRoot(t);t.removeSelfFromZr(this);this.refresh()};t.prototype.configLayer=function(t,e){if(this.painter.configLayer){this.painter.configLayer(t,e)}this.refresh()};t.prototype.setBackgroundColor=function(t){if(this.painter.setBackgroundColor){this.painter.setBackgroundColor(t)}this.refresh();this._backgroundColor=t;this._darkMode=wa(t)};t.prototype.getBackgroundColor=function(){return this._backgroundColor};t.prototype.setDarkMode=function(t){this._darkMode=t};t.prototype.isDarkMode=function(){return this._darkMode};t.prototype.refreshImmediately=function(t){if(!t){this.animation.update(true)}this._needsRefresh=false;this.painter.refresh();this._needsRefresh=false};t.prototype.refresh=function(){this._needsRefresh=true;this.animation.start()};t.prototype.flush=function(){this._flush(false)};t.prototype._flush=function(t){var e;var r=(new Date).getTime();if(this._needsRefresh){e=true;this.refreshImmediately(t)}if(this._needsRefreshHover){e=true;this.refreshHoverImmediately()}var i=(new Date).getTime();if(e){this._stillFrameAccum=0;this.trigger("rendered",{elapsedTime:i-r})}else if(this._sleepAfterStill>0){this._stillFrameAccum++;if(this._stillFrameAccum>this._sleepAfterStill){this.animation.stop()}}};t.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t};t.prototype.wakeUp=function(){this.animation.start();this._stillFrameAccum=0};t.prototype.addHover=function(t){};t.prototype.removeHover=function(t){};t.prototype.clearHover=function(){};t.prototype.refreshHover=function(){this._needsRefreshHover=true};t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=false;if(this.painter.refreshHover&&this.painter.getType()==="canvas"){this.painter.refreshHover()}};t.prototype.resize=function(t){t=t||{};this.painter.resize(t.width,t.height);this.handler.resize()};t.prototype.clearAnimation=function(){this.animation.clear()};t.prototype.getWidth=function(){return this.painter.getWidth()};t.prototype.getHeight=function(){return this.painter.getHeight()};t.prototype.pathToImage=function(t,e){if(this.painter.pathToImage){return this.painter.pathToImage(t,e)}};t.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)};t.prototype.findHover=function(t,e){return this.handler.findHover(t,e)};t.prototype.on=function(t,e,r){this.handler.on(t,e,r);return this};t.prototype.off=function(t,e){this.handler.off(t,e)};t.prototype.trigger=function(t,e){this.handler.trigger(t,e)};t.prototype.clear=function(){var t=this.storage.getRoots();for(var e=0;e<t.length;e++){if(t[e]instanceof ya){t[e].removeSelfFromZr(this)}}this.storage.delAllRoots();this.painter.clear()};t.prototype.dispose=function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;ba(this.id)};return t}();function Ma(t,e){var r=new Sa(w(),t,e);_a[r.id]=r;return r}function Ia(t){t.dispose()}function Ta(){for(var t in _a){if(_a.hasOwnProperty(t)){_a[t].dispose()}}_a={}}function Ca(t){return _a[t]}function Da(t,e){xa[t]=e}var Aa="5.2.0";var ka=Object.freeze({__proto__:null,init:Ma,dispose:Ia,disposeAll:Ta,getInstance:Ca,registerPainter:Da,version:Aa});var La=1e-4;var Pa=20;function Oa(t){return t.replace(/^\s+|\s+$/g,"")}function Ra(t,e,r,i){var a=e[0];var n=e[1];var o=r[0];var s=r[1];var l=n-a;var u=s-o;if(l===0){return u===0?o:(o+s)/2}if(i){if(l>0){if(t<=a){return o}else if(t>=n){return s}}else{if(t>=a){return o}else if(t<=n){return s}}}else{if(t===a){return o}if(t===n){return s}}return(t-a)/l*u+o}function Na(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}if(typeof t==="string"){if(Oa(t).match(/%$/)){return parseFloat(t)/100*e}return parseFloat(t)}return t==null?NaN:+t}function Ea(t,e,r){if(e==null){e=10}e=Math.min(Math.max(0,e),Pa);t=(+t).toFixed(e);return r?t:+t}function za(t){t.sort(function(t,e){return t-e});return t}function Ba(t){t=+t;if(isNaN(t)){return 0}if(t>1e-14){var e=1;for(var r=0;r<15;r++,e*=10){if(Math.round(t*e)/e===t){return r}}}return Va(t)}function Va(t){var e=t.toString().toLowerCase();var r=e.indexOf("e");var i=r>0?+e.slice(r+1):0;var a=r>0?r:e.length;var n=e.indexOf(".");var o=n<0?0:a-1-n;return Math.max(0,o-i)}function Ga(t,e){var r=Math.log;var i=Math.LN10;var a=Math.floor(r(t[1]-t[0])/i);var n=Math.round(r(Math.abs(e[1]-e[0]))/i);var o=Math.min(Math.max(-a+n,0),20);return!isFinite(o)?20:o}function Fa(t,e,r){if(!t[e]){return 0}var i=E(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(i===0){return 0}var a=Math.pow(10,r);var n=N(t,function(t){return(isNaN(t)?0:t)/i*a*100});var o=a*100;var s=N(n,function(t){return Math.floor(t)});var l=E(s,function(t,e){return t+e},0);var u=N(n,function(t,e){return t-s[e]});while(l<o){var f=Number.NEGATIVE_INFINITY;var h=null;for(var v=0,c=u.length;v<c;++v){if(u[v]>f){f=u[v];h=v}}++s[h];u[h]=0;++l}return s[e]/a}function Ha(t,e){var r=Math.max(Ba(t),Ba(e));var i=t+e;return r>Pa?i:Ea(i,r)}var Wa=9007199254740991;function Ua(t){var e=Math.PI*2;return(t%e+e)%e}function Ya(t){return t>-La&&t<La}var Xa=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Za(t){if(t instanceof Date){return t}else if(typeof t==="string"){var e=Xa.exec(t);if(!e){return new Date(NaN)}if(!e[8]){return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else{var r=+e[4]||0;if(e[8].toUpperCase()!=="Z"){r-=+e[8].slice(0,3)}return new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,r,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}}else if(t==null){return new Date(NaN)}return new Date(Math.round(t))}function ja(t){return Math.pow(10,qa(t))}function qa(t){if(t===0){return 0}var e=Math.floor(Math.log(t)/Math.LN10);if(t/Math.pow(10,e)>=10){e++}return e}function Ka(t,e){var r=qa(t);var i=Math.pow(10,r);var a=t/i;var n;if(e){if(a<1.5){n=1}else if(a<2.5){n=2}else if(a<4){n=3}else if(a<7){n=5}else{n=10}}else{if(a<1){n=1}else if(a<2){n=2}else if(a<3){n=3}else if(a<5){n=5}else{n=10}}t=n*i;return r>=-20?+t.toFixed(r<0?-r:0):t}function $a(t,e){var r=(t.length-1)*e+1;var i=Math.floor(r);var a=+t[i-1];var n=r-i;return n?a+n*(t[i]-a):a}function Ja(t){t.sort(function(t,e){return s(t,e,0)?-1:1});var e=-Infinity;var r=1;for(var i=0;i<t.length;){var a=t[i].interval;var n=t[i].close;for(var o=0;o<2;o++){if(a[o]<=e){a[o]=e;n[o]=!o?1-r:1}e=a[o];r=n[o]}if(a[0]===a[1]&&n[0]*n[1]!==1){t.splice(i,1)}else{i++}}return t;function s(t,e,r){return t.interval[r]<e.interval[r]||t.interval[r]===e.interval[r]&&(t.close[r]-e.close[r]===(!r?1:-1)||!r&&s(t,e,1))}}function Qa(t){var e=parseFloat(t);return e==t&&(e!==0||typeof t!=="string"||t.indexOf("x")<=0)?e:NaN}function tn(t){return!isNaN(Qa(t))}function en(){return Math.round(Math.random()*9)}function rn(t,e){if(e===0){return t}return rn(e,t%e)}function an(t,e){if(t==null){return e}if(e==null){return t}return t*e/rn(t,e)}var nn="[ECharts] ";var on={};var sn=typeof console!=="undefined"&&console.warn&&console.log;function ln(t){if(sn){console.warn(nn+t)}}function un(t){if(sn){console.error(nn+t)}}function fn(t){if("development"!=="production"){if(on[t]){return}if(sn){on[t]=true;console.warn(nn+"DEPRECATED: "+t)}}}function hn(t,e,r){if("development"!=="production"){fn((r?"["+r+"]":"")+(t+" is deprecated, use "+e+" instead."))}}function vn(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}if("development"!=="production"){if(typeof console!=="undefined"&&console.log){console.log.apply(console,t)}}}function cn(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}var r="";if("development"!=="production"){var i=function(t){return t===void 0?"undefined":t===Infinity?"Infinity":t===-Infinity?"-Infinity":et(t)?"NaN":t instanceof Date?"Date("+t.toISOString()+")":U(t)?"function () { ... }":tt(t)?t+"":null};r=N(t,function(t){if(Y(t)){return t}else{var e=i(t);if(e!=null){return e}else if(typeof JSON!=="undefined"&&JSON.stringify){try{return JSON.stringify(t,function(t,e){var r=i(e);return r==null?e:r})}catch(t){return"?"}}else{return"?"}}}).join(" ")}return r}function pn(t){throw new Error(t)}var dn="series\0";var gn="\0_ec_\0";function yn(t){return t instanceof Array?t:t==null?[]:[t]}function mn(t,e,r){if(t){t[e]=t[e]||{};t.emphasis=t.emphasis||{};t.emphasis[e]=t.emphasis[e]||{};for(var i=0,a=r.length;i<a;i++){var n=r[i];if(!t.emphasis[e].hasOwnProperty(n)&&t[e].hasOwnProperty(n)){t.emphasis[e][n]=t[e][n]}}}}var xn=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function _n(t){return j(t)&&!W(t)&&!(t instanceof Date)?t.value:t}function bn(t){return j(t)&&!(t instanceof Array)}function wn(t,e,r){var i=r==="normalMerge";var a=r==="replaceMerge";var n=r==="replaceAll";t=t||[];e=(e||[]).slice();var o=ct();R(e,function(t,r){if(!j(t)){e[r]=null;return}if("development"!=="production"){if(t.id!=null&&!On(t.id)){Pn(t.id)}if(t.name!=null&&!On(t.name)){Pn(t.name)}}});var s=Sn(t,o,r);if(i||a){Mn(s,t,o,e)}if(i){In(s,e)}if(i||a){Tn(s,e,a)}else if(n){Cn(s,e)}Dn(s);return s}function Sn(t,e,r){var i=[];if(r==="replaceAll"){return i}for(var a=0;a<t.length;a++){var n=t[a];if(n&&n.id!=null){e.set(n.id,a)}i.push({existing:r==="replaceMerge"||Nn(n)?null:n,newOption:null,keyInfo:null,brandNew:null})}return i}function Mn(t,e,r,i){R(i,function(a,n){if(!a||a.id==null){return}var o=kn(a.id);var s=r.get(o);if(s!=null){var l=t[s];st(!l.newOption,'Duplicated option on id "'+o+'".');l.newOption=a;l.existing=e[s];i[n]=null}})}function In(t,e){R(e,function(r,i){if(!r||r.name==null){return}for(var a=0;a<t.length;a++){var n=t[a].existing;if(!t[a].newOption&&n&&(n.id==null||r.id==null)&&!Nn(r)&&!Nn(n)&&An("name",n,r)){t[a].newOption=r;e[i]=null;return}}})}function Tn(t,e,r){R(e,function(e){if(!e){return}var i;var a=0;while((i=t[a])&&(i.newOption||Nn(i.existing)||i.existing&&e.id!=null&&!An("id",e,i.existing))){a++}if(i){i.newOption=e;i.brandNew=r}else{t.push({newOption:e,brandNew:r,existing:null,keyInfo:null})}a++})}function Cn(t,e){R(e,function(e){t.push({newOption:e,brandNew:true,existing:null,keyInfo:null})})}function Dn(t){var e=ct();R(t,function(t){var r=t.existing;r&&e.set(r.id,t)});R(t,function(t){var r=t.newOption;st(!r||r.id==null||!e.get(r.id)||e.get(r.id)===t,"id duplicates: "+(r&&r.id));r&&r.id!=null&&e.set(r.id,t);!t.keyInfo&&(t.keyInfo={})});R(t,function(t,r){var i=t.existing;var a=t.newOption;var n=t.keyInfo;if(!j(a)){return}n.name=a.name!=null?kn(a.name):i?i.name:dn+r;if(i){n.id=kn(i.id)}else if(a.id!=null){n.id=kn(a.id)}else{var o=0;do{n.id="\0"+n.name+"\0"+o++}while(e.get(n.id))}e.set(n.id,t)})}function An(t,e,r){var i=Ln(e[t],null);var a=Ln(r[t],null);return i!=null&&a!=null&&i===a}function kn(t){if("development"!=="production"){if(t==null){throw new Error}}return Ln(t,"")}function Ln(t,e){if(t==null){return e}var r=typeof t;return r==="string"?t:r==="number"||X(t)?t+"":e}function Pn(t){if("development"!=="production"){ln("`"+t+"` is invalid id or name. Must be a string or number.")}}function On(t){return X(t)||tn(t)}function Rn(t){var e=t.name;return!!(e&&e.indexOf(dn))}function Nn(t){return t&&t.id!=null&&kn(t.id).indexOf(gn)===0}function En(t){return gn+t}function zn(t,e,r){R(t,function(t){var i=t.newOption;if(j(i)){t.keyInfo.mainType=e;t.keyInfo.subType=Bn(e,i,t.existing,r)}})}function Bn(t,e,r,i){var a=e.type?e.type:r?r.subType:i.determineSubType(t,e);return a}function Vn(t,e){var r={};var i={};a(t||[],r);a(e||[],i,r);return[n(r),n(i)];function a(t,e,r){for(var i=0,a=t.length;i<a;i++){var n=Ln(t[i].seriesId,null);if(n==null){return}var o=yn(t[i].dataIndex);var s=r&&r[n];for(var l=0,u=o.length;l<u;l++){var f=o[l];if(s&&s[f]){s[f]=null}else{(e[n]||(e[n]={}))[f]=1}}}}function n(t,e){var r=[];for(var i in t){if(t.hasOwnProperty(i)&&t[i]!=null){if(e){r.push(+i)}else{var a=n(t[i],true);a.length&&r.push({seriesId:i,dataIndex:a})}}}return r}}function Gn(t,e){if(e.dataIndexInside!=null){return e.dataIndexInside}else if(e.dataIndex!=null){return W(e.dataIndex)?N(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex)}else if(e.name!=null){return W(e.name)?N(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name)}}function Fn(){var t="__ec_inner_"+Hn++;return function(e){return e[t]||(e[t]={})}}var Hn=en();function Wn(t,e,r){var i=Un(e,r),a=i.mainTypeSpecified,n=i.queryOptionMap,o=i.others;var s=o;var l=r?r.defaultMainType:null;if(!a&&l){n.set(l,{})}n.each(function(e,i){var a=Zn(t,i,e,{useDefault:l===i,enableAll:r&&r.enableAll!=null?r.enableAll:true,enableNone:r&&r.enableNone!=null?r.enableNone:true});s[i+"Models"]=a.models;s[i+"Model"]=a.models[0]});return s}function Un(t,e){var r;if(Y(t)){var i={};i[t+"Index"]=0;r=i}else{r=t}var a=ct();var n={};var o=false;R(r,function(t,r){if(r==="dataIndex"||r==="dataIndexInside"){n[r]=t;return}var i=r.match(/^(\w+)(Index|Id|Name)$/)||[];var s=i[1];var l=(i[2]||"").toLowerCase();if(!s||!l||e&&e.includeMainTypes&&k(e.includeMainTypes,s)<0){return}o=o||!!s;var u=a.get(s)||a.set(s,{});u[l]=t});return{mainTypeSpecified:o,queryOptionMap:a,others:n}}var Yn={useDefault:true,enableAll:false,enableNone:false};var Xn={useDefault:false,enableAll:true,enableNone:true};function Zn(t,e,r,i){i=i||Yn;var a=r.index;var n=r.id;var o=r.name;var s={models:null,specified:a!=null||n!=null||o!=null};if(!s.specified){var l=void 0;s.models=i.useDefault&&(l=t.getComponent(e))?[l]:[];return s}if(a==="none"||a===false){st(i.enableNone,'`"none"` or `false` is not a valid value on index option.');s.models=[];return s}if(a==="all"){st(i.enableAll,'`"all"` is not a valid value on index option.');a=n=o=null}s.models=t.queryComponents({mainType:e,index:a,id:n,name:o});return s}function jn(t,e,r){t.setAttribute?t.setAttribute(e,r):t[e]=r}function qn(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function Kn(t){if(t==="auto"){return s.domSupported?"html":"richText"}else{return t||"html"}}function $n(t,e){var r=ct();var i=[];R(t,function(t){var a=e(t);(r.get(a)||(i.push(a),r.set(a,[]))).push(t)});return{keys:i,buckets:r}}function Jn(t,e,r,i,a){var n=e==null||e==="auto";if(i==null){return i}if(typeof i==="number"){var o=Dr(r||0,i,a);return Ea(o,n?Math.max(Ba(r||0),Ba(i)):e)}else if(typeof i==="string"){return a<1?r:i}else{var s=[];var l=r;var u=i;var f=Math.max(l?l.length:0,u.length);for(var h=0;h<f;++h){var v=t.getDimensionInfo(h);if(v&&v.type==="ordinal"){s[h]=(a<1&&l?l:u)[h]}else{var c=l&&l[h]?l[h]:0;var p=u[h];var o=Dr(c,p,a);s[h]=Ea(o,n?Math.max(Ba(c),Ba(p)):e)}}return s}}var Qn=".";var to="___EC__COMPONENT__CONTAINER___";var eo="___EC__EXTENDED_CLASS___";function ro(t){var e={main:"",sub:""};if(t){var r=t.split(Qn);e.main=r[0]||"";e.sub=r[1]||""}return e}function io(t){st(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function ao(t){return!!(t&&t[eo])}function no(t,e){t.$constructor=t;t.extend=function(t){if("development"!=="production"){R(e,function(e){if(!t[e]){console.warn("Method `"+e+"` should be implemented"+(t.type?" in "+t.type:"")+".")}})}var r=this;function i(){var e=[];for(var n=0;n<arguments.length;n++){e[n]=arguments[n]}if(!t.$constructor){if(!oo(r)){r.apply(this,arguments)}else{var o=dt(i.prototype,new(r.bind.apply(r,a([void 0],e))));return o}}else{t.$constructor.apply(this,arguments)}}i[eo]=true;C(i.prototype,t);i.extend=this.extend;i.superCall=fo;i.superApply=ho;L(i,this);i.superClass=r;return i}}function oo(t){return typeof t==="function"&&/^class\s/.test(Function.prototype.toString.call(t))}function so(t,e){t.extend=e.extend}var lo=Math.round(Math.random()*10);function uo(t){var e=["__\0is_clz",lo++].join("_");t.prototype[e]=true;if("development"!=="production"){st(!t.isInstance,'The method "is" can not be defined.')}t.isInstance=function(t){return!!(t&&t[e])}}function fo(t,e){var r=[];for(var i=2;i<arguments.length;i++){r[i-2]=arguments[i]}return this.superClass.prototype[e].apply(t,r)}function ho(t,e,r){return this.superClass.prototype[e].apply(t,r)}function vo(t){var e={};t.registerClass=function(t){var i=t.type||t.prototype.type;if(i){io(i);t.prototype.type=i;var a=ro(i);if(!a.sub){if("development"!=="production"){if(e[a.main]){console.warn(a.main+" exists.")}}e[a.main]=t}else if(a.sub!==to){var n=r(a);n[a.sub]=t}}return t};t.getClass=function(t,r,i){var a=e[t];if(a&&a[to]){a=r?a[r]:null}if(i&&!a){throw new Error(!r?t+"."+"type should be specified.":"Component "+t+"."+(r||"")+" is used but not imported.")}return a};t.getClassesByMainType=function(t){var r=ro(t);var i=[];var a=e[r.main];if(a&&a[to]){R(a,function(t,e){e!==to&&i.push(t)})}else{i.push(a)}return i};t.hasClass=function(t){var r=ro(t);return!!e[r.main]};t.getAllClassMainTypes=function(){var t=[];R(e,function(e,r){t.push(r)});return t};t.hasSubTypes=function(t){var r=ro(t);var i=e[r.main];return i&&i[to]};function r(t){var r=e[t.main];if(!r||!r[to]){r=e[t.main]={};r[to]=true}return r}}function co(t,e){for(var r=0;r<t.length;r++){if(!t[r][1]){t[r][1]=t[r][0]}}e=e||false;return function(r,i,a){var n={};for(var o=0;o<t.length;o++){var s=t[o][1];if(i&&k(i,s)>=0||a&&k(a,s)<0){continue}var l=r.getShallow(s,e);if(l!=null){n[t[o][0]]=l}}return n}}var po=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]];var go=co(po);var yo=function(){function t(){}t.prototype.getAreaStyle=function(t,e){return go(this,t,e)};return t}();var mo=new Je(50);function xo(t){if(typeof t==="string"){var e=mo.get(t);return e&&e.image}else{return t}}function _o(t,e,r,i,a){if(!t){return e}else if(typeof t==="string"){if(e&&e.__zrImageSrc===t||!r){return e}var n=mo.get(t);var o={hostEl:r,cb:i,cbPayload:a};if(n){e=n.image;!wo(e)&&n.pending.push(o)}else{e=new Image;e.onload=e.onerror=bo;mo.put(t,e.__cachedImgObj={image:e,pending:[o]});e.src=e.__zrImageSrc=t}return e}else{return t}}function bo(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var r=t.pending[e];var i=r.cb;i&&i(this,r.cbPayload);r.hostEl.dirty()}t.pending.length=0}function wo(t){return t&&t.width&&t.height}var So=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Mo(t,e,r,i,a){if(!e){return""}var n=(t+"").split("\n");a=Io(e,r,i,a);for(var o=0,s=n.length;o<s;o++){n[o]=To(n[o],a)}return n.join("\n")}function Io(t,e,r,i){i=i||{};var a=C({},i);a.font=e;r=it(r,"...");a.maxIterations=it(i.maxIterations,2);var n=a.minChar=it(i.minChar,0);a.cnCharWidth=Ji("",e);var o=a.ascCharWidth=Ji("a",e);a.placeholder=it(i.placeholder,"");var s=t=Math.max(0,t-1);for(var l=0;l<n&&s>=o;l++){s-=o}var u=Ji(r,e);if(u>s){r="";u=0}s=t-u;a.ellipsis=r;a.ellipsisWidth=u;a.contentWidth=s;a.containerWidth=t;return a}function To(t,e){var r=e.containerWidth;var i=e.font;var a=e.contentWidth;if(!r){return""}var n=Ji(t,i);if(n<=r){return t}for(var o=0;;o++){if(n<=a||o>=e.maxIterations){t+=e.ellipsis;break}var s=o===0?Co(t,a,e.ascCharWidth,e.cnCharWidth):n>0?Math.floor(t.length*a/n):0;t=t.substr(0,s);n=Ji(t,i)}if(t===""){t=e.placeholder}return t}function Co(t,e,r,i){var a=0;var n=0;for(var o=t.length;n<o&&a<e;n++){var s=t.charCodeAt(n);a+=0<=s&&s<=127?r:i}return n}function Do(t,e){t!=null&&(t+="");var r=e.overflow;var i=e.padding;var a=e.font;var n=r==="truncate";var o=ia(a);var s=it(e.lineHeight,o);var l=e.lineOverflow==="truncate";var u=e.width;var f;if(u!=null&&r==="break"||r==="breakAll"){f=t?zo(t,e.font,u,r==="breakAll",0).lines:[]}else{f=t?t.split("\n"):[]}var h=f.length*s;var v=it(e.height,h);if(h>v&&l){var c=Math.floor(v/s);f=f.slice(0,c)}var p=v;var d=u;if(i){p+=i[0]+i[2];if(d!=null){d+=i[1]+i[3]}}if(t&&n&&d!=null){var g=Io(u,a,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder});for(var y=0;y<f.length;y++){f[y]=To(f[y],g)}}if(u==null){var m=0;for(var y=0;y<f.length;y++){m=Math.max(Ji(f[y],a),m)}u=m}return{lines:f,height:v,outerHeight:p,lineHeight:s,calculatedLineHeight:o,contentHeight:h,width:u}}var Ao=function(){function t(){}return t}();var ko=function(){function t(t){this.tokens=[];if(t){this.tokens=t}}return t}();var Lo=function(){function t(){this.width=0;this.height=0;this.contentWidth=0;this.contentHeight=0;this.outerWidth=0;this.outerHeight=0;this.lines=[]}return t}();function Po(t,e){var r=new Lo;t!=null&&(t+="");if(!t){return r}var i=e.width;var a=e.height;var n=e.overflow;var o=(n==="break"||n==="breakAll")&&i!=null?{width:i,accumWidth:0,breakAll:n==="breakAll"}:null;var s=So.lastIndex=0;var l;while((l=So.exec(t))!=null){var u=l.index;if(u>s){Oo(r,t.substring(s,u),e,o)}Oo(r,l[2],e,o,l[1]);s=So.lastIndex}if(s<t.length){Oo(r,t.substring(s,t.length),e,o)}var f=[];var h=0;var v=0;var c=e.padding;var p=n==="truncate";var d=e.lineOverflow==="truncate";function g(t,e,r){t.width=e;t.lineHeight=r;h+=r;v=Math.max(v,e)}t:for(var y=0;y<r.lines.length;y++){var m=r.lines[y];var x=0;var _=0;for(var b=0;b<m.tokens.length;b++){var w=m.tokens[b];var S=w.styleName&&e.rich[w.styleName]||{};var M=w.textPadding=S.padding;var I=M?M[1]+M[3]:0;var T=w.font=S.font||e.font;w.contentHeight=ia(T);var C=it(S.height,w.contentHeight);w.innerHeight=C;M&&(C+=M[0]+M[2]);w.height=C;w.lineHeight=at(S.lineHeight,e.lineHeight,C);w.align=S&&S.align||e.align;w.verticalAlign=S&&S.verticalAlign||"middle";if(d&&a!=null&&h+w.lineHeight>a){if(b>0){m.tokens=m.tokens.slice(0,b);g(m,_,x);r.lines=r.lines.slice(0,y+1)}else{r.lines=r.lines.slice(0,y)}break t}var D=S.width;var A=D==null||D==="auto";if(typeof D==="string"&&D.charAt(D.length-1)==="%"){w.percentWidth=D;f.push(w);w.contentWidth=Ji(w.text,T)}else{if(A){var k=S.backgroundColor;var L=k&&k.image;if(L){L=xo(L);if(wo(L)){w.width=Math.max(w.width,L.width*C/L.height)}}}var P=p&&i!=null?i-_:null;if(P!=null&&P<w.width){if(!A||P<I){w.text="";w.width=w.contentWidth=0}else{w.text=Mo(w.text,P-I,T,e.ellipsis,{minChar:e.truncateMinChar});w.width=w.contentWidth=Ji(w.text,T)}}else{w.contentWidth=Ji(w.text,T)}}w.width+=I;_+=w.width;S&&(x=Math.max(x,w.lineHeight))}g(m,_,x)}r.outerWidth=r.width=it(i,v);r.outerHeight=r.height=it(a,h);r.contentHeight=h;r.contentWidth=v;if(c){r.outerWidth+=c[1]+c[3];r.outerHeight+=c[0]+c[2]}for(var y=0;y<f.length;y++){var w=f[y];var O=w.percentWidth;w.width=parseInt(O,10)/100*r.width}return r}function Oo(t,e,r,i,a){var n=e==="";var o=a&&r.rich[a]||{};var s=t.lines;var l=o.font||r.font;var u=false;var f;var h;if(i){var v=o.padding;var c=v?v[1]+v[3]:0;if(o.width!=null&&o.width!=="auto"){var p=aa(o.width,i.width)+c;if(s.length>0){if(p+i.accumWidth>i.width){f=e.split("\n");u=true}}i.accumWidth=p}else{var d=zo(e,l,i.width,i.breakAll,i.accumWidth);i.accumWidth=d.accumWidth+c;h=d.linesWidths;f=d.lines}}else{f=e.split("\n")}for(var g=0;g<f.length;g++){var y=f[g];var m=new Ao;m.styleName=a;m.text=y;m.isLineHolder=!y&&!n;if(typeof o.width==="number"){m.width=o.width}else{m.width=h?h[g]:Ji(y,l)}if(!g&&!u){var x=(s[s.length-1]||(s[0]=new ko)).tokens;var _=x.length;_===1&&x[0].isLineHolder?x[0]=m:(y||!_||n)&&x.push(m)}else{s.push(new ko([m]))}}}function Ro(t){var e=t.charCodeAt(0);return e>=33&&e<=255}var No=E(",&?/;] ".split(""),function(t,e){t[e]=true;return t},{});function Eo(t){if(Ro(t)){if(No[t]){return true}return false}return true}function zo(t,e,r,i,a){var n=[];var o=[];var s="";var l="";var u=0;var f=0;for(var h=0;h<t.length;h++){var v=t.charAt(h);if(v==="\n"){if(l){s+=l;f+=u}n.push(s);o.push(f);s="";l="";u=0;f=0;continue}var c=Ji(v,e);var p=i?false:!Eo(v);if(!n.length?a+f+c>r:f+c>r){if(!f){if(p){n.push(l);o.push(u);l=v;u=c}else{n.push(v);o.push(c)}}else if(s||l){if(p){if(!s){s=l;l="";u=0;f=u}n.push(s);o.push(f-u);l+=v;u+=c;s="";f=u}else{if(l){s+=l;f+=u;l="";u=0}n.push(s);o.push(f);s=v;f=c}}continue}f+=c;if(p){l+=v;u+=c}else{if(l){s+=l;l="";u=0}s+=v}}if(!n.length&&!s){s=t;l="";u=0}if(l){s+=l}if(s){n.push(s);o.push(f)}if(n.length===1){f+=a}return{accumWidth:f,lines:n,linesWidths:o}}var Bo="__zr_style_"+Math.round(Math.random()*10);var Vo={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"};var Go={style:{shadowBlur:true,shadowOffsetX:true,shadowOffsetY:true,shadowColor:true,opacity:true}};Vo[Bo]=true;var Fo=["z","z2","invisible"];var Ho=["invisible"];var Wo=function(t){r(e,t);function e(e){return t.call(this,e)||this}e.prototype._init=function(e){var r=V(e);for(var i=0;i<r.length;i++){var a=r[i];if(a==="style"){this.useStyle(e[a])}else{t.prototype.attrKV.call(this,a,e[a])}}if(!this.style){this.useStyle({})}};e.prototype.beforeBrush=function(){};e.prototype.afterBrush=function(){};e.prototype.innerBeforeBrush=function(){};e.prototype.innerAfterBrush=function(){};e.prototype.shouldBePainted=function(t,e,r,i){var a=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&Xo(this,t,e)||a&&!a[0]&&!a[3]){return false}if(r&&this.__clipPaths){for(var n=0;n<this.__clipPaths.length;++n){if(this.__clipPaths[n].isZeroArea()){return false}}}if(i&&this.parent){var o=this.parent;while(o){if(o.ignore){return false}o=o.parent}}return true};e.prototype.contain=function(t,e){return this.rectContain(t,e)};e.prototype.traverse=function(t,e){t.call(e,this)};e.prototype.rectContain=function(t,e){var r=this.transformCoordToLocal(t,e);var i=this.getBoundingRect();return i.contain(r[0],r[1])};e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var e=this.transform;var r=this.getBoundingRect();var i=this.style;var a=i.shadowBlur||0;var n=i.shadowOffsetX||0;var o=i.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new Yi(0,0,0,0));if(e){Yi.applyTransform(t,r,e)}else{t.copy(r)}if(a||n||o){t.width+=a*2+Math.abs(n);t.height+=a*2+Math.abs(o);t.x=Math.min(t.x,t.x+n-a);t.y=Math.min(t.y,t.y+o-a)}var s=this.dirtyRectTolerance;if(!t.isZero()){t.x=Math.floor(t.x-s);t.y=Math.floor(t.y-s);t.width=Math.ceil(t.width+1+s*2);t.height=Math.ceil(t.height+1+s*2)}}return t};e.prototype.setPrevPaintRect=function(t){if(t){this._prevPaintRect=this._prevPaintRect||new Yi(0,0,0,0);this._prevPaintRect.copy(t)}else{this._prevPaintRect=null}};e.prototype.getPrevPaintRect=function(){return this._prevPaintRect};e.prototype.animateStyle=function(t){return this.animate("style",t)};e.prototype.updateDuringAnimation=function(t){if(t==="style"){this.dirtyStyle()}else{this.markRedraw()}};e.prototype.attrKV=function(e,r){if(e!=="style"){t.prototype.attrKV.call(this,e,r)}else{if(!this.style){this.useStyle(r)}else{this.setStyle(r)}}};e.prototype.setStyle=function(t,e){if(typeof t==="string"){this.style[t]=e}else{C(this.style,t)}this.dirtyStyle();return this};e.prototype.dirtyStyle=function(t){if(!t){this.markRedraw()}this.__dirty|=Ge;if(this._rect){this._rect=null}};e.prototype.dirty=function(){this.dirtyStyle()};e.prototype.styleChanged=function(){return!!(this.__dirty&Ge)};e.prototype.styleUpdated=function(){this.__dirty&=~Ge};e.prototype.createStyle=function(t){return dt(Vo,t)};e.prototype.useStyle=function(t){if(!t[Bo]){t=this.createStyle(t)}if(this.__inHover){this.__hoverStyle=t}else{this.style=t}this.dirtyStyle()};e.prototype.isStyleObject=function(t){return t[Bo]};e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var r=this._normalState;if(e.style&&!r.style){r.style=this._mergeStyle(this.createStyle(),this.style)}this._savePrimaryToNormal(e,r,Fo)};e.prototype._applyStateObj=function(e,r,i,a,n,o){t.prototype._applyStateObj.call(this,e,r,i,a,n,o);var s=!(r&&a);var l;if(r&&r.style){if(n){if(a){l=r.style}else{l=this._mergeStyle(this.createStyle(),i.style);this._mergeStyle(l,r.style)}}else{l=this._mergeStyle(this.createStyle(),a?this.style:i.style);this._mergeStyle(l,r.style)}}else if(s){l=i.style}if(l){if(n){var u=this.style;this.style=this.createStyle(s?{}:u);if(s){var f=V(u);for(var h=0;h<f.length;h++){var v=f[h];if(v in l){l[v]=l[v];this.style[v]=u[v]}}}var c=V(l);for(var h=0;h<c.length;h++){var v=c[h];this.style[v]=this.style[v]}this._transitionState(e,{style:l},o,this.getAnimationStyleProps())}else{this.useStyle(l)}}var p=this.__inHover?Ho:Fo;for(var h=0;h<p.length;h++){var v=p[h];if(r&&r[v]!=null){this[v]=r[v]}else if(s){if(i[v]!=null){this[v]=i[v]}}}};e.prototype._mergeStates=function(e){var r=t.prototype._mergeStates.call(this,e);var i;for(var a=0;a<e.length;a++){var n=e[a];if(n.style){i=i||{};this._mergeStyle(i,n.style)}}if(i){r.style=i}return r};e.prototype._mergeStyle=function(t,e){C(t,e);return t};e.prototype.getAnimationStyleProps=function(){return Go};e.initDefaultProps=function(){var t=e.prototype;t.type="displayable";t.invisible=false;t.z=0;t.z2=0;t.zlevel=0;t.culling=false;t.cursor="pointer";t.rectHover=false;t.incremental=false;t._rect=null;t.dirtyRectTolerance=0;t.__dirty=Ve|Ge}();return e}(ha);var Uo=new Yi(0,0,0,0);var Yo=new Yi(0,0,0,0);function Xo(t,e,r){Uo.copy(t.getBoundingRect());if(t.transform){Uo.applyTransform(t.transform)}Yo.width=e;Yo.height=r;return!Uo.intersect(Yo)}var Zo=Math.pow;var jo=Math.sqrt;var qo=1e-8;var Ko=1e-4;var $o=jo(3);var Jo=1/3;var Qo=xt();var ts=xt();var es=xt();function rs(t){return t>-qo&&t<qo}function is(t){return t>qo||t<-qo}function as(t,e,r,i,a){var n=1-a;return n*n*(n*t+3*a*e)+a*a*(a*i+3*n*r)}function ns(t,e,r,i,a){var n=1-a;return 3*(((e-t)*n+2*(r-e)*a)*n+(i-r)*a*a)}function os(t,e,r,i,a,n){var o=i+3*(e-r)-t;var s=3*(r-e*2+t);var l=3*(e-t);var u=t-a;var f=s*s-3*o*l;var h=s*l-9*o*u;var v=l*l-3*s*u;var c=0;if(rs(f)&&rs(h)){if(rs(s)){n[0]=0}else{var p=-l/s;if(p>=0&&p<=1){n[c++]=p}}}else{var d=h*h-4*f*v;if(rs(d)){var g=h/f;var p=-s/o+g;var y=-g/2;if(p>=0&&p<=1){n[c++]=p}if(y>=0&&y<=1){n[c++]=y}}else if(d>0){var m=jo(d);var x=f*s+1.5*o*(-h+m);var _=f*s+1.5*o*(-h-m);if(x<0){x=-Zo(-x,Jo)}else{x=Zo(x,Jo)}if(_<0){_=-Zo(-_,Jo)}else{_=Zo(_,Jo)}var p=(-s-(x+_))/(3*o);if(p>=0&&p<=1){n[c++]=p}}else{var b=(2*f*s-3*o*h)/(2*jo(f*f*f));var w=Math.acos(b)/3;var S=jo(f);var M=Math.cos(w);var p=(-s-2*S*M)/(3*o);var y=(-s+S*(M+$o*Math.sin(w)))/(3*o);var I=(-s+S*(M-$o*Math.sin(w)))/(3*o);if(p>=0&&p<=1){n[c++]=p}if(y>=0&&y<=1){n[c++]=y}if(I>=0&&I<=1){n[c++]=I}}}return c}function ss(t,e,r,i,a){var n=6*r-12*e+6*t;var o=9*e+3*i-3*t-9*r;var s=3*e-3*t;var l=0;if(rs(o)){if(is(n)){var u=-s/n;if(u>=0&&u<=1){a[l++]=u}}}else{var f=n*n-4*o*s;if(rs(f)){a[0]=-n/(2*o)}else if(f>0){var h=jo(f);var u=(-n+h)/(2*o);var v=(-n-h)/(2*o);if(u>=0&&u<=1){a[l++]=u}if(v>=0&&v<=1){a[l++]=v}}}return l}function ls(t,e,r,i,a,n){var o=(e-t)*a+t;var s=(r-e)*a+e;var l=(i-r)*a+r;var u=(s-o)*a+o;var f=(l-s)*a+s;var h=(f-u)*a+u;n[0]=t;n[1]=o;n[2]=u;n[3]=h;n[4]=h;n[5]=f;n[6]=l;n[7]=i}function us(t,e,r,i,a,n,o,s,l,u,f){var h;var v=.005;var c=Infinity;var p;var d;var g;var y;Qo[0]=l;Qo[1]=u;for(var m=0;m<1;m+=.05){ts[0]=as(t,r,a,o,m);ts[1]=as(e,i,n,s,m);g=Bt(Qo,ts);if(g<c){h=m;c=g}}c=Infinity;for(var x=0;x<32;x++){if(v<Ko){break}p=h-v;d=h+v;ts[0]=as(t,r,a,o,p);ts[1]=as(e,i,n,s,p);g=Bt(ts,Qo);if(p>=0&&g<c){h=p;c=g}else{es[0]=as(t,r,a,o,d);es[1]=as(e,i,n,s,d);y=Bt(es,Qo);if(d<=1&&y<c){h=d;c=y}else{v*=.5}}}if(f){f[0]=as(t,r,a,o,h);f[1]=as(e,i,n,s,h)}return jo(c)}function fs(t,e,r,i,a,n,o,s,l){var u=t;var f=e;var h=0;var v=1/l;for(var c=1;c<=l;c++){var p=c*v;var d=as(t,r,a,o,p);var g=as(e,i,n,s,p);var y=d-u;var m=g-f;h+=Math.sqrt(y*y+m*m);u=d;f=g}return h}function hs(t,e,r,i){var a=1-i;return a*(a*t+2*i*e)+i*i*r}function vs(t,e,r,i){return 2*((1-i)*(e-t)+i*(r-e))}function cs(t,e,r,i,a){var n=t-2*e+r;var o=2*(e-t);var s=t-i;var l=0;if(rs(n)){if(is(o)){var u=-s/o;if(u>=0&&u<=1){a[l++]=u}}}else{var f=o*o-4*n*s;if(rs(f)){var u=-o/(2*n);if(u>=0&&u<=1){a[l++]=u}}else if(f>0){var h=jo(f);var u=(-o+h)/(2*n);var v=(-o-h)/(2*n);if(u>=0&&u<=1){a[l++]=u}if(v>=0&&v<=1){a[l++]=v}}}return l}function ps(t,e,r){var i=t+r-2*e;if(i===0){return.5}else{return(t-e)/i}}function ds(t,e,r,i,a){var n=(e-t)*i+t;var o=(r-e)*i+e;var s=(o-n)*i+n;a[0]=t;a[1]=n;a[2]=s;a[3]=s;a[4]=o;a[5]=r}function gs(t,e,r,i,a,n,o,s,l){var u;var f=.005;var h=Infinity;Qo[0]=o;Qo[1]=s;for(var v=0;v<1;v+=.05){ts[0]=hs(t,r,a,v);ts[1]=hs(e,i,n,v);var c=Bt(Qo,ts);if(c<h){u=v;h=c}}h=Infinity;for(var p=0;p<32;p++){if(f<Ko){break}var d=u-f;var g=u+f;ts[0]=hs(t,r,a,d);ts[1]=hs(e,i,n,d);var c=Bt(ts,Qo);if(d>=0&&c<h){u=d;h=c}else{es[0]=hs(t,r,a,g);es[1]=hs(e,i,n,g);var y=Bt(es,Qo);if(g<=1&&y<h){u=g;h=y}else{f*=.5}}}if(l){l[0]=hs(t,r,a,u);l[1]=hs(e,i,n,u)}return jo(h)}function ys(t,e,r,i,a,n,o){var s=t;var l=e;var u=0;var f=1/o;for(var h=1;h<=o;h++){var v=h*f;var c=hs(t,r,a,v);var p=hs(e,i,n,v);var d=c-s;var g=p-l;u+=Math.sqrt(d*d+g*g);s=c;l=p}return u}var ms=Math.min;var xs=Math.max;var _s=Math.sin;var bs=Math.cos;var ws=Math.PI*2;var Ss=xt();var Ms=xt();var Is=xt();function Ts(t,e,r){if(t.length===0){return}var i=t[0];var a=i[0];var n=i[0];var o=i[1];var s=i[1];for(var l=1;l<t.length;l++){i=t[l];a=ms(a,i[0]);n=xs(n,i[0]);o=ms(o,i[1]);s=xs(s,i[1])}e[0]=a;e[1]=o;r[0]=n;r[1]=s}function Cs(t,e,r,i,a,n){a[0]=ms(t,r);a[1]=ms(e,i);n[0]=xs(t,r);n[1]=xs(e,i)}var Ds=[];var As=[];function ks(t,e,r,i,a,n,o,s,l,u){var f=ss;var h=as;var v=f(t,r,a,o,Ds);l[0]=Infinity;l[1]=Infinity;u[0]=-Infinity;u[1]=-Infinity;for(var c=0;c<v;c++){var p=h(t,r,a,o,Ds[c]);l[0]=ms(p,l[0]);u[0]=xs(p,u[0])}v=f(e,i,n,s,As);for(var c=0;c<v;c++){var d=h(e,i,n,s,As[c]);l[1]=ms(d,l[1]);u[1]=xs(d,u[1])}l[0]=ms(t,l[0]);u[0]=xs(t,u[0]);l[0]=ms(o,l[0]);u[0]=xs(o,u[0]);l[1]=ms(e,l[1]);u[1]=xs(e,u[1]);l[1]=ms(s,l[1]);u[1]=xs(s,u[1])}function Ls(t,e,r,i,a,n,o,s){var l=ps;var u=hs;var f=xs(ms(l(t,r,a),1),0);var h=xs(ms(l(e,i,n),1),0);var v=u(t,r,a,f);var c=u(e,i,n,h);o[0]=ms(t,a,v);o[1]=ms(e,n,c);s[0]=xs(t,a,v);s[1]=xs(e,n,c)}function Ps(t,e,r,i,a,n,o,s,l){var u=Ht;var f=Wt;var h=Math.abs(a-n);if(h%ws<1e-4&&h>1e-4){s[0]=t-r;s[1]=e-i;l[0]=t+r;l[1]=e+i;return}Ss[0]=bs(a)*r+t;Ss[1]=_s(a)*i+e;Ms[0]=bs(n)*r+t;Ms[1]=_s(n)*i+e;u(s,Ss,Ms);f(l,Ss,Ms);a=a%ws;if(a<0){a=a+ws}n=n%ws;if(n<0){n=n+ws}if(a>n&&!o){n+=ws}else if(a<n&&o){a+=ws}if(o){var v=n;n=a;a=v}for(var c=0;c<n;c+=Math.PI/2){if(c>a){Is[0]=bs(c)*r+t;Is[1]=_s(c)*i+e;u(s,Is,s);f(l,Is,l)}}}var Os={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7};var Rs=[];var Ns=[];var Es=[];var zs=[];var Bs=[];var Vs=[];var Gs=Math.min;var Fs=Math.max;var Hs=Math.cos;var Ws=Math.sin;var Us=Math.sqrt;var Ys=Math.abs;var Xs=Math.PI;var Zs=Xs*2;var js=typeof Float32Array!=="undefined";var qs=[];function Ks(t){var e=Math.round(t/Xs*1e8)/1e8;return e%2*Xs}function $s(t,e){var r=Ks(t[0]);if(r<0){r+=Zs}var i=r-t[0];var a=t[1];a+=i;if(!e&&a-r>=Zs){a=r+Zs}else if(e&&r-a>=Zs){a=r-Zs}else if(!e&&r>a){a=r+(Zs-Ks(r-a))}else if(e&&r<a){a=r-(Zs-Ks(a-r))}t[0]=r;t[1]=a}var Js=function(){function t(t){this.dpr=1;this._xi=0;this._yi=0;this._x0=0;this._y0=0;this._len=0;if(t){this._saveData=false}if(this._saveData){this.data=[]}}t.prototype.increaseVersion=function(){this._version++};t.prototype.getVersion=function(){return this._version};t.prototype.setScale=function(t,e,r){r=r||0;if(r>0){this._ux=Ys(r/vi/t)||0;this._uy=Ys(r/vi/e)||0}};t.prototype.setDPR=function(t){this.dpr=t};t.prototype.setContext=function(t){this._ctx=t};t.prototype.getContext=function(){return this._ctx};t.prototype.beginPath=function(){this._ctx&&this._ctx.beginPath();this.reset();return this};t.prototype.reset=function(){if(this._saveData){this._len=0}if(this._lineDash){this._lineDash=null;this._dashOffset=0}if(this._pathSegLen){this._pathSegLen=null;this._pathLen=0}this._version++};t.prototype.moveTo=function(t,e){this._drawPendingPt();this.addData(Os.M,t,e);this._ctx&&this._ctx.moveTo(t,e);this._x0=t;this._y0=e;this._xi=t;this._yi=e;return this};t.prototype.lineTo=function(t,e){var r=Ys(t-this._xi);var i=Ys(e-this._yi);var a=r>this._ux||i>this._uy;this.addData(Os.L,t,e);if(this._ctx&&a){this._needsDash?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)}if(a){this._xi=t;this._yi=e;this._pendingPtDist=0}else{var n=r*r+i*i;if(n>this._pendingPtDist){this._pendingPtX=t;this._pendingPtY=e;this._pendingPtDist=n}}return this};t.prototype.bezierCurveTo=function(t,e,r,i,a,n){this._drawPendingPt();this.addData(Os.C,t,e,r,i,a,n);if(this._ctx){this._needsDash?this._dashedBezierTo(t,e,r,i,a,n):this._ctx.bezierCurveTo(t,e,r,i,a,n)}this._xi=a;this._yi=n;return this};t.prototype.quadraticCurveTo=function(t,e,r,i){this._drawPendingPt();this.addData(Os.Q,t,e,r,i);if(this._ctx){this._needsDash?this._dashedQuadraticTo(t,e,r,i):this._ctx.quadraticCurveTo(t,e,r,i)}this._xi=r;this._yi=i;return this};t.prototype.arc=function(t,e,r,i,a,n){this._drawPendingPt();qs[0]=i;qs[1]=a;$s(qs,n);i=qs[0];a=qs[1];var o=a-i;this.addData(Os.A,t,e,r,r,i,o,0,n?0:1);this._ctx&&this._ctx.arc(t,e,r,i,a,n);this._xi=Hs(a)*r+t;this._yi=Ws(a)*r+e;return this};t.prototype.arcTo=function(t,e,r,i,a){this._drawPendingPt();if(this._ctx){this._ctx.arcTo(t,e,r,i,a)}return this};t.prototype.rect=function(t,e,r,i){this._drawPendingPt();this._ctx&&this._ctx.rect(t,e,r,i);this.addData(Os.R,t,e,r,i);return this};t.prototype.closePath=function(){this._drawPendingPt();this.addData(Os.Z);var t=this._ctx;var e=this._x0;var r=this._y0;if(t){this._needsDash&&this._dashedLineTo(e,r);t.closePath()}this._xi=e;this._yi=r;return this};t.prototype.fill=function(t){t&&t.fill();this.toStatic()};t.prototype.stroke=function(t){t&&t.stroke();this.toStatic()};t.prototype.setLineDash=function(t){if(t instanceof Array){this._lineDash=t;this._dashIdx=0;var e=0;for(var r=0;r<t.length;r++){e+=t[r]}this._dashSum=e;this._needsDash=true}else{this._lineDash=null;this._needsDash=false}return this};t.prototype.setLineDashOffset=function(t){this._dashOffset=t;return this};t.prototype.len=function(){return this._len};t.prototype.setData=function(t){var e=t.length;if(!(this.data&&this.data.length===e)&&js){this.data=new Float32Array(e)}for(var r=0;r<e;r++){this.data[r]=t[r]}this._len=e};t.prototype.appendPath=function(t){if(!(t instanceof Array)){t=[t]}var e=t.length;var r=0;var i=this._len;for(var a=0;a<e;a++){r+=t[a].len()}if(js&&this.data instanceof Float32Array){this.data=new Float32Array(i+r)}for(var a=0;a<e;a++){var n=t[a].data;for(var o=0;o<n.length;o++){this.data[i++]=n[o]}}this._len=i};t.prototype.addData=function(t,e,r,i,a,n,o,s,l){if(!this._saveData){return}var u=this.data;if(this._len+arguments.length>u.length){this._expandData();u=this.data}for(var f=0;f<arguments.length;f++){u[this._len++]=arguments[f]}};t.prototype._drawPendingPt=function(){if(this._pendingPtDist>0){this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY);this._pendingPtDist=0}};t.prototype._expandData=function(){if(!(this.data instanceof Array)){var t=[];for(var e=0;e<this._len;e++){t[e]=this.data[e]}this.data=t}};t.prototype._dashedLineTo=function(t,e){var r=this._dashSum;var i=this._lineDash;var a=this._ctx;var n=this._dashOffset;var o=this._xi;var s=this._yi;var l=t-o;var u=e-s;var f=Us(l*l+u*u);var h=o;var v=s;var c=i.length;var p;var d;l/=f;u/=f;if(n<0){n=r+n}n%=r;h-=n*l;v-=n*u;while(l>0&&h<=t||l<0&&h>=t||l===0&&(u>0&&v<=e||u<0&&v>=e)){d=this._dashIdx;p=i[d];h+=l*p;v+=u*p;this._dashIdx=(d+1)%c;if(l>0&&h<o||l<0&&h>o||u>0&&v<s||u<0&&v>s){continue}a[d%2?"moveTo":"lineTo"](l>=0?Gs(h,t):Fs(h,t),u>=0?Gs(v,e):Fs(v,e))}l=h-t;u=v-e;this._dashOffset=-Us(l*l+u*u)};t.prototype._dashedBezierTo=function(t,e,r,i,a,n){var o=this._ctx;var s=this._dashSum;var l=this._dashOffset;var u=this._lineDash;var f=this._xi;var h=this._yi;var v=0;var c=this._dashIdx;var p=u.length;var d;var g;var y;var m;var x;var _=0;if(l<0){l=s+l}l%=s;for(d=0;d<1;d+=.1){g=as(f,t,r,a,d+.1)-as(f,t,r,a,d);y=as(h,e,i,n,d+.1)-as(h,e,i,n,d);v+=Us(g*g+y*y)}for(;c<p;c++){_+=u[c];if(_>l){break}}d=(_-l)/v;while(d<=1){m=as(f,t,r,a,d);x=as(h,e,i,n,d);c%2?o.moveTo(m,x):o.lineTo(m,x);d+=u[c]/v;c=(c+1)%p}c%2!==0&&o.lineTo(a,n);g=a-m;y=n-x;this._dashOffset=-Us(g*g+y*y)};t.prototype._dashedQuadraticTo=function(t,e,r,i){var a=r;var n=i;r=(r+2*t)/3;i=(i+2*e)/3;t=(this._xi+2*t)/3;e=(this._yi+2*e)/3;this._dashedBezierTo(t,e,r,i,a,n)};t.prototype.toStatic=function(){if(!this._saveData){return}this._drawPendingPt();var t=this.data;if(t instanceof Array){t.length=this._len;if(js&&this._len>11){this.data=new Float32Array(t)}}};t.prototype.getBoundingRect=function(){Es[0]=Es[1]=Bs[0]=Bs[1]=Number.MAX_VALUE;zs[0]=zs[1]=Vs[0]=Vs[1]=-Number.MAX_VALUE;var t=this.data;var e=0;var r=0;var i=0;var a=0;var n;for(n=0;n<this._len;){var o=t[n++];var s=n===1;if(s){e=t[n];r=t[n+1];i=e;a=r}switch(o){case Os.M:e=i=t[n++];r=a=t[n++];Bs[0]=i;Bs[1]=a;Vs[0]=i;Vs[1]=a;break;case Os.L:Cs(e,r,t[n],t[n+1],Bs,Vs);e=t[n++];r=t[n++];break;case Os.C:ks(e,r,t[n++],t[n++],t[n++],t[n++],t[n],t[n+1],Bs,Vs);e=t[n++];r=t[n++];break;case Os.Q:Ls(e,r,t[n++],t[n++],t[n],t[n+1],Bs,Vs);e=t[n++];r=t[n++];break;case Os.A:var l=t[n++];var u=t[n++];var f=t[n++];var h=t[n++];var v=t[n++];var c=t[n++]+v;n+=1;var p=!t[n++];if(s){i=Hs(v)*f+l;a=Ws(v)*h+u}Ps(l,u,f,h,v,c,p,Bs,Vs);e=Hs(c)*f+l;r=Ws(c)*h+u;break;case Os.R:i=e=t[n++];a=r=t[n++];var d=t[n++];var g=t[n++];Cs(i,a,i+d,a+g,Bs,Vs);break;case Os.Z:e=i;r=a;break}Ht(Es,Es,Bs);Wt(zs,zs,Vs)}if(n===0){Es[0]=Es[1]=zs[0]=zs[1]=0}return new Yi(Es[0],Es[1],zs[0]-Es[0],zs[1]-Es[1])};t.prototype._calculateLength=function(){var t=this.data;var e=this._len;var r=this._ux;var i=this._uy;var a=0;var n=0;var o=0;var s=0;if(!this._pathSegLen){this._pathSegLen=[]}var l=this._pathSegLen;var u=0;var f=0;for(var h=0;h<e;){var v=t[h++];var c=h===1;if(c){a=t[h];n=t[h+1];o=a;s=n}var p=-1;switch(v){case Os.M:a=o=t[h++];n=s=t[h++];break;case Os.L:{var d=t[h++];var g=t[h++];var y=d-a;var m=g-n;if(Ys(y)>r||Ys(m)>i||h===e-1){p=Math.sqrt(y*y+m*m);a=d;n=g}break}case Os.C:{var x=t[h++];var _=t[h++];var d=t[h++];var g=t[h++];var b=t[h++];var w=t[h++];p=fs(a,n,x,_,d,g,b,w,10);a=b;n=w;break}case Os.Q:{var x=t[h++];var _=t[h++];var d=t[h++];var g=t[h++];p=ys(a,n,x,_,d,g,10);a=d;n=g;break}case Os.A:var S=t[h++];var M=t[h++];var I=t[h++];var T=t[h++];var C=t[h++];var D=t[h++];var A=D+C;h+=1;var k=!t[h++];if(c){o=Hs(C)*I+S;s=Ws(C)*T+M}p=Fs(I,T)*Gs(Zs,Math.abs(D));a=Hs(A)*I+S;n=Ws(A)*T+M;break;case Os.R:{o=a=t[h++];s=n=t[h++];var L=t[h++];var P=t[h++];p=L*2+P*2;break}case Os.Z:{var y=o-a;var m=s-n;p=Math.sqrt(y*y+m*m);a=o;n=s;break}}if(p>=0){l[f++]=p;u+=p}}this._pathLen=u;return u};t.prototype.rebuildPath=function(t,e){var r=this.data;var i=this._ux;var a=this._uy;var n=this._len;var o;var s;var l;var u;var f;var h;var v=e<1;var c;var p;var d=0;var g=0;var y;var m=0;var x;var _;if(v){if(!this._pathSegLen){this._calculateLength()}c=this._pathSegLen;p=this._pathLen;y=e*p;if(!y){return}}t:for(var b=0;b<n;){var w=r[b++];var S=b===1;if(S){l=r[b];u=r[b+1];o=l;s=u}if(w!==Os.L&&m>0){t.lineTo(x,_);m=0}switch(w){case Os.M:o=l=r[b++];s=u=r[b++];t.moveTo(l,u);break;case Os.L:{f=r[b++];h=r[b++];var M=Ys(f-l);var I=Ys(h-u);if(M>i||I>a){if(v){var T=c[g++];if(d+T>y){var C=(y-d)/T;t.lineTo(l*(1-C)+f*C,u*(1-C)+h*C);break t}d+=T}t.lineTo(f,h);l=f;u=h;m=0}else{var D=M*M+I*I;if(D>m){x=f;_=h;m=D}}break}case Os.C:{var A=r[b++];var k=r[b++];var L=r[b++];var P=r[b++];var O=r[b++];var R=r[b++];if(v){var T=c[g++];if(d+T>y){var C=(y-d)/T;ls(l,A,L,O,C,Rs);ls(u,k,P,R,C,Ns);t.bezierCurveTo(Rs[1],Ns[1],Rs[2],Ns[2],Rs[3],Ns[3]);break t}d+=T}t.bezierCurveTo(A,k,L,P,O,R);l=O;u=R;break}case Os.Q:{var A=r[b++];var k=r[b++];var L=r[b++];var P=r[b++];if(v){var T=c[g++];if(d+T>y){var C=(y-d)/T;ds(l,A,L,C,Rs);ds(u,k,P,C,Ns);t.quadraticCurveTo(Rs[1],Ns[1],Rs[2],Ns[2]);break t}d+=T}t.quadraticCurveTo(A,k,L,P);l=L;u=P;break}case Os.A:var N=r[b++];var E=r[b++];var z=r[b++];var B=r[b++];var V=r[b++];var G=r[b++];var F=r[b++];var H=!r[b++];var W=z>B?z:B;var U=Ys(z-B)>.001;var Y=V+G;var X=false;if(v){var T=c[g++];if(d+T>y){Y=V+G*(y-d)/T;X=true}d+=T}if(U&&t.ellipse){t.ellipse(N,E,z,B,F,V,Y,H)}else{t.arc(N,E,W,V,Y,H)}if(X){break t}if(S){o=Hs(V)*z+N;s=Ws(V)*B+E}l=Hs(Y)*z+N;u=Ws(Y)*B+E;break;case Os.R:o=l=r[b];s=u=r[b+1];f=r[b++];h=r[b++];var Z=r[b++];var j=r[b++];if(v){var T=c[g++];if(d+T>y){var q=y-d;t.moveTo(f,h);t.lineTo(f+Gs(q,Z),h);q-=Z;if(q>0){t.lineTo(f+Z,h+Gs(q,j))}q-=j;if(q>0){t.lineTo(f+Fs(Z-q,0),h+j)}q-=Z;if(q>0){t.lineTo(f,h+Fs(j-q,0))}break t}d+=T}t.rect(f,h,Z,j);break;case Os.Z:if(v){var T=c[g++];if(d+T>y){var C=(y-d)/T;t.lineTo(l*(1-C)+o*C,u*(1-C)+s*C);break t}d+=T}t.closePath();l=o;u=s}}};t.prototype.clone=function(){var e=new t;var r=this.data;e.data=r.slice?r.slice():Array.prototype.slice.call(r);e._len=this._len;return e};t.CMD=Os;t.initDefaultProps=function(){var e=t.prototype;e._saveData=true;e._needsDash=false;e._dashOffset=0;e._dashIdx=0;e._dashSum=0;e._ux=0;e._uy=0;e._pendingPtDist=0;e._version=0}();return t}();function Qs(t,e,r,i,a,n,o){if(a===0){return false}var s=a;var l=0;var u=t;if(o>e+s&&o>i+s||o<e-s&&o<i-s||n>t+s&&n>r+s||n<t-s&&n<r-s){return false}if(t!==r){l=(e-i)/(t-r);u=(t*i-r*e)/(t-r)}else{return Math.abs(n-t)<=s/2}var f=l*n-o+u;var h=f*f/(l*l+1);return h<=s/2*s/2}function tl(t,e,r,i,a,n,o,s,l,u,f){if(l===0){return false}var h=l;if(f>e+h&&f>i+h&&f>n+h&&f>s+h||f<e-h&&f<i-h&&f<n-h&&f<s-h||u>t+h&&u>r+h&&u>a+h&&u>o+h||u<t-h&&u<r-h&&u<a-h&&u<o-h){return false}var v=us(t,e,r,i,a,n,o,s,u,f,null);return v<=h/2}function el(t,e,r,i,a,n,o,s,l){if(o===0){return false}var u=o;if(l>e+u&&l>i+u&&l>n+u||l<e-u&&l<i-u&&l<n-u||s>t+u&&s>r+u&&s>a+u||s<t-u&&s<r-u&&s<a-u){return false}var f=gs(t,e,r,i,a,n,s,l,null);return f<=u/2}var rl=Math.PI*2;function il(t){t%=rl;if(t<0){t+=rl}return t}var al=Math.PI*2;function nl(t,e,r,i,a,n,o,s,l){if(o===0){return false}var u=o;s-=t;l-=e;var f=Math.sqrt(s*s+l*l);if(f-u>r||f+u<r){return false}if(Math.abs(i-a)%al<1e-4){return true}if(n){var h=i;i=il(a);a=il(h)}else{i=il(i);a=il(a)}if(i>a){a+=al}var v=Math.atan2(l,s);if(v<0){v+=al}return v>=i&&v<=a||v+al>=i&&v+al<=a}function ol(t,e,r,i,a,n){if(n>e&&n>i||n<e&&n<i){return 0}if(i===e){return 0}var o=(n-e)/(i-e);var s=i<e?1:-1;if(o===1||o===0){s=i<e?.5:-.5}var l=o*(r-t)+t;return l===a?Infinity:l>a?s:0}var sl=Js.CMD;var ll=Math.PI*2;var ul=1e-4;function fl(t,e){return Math.abs(t-e)<ul}var hl=[-1,-1,-1];var vl=[-1,-1];function cl(){var t=vl[0];vl[0]=vl[1];vl[1]=t}function pl(t,e,r,i,a,n,o,s,l,u){if(u>e&&u>i&&u>n&&u>s||u<e&&u<i&&u<n&&u<s){return 0}var f=os(e,i,n,s,u,hl);if(f===0){return 0}else{var h=0;var v=-1;var c=void 0;var p=void 0;for(var d=0;d<f;d++){var g=hl[d];var y=g===0||g===1?.5:1;var m=as(t,r,a,o,g);if(m<l){continue}if(v<0){v=ss(e,i,n,s,vl);if(vl[1]<vl[0]&&v>1){cl()}c=as(e,i,n,s,vl[0]);if(v>1){p=as(e,i,n,s,vl[1])}}if(v===2){if(g<vl[0]){h+=c<e?y:-y}else if(g<vl[1]){h+=p<c?y:-y}else{h+=s<p?y:-y}}else{if(g<vl[0]){h+=c<e?y:-y}else{h+=s<c?y:-y}}}return h}}function dl(t,e,r,i,a,n,o,s){if(s>e&&s>i&&s>n||s<e&&s<i&&s<n){return 0}var l=cs(e,i,n,s,hl);if(l===0){return 0}else{var u=ps(e,i,n);if(u>=0&&u<=1){var f=0;var h=hs(e,i,n,u);for(var v=0;v<l;v++){var c=hl[v]===0||hl[v]===1?.5:1;var p=hs(t,r,a,hl[v]);if(p<o){continue}if(hl[v]<u){f+=h<e?c:-c}else{f+=n<h?c:-c}}return f}else{var c=hl[0]===0||hl[0]===1?.5:1;var p=hs(t,r,a,hl[0]);if(p<o){return 0}return n<e?c:-c}}}function gl(t,e,r,i,a,n,o,s){s-=e;if(s>r||s<-r){return 0}var l=Math.sqrt(r*r-s*s);hl[0]=-l;hl[1]=l;var u=Math.abs(i-a);if(u<1e-4){return 0}if(u>=ll-1e-4){i=0;a=ll;var f=n?1:-1;if(o>=hl[0]+t&&o<=hl[1]+t){return f}else{return 0}}if(i>a){var h=i;i=a;a=h}if(i<0){i+=ll;a+=ll}var v=0;for(var c=0;c<2;c++){var p=hl[c];if(p+t>o){var d=Math.atan2(s,p);var f=n?1:-1;if(d<0){d=ll+d}if(d>=i&&d<=a||d+ll>=i&&d+ll<=a){if(d>Math.PI/2&&d<Math.PI*1.5){f=-f}v+=f}}}return v}function yl(t,e,r,i,a){var n=t.data;var o=t.len();var s=0;var l=0;var u=0;var f=0;var h=0;var v;var c;for(var p=0;p<o;){var d=n[p++];var g=p===1;if(d===sl.M&&p>1){if(!r){s+=ol(l,u,f,h,i,a)}}if(g){l=n[p];u=n[p+1];f=l;h=u}switch(d){case sl.M:f=n[p++];h=n[p++];l=f;u=h;break;case sl.L:if(r){if(Qs(l,u,n[p],n[p+1],e,i,a)){return true}}else{s+=ol(l,u,n[p],n[p+1],i,a)||0}l=n[p++];u=n[p++];break;case sl.C:if(r){if(tl(l,u,n[p++],n[p++],n[p++],n[p++],n[p],n[p+1],e,i,a)){return true}}else{s+=pl(l,u,n[p++],n[p++],n[p++],n[p++],n[p],n[p+1],i,a)||0}l=n[p++];u=n[p++];break;case sl.Q:if(r){if(el(l,u,n[p++],n[p++],n[p],n[p+1],e,i,a)){return true}}else{s+=dl(l,u,n[p++],n[p++],n[p],n[p+1],i,a)||0}l=n[p++];u=n[p++];break;case sl.A:var y=n[p++];var m=n[p++];var x=n[p++];var _=n[p++];var b=n[p++];var w=n[p++];p+=1;var S=!!(1-n[p++]);v=Math.cos(b)*x+y;c=Math.sin(b)*_+m;if(!g){s+=ol(l,u,v,c,i,a)}else{f=v;h=c}var M=(i-y)*_/x+y;if(r){if(nl(y,m,_,b,b+w,S,e,M,a)){return true}}else{s+=gl(y,m,_,b,b+w,S,M,a)}l=Math.cos(b+w)*x+y;u=Math.sin(b+w)*_+m;break;case sl.R:f=l=n[p++];h=u=n[p++];var I=n[p++];var T=n[p++];v=f+I;c=h+T;if(r){if(Qs(f,h,v,h,e,i,a)||Qs(v,h,v,c,e,i,a)||Qs(v,c,f,c,e,i,a)||Qs(f,c,f,h,e,i,a)){return true}}else{s+=ol(v,h,v,c,i,a);s+=ol(f,c,f,h,i,a)}break;case sl.Z:if(r){if(Qs(l,u,f,h,e,i,a)){return true}}else{s+=ol(l,u,f,h,i,a)}l=f;u=h;break}}if(!r&&!fl(u,h)){s+=ol(l,u,f,h,i,a)||0}return s!==0}function ml(t,e,r){return yl(t,0,false,e,r)}function xl(t,e,r,i){return yl(t,e,true,r,i)}var _l=D({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:false,strokeFirst:false},Vo);var bl={style:D({fill:true,stroke:true,strokePercent:true,fillOpacity:true,strokeOpacity:true,lineDashOffset:true,lineWidth:true,miterLimit:true},Go.style)};var wl=["x","y","rotation","scaleX","scaleY","originX","originY","invisible","culling","z","z2","zlevel","parent"];var Sl=function(t){r(e,t);function e(e){return t.call(this,e)||this}e.prototype.update=function(){var r=this;t.prototype.update.call(this);var i=this.style;if(i.decal){var a=this._decalEl=this._decalEl||new e;if(a.buildPath===e.prototype.buildPath){a.buildPath=function(t){r.buildPath(t,r.shape)}}a.silent=true;var n=a.style;for(var o in i){if(n[o]!==i[o]){n[o]=i[o]}}n.fill=i.fill?i.decal:null;n.decal=null;n.shadowColor=null;i.strokeFirst&&(n.stroke=null);for(var s=0;s<wl.length;++s){a[wl[s]]=this[wl[s]]}a.__dirty|=Ve}else if(this._decalEl){this._decalEl=null}};e.prototype.getDecalElement=function(){return this._decalEl};e.prototype._init=function(e){var r=V(e);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();if(i){this.useStyle(i)}for(var a=0;a<r.length;a++){var n=r[a];var o=e[n];if(n==="style"){if(!this.style){this.useStyle(o)}else{C(this.style,o)}}else if(n==="shape"){C(this.shape,o)}else{t.prototype.attrKV.call(this,n,o)}}if(!this.style){this.useStyle({})}};e.prototype.getDefaultStyle=function(){return null};e.prototype.getDefaultShape=function(){return{}};e.prototype.canBeInsideText=function(){return this.hasFill()};e.prototype.getInsideTextFill=function(){var t=this.style.fill;if(t!=="none"){if(Y(t)){var e=Mr(t,0);if(e>.5){return pi}else if(e>.2){return gi}return di}else if(t){return di}}return pi};e.prototype.getInsideTextStroke=function(t){var e=this.style.fill;if(Y(e)){var r=this.__zr;var i=!!(r&&r.isDarkMode());var a=Mr(t,0)<ci;if(i===a){return e}}};e.prototype.buildPath=function(t,e,r){};e.prototype.pathUpdated=function(){this.__dirty&=~Fe};e.prototype.getUpdatedPathProxy=function(t){!this.path&&this.createPathProxy();this.path.beginPath();this.buildPath(this.path,this.shape,t);return this.path};e.prototype.createPathProxy=function(){this.path=new Js(false)};e.prototype.hasStroke=function(){var t=this.style;var e=t.stroke;return!(e==null||e==="none"||!(t.lineWidth>0))};e.prototype.hasFill=function(){var t=this.style;var e=t.fill;return e!=null&&e!=="none"};e.prototype.getBoundingRect=function(){var t=this._rect;var e=this.style;var r=!t;if(r){var i=false;if(!this.path){i=true;this.createPathProxy()}var a=this.path;if(i||this.__dirty&Fe){a.beginPath();this.buildPath(a,this.shape,false);this.pathUpdated()}t=a.getBoundingRect()}this._rect=t;if(this.hasStroke()&&this.path&&this.path.len()>0){var n=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||r){n.copy(t);var o=e.strokeNoScale?this.getLineScale():1;var s=e.lineWidth;if(!this.hasFill()){var l=this.strokeContainThreshold;s=Math.max(s,l==null?4:l)}if(o>1e-10){n.width+=s/o;n.height+=s/o;n.x-=s/o/2;n.y-=s/o/2}}return n}return t};e.prototype.contain=function(t,e){var r=this.transformCoordToLocal(t,e);var i=this.getBoundingRect();var a=this.style;t=r[0];e=r[1];if(i.contain(t,e)){var n=this.path;if(this.hasStroke()){var o=a.lineWidth;var s=a.strokeNoScale?this.getLineScale():1;if(s>1e-10){if(!this.hasFill()){o=Math.max(o,this.strokeContainThreshold)}if(xl(n,o/s,t,e)){return true}}}if(this.hasFill()){return ml(n,t,e)}}return false};e.prototype.dirtyShape=function(){this.__dirty|=Fe;if(this._rect){this._rect=null}if(this._decalEl){this._decalEl.dirtyShape()}this.markRedraw()};e.prototype.dirty=function(){this.dirtyStyle();this.dirtyShape()};e.prototype.animateShape=function(t){return this.animate("shape",t)};e.prototype.updateDuringAnimation=function(t){if(t==="style"){this.dirtyStyle()}else if(t==="shape"){this.dirtyShape()}else{this.markRedraw()}};e.prototype.attrKV=function(e,r){if(e==="shape"){this.setShape(r)}else{t.prototype.attrKV.call(this,e,r)}};e.prototype.setShape=function(t,e){var r=this.shape;if(!r){r=this.shape={}}if(typeof t==="string"){r[t]=e}else{C(r,t)}this.dirtyShape();return this};e.prototype.shapeChanged=function(){return!!(this.__dirty&Fe)};e.prototype.createStyle=function(t){return dt(_l,t)};e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var r=this._normalState;if(e.shape&&!r.shape){r.shape=C({},this.shape)}};e.prototype._applyStateObj=function(e,r,i,a,n,o){t.prototype._applyStateObj.call(this,e,r,i,a,n,o);var s=!(r&&a);var l;if(r&&r.shape){if(n){if(a){l=r.shape}else{l=C({},i.shape);C(l,r.shape)}}else{l=C({},a?this.shape:i.shape);C(l,r.shape)}}else if(s){l=i.shape}if(l){if(n){this.shape=C({},this.shape);var u={};var f=V(l);for(var h=0;h<f.length;h++){var v=f[h];if(typeof l[v]==="object"){this.shape[v]=l[v]}else{u[v]=l[v]}}this._transitionState(e,{shape:u},o)}else{this.shape=l;this.dirtyShape()}}};e.prototype._mergeStates=function(e){var r=t.prototype._mergeStates.call(this,e);var i;for(var a=0;a<e.length;a++){var n=e[a];if(n.shape){i=i||{};this._mergeStyle(i,n.shape)}}if(i){r.shape=i}return r};e.prototype.getAnimationStyleProps=function(){return bl};e.prototype.isZeroArea=function(){return false};e.extend=function(t){var i=function(e){r(i,e);function i(r){var i=e.call(this,r)||this;t.init&&t.init.call(i,r);return i}i.prototype.getDefaultStyle=function(){return M(t.style)};i.prototype.getDefaultShape=function(){return M(t.shape)};return i}(e);for(var a in t){if(typeof t[a]==="function"){i.prototype[a]=t[a]}}return i};e.initDefaultProps=function(){var t=e.prototype;t.type="path";t.strokeContainThreshold=5;t.segmentIgnoreThreshold=0;t.subPixelOptimize=false;t.autoBatch=false;t.__dirty=Ve|Ge|Fe}();return e}(Wo);var Ml=D({strokeFirst:true,font:Zi,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},_l);var Il=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.hasStroke=function(){var t=this.style;var e=t.stroke;return e!=null&&e!=="none"&&t.lineWidth>0};e.prototype.hasFill=function(){var t=this.style;var e=t.fill;return e!=null&&e!=="none"};e.prototype.createStyle=function(t){return dt(Ml,t)};e.prototype.setBoundingRect=function(t){this._rect=t};e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var e=t.text;e!=null?e+="":e="";var r=ta(e,t.font,t.textAlign,t.textBaseline);r.x+=t.x||0;r.y+=t.y||0;if(this.hasStroke()){var i=t.lineWidth;r.x-=i/2;r.y-=i/2;r.width+=i;r.height+=i}this._rect=r}return this._rect};e.initDefaultProps=function(){var t=e.prototype;t.dirtyRectTolerance=10}();return e}(Wo);Il.prototype.type="tspan";var Tl=D({x:0,y:0},Vo);var Cl={style:D({x:true,y:true,width:true,height:true,sx:true,sy:true,sWidth:true,sHeight:true},Go.style)};function Dl(t){return!!(t&&typeof t!=="string"&&t.width&&t.height)}var Al=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.createStyle=function(t){return dt(Tl,t)};e.prototype._getSize=function(t){var e=this.style;var r=e[t];if(r!=null){return r}var i=Dl(e.image)?e.image:this.__image;if(!i){return 0}var a=t==="width"?"height":"width";var n=e[a];if(n==null){return i[t]}else{return i[t]/i[a]*n}};e.prototype.getWidth=function(){return this._getSize("width")};e.prototype.getHeight=function(){return this._getSize("height")};e.prototype.getAnimationStyleProps=function(){return Cl};e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){this._rect=new Yi(t.x||0,t.y||0,this.getWidth(),this.getHeight())}return this._rect};return e}(Wo);Al.prototype.type="image";function kl(t,e){var r=e.x;var i=e.y;var a=e.width;var n=e.height;var o=e.r;var s;var l;var u;var f;if(a<0){r=r+a;a=-a}if(n<0){i=i+n;n=-n}if(typeof o==="number"){s=l=u=f=o}else if(o instanceof Array){if(o.length===1){s=l=u=f=o[0]}else if(o.length===2){s=u=o[0];l=f=o[1]}else if(o.length===3){s=o[0];l=f=o[1];u=o[2]}else{s=o[0];l=o[1];u=o[2];f=o[3]}}else{s=l=u=f=0}var h;if(s+l>a){h=s+l;s*=a/h;l*=a/h}if(u+f>a){h=u+f;u*=a/h;f*=a/h}if(l+u>n){h=l+u;l*=n/h;u*=n/h}if(s+f>n){h=s+f;s*=n/h;f*=n/h}t.moveTo(r+s,i);t.lineTo(r+a-l,i);l!==0&&t.arc(r+a-l,i+l,l,-Math.PI/2,0);t.lineTo(r+a,i+n-u);u!==0&&t.arc(r+a-u,i+n-u,u,0,Math.PI/2);t.lineTo(r+f,i+n);f!==0&&t.arc(r+f,i+n-f,f,Math.PI/2,Math.PI);t.lineTo(r,i+s);s!==0&&t.arc(r+s,i+s,s,Math.PI,Math.PI*1.5)}var Ll=Math.round;function Pl(t,e,r){if(!e){return}var i=e.x1;var a=e.x2;var n=e.y1;var o=e.y2;t.x1=i;t.x2=a;t.y1=n;t.y2=o;var s=r&&r.lineWidth;if(!s){return t}if(Ll(i*2)===Ll(a*2)){t.x1=t.x2=Rl(i,s,true)}if(Ll(n*2)===Ll(o*2)){t.y1=t.y2=Rl(n,s,true)}return t}function Ol(t,e,r){if(!e){return}var i=e.x;var a=e.y;var n=e.width;var o=e.height;t.x=i;t.y=a;t.width=n;t.height=o;var s=r&&r.lineWidth;if(!s){return t}t.x=Rl(i,s,true);t.y=Rl(a,s,true);t.width=Math.max(Rl(i+n,s,false)-t.x,n===0?0:1);t.height=Math.max(Rl(a+o,s,false)-t.y,o===0?0:1);return t}function Rl(t,e,r){if(!e){return t}var i=Ll(t*2);return(i+Ll(e))%2===0?i/2:(i+(r?1:-1))/2}var Nl=function(){function t(){this.x=0;this.y=0;this.width=0;this.height=0}return t}();var El={};var zl=function(t){r(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new Nl};e.prototype.buildPath=function(t,e){var r;var i;var a;var n;if(this.subPixelOptimize){var o=Ol(El,e,this.style);r=o.x;i=o.y;a=o.width;n=o.height;o.r=e.r;e=o}else{r=e.x;i=e.y;a=e.width;n=e.height}if(!e.r){t.rect(r,i,a,n)}else{kl(t,e)}};e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height};return e}(Sl);zl.prototype.type="rect";var Bl={fill:"#000"};var Vl=2;var Gl={style:D({fill:true,stroke:true,fillOpacity:true,strokeOpacity:true,lineWidth:true,fontSize:true,lineHeight:true,width:true,height:true,textShadowColor:true,textShadowBlur:true,textShadowOffsetX:true,textShadowOffsetY:true,backgroundColor:true,padding:true,borderColor:true,borderWidth:true,borderRadius:true},Go.style)};var Fl=function(t){r(e,t);function e(e){var r=t.call(this)||this;r.type="text";r._children=[];r._defaultStyle=Bl;r.attr(e);return r}e.prototype.childrenRef=function(){return this._children};e.prototype.update=function(){t.prototype.update.call(this);if(this.styleChanged()){this._updateSubTexts()}for(var e=0;e<this._children.length;e++){var r=this._children[e];r.zlevel=this.zlevel;r.z=this.z;r.z2=this.z2;r.culling=this.culling;r.cursor=this.cursor;r.invisible=this.invisible}};e.prototype.updateTransform=function(){var e=this.innerTransformable;if(e){e.updateTransform();if(e.transform){this.transform=e.transform}}else{t.prototype.updateTransform.call(this)}};e.prototype.getLocalTransform=function(e){var r=this.innerTransformable;return r?r.getLocalTransform(e):t.prototype.getLocalTransform.call(this,e)};e.prototype.getComputedTransform=function(){if(this.__hostTarget){this.__hostTarget.getComputedTransform();this.__hostTarget.updateInnerText(true)}return t.prototype.getComputedTransform.call(this)};e.prototype._updateSubTexts=function(){this._childCursor=0;Ul(this.style);this.style.rich?this._updateRichTexts():this._updatePlainTexts();this._children.length=this._childCursor;this.styleUpdated()};e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var r=0;r<this._children.length;r++){this._children[r].__zr=e}};e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var r=0;r<this._children.length;r++){this._children[r].__zr=null}};e.prototype.getBoundingRect=function(){if(this.styleChanged()){this._updateSubTexts()}if(!this._rect){var t=new Yi(0,0,0,0);var e=this._children;var r=[];var i=null;for(var a=0;a<e.length;a++){var n=e[a];var o=n.getBoundingRect();var s=n.getLocalTransform(r);if(s){t.copy(o);t.applyTransform(s);i=i||t.clone();i.union(t)}else{i=i||o.clone();i.union(o)}}this._rect=i||t}return this._rect};e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||Bl};e.prototype.setTextContent=function(t){throw new Error("Can't attach text on another text")};e.prototype._mergeStyle=function(t,e){if(!e){return t}var r=e.rich;var i=t.rich||r&&{};C(t,e);if(r&&i){this._mergeRich(i,r);t.rich=i}else if(i){t.rich=i}return t};e.prototype._mergeRich=function(t,e){var r=V(e);for(var i=0;i<r.length;i++){var a=r[i];t[a]=t[a]||{};C(t[a],e[a])}};e.prototype.getAnimationStyleProps=function(){return Gl};e.prototype._getOrCreateChild=function(t){var e=this._children[this._childCursor];if(!e||!(e instanceof t)){e=new t}this._children[this._childCursor++]=e;e.__zr=this.__zr;e.parent=this;return e};e.prototype._updatePlainTexts=function(){var t=this.style;var e=t.font||Zi;var r=t.padding;var i=ql(t);var a=Do(i,t);var n=Kl(t);var o=!!t.backgroundColor;var s=a.outerHeight;var l=a.lines;var u=a.lineHeight;var f=this._defaultStyle;var h=t.x||0;var v=t.y||0;var c=t.align||f.align||"left";var p=t.verticalAlign||f.verticalAlign||"top";var d=h;var g=ra(v,a.contentHeight,p);if(n||r){var y=a.width;r&&(y+=r[1]+r[3]);var m=ea(h,y,c);var x=ra(v,s,p);n&&this._renderBackground(t,t,m,x,y,s)}g+=u/2;if(r){d=jl(h,c,r);if(p==="top"){g+=r[0]}else if(p==="bottom"){g-=r[2]}}var _=0;var b=false;var w=Zl("fill"in t?t.fill:(b=true,f.fill));var S=Xl("stroke"in t?t.stroke:!o&&(!f.autoStroke||b)?(_=Vl,f.stroke):null);var M=t.textShadowBlur>0;var I=t.width!=null&&(t.overflow==="truncate"||t.overflow==="break"||t.overflow==="breakAll");var T=a.calculatedLineHeight;for(var C=0;C<l.length;C++){var D=this._getOrCreateChild(Il);var A=D.createStyle();D.useStyle(A);A.text=l[C];A.x=d;A.y=g;if(c){A.textAlign=c}A.textBaseline="middle";A.opacity=t.opacity;A.strokeFirst=true;if(M){A.shadowBlur=t.textShadowBlur||0;A.shadowColor=t.textShadowColor||"transparent";A.shadowOffsetX=t.textShadowOffsetX||0;A.shadowOffsetY=t.textShadowOffsetY||0}if(S){A.stroke=S;A.lineWidth=t.lineWidth||_;A.lineDash=t.lineDash;A.lineDashOffset=t.lineDashOffset||0}if(w){A.fill=w}A.font=e;g+=u;if(I){D.setBoundingRect(new Yi(ea(A.x,t.width,A.textAlign),ra(A.y,T,A.textBaseline),t.width,T))}}};e.prototype._updateRichTexts=function(){var t=this.style;var e=ql(t);var r=Po(e,t);var i=r.width;var a=r.outerWidth;var n=r.outerHeight;var o=t.padding;var s=t.x||0;var l=t.y||0;var u=this._defaultStyle;var f=t.align||u.align;var h=t.verticalAlign||u.verticalAlign;var v=ea(s,a,f);var c=ra(l,n,h);var p=v;var d=c;if(o){p+=o[3];d+=o[0]}var g=p+i;if(Kl(t)){this._renderBackground(t,t,v,c,a,n)}var y=!!t.backgroundColor;for(var m=0;m<r.lines.length;m++){var x=r.lines[m];var _=x.tokens;var b=_.length;var w=x.lineHeight;var S=x.width;var M=0;var I=p;var T=g;var C=b-1;var D=void 0;while(M<b&&(D=_[M],!D.align||D.align==="left")){this._placeToken(D,t,w,d,I,"left",y);S-=D.width;I+=D.width;M++}while(C>=0&&(D=_[C],D.align==="right")){this._placeToken(D,t,w,d,T,"right",y);S-=D.width;T-=D.width;C--}I+=(i-(I-p)-(g-T)-S)/2;while(M<=C){D=_[M];this._placeToken(D,t,w,d,I+D.width/2,"center",y);I+=D.width;M++}d+=w}};e.prototype._placeToken=function(t,e,r,i,a,n,o){var s=e.rich[t.styleName]||{};s.text=t.text;var l=t.verticalAlign;var u=i+r/2;if(l==="top"){u=i+t.height/2}else if(l==="bottom"){u=i+r-t.height/2}var f=!t.isLineHolder&&Kl(s);f&&this._renderBackground(s,e,n==="right"?a-t.width:n==="center"?a-t.width/2:a,u-t.height/2,t.width,t.height);var h=!!s.backgroundColor;var v=t.textPadding;if(v){a=jl(a,n,v);u-=t.height/2-v[0]-t.innerHeight/2}var c=this._getOrCreateChild(Il);var p=c.createStyle();c.useStyle(p);var d=this._defaultStyle;var g=false;var y=0;var m=Zl("fill"in s?s.fill:"fill"in e?e.fill:(g=true,d.fill));var x=Xl("stroke"in s?s.stroke:"stroke"in e?e.stroke:!h&&!o&&(!d.autoStroke||g)?(y=Vl,d.stroke):null);var _=s.textShadowBlur>0||e.textShadowBlur>0;p.text=t.text;p.x=a;p.y=u;if(_){p.shadowBlur=s.textShadowBlur||e.textShadowBlur||0;p.shadowColor=s.textShadowColor||e.textShadowColor||"transparent";p.shadowOffsetX=s.textShadowOffsetX||e.textShadowOffsetX||0;p.shadowOffsetY=s.textShadowOffsetY||e.textShadowOffsetY||0}p.textAlign=n;p.textBaseline="middle";p.font=t.font||Zi;p.opacity=at(s.opacity,e.opacity,1);if(x){p.lineWidth=at(s.lineWidth,e.lineWidth,y);p.lineDash=it(s.lineDash,e.lineDash);p.lineDashOffset=e.lineDashOffset||0;p.stroke=x}if(m){p.fill=m}var b=t.contentWidth;var w=t.contentHeight;c.setBoundingRect(new Yi(ea(p.x,b,p.textAlign),ra(p.y,w,p.textBaseline),b,w))};e.prototype._renderBackground=function(t,e,r,i,a,n){var o=t.backgroundColor;var s=t.borderWidth;var l=t.borderColor;var u=o&&o.image;var f=o&&!u;var h=t.borderRadius;var v=this;var c;var p;if(f||t.lineHeight||s&&l){c=this._getOrCreateChild(zl);c.useStyle(c.createStyle());c.style.fill=null;var d=c.shape;d.x=r;d.y=i;d.width=a;d.height=n;d.r=h;c.dirtyShape()}if(f){var g=c.style;g.fill=o||null;g.fillOpacity=it(t.fillOpacity,1)}else if(u){p=this._getOrCreateChild(Al);p.onload=function(){v.dirtyStyle()};var y=p.style;y.image=o.image;y.x=r;y.y=i;y.width=a;y.height=n}if(s&&l){var g=c.style;g.lineWidth=s;g.stroke=l;g.strokeOpacity=it(t.strokeOpacity,1);g.lineDash=t.borderDash;g.lineDashOffset=t.borderDashOffset||0;c.strokeContainThreshold=0;if(c.hasFill()&&c.hasStroke()){g.strokeFirst=true;g.lineWidth*=2}}var m=(c||p).style;m.shadowBlur=t.shadowBlur||0;m.shadowColor=t.shadowColor||"transparent";m.shadowOffsetX=t.shadowOffsetX||0;m.shadowOffsetY=t.shadowOffsetY||0;m.opacity=at(t.opacity,e.opacity,1)};e.makeFont=function(t){var e="";if(t.fontSize||t.fontFamily||t.fontWeight){var r="";if(typeof t.fontSize==="string"&&(t.fontSize.indexOf("px")!==-1||t.fontSize.indexOf("rem")!==-1||t.fontSize.indexOf("em")!==-1)){r=t.fontSize}else if(!isNaN(+t.fontSize)){r=t.fontSize+"px"}else{r="12px"}e=[t.fontStyle,t.fontWeight,r,t.fontFamily||"sans-serif"].join(" ")}return e&&lt(e)||t.textFont||t.font};return e}(Wo);var Hl={left:true,right:1,center:1};var Wl={top:1,bottom:1,middle:1};function Ul(t){Yl(t);R(t.rich,Yl);return t}function Yl(t){if(t){t.font=Fl.makeFont(t);var e=t.align;e==="middle"&&(e="center");t.align=e==null||Hl[e]?e:"left";var r=t.verticalAlign;r==="center"&&(r="middle");t.verticalAlign=r==null||Wl[r]?r:"top";var i=t.padding;if(i){t.padding=ot(t.padding)}}}function Xl(t,e){return t==null||e<=0||t==="transparent"||t==="none"?null:t.image||t.colorStops?"#000":t}function Zl(t){return t==null||t==="none"?null:t.image||t.colorStops?"#000":t}function jl(t,e,r){return e==="right"?t-r[1]:e==="center"?t+r[3]/2-r[1]/2:t+r[3]}function ql(t){var e=t.text;e!=null&&(e+="");return e}function Kl(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var $l=Fn();var Jl=function(t,e,r,i){if(i){var a=$l(i);a.dataIndex=r;a.dataType=e;a.seriesIndex=t;if(i.type==="group"){i.traverse(function(i){var a=$l(i);a.seriesIndex=t;a.dataIndex=r;a.dataType=e})}}};var Ql=1;var tu={};var eu=Fn();var ru=0;var iu=1;var au=2;var nu=["emphasis","blur","select"];var ou=["normal","emphasis","blur","select"];var su=10;var lu=9;var uu="highlight";var fu="downplay";var hu="select";var vu="unselect";var cu="toggleSelect";function pu(t){return t!=null&&t!=="none"}var du=new Je(100);function gu(t){if(typeof t!=="string"){return t}var e=du.get(t);if(!e){e=dr(t,-.1);du.put(t,e)}return e}function yu(t,e,r){if(t.onHoverStateChange&&(t.hoverState||0)!==r){t.onHoverStateChange(e)}t.hoverState=r}function mu(t){yu(t,"emphasis",au)}function xu(t){if(t.hoverState===au){yu(t,"normal",ru)}}function _u(t){yu(t,"blur",iu)}function bu(t){if(t.hoverState===iu){yu(t,"normal",ru)}}function wu(t){t.selected=true}function Su(t){t.selected=false}function Mu(t,e,r){e(t,r)}function Iu(t,e,r){Mu(t,e,r);t.isGroup&&t.traverse(function(t){Mu(t,e,r)})}function Tu(t,e){switch(e){case"emphasis":t.hoverState=au;break;case"normal":t.hoverState=ru;break;case"blur":t.hoverState=iu;break;case"select":t.selected=true}}function Cu(t,e,r,i){var a=t.style;var n={};for(var o=0;o<e.length;o++){var s=e[o];var l=a[s];n[s]=l==null?i&&i[s]:l}for(var o=0;o<t.animators.length;o++){var u=t.animators[o];if(u.__fromStateTransition&&u.__fromStateTransition.indexOf(r)<0&&u.targetName==="style"){u.saveFinalToTarget(n,e)}}return n}function Du(t,e,r,i){var a=r&&k(r,"select")>=0;var n=false;if(t instanceof Sl){var o=eu(t);var s=a?o.selectFill||o.normalFill:o.normalFill;var l=a?o.selectStroke||o.normalStroke:o.normalStroke;if(pu(s)||pu(l)){i=i||{};var u=i.style||{};if(u.fill==="inherit"){n=true;i=C({},i);u=C({},u);u.fill=s}else if(!pu(u.fill)&&pu(s)){n=true;i=C({},i);u=C({},u);u.fill=gu(s)}else if(!pu(u.stroke)&&pu(l)){if(!n){i=C({},i);u=C({},u)}u.stroke=gu(l)}i.style=u}}if(i){if(i.z2==null){if(!n){i=C({},i)}var f=t.z2EmphasisLift;i.z2=t.z2+(f!=null?f:su)}}return i}function Au(t,e,r){if(r){if(r.z2==null){r=C({},r);var i=t.z2SelectLift;r.z2=t.z2+(i!=null?i:lu)}}return r}function ku(t,e,r){var i=k(t.currentStates,e)>=0;var a=t.style.opacity;var n=!i?Cu(t,["opacity"],e,{opacity:1}):null;r=r||{};var o=r.style||{};if(o.opacity==null){r=C({},r);o=C({opacity:i?a:n.opacity*.1},o);r.style=o}return r}function Lu(t,e){var r=this.states[t];if(this.style){if(t==="emphasis"){return Du(this,t,e,r)}else if(t==="blur"){return ku(this,t,r)}else if(t==="select"){return Au(this,t,r)}}return r}function Pu(t){t.stateProxy=Lu;var e=t.getTextContent();var r=t.getTextGuideLine();if(e){e.stateProxy=Lu}if(r){r.stateProxy=Lu}}function Ou(t,e){!Fu(t,e)&&!t.__highByOuter&&Iu(t,mu)}function Ru(t,e){!Fu(t,e)&&!t.__highByOuter&&Iu(t,xu)}function Nu(t,e){t.__highByOuter|=1<<(e||0);Iu(t,mu)}function Eu(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&Iu(t,xu)}function zu(t){Iu(t,_u)}function Bu(t){Iu(t,bu)}function Vu(t){Iu(t,wu)}function Gu(t){Iu(t,Su)}function Fu(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function Hu(t){var e=t.getModel();e.eachComponent(function(e,r){var i=e==="series"?t.getViewOfSeriesModel(r):t.getViewOfComponentModel(r);i.group.traverse(function(t){bu(t)})})}function Wu(t,e,r,i){var a=i.getModel();r=r||"coordinateSystem";function n(t,e){for(var r=0;r<e.length;r++){var i=t.getItemGraphicEl(e[r]);i&&Bu(i)}}if(t==null){return}if(!e||e==="none"){return}var o=a.getSeriesByIndex(t);var s=o.coordinateSystem;if(s&&s.master){s=s.master}var l=[];a.eachSeries(function(t){var a=o===t;var u=t.coordinateSystem;if(u&&u.master){u=u.master}var f=u&&s?u===s:a;if(!(r==="series"&&!a||r==="coordinateSystem"&&!f||e==="series"&&a)){var h=i.getViewOfSeriesModel(t);h.group.traverse(function(t){_u(t)});if(O(e)){n(t.getData(),e)}else if(j(e)){var v=V(e);for(var c=0;c<v.length;c++){n(t.getData(v[c]),e[v[c]])}}l.push(t)}});a.eachComponent(function(t,e){if(t==="series"){return}var r=i.getViewOfComponentModel(e);if(r&&r.blurSeries){r.blurSeries(l,a)}})}function Uu(t,e,r){if(t==null||e==null){return}var i=r.getModel().getComponent(t,e);if(!i){return}var a=r.getViewOfComponentModel(i);if(!a||!a.focusBlurEnabled){return}a.group.traverse(function(t){_u(t)})}function Yu(t,e,r){var i=t.seriesIndex;var a=t.getData(e.dataType);var n=Gn(a,e);n=(W(n)?n[0]:n)||0;var o=a.getItemGraphicEl(n);if(!o){var s=a.count();var l=0;while(!o&&l<s){o=a.getItemGraphicEl(l++)}}if(o){var u=$l(o);Wu(i,u.focus,u.blurScope,r)}else{var f=t.get(["emphasis","focus"]);var h=t.get(["emphasis","blurScope"]);if(f!=null){Wu(i,f,h,r)}}}function Xu(t,e,r,i){var a={focusSelf:false,dispatchers:null};if(t==null||t==="series"||e==null||r==null){return a}var n=i.getModel().getComponent(t,e);if(!n){return a}var o=i.getViewOfComponentModel(n);if(!o||!o.findHighDownDispatchers){return a}var s=o.findHighDownDispatchers(r);var l;for(var u=0;u<s.length;u++){if("development"!=="production"&&!nf(s[u])){un("param should be highDownDispatcher")}if($l(s[u]).focus==="self"){l=true;break}}return{focusSelf:l,dispatchers:s}}function Zu(t,e,r){if("development"!=="production"&&!nf(t)){un("param should be highDownDispatcher")}var i=$l(t);var a=Xu(i.componentMainType,i.componentIndex,i.componentHighDownName,r),n=a.dispatchers,o=a.focusSelf;if(n){if(o){Uu(i.componentMainType,i.componentIndex,r)}R(n,function(t){return Ou(t,e)})}else{Wu(i.seriesIndex,i.focus,i.blurScope,r);if(i.focus==="self"){Uu(i.componentMainType,i.componentIndex,r)}Ou(t,e)}}function ju(t,e,r){if("development"!=="production"&&!nf(t)){un("param should be highDownDispatcher")}Hu(r);var i=$l(t);var a=Xu(i.componentMainType,i.componentIndex,i.componentHighDownName,r).dispatchers;if(a){R(a,function(t){return Ru(t,e)})}else{Ru(t,e)}}function qu(t,e,r){if(!lf(e)){return}var i=e.dataType;var a=t.getData(i);var n=Gn(a,e);if(!W(n)){n=[n]}t[e.type===cu?"toggleSelect":e.type===hu?"select":"unselect"](n,i)}function Ku(t){var e=t.getAllData();R(e,function(e){var r=e.data,i=e.type;r.eachItemGraphicEl(function(e,r){t.isSelected(r,i)?Vu(e):Gu(e)})})}function $u(t){var e=[];t.eachSeries(function(t){var r=t.getAllData();R(r,function(r){var i=r.data,a=r.type;var n=t.getSelectedDataIndices();if(n.length>0){var o={dataIndex:n,seriesIndex:t.seriesIndex};if(a!=null){o.dataType=a}e.push(o)}})});return e}function Ju(t,e,r){af(t,true);Iu(t,Pu);Qu(t,e,r)}function Qu(t,e,r){var i=$l(t);if(e!=null){i.focus=e;i.blurScope=r}else if(i.focus){i.focus=null}}var tf=["emphasis","blur","select"];var ef={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function rf(t,e,r,i){r=r||"itemStyle";for(var a=0;a<tf.length;a++){var n=tf[a];var o=e.getModel([n,r]);var s=t.ensureState(n);s.style=i?i(o):o[ef[r]]()}}function af(t,e){var r=e===false;var i=t;if(t.highDownSilentOnTouch){i.__highDownSilentOnTouch=t.highDownSilentOnTouch}if(!r||i.__highDownDispatcher){i.__highByOuter=i.__highByOuter||0;i.__highDownDispatcher=!r}}function nf(t){return!!(t&&t.__highDownDispatcher)}function of(t,e,r){var i=$l(t);i.componentMainType=e.mainType;i.componentIndex=e.componentIndex;i.componentHighDownName=r}function sf(t){var e=tu[t];if(e==null&&Ql<=32){e=tu[t]=Ql++}return e}function lf(t){var e=t.type;return e===hu||e===vu||e===cu}function uf(t){var e=t.type;return e===uu||e===fu}function ff(t){var e=eu(t);e.normalFill=t.style.fill;e.normalStroke=t.style.stroke;var r=t.states.select||{};e.selectFill=r.style&&r.style.fill||null;e.selectStroke=r.style&&r.style.stroke||null}var hf=Js.CMD;var vf=[[],[],[]];var cf=Math.sqrt;var pf=Math.atan2;function df(t,e){if(!e){return}var r=t.data;var i=t.len();var a;var n;var o;var s;var l;var u;var f=hf.M;var h=hf.C;var v=hf.L;var c=hf.R;var p=hf.A;var d=hf.Q;for(o=0,s=0;o<i;){a=r[o++];s=o;n=0;switch(a){case f:n=1;break;case v:n=1;break;case h:n=3;break;case d:n=2;break;case p:var g=e[4];var y=e[5];var m=cf(e[0]*e[0]+e[1]*e[1]);var x=cf(e[2]*e[2]+e[3]*e[3]);var _=pf(-e[1]/x,e[0]/m);r[o]*=m;r[o++]+=g;r[o]*=x;r[o++]+=y;r[o++]*=m;r[o++]*=x;r[o++]+=_;r[o++]+=_;o+=2;s=o;break;case c:u[0]=r[o++];u[1]=r[o++];Ft(u,u,e);r[s++]=u[0];r[s++]=u[1];u[0]+=r[o++];u[1]+=r[o++];Ft(u,u,e);r[s++]=u[0];r[s++]=u[1]}for(l=0;l<n;l++){var b=vf[l];b[0]=r[o++];b[1]=r[o++];Ft(b,b,e);r[s++]=b[0];r[s++]=b[1]}}t.increaseVersion()}var gf=Math.sqrt;var yf=Math.sin;var mf=Math.cos;var xf=Math.PI;function _f(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function bf(t,e){return(t[0]*e[0]+t[1]*e[1])/(_f(t)*_f(e))}function wf(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(bf(t,e))}function Sf(t,e,r,i,a,n,o,s,l,u,f){var h=l*(xf/180);var v=mf(h)*(t-r)/2+yf(h)*(e-i)/2;var c=-1*yf(h)*(t-r)/2+mf(h)*(e-i)/2;var p=v*v/(o*o)+c*c/(s*s);if(p>1){o*=gf(p);s*=gf(p)}var d=(a===n?-1:1)*gf((o*o*(s*s)-o*o*(c*c)-s*s*(v*v))/(o*o*(c*c)+s*s*(v*v)))||0;var g=d*o*c/s;var y=d*-s*v/o;var m=(t+r)/2+mf(h)*g-yf(h)*y;var x=(e+i)/2+yf(h)*g+mf(h)*y;var _=wf([1,0],[(v-g)/o,(c-y)/s]);var b=[(v-g)/o,(c-y)/s];var w=[(-1*v-g)/o,(-1*c-y)/s];var S=wf(b,w);if(bf(b,w)<=-1){S=xf}if(bf(b,w)>=1){S=0}if(S<0){var M=Math.round(S/xf*1e6)/1e6;S=xf*2+M%2*xf}f.addData(u,m,x,o,s,_,S,h,n)}var Mf=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi;var If=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Tf(t){var e=new Js;if(!t){return e}var r=0;var i=0;var a=r;var n=i;var o;var s=Js.CMD;var l=t.match(Mf);if(!l){return e}for(var u=0;u<l.length;u++){var f=l[u];var h=f.charAt(0);var v=void 0;var c=f.match(If)||[];var p=c.length;for(var d=0;d<p;d++){c[d]=parseFloat(c[d])}var g=0;while(g<p){var y=void 0;var m=void 0;var x=void 0;var _=void 0;var b=void 0;var w=void 0;var S=void 0;var M=r;var I=i;var T=void 0;var C=void 0;switch(h){case"l":r+=c[g++];i+=c[g++];v=s.L;e.addData(v,r,i);break;case"L":r=c[g++];i=c[g++];v=s.L;e.addData(v,r,i);break;case"m":r+=c[g++];i+=c[g++];v=s.M;e.addData(v,r,i);a=r;n=i;h="l";break;case"M":r=c[g++];i=c[g++];v=s.M;e.addData(v,r,i);a=r;n=i;h="L";break;case"h":r+=c[g++];v=s.L;e.addData(v,r,i);break;case"H":r=c[g++];v=s.L;e.addData(v,r,i);break;case"v":i+=c[g++];v=s.L;e.addData(v,r,i);break;case"V":i=c[g++];v=s.L;e.addData(v,r,i);break;case"C":v=s.C;e.addData(v,c[g++],c[g++],c[g++],c[g++],c[g++],c[g++]);r=c[g-2];i=c[g-1];break;case"c":v=s.C;e.addData(v,c[g++]+r,c[g++]+i,c[g++]+r,c[g++]+i,c[g++]+r,c[g++]+i);r+=c[g-2];i+=c[g-1];break;case"S":y=r;m=i;T=e.len();C=e.data;if(o===s.C){y+=r-C[T-4];m+=i-C[T-3]}v=s.C;M=c[g++];I=c[g++];r=c[g++];i=c[g++];e.addData(v,y,m,M,I,r,i);break;case"s":y=r;m=i;T=e.len();C=e.data;if(o===s.C){y+=r-C[T-4];m+=i-C[T-3]}v=s.C;M=r+c[g++];I=i+c[g++];r+=c[g++];i+=c[g++];e.addData(v,y,m,M,I,r,i);break;case"Q":M=c[g++];I=c[g++];r=c[g++];i=c[g++];v=s.Q;e.addData(v,M,I,r,i);break;case"q":M=c[g++]+r;I=c[g++]+i;r+=c[g++];i+=c[g++];v=s.Q;e.addData(v,M,I,r,i);break;case"T":y=r;m=i;T=e.len();C=e.data;if(o===s.Q){y+=r-C[T-4];m+=i-C[T-3]}r=c[g++];i=c[g++];v=s.Q;e.addData(v,y,m,r,i);break;case"t":y=r;m=i;T=e.len();C=e.data;if(o===s.Q){y+=r-C[T-4];m+=i-C[T-3]}r+=c[g++];i+=c[g++];v=s.Q;e.addData(v,y,m,r,i);break;case"A":x=c[g++];_=c[g++];b=c[g++];w=c[g++];S=c[g++];M=r,I=i;r=c[g++];i=c[g++];v=s.A;Sf(M,I,r,i,w,S,x,_,b,v,e);break;case"a":x=c[g++];_=c[g++];b=c[g++];w=c[g++];S=c[g++];M=r,I=i;r+=c[g++];i+=c[g++];v=s.A;Sf(M,I,r,i,w,S,x,_,b,v,e);break}}if(h==="z"||h==="Z"){v=s.Z;e.addData(v);r=a;i=n}o=v}e.toStatic();return e}var Cf=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.applyTransform=function(t){};return e}(Sl);function Df(t){return t.setData!=null}function Af(t,e){var r=Tf(t);var i=C({},e);i.buildPath=function(t){if(Df(t)){t.setData(r.data);var e=t.getContext();if(e){t.rebuildPath(e,1)}}else{var e=t;r.rebuildPath(e,1)}};i.applyTransform=function(t){df(r,t);this.dirtyShape()};return i}function kf(t,e){return new Cf(Af(t,e))}function Lf(t,e){var i=Af(t,e);var a=function(t){r(e,t);function e(e){var r=t.call(this,e)||this;r.applyTransform=i.applyTransform;r.buildPath=i.buildPath;return r}return e}(Cf);return a}function Pf(t,e){var r=[];var i=t.length;for(var a=0;a<i;a++){var n=t[a];r.push(n.getUpdatedPathProxy(true))}var o=new Sl(e);o.createPathProxy();o.buildPath=function(t){if(Df(t)){t.appendPath(r);var e=t.getContext();if(e){t.rebuildPath(e,1)}}};return o}function Of(t,e){e=e||{};var r=new Sl;if(t.shape){r.setShape(t.shape)}r.setStyle(t.style);if(e.bakeTransform){df(r.path,t.getComputedTransform())}else{if(e.toLocal){r.setLocalTransform(t.getComputedTransform())}else{r.copyTransform(t)}}r.buildPath=t.buildPath;r.applyTransform=r.applyTransform;r.z=t.z;r.z2=t.z2;r.zlevel=t.zlevel;return r}var Rf=function(){function t(){this.cx=0;this.cy=0;this.r=0}return t}();var Nf=function(t){r(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new Rf};e.prototype.buildPath=function(t,e,r){if(r){t.moveTo(e.cx+e.r,e.cy)}t.arc(e.cx,e.cy,e.r,0,Math.PI*2)};return e}(Sl);Nf.prototype.type="circle";var Ef=function(){function t(){this.cx=0;this.cy=0;this.rx=0;this.ry=0}return t}();var zf=function(t){r(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new Ef};e.prototype.buildPath=function(t,e){var r=.5522848;var i=e.cx;var a=e.cy;var n=e.rx;var o=e.ry;var s=n*r;var l=o*r;t.moveTo(i-n,a);t.bezierCurveTo(i-n,a-l,i-s,a-o,i,a-o);t.bezierCurveTo(i+s,a-o,i+n,a-l,i+n,a);t.bezierCurveTo(i+n,a+l,i+s,a+o,i,a+o);t.bezierCurveTo(i-s,a+o,i-n,a+l,i-n,a);t.closePath()};return e}(Sl);zf.prototype.type="ellipse";var Bf=Math.PI;var Vf=Bf*2;var Gf=Math.sin;var Ff=Math.cos;var Hf=Math.acos;var Wf=Math.atan2;var Uf=Math.abs;var Yf=Math.sqrt;var Xf=Math.max;var Zf=Math.min;var jf=1e-4;function qf(t,e,r,i,a,n,o,s){var l=r-t;var u=i-e;var f=o-a;var h=s-n;var v=h*l-f*u;if(v*v<jf){return}v=(f*(e-n)-h*(t-a))/v;return[t+v*l,e+v*u]}function Kf(t,e,r,i,a,n,o){var s=t-r;var l=e-i;var u=(o?n:-n)/Yf(s*s+l*l);var f=u*l;var h=-u*s;var v=t+f;var c=e+h;var p=r+f;var d=i+h;var g=(v+p)/2;var y=(c+d)/2;var m=p-v;var x=d-c;var _=m*m+x*x;var b=a-n;var w=v*d-p*c;var S=(x<0?-1:1)*Yf(Xf(0,b*b*_-w*w));var M=(w*x-m*S)/_;var I=(-w*m-x*S)/_;var T=(w*x+m*S)/_;var C=(-w*m+x*S)/_;var D=M-g;var A=I-y;var k=T-g;var L=C-y;if(D*D+A*A>k*k+L*L){M=T;I=C}return{cx:M,cy:I,x01:-f,y01:-h,x11:M*(a/b-1),y11:I*(a/b-1)}}function $f(t,e){var r=Xf(e.r,0);var i=Xf(e.r0||0,0);var a=r>0;var n=i>0;if(!a&&!n){return}if(!a){r=i;i=0}if(i>r){var o=r;r=i;i=o}var s=!!e.clockwise;var l=e.startAngle;var u=e.endAngle;var f;if(l===u){f=0}else{var h=[l,u];$s(h,!s);f=Uf(h[0]-h[1])}var v=e.cx;var c=e.cy;var p=e.cornerRadius||0;var d=e.innerCornerRadius||0;if(!(r>jf)){t.moveTo(v,c)}else if(f>Vf-jf){t.moveTo(v+r*Ff(l),c+r*Gf(l));t.arc(v,c,r,l,u,!s);if(i>jf){t.moveTo(v+i*Ff(u),c+i*Gf(u));t.arc(v,c,i,u,l,s)}}else{var g=Uf(r-i)/2;var y=Zf(g,p);var m=Zf(g,d);var x=m;var _=y;var b=r*Ff(l);var w=r*Gf(l);var S=i*Ff(u);var M=i*Gf(u);var I=void 0;var T=void 0;var C=void 0;var D=void 0;if(y>jf||m>jf){I=r*Ff(u);T=r*Gf(u);C=i*Ff(l);D=i*Gf(l);if(f<Bf){var A=qf(b,w,C,D,I,T,S,M);if(A){var k=b-A[0];var L=w-A[1];var P=I-A[0];var O=T-A[1];var R=1/Gf(Hf((k*P+L*O)/(Yf(k*k+L*L)*Yf(P*P+O*O)))/2);var N=Yf(A[0]*A[0]+A[1]*A[1]);x=Zf(m,(i-N)/(R-1));_=Zf(y,(r-N)/(R+1))}}}if(!(f>jf)){t.moveTo(v+b,c+w)}else if(_>jf){var E=Kf(C,D,b,w,r,_,s);var z=Kf(I,T,S,M,r,_,s);t.moveTo(v+E.cx+E.x01,c+E.cy+E.y01);if(_<y){t.arc(v+E.cx,c+E.cy,_,Wf(E.y01,E.x01),Wf(z.y01,z.x01),!s)}else{t.arc(v+E.cx,c+E.cy,_,Wf(E.y01,E.x01),Wf(E.y11,E.x11),!s);t.arc(v,c,r,Wf(E.cy+E.y11,E.cx+E.x11),Wf(z.cy+z.y11,z.cx+z.x11),!s);t.arc(v+z.cx,c+z.cy,_,Wf(z.y11,z.x11),Wf(z.y01,z.x01),!s)}}else{t.moveTo(v+b,c+w);t.arc(v,c,r,l,u,!s)}if(!(i>jf)||!(f>jf)){t.lineTo(v+S,c+M)}else if(x>jf){var E=Kf(S,M,I,T,i,-x,s);var z=Kf(b,w,C,D,i,-x,s);t.lineTo(v+E.cx+E.x01,c+E.cy+E.y01);if(x<m){t.arc(v+E.cx,c+E.cy,x,Wf(E.y01,E.x01),Wf(z.y01,z.x01),!s)}else{t.arc(v+E.cx,c+E.cy,x,Wf(E.y01,E.x01),Wf(E.y11,E.x11),!s);t.arc(v,c,i,Wf(E.cy+E.y11,E.cx+E.x11),Wf(z.cy+z.y11,z.cx+z.x11),s);t.arc(v+z.cx,c+z.cy,x,Wf(z.y11,z.x11),Wf(z.y01,z.x01),!s)}}else{t.lineTo(v+S,c+M);t.arc(v,c,i,u,l,s)}}t.closePath()}var Jf=function(){function t(){this.cx=0;this.cy=0;this.r0=0;this.r=0;this.startAngle=0;this.endAngle=Math.PI*2;this.clockwise=true;this.cornerRadius=0;this.innerCornerRadius=0}return t}();var Qf=function(t){r(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new Jf};e.prototype.buildPath=function(t,e){$f(t,e)};e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0};return e}(Sl);Qf.prototype.type="sector";var th=function(){function t(){this.cx=0;this.cy=0;this.r=0;this.r0=0}return t}();var eh=function(t){r(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new th};e.prototype.buildPath=function(t,e){var r=e.cx;var i=e.cy;var a=Math.PI*2;t.moveTo(r+e.r,i);t.arc(r,i,e.r,0,a,false);t.moveTo(r+e.r0,i);t.arc(r,i,e.r0,0,a,true)};return e}(Sl);eh.prototype.type="ring";function rh(t,e,r,i,a,n,o){var s=(r-t)*.5;var l=(i-e)*.5;return(2*(e-r)+s+l)*o+(-3*(e-r)-2*s-l)*n+s*a+e}function ih(t,e){var r=t.length;var i=[];var a=0;for(var n=1;n<r;n++){a+=Nt(t[n-1],t[n])}var o=a/2;o=o<r?r:o;for(var n=0;n<o;n++){var s=n/(o-1)*(e?r:r-1);var l=Math.floor(s);var u=s-l;var f=void 0;var h=t[l%r];var v=void 0;var c=void 0;if(!e){f=t[l===0?l:l-1];v=t[l>r-2?r-1:l+1];c=t[l>r-3?r-1:l+2]}else{f=t[(l-1+r)%r];v=t[(l+1)%r];c=t[(l+2)%r]}var p=u*u;var d=u*p;i.push([rh(f[0],h[0],v[0],c[0],u,p,d),rh(f[1],h[1],v[1],c[1],u,p,d)])}return i}function ah(t,e,r,i){var a=[];var n=[];var o=[];var s=[];var l;var u;var f;var h;if(i){f=[Infinity,Infinity];h=[-Infinity,-Infinity];for(var v=0,c=t.length;v<c;v++){Ht(f,f,t[v]);Wt(h,h,t[v])}Ht(f,f,i[0]);Wt(h,h,i[1])}for(var v=0,c=t.length;v<c;v++){var p=t[v];if(r){l=t[v?v-1:c-1];u=t[(v+1)%c]}else{if(v===0||v===c-1){a.push(bt(t[v]));continue}else{l=t[v-1];u=t[v+1]}}It(n,u,l);Ot(n,n,e);var d=Nt(p,l);var g=Nt(p,u);var y=d+g;if(y!==0){d/=y;g/=y}Ot(o,n,-d);Ot(s,n,g);var m=St([],p,o);var x=St([],p,s);if(i){Wt(m,m,f);Ht(m,m,h);Wt(x,x,f);Ht(x,x,h)}a.push(m);a.push(x)}if(r){a.push(a.shift())}return a}function nh(t,e,r){var i=e.smooth;var a=e.points;if(a&&a.length>=2){if(i&&i!=="spline"){var n=ah(a,i,r,e.smoothConstraint);t.moveTo(a[0][0],a[0][1]);var o=a.length;for(var s=0;s<(r?o:o-1);s++){var l=n[s*2];var u=n[s*2+1];var f=a[(s+1)%o];t.bezierCurveTo(l[0],l[1],u[0],u[1],f[0],f[1])}}else{if(i==="spline"){a=ih(a,r)}t.moveTo(a[0][0],a[0][1]);for(var s=1,h=a.length;s<h;s++){t.lineTo(a[s][0],a[s][1])}}r&&t.closePath()}}var oh=function(){function t(){this.points=null;this.smooth=0;this.smoothConstraint=null}return t}();var sh=function(t){r(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new oh};e.prototype.buildPath=function(t,e){nh(t,e,true)};return e}(Sl);sh.prototype.type="polygon";var lh=function(){function t(){this.points=null;this.percent=1;this.smooth=0;this.smoothConstraint=null}return t}();var uh=function(t){r(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new lh};e.prototype.buildPath=function(t,e){nh(t,e,false)};return e}(Sl);uh.prototype.type="polyline";var fh={};var hh=function(){function t(){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.percent=1}return t}();var vh=function(t){r(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new hh};e.prototype.buildPath=function(t,e){var r;var i;var a;var n;if(this.subPixelOptimize){var o=Pl(fh,e,this.style);r=o.x1;i=o.y1;a=o.x2;n=o.y2}else{r=e.x1;i=e.y1;a=e.x2;n=e.y2}var s=e.percent;if(s===0){return}t.moveTo(r,i);if(s<1){a=r*(1-s)+a*s;n=i*(1-s)+n*s}t.lineTo(a,n)};e.prototype.pointAt=function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]};return e}(Sl);vh.prototype.type="line";var ch=[];var ph=function(){function t(){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.cpx1=0;this.cpy1=0;this.percent=1}return t}();function dh(t,e,r){var i=t.cpx2;var a=t.cpy2;if(i===null||a===null){return[(r?ns:as)(t.x1,t.cpx1,t.cpx2,t.x2,e),(r?ns:as)(t.y1,t.cpy1,t.cpy2,t.y2,e)]}else{return[(r?vs:hs)(t.x1,t.cpx1,t.x2,e),(r?vs:hs)(t.y1,t.cpy1,t.y2,e)]}}var gh=function(t){r(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new ph};e.prototype.buildPath=function(t,e){var r=e.x1;var i=e.y1;var a=e.x2;var n=e.y2;var o=e.cpx1;var s=e.cpy1;var l=e.cpx2;var u=e.cpy2;var f=e.percent;if(f===0){return}t.moveTo(r,i);if(l==null||u==null){if(f<1){ds(r,o,a,f,ch);o=ch[1];a=ch[2];ds(i,s,n,f,ch);s=ch[1];n=ch[2]}t.quadraticCurveTo(o,s,a,n)}else{if(f<1){ls(r,o,l,a,f,ch);o=ch[1];l=ch[2];a=ch[3];ls(i,s,u,n,f,ch);s=ch[1];u=ch[2];n=ch[3]}t.bezierCurveTo(o,s,l,u,a,n)}};e.prototype.pointAt=function(t){return dh(this.shape,t,false)};e.prototype.tangentAt=function(t){var e=dh(this.shape,t,true);return Rt(e,e)};return e}(Sl);gh.prototype.type="bezier-curve";var yh=function(){function t(){this.cx=0;this.cy=0;this.r=0;this.startAngle=0;this.endAngle=Math.PI*2;this.clockwise=true}return t}();var mh=function(t){r(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new yh};e.prototype.buildPath=function(t,e){var r=e.cx;var i=e.cy;var a=Math.max(e.r,0);var n=e.startAngle;var o=e.endAngle;var s=e.clockwise;var l=Math.cos(n);var u=Math.sin(n);t.moveTo(l*a+r,u*a+i);t.arc(r,i,a,n,o,!s)};return e}(Sl);mh.prototype.type="arc";var xh=function(t){r(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="compound";return e}e.prototype._updatePathDirty=function(){var t=this.shape.paths;var e=this.shapeChanged();for(var r=0;r<t.length;r++){e=e||t[r].shapeChanged()}if(e){this.dirtyShape()}};e.prototype.beforeBrush=function(){this._updatePathDirty();var t=this.shape.paths||[];var e=this.getGlobalScale();for(var r=0;r<t.length;r++){if(!t[r].path){t[r].createPathProxy()}t[r].path.setScale(e[0],e[1],t[r].segmentIgnoreThreshold)}};e.prototype.buildPath=function(t,e){var r=e.paths||[];for(var i=0;i<r.length;i++){r[i].buildPath(t,r[i].shape,true)}};e.prototype.afterBrush=function(){var t=this.shape.paths||[];for(var e=0;e<t.length;e++){t[e].pathUpdated()}};e.prototype.getBoundingRect=function(){this._updatePathDirty.call(this);return Sl.prototype.getBoundingRect.call(this)};return e}(Sl);var _h=function(){function t(t){this.colorStops=t||[]}t.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})};return t}();var bh=function(t){r(e,t);function e(e,r,i,a,n,o){var s=t.call(this,n)||this;s.x=e==null?0:e;s.y=r==null?0:r;s.x2=i==null?1:i;s.y2=a==null?0:a;s.type="linear";s.global=o||false;return s}return e}(_h);var wh=function(t){r(e,t);function e(e,r,i,a,n){var o=t.call(this,a)||this;o.x=e==null?.5:e;o.y=r==null?.5:r;o.r=i==null?.5:i;o.type="radial";o.global=n||false;return o}return e}(_h);var Sh=[0,0];var Mh=[0,0];var Ih=new Ei;var Th=new Ei;var Ch=function(){function t(t,e){this._corners=[];this._axes=[];this._origin=[0,0];for(var r=0;r<4;r++){this._corners[r]=new Ei}for(var r=0;r<2;r++){this._axes[r]=new Ei}if(t){this.fromBoundingRect(t,e)}}t.prototype.fromBoundingRect=function(t,e){var r=this._corners;var i=this._axes;var a=t.x;var n=t.y;var o=a+t.width;var s=n+t.height;r[0].set(a,n);r[1].set(o,n);r[2].set(o,s);r[3].set(a,s);if(e){for(var l=0;l<4;l++){r[l].transform(e)}}Ei.sub(i[0],r[1],r[0]);Ei.sub(i[1],r[3],r[0]);i[0].normalize();i[1].normalize();for(var l=0;l<2;l++){this._origin[l]=i[l].dot(r[0])}};t.prototype.intersect=function(t,e){var r=true;var i=!e;Ih.set(Infinity,Infinity);Th.set(0,0);if(!this._intersectCheckOneSide(this,t,Ih,Th,i,1)){r=false;if(i){return r}}if(!this._intersectCheckOneSide(t,this,Ih,Th,i,-1)){r=false;if(i){return r}}if(!i){Ei.copy(e,r?Ih:Th)}return r};t.prototype._intersectCheckOneSide=function(t,e,r,i,a,n){var o=true;for(var s=0;s<2;s++){var l=this._axes[s];this._getProjMinMaxOnAxis(s,t._corners,Sh);this._getProjMinMaxOnAxis(s,e._corners,Mh);if(Sh[1]<Mh[0]||Sh[0]>Mh[1]){o=false;if(a){return o}var u=Math.abs(Mh[0]-Sh[1]);var f=Math.abs(Sh[0]-Mh[1]);if(Math.min(u,f)>i.len()){if(u<f){Ei.scale(i,l,-u*n)}else{Ei.scale(i,l,f*n)}}}else if(r){var u=Math.abs(Mh[0]-Sh[1]);var f=Math.abs(Sh[0]-Mh[1]);if(Math.min(u,f)<r.len()){if(u<f){Ei.scale(r,l,u*n)}else{Ei.scale(r,l,-f*n)}}}}return o};t.prototype._getProjMinMaxOnAxis=function(t,e,r){var i=this._axes[t];var a=this._origin;var n=e[0].dot(i)+a[t];var o=n;var s=n;for(var l=1;l<e.length;l++){var u=e[l].dot(i)+a[t];o=Math.min(u,o);s=Math.max(u,s)}r[0]=o;r[1]=s};return t}();var Dh=[];var Ah=function(t){r(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.notClear=true;e.incremental=true;e._displayables=[];e._temporaryDisplayables=[];e._cursor=0;return e}e.prototype.traverse=function(t,e){t.call(e,this)};e.prototype.useStyle=function(){this.style={}};e.prototype.getCursor=function(){return this._cursor};e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length};e.prototype.clearDisplaybles=function(){this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.markRedraw();this.notClear=false};e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]};e.prototype.addDisplayable=function(t,e){if(e){this._temporaryDisplayables.push(t)}else{this._displayables.push(t)}this.markRedraw()};e.prototype.addDisplayables=function(t,e){e=e||false;for(var r=0;r<t.length;r++){this.addDisplayable(t[r],e)}};e.prototype.getDisplayables=function(){return this._displayables};e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables};e.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++){t&&t(this._displayables[e])}for(var e=0;e<this._temporaryDisplayables.length;e++){t&&t(this._temporaryDisplayables[e])}};e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var e=this._displayables[t];e.parent=this;e.update();e.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var e=this._temporaryDisplayables[t];e.parent=this;e.update();e.parent=null}};e.prototype.getBoundingRect=function(){if(!this._rect){var t=new Yi(Infinity,Infinity,-Infinity,-Infinity);for(var e=0;e<this._displayables.length;e++){var r=this._displayables[e];var i=r.getBoundingRect().clone();if(r.needLocalTransform()){i.applyTransform(r.getLocalTransform(Dh))}t.union(i)}this._rect=t}return this._rect};e.prototype.contain=function(t,e){var r=this.transformCoordToLocal(t,e);var i=this.getBoundingRect();if(i.contain(r[0],r[1])){for(var a=0;a<this._displayables.length;a++){var n=this._displayables[a];if(n.contain(t,e)){return true}}}return false};return e}(Wo);var kh=Fn();function Lh(t,e,r,i,a){var n;if(e&&e.ecModel){var o=e.ecModel.getUpdatePayload();n=o&&o.animation}var s=e&&e.isAnimationEnabled();var l=t==="update";if(s){var u=void 0;var f=void 0;var h=void 0;if(i){u=it(i.duration,200);f=it(i.easing,"cubicOut");h=0}else{u=e.getShallow(l?"animationDurationUpdate":"animationDuration");f=e.getShallow(l?"animationEasingUpdate":"animationEasing");h=e.getShallow(l?"animationDelayUpdate":"animationDelay")}if(n){n.duration!=null&&(u=n.duration);n.easing!=null&&(f=n.easing);n.delay!=null&&(h=n.delay)}if(typeof h==="function"){h=h(r,a)}if(typeof u==="function"){u=u(r)}var v={duration:u||0,delay:h,easing:f};return v}else{return null}}function Ph(t,e,r,i,a,n,o){var s=false;var l;if(typeof a==="function"){o=n;n=a;a=null}else if(j(a)){n=a.cb;o=a.during;s=a.isFrom;l=a.removeOpt;a=a.dataIndex}var u=t==="remove";if(!u){e.stopAnimation("remove")}var f=Lh(t,i,a,u?l||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(e,a):null);if(f&&f.duration>0){var h=f.duration;var v=f.delay;var c=f.easing;var p={duration:h,delay:v||0,easing:c,done:n,force:!!n||!!o,setToFinal:!u,scope:t,during:o};s?e.animateFrom(r,p):e.animateTo(r,p)}else{e.stopAnimation();!s&&e.attr(r);o&&o(1);n&&n()}}function Oh(t,e,r,i,a,n){Ph("update",t,e,r,i,a,n)}function Rh(t,e,r,i,a,n){Ph("init",t,e,r,i,a,n)}function Nh(t){if(!t.__zr){return true}for(var e=0;e<t.animators.length;e++){var r=t.animators[e];if(r.scope==="remove"){return true}}return false}function Eh(t,e,r,i,a,n){if(Nh(t)){return}Ph("remove",t,e,r,i,a,n)}function zh(t,e,r,i){t.removeTextContent();t.removeTextGuideLine();Eh(t,{style:{opacity:0}},e,r,i)}function Bh(t,e,r){function i(){t.parent&&t.parent.remove(t)}if(!t.isGroup){zh(t,e,r,i)}else{t.traverse(function(t){if(!t.isGroup){zh(t,e,r,i)}})}}function Vh(t){kh(t).oldStyle=t.style}function Gh(t){return kh(t).oldStyle}var Fh=Math.max;var Hh=Math.min;var Wh={};function Uh(t){return Sl.extend(t)}var Yh=Lf;function Xh(t,e){return Yh(t,e)}function Zh(t,e){Wh[t]=e}function jh(t){if(Wh.hasOwnProperty(t)){return Wh[t]}}function qh(t,e,r,i){var a=kf(t,e);if(r){if(i==="center"){r=$h(r,a.getBoundingRect())}Qh(a,r)}return a}function Kh(t,e,r){var i=new Al({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if(r==="center"){var a={width:t.width,height:t.height};i.setStyle($h(e,a))}}});return i}function $h(t,e){var r=e.width/e.height;var i=t.height*r;var a;if(i<=t.width){a=t.height}else{i=t.width;a=i/r}var n=t.x+t.width/2;var o=t.y+t.height/2;return{x:n-i/2,y:o-a/2,width:i,height:a}}var Jh=Pf;function Qh(t,e){if(!t.applyTransform){return}var r=t.getBoundingRect();var i=r.calculateTransform(e);t.applyTransform(i)}function tv(t){Pl(t.shape,t.shape,t.style);return t}function ev(t){Ol(t.shape,t.shape,t.style);return t}var rv=Rl;function iv(t,e){var r=mi([]);while(t&&t!==e){_i(r,t.getLocalTransform(),r);t=t.parent}return r}function av(t,e,r){if(e&&!O(e)){e=Ri.getLocalTransform(e)}if(r){e=Mi([],e)}return Ft([],t,e)}function nv(t,e,r){var i=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]);var a=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]);var n=[t==="left"?-i:t==="right"?i:0,t==="top"?-a:t==="bottom"?a:0];n=av(n,e,r);return Math.abs(n[0])>Math.abs(n[1])?n[0]>0?"right":"left":n[1]>0?"bottom":"top"}function ov(t){return!t.isGroup}function sv(t){return t.shape!=null}function lv(t,e,r){if(!t||!e){return}function i(t){var e={};t.traverse(function(t){if(ov(t)&&t.anid){e[t.anid]=t}});return e}function a(t){var e={x:t.x,y:t.y,rotation:t.rotation};if(sv(t)){e.shape=C({},t.shape)}return e}var n=i(t);e.traverse(function(t){if(ov(t)&&t.anid){var e=n[t.anid];if(e){var i=a(t);t.attr(a(e));Oh(t,i,r,$l(t).dataIndex)}}})}function uv(t,e){return N(t,function(t){var r=t[0];r=Fh(r,e.x);r=Hh(r,e.x+e.width);var i=t[1];i=Fh(i,e.y);i=Hh(i,e.y+e.height);return[r,i]})}function fv(t,e){var r=Fh(t.x,e.x);var i=Hh(t.x+t.width,e.x+e.width);var a=Fh(t.y,e.y);var n=Hh(t.y+t.height,e.y+e.height);if(i>=r&&n>=a){return{x:r,y:a,width:i-r,height:n-a}}}function hv(t,e,r){var i=C({rectHover:true},e);var a=i.style={strokeNoScale:true};r=r||{x:-1,y:-1,width:2,height:2};if(t){return t.indexOf("image://")===0?(a.image=t.slice(8),D(a,r),new Al(i)):qh(t.replace("path://",""),i,r,"center")}}function vv(t,e,r,i,a){for(var n=0,o=a[a.length-1];n<a.length;n++){var s=a[n];if(cv(t,e,r,i,s[0],s[1],o[0],o[1])){return true}o=s}}function cv(t,e,r,i,a,n,o,s){var l=r-t;var u=i-e;var f=o-a;var h=s-n;var v=pv(f,h,l,u);if(dv(v)){return false}var c=t-a;var p=e-n;var d=pv(c,p,l,u)/v;if(d<0||d>1){return false}var g=pv(c,p,f,h)/v;if(g<0||g>1){return false}return true}function pv(t,e,r,i){return t*i-r*e}function dv(t){return t<=1e-6&&t>=-1e-6}function gv(t){var e=t.itemTooltipOption;var r=t.componentModel;var i=t.itemName;var a=Y(e)?{formatter:e}:e;var n=r.mainType;var o=r.componentIndex;var s={componentType:n,name:i,$vars:["name"]};s[n+"Index"]=o;var l=t.formatterParamsExtra;if(l){R(V(l),function(t){if(!gt(s,t)){s[t]=l[t];s.$vars.push(t)}})}var u=$l(t.el);u.componentMainType=n;u.componentIndex=o;u.tooltipConfig={name:i,option:D({content:i,formatterParams:s},a)}}Zh("circle",Nf);Zh("ellipse",zf);Zh("sector",Qf);Zh("ring",eh);Zh("polygon",sh);Zh("polyline",uh);Zh("rect",zl);Zh("line",vh);Zh("bezierCurve",gh);Zh("arc",mh);var yv=Object.freeze({__proto__:null,updateProps:Oh,initProps:Rh,removeElement:Eh,removeElementWithFadeOut:Bh,isElementRemoved:Nh,extendShape:Uh,extendPath:Xh,registerShape:Zh,getShapeClass:jh,makePath:qh,makeImage:Kh,mergePath:Jh,resizePath:Qh,subPixelOptimizeLine:tv,subPixelOptimizeRect:ev,subPixelOptimize:rv,getTransform:iv,applyTransform:av,transformDirection:nv,groupTransition:lv,clipPointsByRect:uv,clipRectByRect:fv,createIcon:hv,linePolygonIntersect:vv,lineLineIntersect:cv,setTooltipConfig:gv,Group:ya,Image:Al,Text:Fl,Circle:Nf,Ellipse:zf,Sector:Qf,Ring:eh,Polygon:sh,Polyline:uh,Rect:zl,Line:vh,BezierCurve:gh,Arc:mh,IncrementalDisplayable:Ah,CompoundPath:xh,LinearGradient:bh,RadialGradient:wh,BoundingRect:Yi,OrientedBoundingRect:Ch,Point:Ei,Path:Sl});var mv={};function xv(t,e){for(var r=0;r<nu.length;r++){var i=nu[r];var a=e[i];var n=t.ensureState(i);n.style=n.style||{};n.style.text=a}var o=t.currentStates.slice();t.clearStates(true);t.setStyle({text:e.normal});t.useStates(o,true)}function _v(t,e,r){var i=t.labelFetcher;var a=t.labelDataIndex;var n=t.labelDimIndex;var o=e.normal;var s;if(i){s=i.getFormattedLabel(a,"normal",null,n,o&&o.get("formatter"),r!=null?{interpolatedValue:r}:null)}if(s==null){s=U(t.defaultText)?t.defaultText(a,t,r):t.defaultText}var l={normal:s};for(var u=0;u<nu.length;u++){var f=nu[u];var h=e[f];l[f]=it(i?i.getFormattedLabel(a,f,null,n,h&&h.get("formatter")):null,s)}return l}function bv(t,e,r,i){r=r||mv;var a=t instanceof Fl;var n=false;for(var o=0;o<ou.length;o++){var s=e[ou[o]];if(s&&s.getShallow("show")){n=true;break}}var l=a?t:t.getTextContent();if(n){if(!a){if(!l){l=new Fl;t.setTextContent(l)}if(t.stateProxy){l.stateProxy=t.stateProxy}}var u=_v(r,e);var f=e.normal;var h=!!f.getShallow("show");var v=Sv(f,i&&i.normal,r,false,!a);v.text=u.normal;if(!a){t.setTextConfig(Mv(f,r,false))}for(var o=0;o<nu.length;o++){var c=nu[o];var s=e[c];if(s){var p=l.ensureState(c);var d=!!it(s.getShallow("show"),h);if(d!==h){p.ignore=!d}p.style=Sv(s,i&&i[c],r,true,!a);p.style.text=u[c];if(!a){var g=t.ensureState(c);g.textConfig=Mv(s,r,true)}}}l.silent=!!f.getShallow("silent");if(l.style.x!=null){v.x=l.style.x}if(l.style.y!=null){v.y=l.style.y}l.ignore=!h;l.useStyle(v);l.dirty();if(r.enableTextSetter){Pv(l).setLabelText=function(t){var i=_v(r,e,t);xv(l,i)}}}else if(l){l.ignore=true}t.dirty()}function wv(t,e){e=e||"label";var r={normal:t.getModel(e)};for(var i=0;i<nu.length;i++){var a=nu[i];r[a]=t.getModel([a,e])}return r}function Sv(t,e,r,i,a){var n={};Iv(n,t,r,i,a);e&&C(n,e);return n}function Mv(t,e,r){e=e||{};var i={};var a;var n=t.getShallow("rotate");var o=it(t.getShallow("distance"),r?null:5);var s=t.getShallow("offset");a=t.getShallow("position")||(r?null:"inside");a==="outside"&&(a=e.defaultOutsidePosition||"top");if(a!=null){i.position=a}if(s!=null){i.offset=s}if(n!=null){n*=Math.PI/180;i.rotation=n}if(o!=null){i.distance=o}i.outsideFill=t.get("color")==="inherit"?e.inheritColor||null:"auto";return i}function Iv(t,e,r,i,a){r=r||mv;var n=e.ecModel;var o=n&&n.option.textStyle;var s=Tv(e);var l;if(s){l={};for(var u in s){if(s.hasOwnProperty(u)){var f=e.getModel(["rich",u]);kv(l[u]={},f,o,r,i,a,false,true)}}}if(l){t.rich=l}var h=e.get("overflow");if(h){t.overflow=h}var v=e.get("minMargin");if(v!=null){t.margin=v}kv(t,e,o,r,i,a,true,false)}function Tv(t){var e;while(t&&t!==t.ecModel){var r=(t.option||mv).rich;if(r){e=e||{};var i=V(r);for(var a=0;a<i.length;a++){var n=i[a];e[n]=1}}t=t.parentModel}return e}var Cv=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"];var Dv=["align","lineHeight","width","height","tag","verticalAlign"];var Av=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function kv(t,e,r,i,a,n,o,s){r=!a&&r||mv;var l=i&&i.inheritColor;var u=e.getShallow("color");var f=e.getShallow("textBorderColor");var h=it(e.getShallow("opacity"),r.opacity);if(u==="inherit"||u==="auto"){if("development"!=="production"){if(u==="auto"){hn("color: 'auto'","color: 'inherit'")}}if(l){u=l}else{u=null}}if(f==="inherit"||f==="auto"){if("development"!=="production"){if(f==="auto"){hn("color: 'auto'","color: 'inherit'")}}if(l){f=l}else{f=null}}if(!n){u=u||r.color;f=f||r.textBorderColor}if(u!=null){t.fill=u}if(f!=null){t.stroke=f}var v=it(e.getShallow("textBorderWidth"),r.textBorderWidth);if(v!=null){t.lineWidth=v}var c=it(e.getShallow("textBorderType"),r.textBorderType);if(c!=null){t.lineDash=c}var p=it(e.getShallow("textBorderDashOffset"),r.textBorderDashOffset);if(p!=null){t.lineDashOffset=p}if(!a&&h==null&&!s){h=i&&i.defaultOpacity}if(h!=null){t.opacity=h}if(!a&&!n){if(t.fill==null&&i.inheritColor){t.fill=i.inheritColor}}for(var d=0;d<Cv.length;d++){var g=Cv[d];var y=it(e.getShallow(g),r[g]);if(y!=null){t[g]=y}}for(var d=0;d<Dv.length;d++){var g=Dv[d];var y=e.getShallow(g);if(y!=null){t[g]=y}}if(t.verticalAlign==null){var m=e.getShallow("baseline");if(m!=null){t.verticalAlign=m}}if(!o||!i.disableBox){for(var d=0;d<Av.length;d++){var g=Av[d];var y=e.getShallow(g);if(y!=null){t[g]=y}}var x=e.getShallow("borderType");if(x!=null){t.borderDash=x}if((t.backgroundColor==="auto"||t.backgroundColor==="inherit")&&l){if("development"!=="production"){if(t.backgroundColor==="auto"){hn("backgroundColor: 'auto'","backgroundColor: 'inherit'")}}t.backgroundColor=l}if((t.borderColor==="auto"||t.borderColor==="inherit")&&l){if("development"!=="production"){if(t.borderColor==="auto"){hn("borderColor: 'auto'","borderColor: 'inherit'")}}t.borderColor=l}}}function Lv(t,e){var r=e&&e.getModel("textStyle");return lt([t.fontStyle||r&&r.getShallow("fontStyle")||"",t.fontWeight||r&&r.getShallow("fontWeight")||"",(t.fontSize||r&&r.getShallow("fontSize")||12)+"px",t.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var Pv=Fn();function Ov(t,e,r,i){if(!t){return}var a=Pv(t);a.prevValue=a.value;a.value=r;var n=e.normal;a.valueAnimation=n.get("valueAnimation");if(a.valueAnimation){a.precision=n.get("precision");a.defaultInterpolatedText=i;a.statesModels=e}}function Rv(t,e,r,i,a){var n=Pv(t);if(!n.valueAnimation){return}var o=n.defaultInterpolatedText;var s=it(n.interpolatedValue,n.prevValue);var l=n.value;function u(i){var u=Jn(r,n.precision,s,l,i);n.interpolatedValue=i===1?null:u;var f=_v({labelDataIndex:e,labelFetcher:a,defaultText:o?o(u):u+""},n.statesModels,u);xv(t,f)}(n.prevValue==null?Rh:Oh)(t,{},i,e,null,u)}var Nv=["textStyle","color"];var Ev=new Fl;var zv=function(){function t(){}t.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(Nv):null)};t.prototype.getFont=function(){return Lv({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)};t.prototype.getTextRect=function(t){Ev.useStyle({text:t,fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily"),verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline"),padding:this.getShallow("padding"),lineHeight:this.getShallow("lineHeight"),rich:this.getShallow("rich")});Ev.update();return Ev.getBoundingRect()};return t}();var Bv=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]];var Vv=co(Bv);var Gv=function(){function t(){}t.prototype.getLineStyle=function(t){return Vv(this,t)};return t}();var Fv=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]];var Hv=co(Fv);var Wv=function(){function t(){}t.prototype.getItemStyle=function(t,e){return Hv(this,t,e)};return t}();var Uv=function(){function t(t,e,r){this.parentModel=e;this.ecModel=r;this.option=t}t.prototype.init=function(t,e,r){var i=[];for(var a=3;a<arguments.length;a++){i[a-3]=arguments[a]}};t.prototype.mergeOption=function(t,e){I(this.option,t,true)};t.prototype.get=function(t,e){if(t==null){return this.option}return this._doGet(this.parsePath(t),!e&&this.parentModel)};t.prototype.getShallow=function(t,e){var r=this.option;var i=r==null?r:r[t];if(i==null&&!e){var a=this.parentModel;if(a){i=a.getShallow(t)}}return i};t.prototype.getModel=function(e,r){var i=e!=null;var a=i?this.parsePath(e):null;var n=i?this._doGet(a):this.option;r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(a));return new t(n,r,this.ecModel)};t.prototype.isEmpty=function(){return this.option==null};t.prototype.restoreData=function(){};t.prototype.clone=function(){var t=this.constructor;return new t(M(this.option))};t.prototype.parsePath=function(t){if(typeof t==="string"){return t.split(".")}return t};t.prototype.resolveParentPath=function(t){return t};t.prototype.isAnimationEnabled=function(){if(!s.node&&this.option){if(this.option.animation!=null){return!!this.option.animation}else if(this.parentModel){return this.parentModel.isAnimationEnabled()}}};t.prototype._doGet=function(t,e){var r=this.option;if(!t){return r}for(var i=0;i<t.length;i++){if(!t[i]){continue}r=r&&typeof r==="object"?r[t[i]]:null;if(r==null){break}}if(r==null&&e){r=e._doGet(this.resolveParentPath(t),e.parentModel)}return r};return t}();no(Uv);uo(Uv);P(Uv,Gv);P(Uv,Wv);P(Uv,yo);P(Uv,zv);var Yv=Math.round(Math.random()*10);function Xv(t){return[t||"",Yv++].join("_")}function Zv(t){var e={};t.registerSubTypeDefaulter=function(t,r){var i=ro(t);e[i.main]=r};t.determineSubType=function(r,i){var a=i.type;if(!a){var n=ro(r).main;if(t.hasSubTypes(r)&&e[n]){a=e[n](i)}}return a}}function jv(t,e){t.topologicalTravel=function(t,e,i,a){if(!t.length){return}var n=r(e);var o=n.graph;var s=n.noEntryList;var l={};R(t,function(t){l[t]=true});while(s.length){var u=s.pop();var f=o[u];var h=!!l[u];if(h){i.call(a,u,f.originalDeps.slice());delete l[u]}R(f.successor,h?c:v)}R(l,function(){var r="";if("development"!=="production"){r=cn("Circular dependency may exists: ",l,t,e)}throw new Error(r)});function v(t){o[t].entryCount--;if(o[t].entryCount===0){s.push(t)}}function c(t){l[t]=true;v(t)}};function r(t){var r={};var n=[];R(t,function(o){var s=i(r,o);var l=s.originalDeps=e(o);var u=a(l,t);s.entryCount=u.length;if(s.entryCount===0){n.push(o)}R(u,function(t){if(k(s.predecessor,t)<0){s.predecessor.push(t)}var e=i(r,t);if(k(e.successor,t)<0){e.successor.push(o)}})});return{graph:r,noEntryList:n}}function i(t,e){if(!t[e]){t[e]={predecessor:[],successor:[]}}return t[e]}function a(t,e){var r=[];R(t,function(t){k(e,t)>=0&&r.push(t)});return r}}function qv(t,e){return I(I({},t,true),e,true)}var Kv={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}};var $v={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var Jv="ZH";var Qv="EN";var tc=Qv;var ec={};var rc={};var ic=!s.domSupported?tc:function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return t.indexOf(Jv)>-1?Jv:tc}();function ac(t,e){t=t.toUpperCase();rc[t]=new Uv(e);ec[t]=e}function nc(t){if(Y(t)){var e=ec[t.toUpperCase()]||{};if(t===Jv||t===Qv){return M(e)}else{return I(M(e),M(ec[tc]),false)}}else{return I(M(t),M(ec[tc]),false)}}function oc(t){return rc[t]}function sc(){return rc[tc]}ac(Qv,Kv);ac(Jv,$v);var lc=1e3;var uc=lc*60;var fc=uc*60;var hc=fc*24;var vc=hc*365;var cc={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"};var pc="{yyyy}-{MM}-{dd}";var dc={year:"{yyyy}",month:"{yyyy}-{MM}",day:pc,hour:pc+" "+cc.hour,minute:pc+" "+cc.minute,second:pc+" "+cc.second,millisecond:cc.none};var gc=["year","month","day","hour","minute","second","millisecond"];var yc=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function mc(t,e){t+="";return"0000".substr(0,e-t.length)+t}function xc(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function _c(t){return t===xc(t)}function bc(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function wc(t,e,r,i){var a=Za(t);var n=a[Tc(r)]();var o=a[Cc(r)]()+1;var s=Math.floor((o-1)/4)+1;var l=a[Dc(r)]();var u=a["get"+(r?"UTC":"")+"Day"]();var f=a[Ac(r)]();var h=(f-1)%12+1;var v=a[kc(r)]();var c=a[Lc(r)]();var p=a[Pc(r)]();var d=i instanceof Uv?i:oc(i||ic)||sc();var g=d.getModel("time");var y=g.get("month");var m=g.get("monthAbbr");var x=g.get("dayOfWeek");var _=g.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,n+"").replace(/{yy}/g,n%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,y[o-1]).replace(/{MMM}/g,m[o-1]).replace(/{MM}/g,mc(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,mc(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,x[u]).replace(/{ee}/g,_[u]).replace(/{e}/g,u+"").replace(/{HH}/g,mc(f,2)).replace(/{H}/g,f+"").replace(/{hh}/g,mc(h+"",2)).replace(/{h}/g,h+"").replace(/{mm}/g,mc(v,2)).replace(/{m}/g,v+"").replace(/{ss}/g,mc(c,2)).replace(/{s}/g,c+"").replace(/{SSS}/g,mc(p,3)).replace(/{S}/g,p+"")}function Sc(t,e,r,i,a){var n=null;if(typeof r==="string"){n=r}else if(typeof r==="function"){n=r(t.value,e,{level:t.level})}else{var o=C({},cc);if(t.level>0){for(var s=0;s<gc.length;++s){o[gc[s]]="{primary|"+o[gc[s]]+"}"}}var l=r?r.inherit===false?r:D(r,o):o;var u=Mc(t.value,a);if(l[u]){n=l[u]}else if(l.inherit){var f=yc.indexOf(u);for(var s=f-1;s>=0;--s){if(l[u]){n=l[u];break}}n=n||o.none}if(W(n)){var h=t.level==null?0:t.level>=0?t.level:n.length+t.level;h=Math.min(h,n.length-1);n=n[h]}}return wc(new Date(t.value),n,a,i)}function Mc(t,e){var r=Za(t);var i=r[Cc(e)]()+1;var a=r[Dc(e)]();var n=r[Ac(e)]();var o=r[kc(e)]();var s=r[Lc(e)]();var l=r[Pc(e)]();var u=l===0;var f=u&&s===0;var h=f&&o===0;var v=h&&n===0;var c=v&&a===1;var p=c&&i===1;if(p){return"year"}else if(c){return"month"}else if(v){return"day"}else if(h){return"hour"}else if(f){return"minute"}else if(u){return"second"}else{return"millisecond"}}function Ic(t,e,r){var i=typeof t==="number"?Za(t):t;e=e||Mc(t,r);switch(e){case"year":return i[Tc(r)]();case"half-year":return i[Cc(r)]()>=6?1:0;case"quarter":return Math.floor((i[Cc(r)]()+1)/4);case"month":return i[Cc(r)]();case"day":return i[Dc(r)]();case"half-day":return i[Ac(r)]()/24;case"hour":return i[Ac(r)]();case"minute":return i[kc(r)]();case"second":return i[Lc(r)]();case"millisecond":return i[Pc(r)]()}}function Tc(t){return t?"getUTCFullYear":"getFullYear"}function Cc(t){return t?"getUTCMonth":"getMonth"}function Dc(t){return t?"getUTCDate":"getDate"}function Ac(t){return t?"getUTCHours":"getHours"}function kc(t){return t?"getUTCMinutes":"getMinutes"}function Lc(t){return t?"getUTCSeconds":"getSeconds"}function Pc(t){return t?"getUTCMilliseconds":"getMilliseconds"}function Oc(t){return t?"setUTCFullYear":"setFullYear"}function Rc(t){return t?"setUTCMonth":"setMonth"}function Nc(t){return t?"setUTCDate":"setDate"}function Ec(t){return t?"setUTCHours":"setHours"}function zc(t){return t?"setUTCMinutes":"setMinutes"}function Bc(t){return t?"setUTCSeconds":"setSeconds"}function Vc(t){return t?"setUTCMilliseconds":"setMilliseconds"}function Gc(t,e,r,i,a,n,o,s){fn("getTextRect is deprecated.");var l=new Fl({style:{text:t,font:e,align:r,verticalAlign:i,padding:a,rich:n,overflow:o?"truncate":null,lineHeight:s}});return l.getBoundingRect()}function Fc(t){if(!tn(t)){return Y(t)?t:"-"}var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function Hc(t,e){t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()});if(e&&t){t=t.charAt(0).toUpperCase()+t.slice(1)}return t}var Wc=ot;var Uc=/([&<>"'])/g;var Yc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Xc(t){return t==null?"":(t+"").replace(Uc,function(t,e){return Yc[e]})}function Zc(t,e,r){var i="{yyyy}-{MM}-{dd} {hh}:{mm}:{ss}";function a(t){return t&&lt(t)?t:"-"}function n(t){return!!(t!=null&&!isNaN(t)&&isFinite(t))}var o=e==="time";var s=t instanceof Date;if(o||s){var l=o?Za(t):t;if(!isNaN(+l)){return wc(l,i,r)}else if(s){return"-"}}if(e==="ordinal"){return X(t)?a(t):Z(t)?n(t)?t+"":"-":"-"}var u=Qa(t);return n(u)?Fc(u):X(t)?a(t):"-"}var jc=["a","b","c","d","e","f","g"];var qc=function(t,e){return"{"+t+(e==null?"":e)+"}"};function Kc(t,e,r){if(!W(e)){e=[e]}var i=e.length;if(!i){return""}var a=e[0].$vars||[];for(var n=0;n<a.length;n++){var o=jc[n];t=t.replace(qc(o),qc(o,0))}for(var s=0;s<i;s++){for(var l=0;l<a.length;l++){var u=e[s][a[l]];t=t.replace(qc(jc[l],s),r?Xc(u):u)}}return t}function $c(t,e,r){R(e,function(e,i){t=t.replace("{"+i+"}",r?Xc(e):e)});return t}function Jc(t,e){var r=Y(t)?{color:t,extraCssText:e}:t||{};var i=r.color;var a=r.type;e=r.extraCssText;var n=r.renderMode||"html";if(!i){return""}if(n==="html"){return a==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;'+"border-radius:4px;width:4px;height:4px;background-color:"+Xc(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;'+"border-radius:10px;width:10px;height:10px;background-color:"+Xc(i)+";"+(e||"")+'"></span>'}else{var o=r.markerId||"markerX";return{renderMode:n,content:"{"+o+"|}  ",style:a==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}}}function Qc(t,e,r){if("development"!=="production"){hn("echarts.format.formatTime","echarts.time.format")}if(t==="week"||t==="month"||t==="quarter"||t==="half-year"||t==="year"){t="MM-dd\nyyyy"}var i=Za(e);var a=r?"UTC":"";var n=i["get"+a+"FullYear"]();var o=i["get"+a+"Month"]()+1;var s=i["get"+a+"Date"]();var l=i["get"+a+"Hours"]();var u=i["get"+a+"Minutes"]();var f=i["get"+a+"Seconds"]();var h=i["get"+a+"Milliseconds"]();t=t.replace("MM",mc(o,2)).replace("M",o).replace("yyyy",n).replace("yy",n%100+"").replace("dd",mc(s,2)).replace("d",s).replace("hh",mc(l,2)).replace("h",l).replace("mm",mc(u,2)).replace("m",u).replace("ss",mc(f,2)).replace("s",f).replace("SSS",mc(h,3));return t}function tp(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}function ep(t,e){e=e||"transparent";return Y(t)?t:j(t)?t.colorStops&&(t.colorStops[0]||{}).color||e:e}function rp(t,e){if(e==="_blank"||e==="blank"){var r=window.open();r.opener=null;r.location.href=t}else{window.open(t,e)}}var ip=R;var ap=["left","right","top","bottom","width","height"];var np=[["width","left","right"],["height","top","bottom"]];function op(t,e,r,i,a){var n=0;var o=0;if(i==null){i=Infinity}if(a==null){a=Infinity}var s=0;e.eachChild(function(l,u){var f=l.getBoundingRect();var h=e.childAt(u+1);var v=h&&h.getBoundingRect();var c;var p;if(t==="horizontal"){var d=f.width+(v?-v.x+f.x:0);c=n+d;if(c>i||l.newline){n=0;c=d;o+=s+r;s=f.height}else{s=Math.max(s,f.height)}}else{var g=f.height+(v?-v.y+f.y:0);p=o+g;if(p>a||l.newline){n+=s+r;o=0;p=g;s=f.width}else{s=Math.max(s,f.width)}}if(l.newline){return}l.x=n;l.y=o;l.markRedraw();t==="horizontal"?n=c+r:o=p+r})}var sp=op;var lp=H(op,"vertical");var up=H(op,"horizontal");function fp(t,e,r){var i=e.width;var a=e.height;var n=Na(t.left,i);var o=Na(t.top,a);var s=Na(t.right,i);var l=Na(t.bottom,a);(isNaN(n)||isNaN(parseFloat(t.left)))&&(n=0);(isNaN(s)||isNaN(parseFloat(t.right)))&&(s=i);(isNaN(o)||isNaN(parseFloat(t.top)))&&(o=0);(isNaN(l)||isNaN(parseFloat(t.bottom)))&&(l=a);r=Wc(r||0);return{width:Math.max(s-n-r[1]-r[3],0),height:Math.max(l-o-r[0]-r[2],0)}}function hp(t,e,r){r=Wc(r||0);var i=e.width;var a=e.height;var n=Na(t.left,i);var o=Na(t.top,a);var s=Na(t.right,i);var l=Na(t.bottom,a);var u=Na(t.width,i);var f=Na(t.height,a);var h=r[2]+r[0];var v=r[1]+r[3];var c=t.aspect;if(isNaN(u)){u=i-s-v-n}if(isNaN(f)){f=a-l-h-o}if(c!=null){if(isNaN(u)&&isNaN(f)){if(c>i/a){u=i*.8}else{f=a*.8}}if(isNaN(u)){u=c*f}if(isNaN(f)){f=u/c}}if(isNaN(n)){n=i-s-u-v}if(isNaN(o)){o=a-l-f-h}switch(t.left||t.right){case"center":n=i/2-u/2-r[3];break;case"right":n=i-u-v;break}switch(t.top||t.bottom){case"middle":case"center":o=a/2-f/2-r[0];break;case"bottom":o=a-f-h;break}n=n||0;o=o||0;if(isNaN(u)){u=i-v-n-(s||0)}if(isNaN(f)){f=a-h-o-(l||0)}var p=new Yi(n+r[3],o+r[0],u,f);p.margin=r;return p}function vp(t,e,r,i,a){var n=!a||!a.hv||a.hv[0];var o=!a||!a.hv||a.hv[1];var s=a&&a.boundingMode||"all";if(!n&&!o){return}var l;if(s==="raw"){l=t.type==="group"?new Yi(0,0,+e.width||0,+e.height||0):t.getBoundingRect()}else{l=t.getBoundingRect();if(t.needLocalTransform()){var u=t.getLocalTransform();l=l.clone();l.applyTransform(u)}}var f=hp(D({width:l.width,height:l.height},e),r,i);var h=n?f.x-l.x:0;var v=o?f.y-l.y:0;if(s==="raw"){t.x=h;t.y=v}else{t.x+=h;t.y+=v}t.markRedraw()}function cp(t,e){return t[np[e][0]]!=null||t[np[e][1]]!=null&&t[np[e][2]]!=null}function pp(t){var e=t.layoutMode||t.constructor.layoutMode;return j(e)?e:e?{type:e}:null}function dp(t,e,r){var i=r&&r.ignoreSize;!W(i)&&(i=[i,i]);var a=o(np[0],0);var n=o(np[1],1);u(np[0],t,a);u(np[1],t,n);function o(r,a){var n={};var o=0;var u={};var f=0;var h=2;ip(r,function(e){u[e]=t[e]});ip(r,function(t){s(e,t)&&(n[t]=u[t]=e[t]);l(n,t)&&o++;l(u,t)&&f++});if(i[a]){if(l(e,r[1])){u[r[2]]=null}else if(l(e,r[2])){u[r[1]]=null}return u}if(f===h||!o){return u}else if(o>=h){return n}else{for(var v=0;v<r.length;v++){var c=r[v];if(!s(n,c)&&s(t,c)){n[c]=t[c];break}}return n}}function s(t,e){return t.hasOwnProperty(e)}function l(t,e){return t[e]!=null&&t[e]!=="auto"}function u(t,e,r){ip(t,function(t){e[t]=r[t]})}}function gp(t){return yp({},t)}function yp(t,e){e&&t&&ip(ap,function(r){e.hasOwnProperty(r)&&(t[r]=e[r])});return t}var mp=Fn();var xp=function(t){r(e,t);function e(e,r,i){var a=t.call(this,e,r,i)||this;a.uid=Xv("ec_cpt_model");return a}e.prototype.init=function(t,e,r){this.mergeDefaultAndTheme(t,r)};e.prototype.mergeDefaultAndTheme=function(t,e){var r=pp(this);var i=r?gp(t):{};var a=e.getTheme();I(t,a.get(this.mainType));I(t,this.getDefaultOption());if(r){dp(t,i,r)}};e.prototype.mergeOption=function(t,e){I(this.option,t,true);var r=pp(this);if(r){dp(this.option,t,r)}};e.prototype.optionUpdated=function(t,e){};e.prototype.getDefaultOption=function(){var t=this.constructor;if(!ao(t)){return t.defaultOption}var e=mp(this);if(!e.defaultOption){var r=[];var i=t;while(i){var a=i.prototype.defaultOption;a&&r.push(a);i=i.superClass}var n={};for(var o=r.length-1;o>=0;o--){n=I(n,r[o],true)}e.defaultOption=n}return e.defaultOption};e.prototype.getReferringComponents=function(t,e){var r=t+"Index";var i=t+"Id";return Zn(this.ecModel,t,{index:this.get(r,true),id:this.get(i,true)},e)};e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}};e.protoInitialize=function(){var t=e.prototype;t.type="component";t.id="";t.name="";t.mainType="";t.subType="";t.componentIndex=0}();return e}(Uv);so(xp,Uv);vo(xp);Zv(xp);jv(xp,_p);function _p(t){var e=[];R(xp.getClassesByMainType(t),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])});e=N(e,function(t){return ro(t).main});if(t!=="dataset"&&k(e,"dataset")<=0){e.unshift("dataset")}return e}var bp="";if(typeof navigator!=="undefined"){bp=navigator.platform||""}var wp="rgba(0, 0, 0, 0.2)";var Sp={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:wp,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:wp,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:wp,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:wp,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:wp,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:wp,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:bp.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:false};var Mp=ct(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]);var Ip="original";var Tp="arrayRows";var Cp="objectRows";var Dp="keyedColumns";var Ap="typedArray";var kp="unknown";var Lp="column";var Pp="row";var Op={Must:1,Might:2,Not:3};var Rp=Fn();function Np(t){Rp(t).datasetMap=ct()}function Ep(t,e,r){var i={};var a=Bp(e);if(!a||!t){return i}var n=[];var o=[];var s=e.ecModel;var l=Rp(s).datasetMap;var u=a.uid+"_"+r.seriesLayoutBy;var f;var h;t=t.slice();R(t,function(e,r){var a=j(e)?e:t[r]={name:e};if(a.type==="ordinal"&&f==null){f=r;h=p(a)}i[a.name]=[]});var v=l.get(u)||l.set(u,{categoryWayDim:h,valueWayDim:0});R(t,function(t,e){var r=t.name;var a=p(t);if(f==null){var s=v.valueWayDim;c(i[r],s,a);c(o,s,a);v.valueWayDim+=a}else if(f===e){c(i[r],0,a);c(n,0,a)}else{var s=v.categoryWayDim;c(i[r],s,a);c(o,s,a);v.categoryWayDim+=a}});function c(t,e,r){for(var i=0;i<r;i++){t.push(e+i)}}function p(t){var e=t.dimsDef;return e?e.length:1}n.length&&(i.itemName=n);o.length&&(i.seriesName=o);return i}function zp(t,e,r){var i={};var a=Bp(t);if(!a){return i}var n=e.sourceFormat;var o=e.dimensionsDefine;var s;if(n===Cp||n===Dp){R(o,function(t,e){if((j(t)?t.name:t)==="name"){s=e}})}var l=function(){var t={};var i={};var a=[];for(var l=0,u=Math.min(5,r);l<u;l++){var f=Fp(e.data,n,e.seriesLayoutBy,o,e.startIndex,l);a.push(f);var h=f===Op.Not;if(h&&t.v==null&&l!==s){t.v=l}if(t.n==null||t.n===t.v||!h&&a[t.n]===Op.Not){t.n=l}if(v(t)&&a[t.n]!==Op.Not){return t}if(!h){if(f===Op.Might&&i.v==null&&l!==s){i.v=l}if(i.n==null||i.n===i.v){i.n=l}}}function v(t){return t.v!=null&&t.n!=null}return v(t)?t:v(i)?i:null}();if(l){i.value=[l.v];var u=s!=null?s:l.n;i.itemName=[u];i.seriesName=[u]}return i}function Bp(t){var e=t.get("data",true);if(!e){return Zn(t.ecModel,"dataset",{index:t.get("datasetIndex",true),id:t.get("datasetId",true)},Yn).models[0]}}function Vp(t){if(!t.get("transform",true)&&!t.get("fromTransformResult",true)){return[]}return Zn(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",true),id:t.get("fromDatasetId",true)},Yn).models}function Gp(t,e){return Fp(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function Fp(t,e,r,i,a,n){var o;var s=5;if(K(t)){return Op.Not}var l;var u;if(i){var f=i[n];if(j(f)){l=f.name;u=f.type}else if(Y(f)){l=f}}if(u!=null){return u==="ordinal"?Op.Must:Op.Not}if(e===Tp){var h=t;if(r===Pp){var v=h[n];for(var c=0;c<(v||[]).length&&c<s;c++){if((o=_(v[a+c]))!=null){return o}}}else{for(var c=0;c<h.length&&c<s;c++){var p=h[a+c];if(p&&(o=_(p[n]))!=null){return o}}}}else if(e===Cp){var d=t;if(!l){return Op.Not}for(var c=0;c<d.length&&c<s;c++){var g=d[c];if(g&&(o=_(g[l]))!=null){return o}}}else if(e===Dp){var y=t;if(!l){return Op.Not}var v=y[l];if(!v||K(v)){return Op.Not}for(var c=0;c<v.length&&c<s;c++){if((o=_(v[c]))!=null){return o}}}else if(e===Ip){var m=t;for(var c=0;c<m.length&&c<s;c++){var g=m[c];var x=_n(g);if(!W(x)){return Op.Not}if((o=_(x[n]))!=null){return o}}}function _(t){var e=Y(t);if(t!=null&&isFinite(t)&&t!==""){return e?Op.Might:Op.Not}else if(e&&t!=="-"){return Op.Must}}return Op.Not}var Hp=ct();function Wp(t,e){st(Hp.get(t)==null&&e);Hp.set(t,e)}function Up(t,e,r){var i=Hp.get(e);if(!i){return r}var a=i(t);if(!a){return r}if("development"!=="production"){for(var n=0;n<a.length;n++){st(Nn(a[n]))}}return r.concat(a)}var Yp=Fn();var Xp=Fn();var Zp=function(){function t(){}t.prototype.getColorFromPalette=function(t,e,r){var i=yn(this.get("color",true));var a=this.get("colorLayer",true);return Kp(this,Yp,i,a,t,e,r)};t.prototype.clearColorPalette=function(){$p(this,Yp)};return t}();function jp(t,e,r,i){var a=yn(t.get(["aria","decal","decals"]));return Kp(t,Xp,a,null,e,r,i)}function qp(t,e){var r=t.length;for(var i=0;i<r;i++){if(t[i].length>e){return t[i]}}return t[r-1]}function Kp(t,e,r,i,a,n,o){n=n||t;var s=e(n);var l=s.paletteIdx||0;var u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(a)){return u[a]}var f=o==null||!i?r:qp(i,o);f=f||r;if(!f||!f.length){return}var h=f[l];if(a){u[a]=h}s.paletteIdx=(l+1)%f.length;return h}function $p(t,e){e(t).paletteIdx=0;e(t).paletteNameMap={}}var Jp;var Qp;var td;var ed="\0_ec_inner";var rd=1;var id={grid:"GridComponent",polar:"PolarComponent",geo:"GeoComponent",singleAxis:"SingleAxisComponent",parallel:"ParallelComponent",calendar:"CalendarComponent",graphic:"GraphicComponent",toolbox:"ToolboxComponent",tooltip:"TooltipComponent",axisPointer:"AxisPointerComponent",brush:"BrushComponent",title:"TitleComponent",timeline:"TimelineComponent",markPoint:"MarkPointComponent",markLine:"MarkLineComponent",markArea:"MarkAreaComponent",legend:"LegendComponent",dataZoom:"DataZoomComponent",visualMap:"VisualMapComponent",xAxis:"GridComponent",yAxis:"GridComponent",angleAxis:"PolarComponent",radiusAxis:"PolarComponent"};var ad={line:"LineChart",bar:"BarChart",pie:"PieChart",scatter:"ScatterChart",radar:"RadarChart",map:"MapChart",tree:"TreeChart",treemap:"TreemapChart",graph:"GraphChart",gauge:"GaugeChart",funnel:"FunnelChart",parallel:"ParallelChart",sankey:"SankeyChart",boxplot:"BoxplotChart",candlestick:"CandlestickChart",effectScatter:"EffectScatterChart",lines:"LinesChart",heatmap:"HeatmapChart",pictorialBar:"PictorialBarChart",themeRiver:"ThemeRiverChart",sunburst:"SunburstChart",custom:"CustomChart"};var nd={};function od(t){R(t,function(t,e){if(!xp.hasClass(e)){var r=id[e];if(r&&!nd[r]){un("Component "+e+" is used but not imported.\nimport { "+r+" } from 'echarts/components';\necharts.use(["+r+"]);");nd[r]=true}}})}var sd=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.init=function(t,e,r,i,a,n){i=i||{};this.option=null;this._theme=new Uv(i);this._locale=new Uv(a);this._optionManager=n};e.prototype.setOption=function(t,e,r){if("development"!=="production"){st(t!=null,"option is null/undefined");st(t[ed]!==rd,"please use chart.getOption()")}var i=vd(e);this._optionManager.setOption(t,r,i);this._resetOption(null,i)};e.prototype.resetOption=function(t,e){return this._resetOption(t,vd(e))};e.prototype._resetOption=function(t,e){var r=false;var i=this._optionManager;if(!t||t==="recreate"){var a=i.mountOption(t==="recreate");if("development"!=="production"){od(a)}if(!this.option||t==="recreate"){td(this,a)}else{this.restoreData();this._mergeOption(a,e)}r=true}if(t==="timeline"||t==="media"){this.restoreData()}if(!t||t==="recreate"||t==="timeline"){var n=i.getTimelineOption(this);if(n){r=true;this._mergeOption(n,e)}}if(!t||t==="recreate"||t==="media"){var o=i.getMediaOption(this);if(o.length){R(o,function(t){r=true;this._mergeOption(t,e)},this)}}return r};e.prototype.mergeOption=function(t){this._mergeOption(t,null)};e.prototype._mergeOption=function(t,e){var r=this.option;var i=this._componentsMap;var a=this._componentsCount;var n=[];var o=ct();var s=e&&e.replaceMergeMainTypeMap;Np(this);R(t,function(t,e){if(t==null){return}if(!xp.hasClass(e)){r[e]=r[e]==null?M(t):I(r[e],t,true)}else if(e){n.push(e);o.set(e,true)}});if(s){s.each(function(t,e){if(xp.hasClass(e)&&!o.get(e)){n.push(e);o.set(e,true)}})}xp.topologicalTravel(n,xp.getAllClassMainTypes(),l,this);function l(e){var n=Up(this,e,yn(t[e]));var o=i.get(e);var l=!o?"replaceAll":s&&s.get(e)?"replaceMerge":"normalMerge";var u=wn(o,n,l);zn(u,e,xp);r[e]=null;i.set(e,null);a.set(e,0);var f=[];var h=[];var v=0;R(u,function(t,r){var i=t.existing;var a=t.newOption;if(!a){if(i){i.mergeOption({},this);i.optionUpdated({},false)}}else{var n=e==="series";var o=xp.getClass(e,t.keyInfo.subType,!n);if(!o){if("development"!=="production"){var s=t.keyInfo.subType;var l=ad[s];if(!nd[s]){nd[s]=true;if(l){un("Series "+s+" is used but not imported.\nimport { "+l+" } from 'echarts/charts';\necharts.use(["+l+"]);")}else{un("Unkown series "+s)}}}return}if(i&&i.constructor===o){i.name=t.keyInfo.name;i.mergeOption(a,this);i.optionUpdated(a,false)}else{var u=C({componentIndex:r},t.keyInfo);i=new o(a,this,this,u);C(i,u);if(t.brandNew){i.__requireNewView=true}i.init(a,this,this);i.optionUpdated(null,true)}}if(i){f.push(i.option);h.push(i);v++}else{f.push(void 0);h.push(void 0)}},this);r[e]=f;i.set(e,h);a.set(e,v);if(e==="series"){Jp(this)}}if(!this._seriesIndices){Jp(this)}};e.prototype.getOption=function(){var t=M(this.option);R(t,function(e,r){if(xp.hasClass(r)){var i=yn(e);var a=i.length;var n=false;for(var o=a-1;o>=0;o--){if(i[o]&&!Nn(i[o])){n=true}else{i[o]=null;!n&&a--}}i.length=a;t[r]=i}});delete t[ed];return t};e.prototype.getTheme=function(){return this._theme};e.prototype.getLocaleModel=function(){return this._locale};e.prototype.setUpdatePayload=function(t){this._payload=t};e.prototype.getUpdatePayload=function(){return this._payload};e.prototype.getComponent=function(t,e){var r=this._componentsMap.get(t);if(r){var i=r[e||0];if(i){return i}else if(e==null){for(var a=0;a<r.length;a++){if(r[a]){return r[a]}}}}};e.prototype.queryComponents=function(t){var e=t.mainType;if(!e){return[]}var r=t.index;var i=t.id;var a=t.name;var n=this._componentsMap.get(e);if(!n||!n.length){return[]}var o;if(r!=null){o=[];R(yn(r),function(t){n[t]&&o.push(n[t])})}else if(i!=null){o=fd("id",i,n)}else if(a!=null){o=fd("name",a,n)}else{o=z(n,function(t){return!!t})}return hd(o,t)};e.prototype.findComponents=function(t){var e=t.query;var r=t.mainType;var i=n(e);var a=i?this.queryComponents(i):z(this._componentsMap.get(r),function(t){return!!t});return o(hd(a,t));function n(t){var e=r+"Index";var i=r+"Id";var a=r+"Name";return t&&(t[e]!=null||t[i]!=null||t[a]!=null)?{mainType:r,index:t[e],id:t[i],name:t[a]}:null}function o(e){return t.filter?z(e,t.filter):e}};e.prototype.eachComponent=function(t,e,r){var i=this._componentsMap;if(U(t)){var a=e;var n=t;i.each(function(t,e){for(var r=0;t&&r<t.length;r++){var i=t[r];i&&n.call(a,e,i,i.componentIndex)}})}else{var o=Y(t)?i.get(t):j(t)?this.findComponents(t):null;for(var s=0;o&&s<o.length;s++){var l=o[s];l&&e.call(r,l,l.componentIndex)}}};e.prototype.getSeriesByName=function(t){var e=Ln(t,null);return z(this._componentsMap.get("series"),function(t){return!!t&&e!=null&&t.name===e})};e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]};e.prototype.getSeriesByType=function(t){return z(this._componentsMap.get("series"),function(e){return!!e&&e.subType===t})};e.prototype.getSeries=function(){return z(this._componentsMap.get("series"),function(t){return!!t})};e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")};e.prototype.eachSeries=function(t,e){Qp(this);R(this._seriesIndices,function(r){var i=this._componentsMap.get("series")[r];t.call(e,i,r)},this)};e.prototype.eachRawSeries=function(t,e){R(this._componentsMap.get("series"),function(r){r&&t.call(e,r,r.componentIndex)})};e.prototype.eachSeriesByType=function(t,e,r){Qp(this);R(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];if(a.subType===t){e.call(r,a,i)}},this)};e.prototype.eachRawSeriesByType=function(t,e,r){return R(this.getSeriesByType(t),e,r)};e.prototype.isSeriesFiltered=function(t){Qp(this);return this._seriesIndicesMap.get(t.componentIndex)==null};e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()};e.prototype.filterSeries=function(t,e){Qp(this);var r=[];R(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];t.call(e,a,i)&&r.push(i)},this);this._seriesIndices=r;this._seriesIndicesMap=ct(r)};e.prototype.restoreData=function(t){Jp(this);var e=this._componentsMap;var r=[];e.each(function(t,e){if(xp.hasClass(e)){r.push(e)}});xp.topologicalTravel(r,xp.getAllClassMainTypes(),function(r){R(e.get(r),function(e){if(e&&(r!=="series"||!ld(e,t))){e.restoreData()}})})};e.internalField=function(){Jp=function(t){var e=t._seriesIndices=[];R(t._componentsMap.get("series"),function(t){t&&e.push(t.componentIndex)});t._seriesIndicesMap=ct(e)};Qp=function(t){if("development"!=="production"){if(!t._seriesIndices){throw new Error("Option should contains series.")}}};td=function(t,e){t.option={};t.option[ed]=rd;t._componentsMap=ct({series:[]});t._componentsCount=ct();var r=e.aria;if(j(r)&&r.enabled==null){r.enabled=true}ud(e,t._theme.option);I(e,Sp,false);t._mergeOption(e,null)}}();return e}(Uv);function ld(t,e){if(e){var r=e.seriesIndex;var i=e.seriesId;var a=e.seriesName;return r!=null&&t.componentIndex!==r||i!=null&&t.id!==i||a!=null&&t.name!==a}}function ud(t,e){var r=t.color&&!t.colorLayer;R(e,function(e,i){if(i==="colorLayer"&&r){return}if(!xp.hasClass(i)){if(typeof e==="object"){t[i]=!t[i]?M(e):I(t[i],e,false)}else{if(t[i]==null){t[i]=e}}}})}function fd(t,e,r){if(W(e)){var i=ct();R(e,function(t){if(t!=null){var e=Ln(t,null);e!=null&&i.set(t,true)}});return z(r,function(e){return e&&i.get(e[t])})}else{var a=Ln(e,null);return z(r,function(e){return e&&a!=null&&e[t]===a})}}function hd(t,e){return e.hasOwnProperty("subType")?z(t,function(t){return t&&t.subType===e.subType}):t}function vd(t){var e=ct();t&&R(yn(t.replaceMerge),function(t){if("development"!=="production"){st(xp.hasClass(t),'"'+t+'" is not valid component main type in "replaceMerge"')}e.set(t,true)});return{replaceMergeMainTypeMap:e}}P(sd,Zp);var cd=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];var pd=function(){function t(t){R(cd,function(e){this[e]=F(t[e],t)},this)}return t}();var dd={};var gd=function(){function t(){this._coordinateSystems=[]}t.prototype.create=function(t,e){var r=[];R(dd,function(i,a){var n=i.create(t,e);r=r.concat(n||[])});this._coordinateSystems=r};t.prototype.update=function(t,e){R(this._coordinateSystems,function(r){r.update&&r.update(t,e)})};t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()};t.register=function(t,e){dd[t]=e};t.get=function(t){return dd[t]};return t}();var yd=/^(min|max)?(.+)$/;var md=function(){function t(t){this._timelineOptions=[];this._mediaList=[];this._currentMediaIndices=[];this._api=t}t.prototype.setOption=function(t,e,r){if(t){R(yn(t.series),function(t){t&&t.data&&K(t.data)&&ft(t.data)});R(yn(t.dataset),function(t){t&&t.source&&K(t.source)&&ft(t.source)})}t=M(t);var i=this._optionBackup;var a=xd(t,e,!i);this._newBaseOption=a.baseOption;if(i){if(a.timelineOptions.length){i.timelineOptions=a.timelineOptions}if(a.mediaList.length){i.mediaList=a.mediaList}if(a.mediaDefault){i.mediaDefault=a.mediaDefault}}else{this._optionBackup=a}};t.prototype.mountOption=function(t){var e=this._optionBackup;this._timelineOptions=e.timelineOptions;this._mediaList=e.mediaList;this._mediaDefault=e.mediaDefault;this._currentMediaIndices=[];return M(t?e.baseOption:this._newBaseOption)};t.prototype.getTimelineOption=function(t){var e;var r=this._timelineOptions;if(r.length){var i=t.getComponent("timeline");if(i){e=M(r[i.getCurrentIndex()])}}return e};t.prototype.getMediaOption=function(t){var e=this._api.getWidth();var r=this._api.getHeight();var i=this._mediaList;var a=this._mediaDefault;var n=[];var o=[];if(!i.length&&!a){return o}for(var s=0,l=i.length;s<l;s++){if(_d(i[s].query,e,r)){n.push(s)}}if(!n.length&&a){n=[-1]}if(n.length&&!wd(n,this._currentMediaIndices)){o=N(n,function(t){return M(t===-1?a.option:i[t].option)})}this._currentMediaIndices=n;return o};return t}();function xd(t,e,r){var i=[];var a;var n;var o=t.baseOption;var s=t.timeline;var l=t.options;var u=t.media;var f=!!t.media;var h=!!(l||s||o&&o.timeline);if(o){n=o;if(!n.timeline){n.timeline=s}}else{if(h||f){t.options=t.media=null}n=t}if(f){if(W(u)){R(u,function(t){if("development"!=="production"){if(t&&!t.option&&j(t.query)&&j(t.query.option)){un("Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }")}}if(t&&t.option){if(t.query){i.push(t)}else if(!a){a=t}}})}else{if("development"!=="production"){un("Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }")}}}v(n);R(l,function(t){return v(t)});R(i,function(t){return v(t.option)});function v(t){R(e,function(e){e(t,r)})}return{baseOption:n,timelineOptions:l||[],mediaDefault:a,mediaList:i}}function _d(t,e,r){var i={width:e,height:r,aspectratio:e/r};var a=true;R(t,function(t,e){var r=e.match(yd);if(!r||!r[1]||!r[2]){return}var n=r[1];var o=r[2].toLowerCase();if(!bd(i[o],t,n)){a=false}});return a}function bd(t,e,r){if(r==="min"){return t>=e}else if(r==="max"){return t<=e}else{return t===e}}function wd(t,e){return t.join(",")===e.join(",")}var Sd=R;var Md=j;var Id=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Td(t){var e=t&&t.itemStyle;if(!e){return}for(var r=0,i=Id.length;r<i;r++){var a=Id[r];var n=e.normal;var o=e.emphasis;if(n&&n[a]){if("development"!=="production"){hn("itemStyle.normal."+a,a)}t[a]=t[a]||{};if(!t[a].normal){t[a].normal=n[a]}else{I(t[a].normal,n[a])}n[a]=null}if(o&&o[a]){if("development"!=="production"){hn("itemStyle.emphasis."+a,"emphasis."+a)}t[a]=t[a]||{};if(!t[a].emphasis){t[a].emphasis=o[a]}else{I(t[a].emphasis,o[a])}o[a]=null}}}function Cd(t,e,r){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var i=t[e].normal;var a=t[e].emphasis;if(i){if("development"!=="production"){fn("'normal' hierarchy in "+e+" has been removed since 4.0. All style properties are configured in "+e+" directly now.")}if(r){t[e].normal=t[e].emphasis=null;D(t[e],i)}else{t[e]=i}}if(a){if("development"!=="production"){fn(e+".emphasis has been changed to emphasis."+e+" since 4.0")}t.emphasis=t.emphasis||{};t.emphasis[e]=a;if(a.focus){t.emphasis.focus=a.focus}if(a.blurScope){t.emphasis.blurScope=a.blurScope}}}}function Dd(t){Cd(t,"itemStyle");Cd(t,"lineStyle");Cd(t,"areaStyle");Cd(t,"label");Cd(t,"labelLine");Cd(t,"upperLabel");Cd(t,"edgeLabel")}function Ad(t,e){var r=Md(t)&&t[e];var i=Md(r)&&r.textStyle;if(i){if("development"!=="production"){fn("textStyle hierarchy in "+e+" has been removed since 4.0. All textStyle properties are configured in "+e+" directly now.")}for(var a=0,n=xn.length;a<n;a++){var o=xn[a];if(i.hasOwnProperty(o)){r[o]=i[o]}}}}function kd(t){if(t){Dd(t);Ad(t,"label");t.emphasis&&Ad(t.emphasis,"label")}}function Ld(t){if(!Md(t)){return}Td(t);Dd(t);Ad(t,"label");Ad(t,"upperLabel");Ad(t,"edgeLabel");if(t.emphasis){Ad(t.emphasis,"label");Ad(t.emphasis,"upperLabel");Ad(t.emphasis,"edgeLabel")}var e=t.markPoint;if(e){Td(e);kd(e)}var r=t.markLine;if(r){Td(r);kd(r)}var i=t.markArea;if(i){kd(i)}var a=t.data;if(t.type==="graph"){a=a||t.nodes;var n=t.links||t.edges;if(n&&!K(n)){for(var o=0;o<n.length;o++){kd(n[o])}}R(t.categories,function(t){Dd(t)})}if(a&&!K(a)){for(var o=0;o<a.length;o++){kd(a[o])}}e=t.markPoint;if(e&&e.data){var s=e.data;for(var o=0;o<s.length;o++){kd(s[o])}}r=t.markLine;if(r&&r.data){var l=r.data;for(var o=0;o<l.length;o++){if(W(l[o])){kd(l[o][0]);kd(l[o][1])}else{kd(l[o])}}}if(t.type==="gauge"){Ad(t,"axisLabel");Ad(t,"title");Ad(t,"detail")}else if(t.type==="treemap"){Cd(t.breadcrumb,"itemStyle");R(t.levels,function(t){Dd(t)})}else if(t.type==="tree"){Dd(t.leaves)}}function Pd(t){return W(t)?t:t?[t]:[]}function Od(t){return(W(t)?t[0]:t)||{}}function Rd(t,e){Sd(Pd(t.series),function(t){Md(t)&&Ld(t)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&r.push("valueAxis","categoryAxis","logAxis","timeAxis");Sd(r,function(e){Sd(Pd(t[e]),function(t){if(t){Ad(t,"axisLabel");Ad(t.axisPointer,"label")}})});Sd(Pd(t.parallel),function(t){var e=t&&t.parallelAxisDefault;Ad(e,"axisLabel");Ad(e&&e.axisPointer,"label")});Sd(Pd(t.calendar),function(t){Cd(t,"itemStyle");Ad(t,"dayLabel");Ad(t,"monthLabel");Ad(t,"yearLabel")});Sd(Pd(t.radar),function(t){Ad(t,"name");if(t.name&&t.axisName==null){t.axisName=t.name;delete t.name;if("development"!=="production"){fn("name property in radar component has been changed to axisName")}}if(t.nameGap!=null&&t.axisNameGap==null){t.axisNameGap=t.nameGap;delete t.nameGap;if("development"!=="production"){fn("nameGap property in radar component has been changed to axisNameGap")}}});Sd(Pd(t.geo),function(t){if(Md(t)){kd(t);Sd(Pd(t.regions),function(t){kd(t)})}});Sd(Pd(t.timeline),function(t){kd(t);Cd(t,"label");Cd(t,"itemStyle");Cd(t,"controlStyle",true);var e=t.data;W(e)&&R(e,function(t){if(j(t)){Cd(t,"label");Cd(t,"itemStyle")}})});Sd(Pd(t.toolbox),function(t){Cd(t,"iconStyle");Sd(t.feature,function(t){Cd(t,"iconStyle")})});Ad(Od(t.axisPointer),"label");Ad(Od(t.tooltip).axisPointer,"label")}function Nd(t,e){var r=e.split(",");var i=t;for(var a=0;a<r.length;a++){i=i&&i[r[a]];if(i==null){break}}return i}function Ed(t,e,r,i){var a=e.split(",");var n=t;var o;var s=0;for(;s<a.length-1;s++){o=a[s];if(n[o]==null){n[o]={}}n=n[o]}if(i||n[a[s]]==null){n[a[s]]=r}}function zd(t){t&&R(Bd,function(e){if(e[0]in t&&!(e[1]in t)){t[e[1]]=t[e[0]]}})}var Bd=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]];var Vd=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];var Gd=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Fd(t){var e=t&&t.itemStyle;if(e){for(var r=0;r<Gd.length;r++){var i=Gd[r][1];var a=Gd[r][0];if(e[i]!=null){e[a]=e[i];if("development"!=="production"){hn(i,a)}}}}}function Hd(t){if(!t){return}if(t.alignTo==="edge"&&t.margin!=null&&t.edgeDistance==null){if("development"!=="production"){hn("label.margin","label.edgeDistance","pie")}t.edgeDistance=t.margin}}function Wd(t){if(!t){return}if(t.downplay&&!t.blur){t.blur=t.downplay;if("development"!=="production"){hn("downplay","blur","sunburst")}}}function Ud(t){if(!t){return}if(t.focusNodeAdjacency!=null){t.emphasis=t.emphasis||{};if(t.emphasis.focus==null){if("development"!=="production"){hn("focusNodeAdjacency","emphasis: { focus: 'adjacency'}","graph/sankey")}t.emphasis.focus="adjacency"}}}function Yd(t,e){if(t){for(var r=0;r<t.length;r++){e(t[r]);t[r]&&Yd(t[r].children,e)}}}function Xd(t,e){Rd(t,e);t.series=yn(t.series);R(t.series,function(t){if(!j(t)){return}var e=t.type;if(e==="line"){if(t.clipOverflow!=null){t.clip=t.clipOverflow;if("development"!=="production"){hn("clipOverflow","clip","line")}}}else if(e==="pie"||e==="gauge"){if(t.clockWise!=null){t.clockwise=t.clockWise;if("development"!=="production"){hn("clockWise","clockwise")}}Hd(t.label);var r=t.data;if(r&&!K(r)){for(var i=0;i<r.length;i++){Hd(r[i])}}if(t.hoverOffset!=null){t.emphasis=t.emphasis||{};if(t.emphasis.scaleSize=null){if("development"!=="production"){hn("hoverOffset","emphasis.scaleSize")}t.emphasis.scaleSize=t.hoverOffset}}}else if(e==="gauge"){var a=Nd(t,"pointer.color");a!=null&&Ed(t,"itemStyle.color",a)}else if(e==="bar"){Fd(t);Fd(t.backgroundStyle);Fd(t.emphasis);var r=t.data;if(r&&!K(r)){for(var i=0;i<r.length;i++){if(typeof r[i]==="object"){Fd(r[i]);Fd(r[i]&&r[i].emphasis)}}}}else if(e==="sunburst"){var n=t.highlightPolicy;if(n){t.emphasis=t.emphasis||{};if(!t.emphasis.focus){t.emphasis.focus=n;if("development"!=="production"){hn("highlightPolicy","emphasis.focus","sunburst")}}}Wd(t);Yd(t.data,Wd)}else if(e==="graph"||e==="sankey"){Ud(t)}else if(e==="map"){if(t.mapType&&!t.map){if("development"!=="production"){hn("mapType","map","map")}t.map=t.mapType}if(t.mapLocation){if("development"!=="production"){fn("`mapLocation` is not used anymore.")}D(t,t.mapLocation)}}if(t.hoverAnimation!=null){t.emphasis=t.emphasis||{};if(t.emphasis&&t.emphasis.scale==null){if("development"!=="production"){hn("hoverAnimation","emphasis.scale")}t.emphasis.scale=t.hoverAnimation}}zd(t)});if(t.dataRange){t.visualMap=t.dataRange}R(Vd,function(e){var r=t[e];if(r){if(!W(r)){r=[r]}R(r,function(t){zd(t)})}})}function Zd(t){var e=ct();t.eachSeries(function(t){var r=t.get("stack");if(r){var i=e.get(r)||e.set(r,[]);var a=t.getData();var n={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:t};if(!n.stackedDimension||!(n.isStackedByIndex||n.stackedByDimension)){return}i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel);i.push(n)}});e.each(jd)}function jd(t){R(t,function(e,r){var i=[];var a=[NaN,NaN];var n=[e.stackResultDimension,e.stackedOverDimension];var o=e.data;var s=e.isStackedByIndex;o.modify(n,function(n,l,u){var f=o.get(e.stackedDimension,u);if(isNaN(f)){return a}var h;var v;if(s){v=o.getRawIndex(u)}else{h=o.get(e.stackedByDimension,u)}var c=NaN;for(var p=r-1;p>=0;p--){var d=t[p];if(!s){v=d.data.rawIndexOf(d.stackedByDimension,h)}if(v>=0){var g=d.data.getByRawIndex(d.stackResultDimension,v);if(f>=0&&g>0||f<=0&&g<0){f=Ha(f,g);c=g;break}}}i[0]=f;i[1]=c;return i})})}var qd=function(){function t(t){this.data=t.data||(t.sourceFormat===Dp?{}:[]);this.sourceFormat=t.sourceFormat||kp;this.seriesLayoutBy=t.seriesLayoutBy||Lp;this.startIndex=t.startIndex||0;this.dimensionsDetectedCount=t.dimensionsDetectedCount;this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e){for(var r=0;r<e.length;r++){var i=e[r];if(i.type==null){if(Gp(this,r)===Op.Must){i.type="ordinal"}}}}}return t}();function Kd(t){return t instanceof qd}function $d(t,e,r){r=r||tg(t);var i=e.seriesLayoutBy;var a=eg(t,r,i,e.sourceHeader,e.dimensions);var n=new qd({data:t,sourceFormat:r,seriesLayoutBy:i,dimensionsDefine:a.dimensionsDefine,startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount,metaRawOption:M(e)});return n}function Jd(t){return new qd({data:t,sourceFormat:K(t)?Ap:Ip})}function Qd(t){return new qd({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:M(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function tg(t){var e=kp;if(K(t)){e=Ap}else if(W(t)){if(t.length===0){e=Tp}for(var r=0,i=t.length;r<i;r++){var a=t[r];if(a==null){continue}else if(W(a)){e=Tp;break}else if(j(a)){e=Cp;break}}}else if(j(t)){for(var n in t){if(gt(t,n)&&O(t[n])){e=Dp;break}}}return e}function eg(t,e,r,i,a){var n;var o;if(!t){return{dimensionsDefine:ig(a),startIndex:o,dimensionsDetectedCount:n}}if(e===Tp){var s=t;if(i==="auto"||i==null){ag(function(t){if(t!=null&&t!=="-"){if(Y(t)){o==null&&(o=1)}else{o=0}}},r,s,10)}else{o=Z(i)?i:i?1:0}if(!a&&o===1){a=[];ag(function(t,e){a[e]=t!=null?t+"":""},r,s,Infinity)}n=a?a.length:r===Pp?s.length:s[0]?s[0].length:null}else if(e===Cp){if(!a){a=rg(t)}}else if(e===Dp){if(!a){a=[];R(t,function(t,e){a.push(e)})}}else if(e===Ip){var l=_n(t[0]);n=W(l)&&l.length||1}else if(e===Ap){if("development"!=="production"){st(!!a,"dimensions must be given if data is TypedArray.")}}return{startIndex:o,dimensionsDefine:ig(a),dimensionsDetectedCount:n}}function rg(t){var e=0;var r;while(e<t.length&&!(r=t[e++])){}if(r){var i=[];R(r,function(t,e){i.push(e)});return i}}function ig(t){if(!t){return}var e=ct();return N(t,function(t,r){t=j(t)?t:{name:t};var i={name:t.name,displayName:t.displayName,type:t.type};if(i.name==null){return i}i.name+="";if(i.displayName==null){i.displayName=i.name}var a=e.get(i.name);if(!a){e.set(i.name,{count:1})}else{i.name+="-"+a.count++}return i})}function ag(t,e,r,i){if(e===Pp){for(var a=0;a<r.length&&a<i;a++){t(r[a]?r[a][0]:null,a)}}else{var n=r[0]||[];for(var a=0;a<n.length&&a<i;a++){t(n[a],a)}}}function ng(t){var e=t.sourceFormat;return e===Cp||e===Dp}var og,sg,lg;var ug;var fg;var hg=function(){function t(t,e){var r=!Kd(t)?Jd(t):t;this._source=r;var i=this._data=r.data;if(r.sourceFormat===Ap){if("development"!=="production"){if(e==null){throw new Error("Typed array data must specify dimension size")}}this._offset=0;this._dimSize=e;this._data=i}fg(this,i,r)}t.prototype.getSource=function(){return this._source};t.prototype.count=function(){return 0};t.prototype.getItem=function(t,e){return};t.prototype.appendData=function(t){};t.prototype.clean=function(){};t.protoInitialize=function(){var e=t.prototype;e.pure=false;e.persistent=true}();t.internalField=function(){var t;fg=function(t,a,n){var o=n.sourceFormat;var s=n.seriesLayoutBy;var l=n.startIndex;var u=n.dimensionsDefine;var f=ug[bg(o,s)];if("development"!=="production"){st(f,"Invalide sourceFormat: "+o)}C(t,f);if(o===Ap){t.getItem=e;t.count=i;t.fillStorage=r}else{var h=pg(o,s);t.getItem=F(h,null,a,l,u);var v=yg(o,s);t.count=F(v,null,a,l,u)}};var e=function(t,e){t=t-this._offset;e=e||[];var r=this._data;var i=this._dimSize;var a=i*t;for(var n=0;n<i;n++){e[n]=r[a+n]}return e};var r=function(t,e,r,i){var a=this._data;var n=this._dimSize;for(var o=0;o<n;o++){var s=i[o];var l=s[0]==null?Infinity:s[0];var u=s[1]==null?-Infinity:s[1];var f=e-t;var h=r[o];for(var v=0;v<f;v++){var c=a[v*n+o];h[t+v]=c;c<l&&(l=c);c>u&&(u=c)}s[0]=l;s[1]=u}};var i=function(){return this._data?this._data.length/this._dimSize:0};ug=(t={},t[Tp+"_"+Lp]={pure:true,appendData:a},t[Tp+"_"+Pp]={pure:true,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[Cp]={pure:true,appendData:a},t[Dp]={pure:true,appendData:function(t){var e=this._data;R(t,function(t,r){var i=e[r]||(e[r]=[]);for(var a=0;a<(t||[]).length;a++){i.push(t[a])}})}},t[Ip]={appendData:a},t[Ap]={persistent:false,pure:true,appendData:function(t){if("development"!=="production"){st(K(t),"Added data must be TypedArray if data in initialization is TypedArray")}this._data=t},clean:function(){this._offset+=this.count();this._data=null}},t);function a(t){for(var e=0;e<t.length;e++){this._data.push(t[e])}}}();return t}();var vg=function(t,e,r,i){return t[i]};var cg=(og={},og[Tp+"_"+Lp]=function(t,e,r,i){return t[i+e]},og[Tp+"_"+Pp]=function(t,e,r,i,a){i+=e;var n=a||[];var o=t;for(var s=0;s<o.length;s++){var l=o[s];n[s]=l?l[i]:null}return n},og[Cp]=vg,og[Dp]=function(t,e,r,i,a){var n=a||[];for(var o=0;o<r.length;o++){var s=r[o].name;if("development"!=="production"){if(s==null){throw new Error}}var l=t[s];n[o]=l?l[i]:null}return n},og[Ip]=vg,og);function pg(t,e){var r=cg[bg(t,e)];if("development"!=="production"){st(r,'Do not support get item on "'+t+'", "'+e+'".')}return r}var dg=function(t,e,r){return t.length};var gg=(sg={},sg[Tp+"_"+Lp]=function(t,e,r){return Math.max(0,t.length-e)},sg[Tp+"_"+Pp]=function(t,e,r){var i=t[0];return i?Math.max(0,i.length-e):0},sg[Cp]=dg,sg[Dp]=function(t,e,r){var i=r[0].name;if("development"!=="production"){if(i==null){throw new Error}}var a=t[i];return a?a.length:0},sg[Ip]=dg,sg);function yg(t,e){var r=gg[bg(t,e)];if("development"!=="production"){st(r,'Do not suppport count on "'+t+'", "'+e+'".')}return r}var mg=function(t,e,r){return t[e]};var xg=(lg={},lg[Tp]=mg,lg[Cp]=function(t,e,r){return t[r]},lg[Dp]=mg,lg[Ip]=function(t,e,r){var i=_n(t);return!(i instanceof Array)?i:i[e]},lg[Ap]=mg,lg);function _g(t){var e=xg[t];if("development"!=="production"){st(e,'Do not suppport get value on "'+t+'".')}return e}function bg(t,e){return t===Tp?t+"_"+e:t}function wg(t,e,r){if(!t){return}var i=t.getRawDataItem(e);if(i==null){return}var a=t.getStore();var n=a.getSource().sourceFormat;if(r!=null){var o=t.getDimensionIndex(r);var s=a.getDimensionProperty(o);return _g(n)(i,o,s)}else{var l=i;if(n===Ip){l=_n(i)}return l}}var Sg=/\{@(.+?)\}/g;var Mg=function(){function t(){}t.prototype.getDataParams=function(t,e){var r=this.getData(e);var i=this.getRawValue(t,e);var a=r.getRawIndex(t);var n=r.getName(t);var o=r.getRawDataItem(t);var s=r.getItemVisual(t,"style");var l=s&&s[r.getItemVisual(t,"drawType")||"fill"];var u=s&&s.stroke;var f=this.mainType;var h=f==="series";var v=r.userOutput&&r.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:n,dataIndex:a,data:o,dataType:e,value:i,color:l,borderColor:u,dimensionNames:v?v.fullDimensions:null,encode:v?v.encode:null,$vars:["seriesName","name","value"]}};t.prototype.getFormattedLabel=function(t,e,r,i,a,n){e=e||"normal";var o=this.getData(r);var s=this.getDataParams(t,r);if(n){s.value=n.interpolatedValue}if(i!=null&&W(s.value)){s.value=s.value[i]}if(!a){var l=o.getItemModel(t);a=l.get(e==="normal"?["label","formatter"]:[e,"label","formatter"])}if(typeof a==="function"){s.status=e;s.dimensionIndex=i;return a(s)}else if(typeof a==="string"){var u=Kc(a,s);return u.replace(Sg,function(e,r){var i=r.length;var a=r;if(a.charAt(0)==="["&&a.charAt(i-1)==="]"){a=+a.slice(1,i-1);if("development"!=="production"){if(isNaN(a)){un("Invalide label formatter: @"+r+", only support @[0], @[1], @[2], ...")}}}var s=wg(o,t,a);if(n&&W(n.interpolatedValue)){var l=o.getDimensionIndex(a);if(l>=0){s=n.interpolatedValue[l]}}return s!=null?s+"":""})}};t.prototype.getRawValue=function(t,e){return wg(this.getData(e),t)};t.prototype.formatTooltip=function(t,e,r){return};return t}();function Ig(t){var e;var r;if(j(t)){if(t.type){r=t}else{if("development"!=="production"){console.warn("The return type of `formatTooltip` is not supported: "+cn(t))}}}else{e=t}return{markupText:e,markupFragment:r}}function Tg(t){return new Cg(t)}var Cg=function(){function t(t){t=t||{};this._reset=t.reset;this._plan=t.plan;this._count=t.count;this._onDirty=t.onDirty;this._dirty=true}t.prototype.perform=function(t){var e=this._upstream;var r=t&&t.skip;if(this._dirty&&e){var i=this.context;i.data=i.outputData=e.context.outputData}if(this.__pipeline){this.__pipeline.currentTask=this}var a;if(this._plan&&!r){a=this._plan(this.context)}var n=u(this._modBy);var o=this._modDataCount||0;var s=u(t&&t.modBy);var l=t&&t.modDataCount||0;if(n!==s||o!==l){a="reset"}function u(t){!(t>=1)&&(t=1);return t}var f;if(this._dirty||a==="reset"){this._dirty=false;f=this._doReset(r)}this._modBy=s;this._modDataCount=l;var h=t&&t.step;if(e){if("development"!=="production"){st(e._outputDueEnd!=null)}this._dueEnd=e._outputDueEnd}else{if("development"!=="production"){st(!this._progress||this._count)}this._dueEnd=this._count?this._count(this.context):Infinity}if(this._progress){var v=this._dueIndex;var c=Math.min(h!=null?this._dueIndex+h:Infinity,this._dueEnd);if(!r&&(f||v<c)){var p=this._progress;if(W(p)){for(var d=0;d<p.length;d++){this._doProgress(p[d],v,c,s,l)}}else{this._doProgress(p,v,c,s,l)}}this._dueIndex=c;var g=this._settedOutputEnd!=null?this._settedOutputEnd:c;if("development"!=="production"){st(g>=this._outputDueEnd)}this._outputDueEnd=g}else{this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd}return this.unfinished()};t.prototype.dirty=function(){this._dirty=true;this._onDirty&&this._onDirty(this.context)};t.prototype._doProgress=function(t,e,r,i,a){Dg.reset(e,r,i,a);this._callingProgress=t;this._callingProgress({start:e,end:r,count:r-e,next:Dg.next},this.context)};t.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0;this._settedOutputEnd=null;var e;var r;if(!t&&this._reset){e=this._reset(this.context);if(e&&e.progress){r=e.forceFirstProgress;e=e.progress}if(W(e)&&!e.length){e=null}}this._progress=e;this._modBy=this._modDataCount=null;var i=this._downstream;i&&i.dirty();return r};t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd};t.prototype.pipe=function(t){if("development"!=="production"){st(t&&!t._disposed&&t!==this)}if(this._downstream!==t||this._dirty){this._downstream=t;t._upstream=this;t.dirty()}};t.prototype.dispose=function(){if(this._disposed){return}this._upstream&&(this._upstream._downstream=null);this._downstream&&(this._downstream._upstream=null);this._dirty=false;this._disposed=true};t.prototype.getUpstream=function(){return this._upstream};t.prototype.getDownstream=function(){return this._downstream};t.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t};return t}();var Dg=function(){var t;var e;var r;var i;var a;var n={reset:function(l,u,f,h){e=l;t=u;r=f;i=h;a=Math.ceil(i/r);n.next=r>1&&i>0?s:o}};return n;function o(){return e<t?e++:null}function s(){var n=e%a*r+Math.ceil(e/a);var o=e>=t?null:n<i?n:e;e++;return o}}();function Ag(t,e){var r=e&&e.type;if(r==="ordinal"){return t}if(r==="time"&&typeof t!=="number"&&t!=null&&t!=="-"){t=+Za(t)}return t==null||t===""?NaN:+t}var kg=ct({number:function(t){return parseFloat(t)},time:function(t){return+Za(t)},trim:function(t){return typeof t==="string"?lt(t):t}});function Lg(t){return kg.get(t)}var Pg={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}};var Og=function(){function t(t,e){if(typeof e!=="number"){var r="";if("development"!=="production"){r='rvalue of "<", ">", "<=", ">=" can only be number in filter.'}pn(r)}this._opFn=Pg[t];this._rvalFloat=Qa(e)}t.prototype.evaluate=function(t){return typeof t==="number"?this._opFn(t,this._rvalFloat):this._opFn(Qa(t),this._rvalFloat)};return t}();var Rg=function(){function t(t,e){var r=t==="desc";this._resultLT=r?1:-1;if(e==null){e=r?"min":"max"}this._incomparable=e==="min"?-Infinity:Infinity}t.prototype.evaluate=function(t,e){var r=typeof t;var i=typeof e;var a=r==="number"?t:Qa(t);var n=i==="number"?e:Qa(e);var o=isNaN(a);var s=isNaN(n);if(o){a=this._incomparable}if(s){n=this._incomparable}if(o&&s){var l=r==="string";var u=i==="string";if(l){a=u?t:0}if(u){n=l?e:0}}return a<n?this._resultLT:a>n?-this._resultLT:0};return t}();var Ng=function(){function t(t,e){this._rval=e;this._isEQ=t;this._rvalTypeof=typeof e;this._rvalFloat=Qa(e)}t.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var r=typeof t;if(r!==this._rvalTypeof&&(r==="number"||this._rvalTypeof==="number")){e=Qa(t)===this._rvalFloat}}return this._isEQ?e:!e};return t}();function Eg(t,e){return t==="eq"||t==="ne"?new Ng(t==="eq",e):gt(Pg,t)?new Og(t,e):null}var zg=function(){function t(){}t.prototype.getRawData=function(){throw new Error("not supported")};t.prototype.getRawDataItem=function(t){throw new Error("not supported")};t.prototype.cloneRawData=function(){return};t.prototype.getDimensionInfo=function(t){return};t.prototype.cloneAllDimensionInfo=function(){return};t.prototype.count=function(){return};t.prototype.retrieveValue=function(t,e){return};t.prototype.retrieveValueFromItem=function(t,e){return};t.prototype.convertValue=function(t,e){return Ag(t,e)};return t}();function Bg(t,e){var r=new zg;var i=t.data;var a=r.sourceFormat=t.sourceFormat;var n=t.startIndex;var o="";if(t.seriesLayoutBy!==Lp){if("development"!=="production"){o='`seriesLayoutBy` of upstream dataset can only be "column" in data transform.'}pn(o)}var s=[];var l={};var u=t.dimensionsDefine;if(u){R(u,function(t,e){var r=t.name;var i={index:e,name:r,displayName:t.displayName};s.push(i);if(r!=null){var a="";if(gt(l,r)){if("development"!=="production"){a='dimension name "'+r+'" duplicated.'}pn(a)}l[r]=i}})}else{for(var f=0;f<t.dimensionsDetectedCount||0;f++){s.push({index:f})}}var h=pg(a,Lp);if(e.__isBuiltIn){r.getRawDataItem=function(t){return h(i,n,s,t)};r.getRawData=F(Vg,null,t)}r.cloneRawData=F(Gg,null,t);var v=yg(a,Lp);r.count=F(v,null,i,n,s);var c=_g(a);r.retrieveValue=function(t,e){var r=h(i,n,s,t);return p(r,e)};var p=r.retrieveValueFromItem=function(t,e){if(t==null){return}var r=s[e];if(r){return c(t,e,r.name)}};r.getDimensionInfo=F(Fg,null,s,l);r.cloneAllDimensionInfo=F(Hg,null,s);return r}function Vg(t){var e=t.sourceFormat;if(!Zg(e)){var r="";if("development"!=="production"){r="`getRawData` is not supported in source format "+e}pn(r)}return t.data}function Gg(t){var e=t.sourceFormat;var r=t.data;if(!Zg(e)){var i="";if("development"!=="production"){i="`cloneRawData` is not supported in source format "+e}pn(i)}if(e===Tp){var a=[];for(var n=0,o=r.length;n<o;n++){a.push(r[n].slice())}return a}else if(e===Cp){var a=[];for(var n=0,o=r.length;n<o;n++){a.push(C({},r[n]))}return a}}function Fg(t,e,r){if(r==null){return}if(typeof r==="number"||!isNaN(r)&&!gt(e,r)){return t[r]}else if(gt(e,r)){return e[r]}}function Hg(t){return M(t)}var Wg=ct();function Ug(t){t=M(t);var e=t.type;var r="";if(!e){if("development"!=="production"){r="Must have a `type` when `registerTransform`."}pn(r)}var i=e.split(":");if(i.length!==2){if("development"!=="production"){r='Name must include namespace like "ns:regression".'}pn(r)}var a=false;if(i[0]==="echarts"){e=i[1];a=true}t.__isBuiltIn=a;Wg.set(e,t)}function Yg(t,e,r){var i=yn(t);var a=i.length;var n="";if(!a){if("development"!=="production"){n="If `transform` declared, it should at least contain one transform."}pn(n)}for(var o=0,s=a;o<s;o++){var l=i[o];e=Xg(l,e,r,a===1?null:o);if(o!==s-1){e.length=Math.max(e.length,1)}}return e}function Xg(t,e,r,i){var a="";if(!e.length){if("development"!=="production"){a="Must have at least one upstream dataset."}pn(a)}if(!j(t)){if("development"!=="production"){a="transform declaration must be an object rather than "+typeof t+"."}pn(a)}var n=t.type;var o=Wg.get(n);if(!o){if("development"!=="production"){a='Can not find transform on type "'+n+'".'}pn(a)}var s=N(e,function(t){return Bg(t,o)});var l=yn(o.transform({upstream:s[0],upstreamList:s,config:M(t.config)}));if("development"!=="production"){if(t.print){var u=N(l,function(t){var e=i!=null?" === pipe index: "+i:"";return["=== dataset index: "+r.datasetIndex+e+" ===","- transform result data:",cn(t.data),"- transform result dimensions:",cn(t.dimensions)].join("\n")}).join("\n");vn(u)}}return N(l,function(t,r){var i="";if(!j(t)){if("development"!=="production"){i="A transform should not return some empty results."}pn(i)}if(!t.data){if("development"!=="production"){i="Transform result data should be not be null or undefined"}pn(i)}var a=tg(t.data);if(!Zg(a)){if("development"!=="production"){i="Transform result data should be array rows or object rows."}pn(i)}var n;var o=e[0];if(o&&r===0&&!t.dimensions){var s=o.startIndex;if(s){t.data=o.data.slice(0,s).concat(t.data)}n={seriesLayoutBy:Lp,sourceHeader:s,dimensions:o.metaRawOption.dimensions}}else{n={seriesLayoutBy:Lp,sourceHeader:0,dimensions:t.dimensions}}return $d(t.data,n,null)})}function Zg(t){return t===Tp||t===Cp}var jg="undefined";var qg=typeof Uint32Array===jg?Array:Uint32Array;var Kg=typeof Uint16Array===jg?Array:Uint16Array;var $g=typeof Int32Array===jg?Array:Int32Array;var Jg=typeof Float64Array===jg?Array:Float64Array;var Qg={float:Jg,int:$g,ordinal:Array,number:Array,time:Jg};var ty;function ey(t){return t>65535?qg:Kg}function ry(){return[Infinity,-Infinity]}function iy(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function ay(t,e,r,i,a){var n=Qg[r||"float"];if(a){var o=t[e];var s=o&&o.length;if(!(s===i)){var l=new n(i);for(var u=0;u<s;u++){l[u]=o[u]}t[e]=l}}else{t[e]=new n(i)}}var ny=function(){function t(){this._chunks=[];this._rawExtent=[];this._extent=[];this._count=0;this._rawCount=0;this._calcDimNameToIdx=ct()}t.prototype.initData=function(t,e,r){if("development"!=="production"){st(U(t.getItem)&&U(t.count),"Inavlid data provider.")}this._provider=t;this._chunks=[];this._indices=null;this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource();var a=this.defaultDimValueGetter=ty[i.sourceFormat];this._dimValueGetter=r||a;this._rawExtent=[];var n=ng(i);this._dimensions=N(e,function(t){if("development"!=="production"){if(n){st(t.property!=null)}}return{type:t.type,property:t.property}});this._initDataFromProvider(0,t.count())};t.prototype.getProvider=function(){return this._provider};t.prototype.getSource=function(){return this._provider.getSource()};t.prototype.ensureCalculationDimension=function(t,e){var r=this._calcDimNameToIdx;var i=this._dimensions;var a=r.get(t);if(a!=null){if(i[a].type===e){return a}}else{a=i.length}i[a]={type:e};r.set(t,a);this._chunks[a]=new Qg[e||"float"](this._rawCount);this._rawExtent[a]=ry();return a};t.prototype.collectOrdinalMeta=function(t,e){var r=this._chunks[t];var i=this._dimensions[t];var a=this._rawExtent;var n=i.ordinalOffset||0;var o=r.length;if(n===0){a[t]=ry()}var s=a[t];for(var l=n;l<o;l++){var u=r[l]=e.parseAndCollect(r[l]);s[0]=Math.min(u,s[0]);s[1]=Math.max(u,s[1])}i.ordinalMeta=e;i.ordinalOffset=o;i.type="ordinal"};t.prototype.getOrdinalMeta=function(t){var e=this._dimensions[t];var r=e.ordinalMeta;return r};t.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property};t.prototype.appendData=function(t){if("development"!=="production"){st(!this._indices,"appendData can only be called on raw data.")}var e=this._provider;var r=this.count();e.appendData(t);var i=e.count();if(!e.persistent){i+=r}if(r<i){this._initDataFromProvider(r,i,true)}return[r,i]};t.prototype.appendValues=function(t,e){var r=this._chunks;var i=this._dimensions;var a=i.length;var n=this._rawExtent;var o=this.count();var s=o+Math.max(t.length,e||0);for(var l=0;l<a;l++){var u=i[l];ay(r,l,u.type,s,true)}var f=[];for(var h=o;h<s;h++){var v=h-o;for(var c=0;c<a;c++){var u=i[c];var p=ty.arrayRows.call(this,t[v]||f,u.property,v,c);r[c][h]=p;var d=n[c];p<d[0]&&(d[0]=p);p>d[1]&&(d[1]=p)}}this._rawCount=this._count=s;return{start:o,end:s}};t.prototype._initDataFromProvider=function(t,e,r){var i=this._provider;var a=this._chunks;var n=this._dimensions;var o=n.length;var s=this._rawExtent;var l=N(n,function(t){return t.property});for(var u=0;u<o;u++){var f=n[u];if(!s[u]){s[u]=ry()}ay(a,u,f.type,e,r)}if(i.fillStorage){i.fillStorage(t,e,a,s)}else{var h=[];for(var v=t;v<e;v++){h=i.getItem(v,h);for(var c=0;c<o;c++){var p=a[c];var d=this._dimValueGetter(h,l[c],v,c);p[v]=d;var g=s[c];d<g[0]&&(g[0]=d);d>g[1]&&(g[1]=d)}}}if(!i.persistent&&i.clean){i.clean()}this._rawCount=this._count=e;this._extent=[]};t.prototype.count=function(){return this._count};t.prototype.get=function(t,e){if(!(e>=0&&e<this._count)){return NaN}var r=this._chunks[t];return r?r[this.getRawIndex(e)]:NaN};t.prototype.getValues=function(t,e){var r=[];var i=[];if(e==null){e=t;t=[];for(var a=0;a<this._dimensions.length;a++){i.push(a)}}else{i=t}for(var a=0,n=i.length;a<n;a++){r.push(this.get(i[a],e))}return r};t.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount)){return NaN}var r=this._chunks[t];return r?r[e]:NaN};t.prototype.getSum=function(t){var e=this._chunks[t];var r=0;if(e){for(var i=0,a=this.count();i<a;i++){var n=this.get(t,i);if(!isNaN(n)){r+=n}}}return r};t.prototype.getMedian=function(t){var e=[];this.each([t],function(t){if(!isNaN(t)){e.push(t)}});var r=e.sort(function(t,e){return t-e});var i=this.count();return i===0?0:i%2===1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2};t.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0){return-1}if(!this._indices){return t}var e=this._indices;var r=e[t];if(r!=null&&r<this._count&&r===t){return t}var i=0;var a=this._count-1;while(i<=a){var n=(i+a)/2|0;if(e[n]<t){i=n+1}else if(e[n]>t){a=n-1}else{return n}}return-1};t.prototype.indicesOfNearest=function(t,e,r){var i=this._chunks;var a=i[t];var n=[];if(!a){return n}if(r==null){r=Infinity}var o=Infinity;var s=-1;var l=0;for(var u=0,f=this.count();u<f;u++){var h=this.getRawIndex(u);var v=e-a[h];var c=Math.abs(v);if(c<=r){if(c<o||c===o&&v>=0&&s<0){o=c;s=v;l=0}if(v===s){n[l++]=u}}}n.length=l;return n};t.prototype.getIndices=function(){var t;var e=this._indices;if(e){var r=e.constructor;var i=this._count;if(r===Array){t=new r(i);for(var a=0;a<i;a++){t[a]=e[a]}}else{t=new r(e.buffer,0,i)}}else{var r=ey(this._rawCount);t=new r(this.count());for(var a=0;a<t.length;a++){t[a]=a}}return t};t.prototype.filter=function(t,e){if(!this._count){return this}var r=this.clone();var i=r.count();var a=ey(r._rawCount);var n=new a(i);var o=[];var s=t.length;var l=0;var u=t[0];var f=r._chunks;for(var h=0;h<i;h++){var v=void 0;var c=r.getRawIndex(h);if(s===0){v=e(h)}else if(s===1){var p=f[u][c];v=e(p,h)}else{var d=0;for(;d<s;d++){o[d]=f[t[d]][c]}o[d]=h;v=e.apply(null,o)}if(v){n[l++]=c}}if(l<i){r._indices=n}r._count=l;r._extent=[];r._updateGetRawIdx();return r};t.prototype.selectRange=function(t){var e=this.clone();var r=e._count;if(!r){return this}var i=V(t);var a=i.length;if(!a){return this}var n=e.count();var o=ey(e._rawCount);var s=new o(n);var l=0;var u=i[0];var f=t[u][0];var h=t[u][1];var v=e._chunks;var c=false;if(!e._indices){var p=0;if(a===1){var d=v[i[0]];for(var g=0;g<r;g++){var y=d[g];if(y>=f&&y<=h||isNaN(y)){s[l++]=p}p++}c=true}else if(a===2){var d=v[i[0]];var m=v[i[1]];var x=t[i[1]][0];var _=t[i[1]][1];for(var g=0;g<r;g++){var y=d[g];var b=m[g];if((y>=f&&y<=h||isNaN(y))&&(b>=x&&b<=_||isNaN(b))){s[l++]=p}p++}c=true}}if(!c){if(a===1){for(var g=0;g<n;g++){var w=e.getRawIndex(g);var y=v[i[0]][w];if(y>=f&&y<=h||isNaN(y)){s[l++]=w}}}else{for(var g=0;g<n;g++){var S=true;var w=e.getRawIndex(g);for(var M=0;M<a;M++){var I=i[M];var y=v[I][w];if(y<t[I][0]||y>t[I][1]){S=false}}if(S){s[l++]=e.getRawIndex(g)}}}}if(l<n){e._indices=s}e._count=l;e._extent=[];e._updateGetRawIdx();return e};t.prototype.map=function(t,e){var r=this.clone(t);this._updateDims(r,t,e);return r};t.prototype.modify=function(t,e){this._updateDims(this,t,e)};t.prototype._updateDims=function(t,e,r){var i=t._chunks;var a=[];var n=e.length;var o=t.count();var s=[];var l=t._rawExtent;for(var u=0;u<e.length;u++){l[e[u]]=ry()}for(var f=0;f<o;f++){var h=t.getRawIndex(f);for(var v=0;v<n;v++){s[v]=i[e[v]][h]}s[n]=f;var c=r&&r.apply(null,s);if(c!=null){if(typeof c!=="object"){a[0]=c;c=a}for(var u=0;u<c.length;u++){var p=e[u];var d=c[u];var g=l[p];var y=i[p];if(y){y[h]=d}if(d<g[0]){g[0]=d}if(d>g[1]){g[1]=d}}}}};t.prototype.lttbDownSample=function(t,e){var r=this.clone([t],true);var i=r._chunks;var a=i[t];var n=this.count();var o=0;var s=Math.floor(1/e);var l=this.getRawIndex(0);var u;var f;var h;var v=new(ey(this._rawCount))(Math.ceil(n/s)+2);v[o++]=l;for(var c=1;c<n-1;c+=s){var p=Math.min(c+s,n-1);var d=Math.min(c+s*2,n);var g=(d+p)/2;var y=0;for(var m=p;m<d;m++){var x=this.getRawIndex(m);var _=a[x];if(isNaN(_)){continue}y+=_}y/=d-p;var b=c;var w=Math.min(c+s,n);var S=c-1;var M=a[l];u=-1;h=b;for(var m=b;m<w;m++){var x=this.getRawIndex(m);var _=a[x];if(isNaN(_)){continue}f=Math.abs((S-g)*(_-M)-(S-m)*(y-M));if(f>u){u=f;h=x}}v[o++]=h;l=h}v[o++]=this.getRawIndex(n-1);r._count=o;r._indices=v;r.getRawIndex=this._getRawIdx;return r};t.prototype.downSample=function(t,e,r,i){var a=this.clone([t],true);var n=a._chunks;var o=[];var s=Math.floor(1/e);var l=n[t];var u=this.count();var f=a._rawExtent[t]=ry();var h=new(ey(this._rawCount))(Math.ceil(u/s));var v=0;for(var c=0;c<u;c+=s){if(s>u-c){s=u-c;o.length=s}for(var p=0;p<s;p++){var d=this.getRawIndex(c+p);o[p]=l[d]}var g=r(o);var y=this.getRawIndex(Math.min(c+i(o,g)||0,u-1));l[y]=g;if(g<f[0]){f[0]=g}if(g>f[1]){f[1]=g}h[v++]=y}a._count=v;a._indices=h;a._updateGetRawIdx();return a};t.prototype.each=function(t,e){if(!this._count){return}var r=t.length;var i=this._chunks;for(var a=0,n=this.count();a<n;a++){var o=this.getRawIndex(a);switch(r){case 0:e(a);break;case 1:e(i[t[0]][o],a);break;case 2:e(i[t[0]][o],i[t[1]][o],a);break;default:var s=0;var l=[];for(;s<r;s++){l[s]=i[t[s]][o]}l[s]=a;e.apply(null,l)}}};t.prototype.getDataExtent=function(t){var e=this._chunks[t];var r=ry();if(!e){return r}var i=this.count();var a=!this._indices;var n;if(a){return this._rawExtent[t].slice()}n=this._extent[t];if(n){return n.slice()}n=r;var o=n[0];var s=n[1];for(var l=0;l<i;l++){var u=this.getRawIndex(l);var f=e[u];f<o&&(o=f);f>s&&(s=f)}n=[o,s];this._extent[t]=n;return n};t.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(!this._provider.persistent){var r=[];var i=this._chunks;for(var a=0;a<i.length;a++){r.push(i[a][e])}return r}else{return this._provider.getItem(e)}};t.prototype.clone=function(e,r){var i=new t;var a=this._chunks;var n=e&&E(e,function(t,e){t[e]=true;return t},{});if(n){for(var o=0;o<a.length;o++){i._chunks[o]=!n[o]?a[o]:iy(a[o])}}else{i._chunks=a}this._copyCommonProps(i);if(!r){i._indices=this._cloneIndices()}i._updateGetRawIdx();return i};t.prototype._copyCommonProps=function(t){t._count=this._count;t._rawCount=this._rawCount;t._provider=this._provider;t._dimensions=this._dimensions;t._extent=M(this._extent);t._rawExtent=M(this._rawExtent)};t.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor;var e=void 0;if(t===Array){var r=this._indices.length;e=new t(r);for(var i=0;i<r;i++){e[i]=this._indices[i]}}else{e=new t(this._indices)}return e}return null};t.prototype._getRawIdxIdentity=function(t){return t};t.prototype._getRawIdx=function(t){if(t<this._count&&t>=0){return this._indices[t]}return-1};t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity};t.internalField=function(){function t(t,e,r,i){return Ag(t[i],this._dimensions[i])}ty={arrayRows:t,objectRows:function(t,e,r,i){return Ag(t[e],this._dimensions[i])},keyedColumns:t,original:function(t,e,r,i){var a=t&&(t.value==null?t:t.value);return Ag(a instanceof Array?a[i]:a,this._dimensions[i])},typedArray:function(t,e,r,i){return t[i]}}}();return t}();var oy=function(){function t(t){this._sourceList=[];this._storeList=[];this._upstreamSignList=[];this._versionSignBase=0;this._dirty=true;this._sourceHost=t}t.prototype.dirty=function(){this._setLocalSource([],[]);this._storeList=[];this._dirty=true};t.prototype._setLocalSource=function(t,e){this._sourceList=t;this._upstreamSignList=e;this._versionSignBase++;if(this._versionSignBase>9e10){this._versionSignBase=0}};t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase};t.prototype.prepareSource=function(){if(this._isDirty()){this._createSource();this._dirty=false}};t.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost;var e=this._getUpstreamSourceManagers();var r=!!e.length;var i;var a;if(ly(t)){var n=t;var o=void 0;var s=void 0;var l=void 0;if(r){var u=e[0];u.prepareSource();l=u.getSource();o=l.data;s=l.sourceFormat;a=[u._getVersionSign()]}else{o=n.get("data",true);s=K(o)?Ap:Ip;a=[]}var f=this._getSourceMetaRawOption()||{};var h=l&&l.metaRawOption||{};var v=it(f.seriesLayoutBy,h.seriesLayoutBy)||null;var c=it(f.sourceHeader,h.sourceHeader)||null;var p=it(f.dimensions,h.dimensions);var d=v!==h.seriesLayoutBy||!!c!==!!h.sourceHeader||p;i=d?[$d(o,{seriesLayoutBy:v,sourceHeader:c,dimensions:p},s)]:[]}else{var g=t;if(r){var y=this._applyTransform(e);i=y.sourceList;a=y.upstreamSignList}else{var m=g.get("source",true);i=[$d(m,this._getSourceMetaRawOption(),null)];a=[]}}if("development"!=="production"){st(i&&a)}this._setLocalSource(i,a)};t.prototype._applyTransform=function(t){var e=this._sourceHost;var r=e.get("transform",true);var i=e.get("fromTransformResult",true);if("development"!=="production"){st(i!=null||r!=null)}if(i!=null){var a="";if(t.length!==1){if("development"!=="production"){a="When using `fromTransformResult`, there should be only one upstream dataset"}uy(a)}}var n;var o=[];var s=[];R(t,function(t){t.prepareSource();var e=t.getSource(i||0);var r="";if(i!=null&&!e){if("development"!=="production"){r="Can not retrieve result by `fromTransformResult`: "+i}uy(r)}o.push(e);s.push(t._getVersionSign())});if(r){n=Yg(r,o,{datasetIndex:e.componentIndex})}else if(i!=null){n=[Qd(o[0])]}return{sourceList:n,upstreamSignList:s}};t.prototype._isDirty=function(){if(this._dirty){return true}var t=this._getUpstreamSourceManagers();for(var e=0;e<t.length;e++){var r=t[e];if(r._isDirty()||this._upstreamSignList[e]!==r._getVersionSign()){return true}}};t.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(t)}return e};t.prototype.getSharedDataStore=function(t){if("development"!=="production"){st(ly(this._sourceHost),"Can only call getDataStore on series source manager.")}var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)};t.prototype._innerGetDataStore=function(t,e,r){var i=0;var a=this._storeList;var n=a[i];if(!n){n=a[i]={}}var o=n[r];if(!o){var s=this._getUpstreamSourceManagers()[0];if(ly(this._sourceHost)&&s){o=s._innerGetDataStore(t,e,r)}else{o=new ny;o.initData(new hg(e,t.length),t)}n[r]=o}return o};t.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(ly(t)){var e=Bp(t);return!e?[]:[e.getSourceManager()]}else{return N(Vp(t),function(t){return t.getSourceManager()})}};t.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost;var e;var r;var i;if(ly(t)){e=t.get("seriesLayoutBy",true);r=t.get("sourceHeader",true);i=t.get("dimensions",true)}else if(!this._getUpstreamSourceManagers().length){var a=t;e=a.get("seriesLayoutBy",true);r=a.get("sourceHeader",true);i=a.get("dimensions",true)}return{seriesLayoutBy:e,sourceHeader:r,dimensions:i}};return t}();function sy(t){var e=t.option.transform;e&&ft(t.option.transform)}function ly(t){return t.mainType==="series"}function uy(t){throw new Error(t)}var fy="line-height:1";function hy(t,e){var r=t.color||"#6e7079";var i=t.fontSize||12;var a=t.fontWeight||"400";var n=t.color||"#464646";var o=t.fontSize||14;var s=t.fontWeight||"900";if(e==="html"){return{nameStyle:"font-size:"+Xc(i+"")+"px;color:"+Xc(r)+";font-weight:"+Xc(a+""),valueStyle:"font-size:"+Xc(o+"")+"px;color:"+Xc(n)+";font-weight:"+Xc(s+"")}}else{return{nameStyle:{fontSize:i,fill:r,fontWeight:a},valueStyle:{fontSize:o,fill:n,fontWeight:s}}}}var vy=[0,10,20,30];var cy=["","\n","\n\n","\n\n\n"];function py(t,e){e.type=t;return e}function dy(t){return gt(gy,t.type)&&gy[t.type]}var gy={section:{planLayout:function(t){var e=t.blocks.length;var r=e>1||e>0&&!t.noHeader;var i=0;R(t.blocks,function(t){dy(t).planLayout(t);var e=t.__gapLevelBetweenSubBlocks;if(e>=i){i=e+(r&&(!e||t.type==="section"&&!t.noHeader)?1:0)}});t.__gapLevelBetweenSubBlocks=i},build:function(t,e,r,i){var a=e.noHeader;var n=xy(e);var o=yy(t,e,a?r:n.html,i);if(a){return o}var s=Zc(e.header,"ordinal",t.useUTC);var l=hy(i,t.renderMode).nameStyle;if(t.renderMode==="richText"){return Sy(t,s,l)+n.richText+o}else{return _y('<div style="'+l+";"+fy+';">'+Xc(s)+"</div>"+o,r)}}},nameValue:{planLayout:function(t){t.__gapLevelBetweenSubBlocks=0},build:function(t,e,r,i){var a=t.renderMode;var n=e.noName;var o=e.noValue;var s=!e.markerType;var l=e.name;var u=e.value;var f=t.useUTC;if(n&&o){return}var h=s?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",a);var v=n?"":Zc(l,"ordinal",f);var c=e.valueType;var p=o?[]:W(u)?N(u,function(t,e){return Zc(t,W(c)?c[e]:c,f)}):[Zc(u,W(c)?c[0]:c,f)];var d=!s||!n;var g=!s&&n;var y=hy(i,a),m=y.nameStyle,x=y.valueStyle;return a==="richText"?(s?"":h)+(n?"":Sy(t,v,m))+(o?"":My(t,p,d,g,x)):_y((s?"":h)+(n?"":by(v,!s,m))+(o?"":wy(p,d,g,x)),r)}}};function yy(t,e,r,i){var a=[];var n=e.blocks||[];st(!n||W(n));n=n||[];var o=t.orderMode;if(e.sortBlocks&&o){n=n.slice();var s={valueAsc:"asc",valueDesc:"desc"};if(gt(s,o)){var l=new Rg(s[o],null);n.sort(function(t,e){return l.evaluate(t.sortParam,e.sortParam)})}else if(o==="seriesDesc"){n.reverse()}}var u=xy(e);R(n,function(e,r){var n=dy(e).build(t,e,r>0?u.html:0,i);n!=null&&a.push(n)});if(!a.length){return}return t.renderMode==="richText"?a.join(u.richText):_y(a.join(""),r)}function my(t,e,r,i,a,n){if(!t){return}var o=dy(t);o.planLayout(t);var s={useUTC:a,renderMode:r,orderMode:i,markupStyleCreator:e};return o.build(s,t,0,n)}function xy(t){var e=t.__gapLevelBetweenSubBlocks;return{html:vy[e],richText:cy[e]}}function _y(t,e){var r='<div style="clear:both"></div>';var i="margin: "+e+"px 0 0";return'<div style="'+i+";"+fy+';">'+t+r+"</div>"}function by(t,e,r){var i=e?"margin-left:2px":"";return'<span style="'+r+";"+i+'">'+Xc(t)+"</span>"}function wy(t,e,r,i){var a=r?"10px":"20px";var n=e?"float:right;margin-left:"+a:"";return'<span style="'+n+";"+i+'">'+N(t,function(t){return Xc(t)}).join("&nbsp;&nbsp;")+"</span>"}function Sy(t,e,r){return t.markupStyleCreator.wrapRichTextStyle(e,r)}function My(t,e,r,i,a){var n=[a];var o=i?10:20;r&&n.push({padding:[0,0,0,o],align:"right"});return t.markupStyleCreator.wrapRichTextStyle(e.join("  "),n)}function Iy(t,e){var r=t.getData().getItemVisual(e,"style");var i=r[t.visualDrawType];return ep(i)}function Ty(t,e){var r=t.get("padding");return r!=null?r:e==="richText"?[8,10]:10}var Cy=function(){function t(){this.richTextStyles={};this._nextStyleNameId=en()}t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++};t.prototype.makeTooltipMarker=function(t,e,r){var i=r==="richText"?this._generateStyleName():null;var a=Jc({color:e,type:t,renderMode:r,markerId:i});if(Y(a)){return a}else{if("development"!=="production"){st(i)}this.richTextStyles[i]=a.style;return a.content}};t.prototype.wrapRichTextStyle=function(t,e){var r={};if(W(e)){R(e,function(t){return C(r,t)})}else{C(r,e)}var i=this._generateStyleName();this.richTextStyles[i]=r;return"{"+i+"|"+t+"}"};return t}();function Dy(t){var e=t.series;var r=t.dataIndex;var i=t.multipleSeries;var a=e.getData();var n=a.mapDimensionsAll("defaultedTooltip");var o=n.length;var s=e.getRawValue(r);var l=W(s);var u=Iy(e,r);var f;var h;var v;var c;if(o>1||l&&!o){var p=Ay(s,e,r,n,u);f=p.inlineValues;h=p.inlineValueTypes;v=p.blocks;c=p.inlineValues[0]}else if(o){var d=a.getDimensionInfo(n[0]);c=f=wg(a,r,n[0]);h=d.type}else{c=f=l?s[0]:s}var g=Rn(e);var y=g&&e.name||"";var m=a.getName(r);var x=i?y:m;return py("section",{header:y,noHeader:i||!g,sortParam:c,blocks:[py("nameValue",{markerType:"item",markerColor:u,name:x,noName:!lt(x),value:f,valueType:h})].concat(v||[])})}function Ay(t,e,r,i,a){var n=e.getData();var o=E(t,function(t,e,r){var i=n.getDimensionInfo(r);return t=t||i&&i.tooltip!==false&&i.displayName!=null},false);var s=[];var l=[];var u=[];i.length?R(i,function(t){f(wg(n,r,t),t)}):R(t,f);function f(t,e){var r=n.getDimensionInfo(e);if(!r||r.otherDims.tooltip===false){return}if(o){u.push(py("nameValue",{markerType:"subItem",markerColor:a,name:r.displayName,value:t,valueType:r.type}))}else{s.push(t);l.push(r.type)}}return{inlineValues:s,inlineValueTypes:l,blocks:u}}var ky=Fn();function Ly(t,e){return t.getName(e)||t.getId(e)}var Py="__universalTransitionEnabled";var Oy=function(t){r(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e._selectedDataIndicesMap={};return e}e.prototype.init=function(t,e,r){this.seriesIndex=this.componentIndex;this.dataTask=Tg({count:Ey,reset:zy});this.dataTask.context={model:this};this.mergeDefaultAndTheme(t,r);var i=ky(this).sourceManager=new oy(this);i.prepareSource();var a=this.getInitialData(t,r);Vy(a,this);this.dataTask.context.data=a;if("development"!=="production"){st(a,"getInitialData returned invalid data.")}ky(this).dataBeforeProcessed=a;Ry(this);this._initSelectedMapFromData(a)};e.prototype.mergeDefaultAndTheme=function(t,e){var r=pp(this);var i=r?gp(t):{};var a=this.subType;if(xp.hasClass(a)){a+="Series"}I(t,e.getTheme().get(this.subType));I(t,this.getDefaultOption());mn(t,"label",["show"]);this.fillDataTextStyle(t.data);if(r){dp(t,i,r)}};e.prototype.mergeOption=function(t,e){t=I(this.option,t,true);this.fillDataTextStyle(t.data);var r=pp(this);if(r){dp(this.option,t,r)}var i=ky(this).sourceManager;i.dirty();i.prepareSource();var a=this.getInitialData(t,e);Vy(a,this);this.dataTask.dirty();this.dataTask.context.data=a;ky(this).dataBeforeProcessed=a;Ry(this);this._initSelectedMapFromData(a)};e.prototype.fillDataTextStyle=function(t){if(t&&!K(t)){var e=["show"];for(var r=0;r<t.length;r++){if(t[r]&&t[r].label){mn(t[r],"label",e)}}}};e.prototype.getInitialData=function(t,e){return};e.prototype.appendData=function(t){var e=this.getRawData();e.appendData(t.data)};e.prototype.getData=function(t){var e=Fy(this);if(e){var r=e.context.data;return t==null?r:r.getLinkedData(t)}else{return ky(this).data}};e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]};e.prototype.setData=function(t){var e=Fy(this);if(e){var r=e.context;r.outputData=t;if(e!==this.dataTask){r.data=t}}ky(this).data=t};e.prototype.getEncode=function(){var t=this.get("encode",true);if(t){return ct(t)}};e.prototype.getSourceManager=function(){return ky(this).sourceManager};e.prototype.getSource=function(){return this.getSourceManager().getSource()};e.prototype.getRawData=function(){return ky(this).dataBeforeProcessed};e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"};e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"};e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()};e.prototype.formatTooltip=function(t,e,r){return Dy({series:this,dataIndex:t,multipleSeries:e})};e.prototype.isAnimationEnabled=function(){if(s.node){return false}var t=this.getShallow("animation");if(t){if(this.getData().count()>this.getShallow("animationThreshold")){t=false}}return!!t};e.prototype.restoreData=function(){this.dataTask.dirty()};e.prototype.getColorFromPalette=function(t,e,r){var i=this.ecModel;var a=Zp.prototype.getColorFromPalette.call(this,t,e,r);if(!a){a=i.getColorFromPalette(t,e,r)}return a};e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)};e.prototype.getProgressive=function(){return this.get("progressive")};e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")};e.prototype.select=function(t,e){this._innerSelect(this.getData(e),t)};e.prototype.unselect=function(t,e){var r=this.option.selectedMap;if(!r){return}var i=this.getData(e);for(var a=0;a<t.length;a++){var n=t[a];var o=Ly(i,n);r[o]=false;this._selectedDataIndicesMap[o]=-1}};e.prototype.toggleSelect=function(t,e){var r=[];for(var i=0;i<t.length;i++){r[0]=t[i];this.isSelected(t[i],e)?this.unselect(r,e):this.select(r,e)}};e.prototype.getSelectedDataIndices=function(){var t=this._selectedDataIndicesMap;var e=V(t);var r=[];for(var i=0;i<e.length;i++){var a=t[e[i]];if(a>=0){r.push(a)}}return r};e.prototype.isSelected=function(t,e){var r=this.option.selectedMap;if(!r){return false}var i=this.getData(e);var a=Ly(i,t);return r[a]||false};e.prototype.isUniversalTransitionEnabled=function(){if(this[Py]){return true}var t=this.option.universalTransition;if(!t){return false}if(t===true){return true}return t&&t.enabled};e.prototype._innerSelect=function(t,e){var r,i;var a=this.option.selectedMode;var n=e.length;if(!a||!n){return}if(a==="multiple"){var o=this.option.selectedMap||(this.option.selectedMap={});for(var s=0;s<n;s++){var l=e[s];var u=Ly(t,l);o[u]=true;this._selectedDataIndicesMap[u]=t.getRawIndex(l)}}else if(a==="single"||a===true){var f=e[n-1];var u=Ly(t,f);this.option.selectedMap=(r={},r[u]=true,r);this._selectedDataIndicesMap=(i={},i[u]=t.getRawIndex(f),i)}};e.prototype._initSelectedMapFromData=function(t){if(this.option.selectedMap){return}var e=[];if(t.hasItemOption){t.each(function(r){var i=t.getRawDataItem(r);if(i&&i.selected){e.push(r)}})}if(e.length>0){this._innerSelect(t,e)}};e.registerClass=function(t){return xp.registerClass(t)};e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__";t.seriesIndex=0;t.ignoreStyleOnData=false;t.hasSymbolVisual=false;t.defaultSymbol="circle";t.visualStyleAccessPath="itemStyle";t.visualDrawType="fill"}();return e}(xp);P(Oy,Mg);P(Oy,Zp);so(Oy,xp);function Ry(t){var e=t.name;if(!Rn(t)){t.name=Ny(t)||e}}function Ny(t){var e=t.getRawData();var r=e.mapDimensionsAll("seriesName");var i=[];R(r,function(t){var r=e.getDimensionInfo(t);r.displayName&&i.push(r.displayName)});return i.join(" ")}function Ey(t){return t.model.getRawData().count()}function zy(t){var e=t.model;e.setData(e.getRawData().cloneShallow());return By}function By(t,e){if(e.outputData&&t.end>e.outputData.count()){e.model.getRawData().cloneShallow(e.outputData)}}function Vy(t,e){R(pt(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(r){t.wrapMethod(r,H(Gy,e))})}function Gy(t,e){var r=Fy(t);if(r){r.setOutputEnd((e||this).count())}return e}function Fy(t){var e=(t.ecModel||{}).scheduler;var r=e&&e.getPipeline(t.uid);if(r){var i=r.currentTask;if(i){var a=i.agentStubMap;if(a){i=a.get(t.uid)}}return i}}var Hy=function(){function t(){this.group=new ya;this.uid=Xv("viewComponent")}t.prototype.init=function(t,e){};t.prototype.render=function(t,e,r,i){};t.prototype.dispose=function(t,e){};t.prototype.updateView=function(t,e,r,i){};t.prototype.updateLayout=function(t,e,r,i){};t.prototype.updateVisual=function(t,e,r,i){};t.prototype.blurSeries=function(t,e){};return t}();no(Hy);vo(Hy);function Wy(){var t=Fn();return function(e){var r=t(e);var i=e.pipelineContext;var a=!!r.large;var n=!!r.progressiveRender;var o=r.large=!!(i&&i.large);var s=r.progressiveRender=!!(i&&i.progressiveRender);return!!(a!==o||n!==s)&&"reset"}}var Uy=Fn();var Yy=Wy();var Xy=function(){function t(){this.group=new ya;this.uid=Xv("viewChart");this.renderTask=Tg({plan:qy,reset:Ky});this.renderTask.context={view:this}}t.prototype.init=function(t,e){};t.prototype.render=function(t,e,r,i){};t.prototype.highlight=function(t,e,r,i){jy(t.getData(),i,"emphasis")};t.prototype.downplay=function(t,e,r,i){jy(t.getData(),i,"normal")};t.prototype.remove=function(t,e){this.group.removeAll()};t.prototype.dispose=function(t,e){};t.prototype.updateView=function(t,e,r,i){this.render(t,e,r,i)};t.prototype.updateLayout=function(t,e,r,i){this.render(t,e,r,i)};t.prototype.updateVisual=function(t,e,r,i){this.render(t,e,r,i)};t.markUpdateMethod=function(t,e){Uy(t).updateMethod=e};t.protoInitialize=function(){var e=t.prototype;e.type="chart"}();return t}();function Zy(t,e,r){if(t){(e==="emphasis"?Nu:Eu)(t,r)}}function jy(t,e,r){var i=Gn(t,e);var a=e&&e.highlightKey!=null?sf(e.highlightKey):null;if(i!=null){R(yn(i),function(e){Zy(t.getItemGraphicEl(e),r,a)})}else{t.eachItemGraphicEl(function(t){Zy(t,r,a)})}}no(Xy,["dispose"]);vo(Xy);function qy(t){return Yy(t.model)}function Ky(t){var e=t.model;var r=t.ecModel;var i=t.api;var a=t.payload;var n=e.pipelineContext.progressiveRender;var o=t.view;var s=a&&Uy(a).updateMethod;var l=n?"incrementalPrepareRender":s&&o[s]?s:"render";if(l!=="render"){o[l](e,r,i,a)}return $y[l]}var $y={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:true,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};var Jy="\0__throttleOriginMethod";var Qy="\0__throttleRate";var tm="\0__throttleType";function em(t,e,r){var i;var a=0;var n=0;var o=null;var s;var l;var u;var f;e=e||0;function h(){n=(new Date).getTime();o=null;t.apply(l,u||[])}var v=function(){var t=[];for(var v=0;v<arguments.length;v++){t[v]=arguments[v]}i=(new Date).getTime();l=this;u=t;var c=f||e;var p=f||r;f=null;s=i-(p?a:n)-c;clearTimeout(o);if(p){o=setTimeout(h,c)}else{if(s>=0){h()}else{o=setTimeout(h,-s)}}a=i};v.clear=function(){if(o){clearTimeout(o);o=null}};v.debounceNextCall=function(t){f=t};return v}function rm(t,e,r,i){var a=t[e];if(!a){return}var n=a[Jy]||a;var o=a[tm];var s=a[Qy];if(s!==r||o!==i){if(r==null||!i){return t[e]=n}a=t[e]=em(n,r,i==="debounce");a[Jy]=n;a[tm]=i;a[Qy]=r}return a}function im(t,e){var r=t[e];if(r&&r[Jy]){t[e]=r[Jy]}}var am=Fn();var nm={itemStyle:co(Fv,true),lineStyle:co(Bv,true)};var om={lineStyle:"stroke",itemStyle:"fill"};function sm(t,e){var r=t.visualStyleMapper||nm[e];if(!r){console.warn("Unkown style type '"+e+"'.");return nm.itemStyle}return r}function lm(t,e){var r=t.visualDrawType||om[e];if(!r){console.warn("Unkown style type '"+e+"'.");return"fill"}return r}var um={createOnAllSeries:true,performRawSeries:true,reset:function(t,e){var r=t.getData();var i=t.visualStyleAccessPath||"itemStyle";var a=t.getModel(i);var n=sm(t,i);var o=n(a);var s=a.getShallow("decal");if(s){r.setVisual("decal",s);s.dirty=true}var l=lm(t,i);var u=o[l];var f=U(u)?u:null;var h=o.fill==="auto"||o.stroke==="auto";if(!o[l]||f||h){var v=t.getColorFromPalette(t.name,null,e.getSeriesCount());if(!o[l]){o[l]=v;r.setVisual("colorFromPalette",true)}o.fill=o.fill==="auto"||typeof o.fill==="function"?v:o.fill;o.stroke=o.stroke==="auto"||typeof o.stroke==="function"?v:o.stroke}r.setVisual("style",o);r.setVisual("drawType",l);if(!e.isSeriesFiltered(t)&&f){r.setVisual("colorFromPalette",false);return{dataEach:function(e,r){var i=t.getDataParams(r);var a=C({},o);a[l]=f(i);e.setItemVisual(r,"style",a)}}}}};var fm=new Uv;var hm={createOnAllSeries:true,performRawSeries:true,reset:function(t,e){if(t.ignoreStyleOnData||e.isSeriesFiltered(t)){return}var r=t.getData();var i=t.visualStyleAccessPath||"itemStyle";var a=sm(t,i);var n=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(t,e){var r=t.getRawDataItem(e);if(r&&r[i]){fm.option=r[i];var o=a(fm);var s=t.ensureUniqueItemVisual(e,"style");C(s,o);if(fm.option.decal){t.setItemVisual(e,"decal",fm.option.decal);fm.option.decal.dirty=true}if(n in o){t.setItemVisual(e,"colorFromPalette",false)}}}:null}}};var vm={performRawSeries:true,overallReset:function(t){var e=ct();t.eachSeries(function(t){var r=t.getColorBy();if(t.isColorBySeries()){return}var i=t.type+"-"+r;var a=e.get(i);if(!a){a={};e.set(i,a)}am(t).scope=a});t.eachSeries(function(e){if(e.isColorBySeries()||t.isSeriesFiltered(e)){return}var r=e.getRawData();var i={};var a=e.getData();var n=am(e).scope;var o=e.visualStyleAccessPath||"itemStyle";var s=lm(e,o);a.each(function(t){var e=a.getRawIndex(t);i[e]=t});r.each(function(t){var o=i[t];var l=a.getItemVisual(o,"colorFromPalette");if(l){var u=a.ensureUniqueItemVisual(o,"style");var f=r.getName(t)||t+"";var h=r.count();u[s]=e.getColorFromPalette(f,n,h)}})})}};var cm=Math.PI;function pm(t,e){e=e||{};D(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:true,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new ya;var i=new zl({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});r.add(i);var a=new Fl({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001});var n=new zl({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});r.add(n);var o;if(e.showSpinner){o=new mh({shape:{startAngle:-cm/2,endAngle:-cm/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001});o.animateShape(true).when(1e3,{endAngle:cm*3/2}).start("circularInOut");o.animateShape(true).when(1e3,{startAngle:cm*3/2}).delay(300).start("circularInOut");r.add(o)}r.resize=function(){var r=a.getBoundingRect().width;var s=e.showSpinner?e.spinnerRadius:0;var l=(t.getWidth()-s*2-(e.showSpinner&&r?10:0)-r)/2-(e.showSpinner&&r?0:5+r/2)+(e.showSpinner?0:r/2)+(r?0:s);var u=t.getHeight()/2;e.showSpinner&&o.setShape({cx:l,cy:u});n.setShape({x:l-s,y:u-s,width:s*2,height:s*2});i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})};r.resize();return r}var dm=function(){function t(t,e,r,i){this._stageTaskMap=ct();this.ecInstance=t;this.api=e;r=this._dataProcessorHandlers=r.slice();i=this._visualHandlers=i.slice();this._allHandlers=r.concat(i)}t.prototype.restoreData=function(t,e){t.restoreData(e);this._stageTaskMap.each(function(t){var e=t.overallTask;e&&e.dirty()})};t.prototype.getPerformArgs=function(t,e){if(!t.__pipeline){return}var r=this._pipelineMap.get(t.__pipeline.id);var i=r.context;var a=!e&&r.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>r.blockIndex;var n=a?r.step:null;var o=i&&i.modDataCount;var s=o!=null?Math.ceil(o/n):null;return{step:n,modBy:s,modDataCount:o}};t.prototype.getPipeline=function(t){return this._pipelineMap.get(t)};t.prototype.updateStreamModes=function(t,e){var r=this._pipelineMap.get(t.uid);var i=t.getData();var a=i.count();var n=r.progressiveEnabled&&e.incrementalPrepareRender&&a>=r.threshold;var o=t.get("large")&&a>=t.get("largeThreshold");var s=t.get("progressiveChunkMode")==="mod"?a:null;t.pipelineContext=r.context={progressiveRender:n,modDataCount:s,large:o}};t.prototype.restorePipelines=function(t){var e=this;var r=e._pipelineMap=ct();t.eachSeries(function(t){var i=t.getProgressive();var a=t.uid;r.set(a,{id:a,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:i&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0});e._pipe(t,t.dataTask)})};t.prototype.prepareStageTasks=function(){var t=this._stageTaskMap;var e=this.api.getModel();var r=this.api;R(this._allHandlers,function(i){var a=t.get(i.uid)||t.set(i.uid,{});var n="";if("development"!=="production"){n='"reset" and "overallReset" must not be both specified.'}st(!(i.reset&&i.overallReset),n);i.reset&&this._createSeriesStageTask(i,a,e,r);i.overallReset&&this._createOverallStageTask(i,a,e,r)},this)};t.prototype.prepareView=function(t,e,r,i){var a=t.renderTask;var n=a.context;n.model=e;n.ecModel=r;n.api=i;a.__block=!t.incrementalPrepareRender;this._pipe(e,a)};t.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:true})};t.prototype.performVisualTasks=function(t,e,r){this._performStageTasks(this._visualHandlers,t,e,r)};t.prototype._performStageTasks=function(t,e,r,i){i=i||{};var a=false;var n=this;R(t,function(t,s){if(i.visualType&&i.visualType!==t.visualType){return}var l=n._stageTaskMap.get(t.uid);var u=l.seriesTaskMap;var f=l.overallTask;if(f){var h;var v=f.agentStubMap;v.each(function(t){if(o(i,t)){t.dirty();h=true}});h&&f.dirty();n.updatePayload(f,r);var c=n.getPerformArgs(f,i.block);v.each(function(t){t.perform(c)});if(f.perform(c)){a=true}}else if(u){u.each(function(s,l){if(o(i,s)){s.dirty()}var u=n.getPerformArgs(s,i.block);u.skip=!t.performRawSeries&&e.isSeriesFiltered(s.context.model);n.updatePayload(s,r);if(s.perform(u)){a=true}})}});function o(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}this.unfinished=a||this.unfinished};t.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e=t.dataTask.perform()||e});this.unfinished=e||this.unfinished};t.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})};t.prototype.updatePayload=function(t,e){e!=="remain"&&(t.context.payload=e)};t.prototype._createSeriesStageTask=function(t,e,r,i){var a=this;var n=e.seriesTaskMap;var o=e.seriesTaskMap=ct();var s=t.seriesType;var l=t.getTargetSeries;if(t.createOnAllSeries){r.eachRawSeries(u)}else if(s){r.eachRawSeriesByType(s,u)}else if(l){l(r,i).each(u)}function u(e){var s=e.uid;var l=o.set(s,n&&n.get(s)||Tg({plan:_m,reset:bm,count:Mm}));l.context={model:e,ecModel:r,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:a};a._pipe(e,l)}};t.prototype._createOverallStageTask=function(t,e,r,i){var a=this;var n=e.overallTask=e.overallTask||Tg({reset:gm});n.context={ecModel:r,api:i,overallReset:t.overallReset,scheduler:a};var o=n.agentStubMap;var s=n.agentStubMap=ct();var l=t.seriesType;var u=t.getTargetSeries;var f=true;var h=false;var v="";if("development"!=="production"){v='"createOnAllSeries" do not supported for "overallReset", '+"becuase it will block all streams."}st(!t.createOnAllSeries,v);if(l){r.eachRawSeriesByType(l,c)}else if(u){u(r,i).each(c)}else{f=false;R(r.getSeries(),c)}function c(t){var e=t.uid;var r=s.set(e,o&&o.get(e)||(h=true,Tg({reset:ym,onDirty:xm})));r.context={model:t,overallProgress:f};r.agent=n;r.__block=f;a._pipe(t,r)}if(h){n.dirty()}};t.prototype._pipe=function(t,e){var r=t.uid;var i=this._pipelineMap.get(r);!i.head&&(i.head=e);i.tail&&i.tail.pipe(e);i.tail=e;e.__idxInPipeline=i.count++;e.__pipeline=i};t.wrapStageHandler=function(t,e){if(U(t)){t={overallReset:t,seriesType:Im(t)}}t.uid=Xv("stageHandler");e&&(t.visualType=e);return t};return t}();function gm(t){t.overallReset(t.ecModel,t.api,t.payload)}function ym(t){return t.overallProgress&&mm}function mm(){this.agent.dirty();this.getDownstream().dirty()}function xm(){this.agent&&this.agent.dirty()}function _m(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function bm(t){if(t.useClearVisual){t.data.clearAllVisual()}var e=t.resetDefines=yn(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?N(e,function(t,e){return Sm(e)}):wm}var wm=Sm(0);function Sm(t){return function(e,r){var i=r.data;var a=r.resetDefines[t];if(a&&a.dataEach){for(var n=e.start;n<e.end;n++){a.dataEach(i,n)}}else if(a&&a.progress){a.progress(e,i)}}}function Mm(t){return t.data.count()}function Im(t){Dm=null;try{t(Tm,Cm)}catch(t){}return Dm}var Tm={};var Cm={};var Dm;Am(Tm,sd);Am(Cm,pd);Tm.eachSeriesByType=Tm.eachRawSeriesByType=function(t){Dm=t};Tm.eachComponent=function(t){if(t.mainType==="series"&&t.subType){Dm=t.subType}};function Am(t,e){for(var r in e.prototype){t[r]=yt}}var km=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];var Lm={color:km,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],km]};var Pm="#B9B8CE";var Om="#100C2A";var Rm=function(){return{axisLine:{lineStyle:{color:Pm}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}};var Nm=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"];var Em={darkMode:true,color:Nm,backgroundColor:Om,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Pm}},textStyle:{color:Pm},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Pm}},dataZoom:{borderColor:"#71708A",textStyle:{color:Pm},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Pm}},timeline:{lineStyle:{color:Pm},label:{color:Pm},controlStyle:{color:Pm,borderColor:Pm}},calendar:{itemStyle:{color:Om},dayLabel:{color:Pm},monthLabel:{color:Pm},yearLabel:{color:Pm}},timeAxis:Rm(),logAxis:Rm(),valueAxis:Rm(),categoryAxis:Rm(),line:{symbol:"circle"},graph:{color:Nm},gauge:{title:{color:Pm},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Pm},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Em.categoryAxis.splitLine.show=false;var zm=function(){function t(){}t.prototype.normalizeQuery=function(t){var e={};var r={};var i={};if(Y(t)){var a=ro(t);e.mainType=a.main||null;e.subType=a.sub||null}else{var n=["Index","Name","Id"];var o={name:1,dataIndex:1,dataType:1};R(t,function(t,a){var s=false;for(var l=0;l<n.length;l++){var u=n[l];var f=a.lastIndexOf(u);if(f>0&&f===a.length-u.length){var h=a.slice(0,f);if(h!=="data"){e.mainType=h;e[u.toLowerCase()]=t;s=true}}}if(o.hasOwnProperty(a)){r[a]=t;s=true}if(!s){i[a]=t}})}return{cptQuery:e,dataQuery:r,otherQuery:i}};t.prototype.filter=function(t,e){var r=this.eventInfo;if(!r){return true}var i=r.targetEl;var a=r.packedEvent;var n=r.model;var o=r.view;if(!n||!o){return true}var s=e.cptQuery;var l=e.dataQuery;return u(s,n,"mainType")&&u(s,n,"subType")&&u(s,n,"index","componentIndex")&&u(s,n,"name")&&u(s,n,"id")&&u(l,a,"name")&&u(l,a,"dataIndex")&&u(l,a,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(t,e.otherQuery,i,a));function u(t,e,r,i){return t[r]==null||e[i||r]===t[r]}};t.prototype.afterTrigger=function(){this.eventInfo=null};return t}();var Bm={createOnAllSeries:true,performRawSeries:true,reset:function(t,e){var r=t.getData();if(t.legendIcon){r.setVisual("legendIcon",t.legendIcon)}if(!t.hasSymbolVisual){return}var i=t.get("symbol");var a=t.get("symbolSize");var n=t.get("symbolKeepAspect");var o=t.get("symbolRotate");var s=t.get("symbolOffset");var l=U(i);var u=U(a);var f=U(o);var h=U(s);var v=l||u||f||h;var c=!l&&i?i:t.defaultSymbol;var p=!u?a:null;var d=!f?o:null;var g=!h?s:null;r.setVisual({legendIcon:t.legendIcon||c,symbol:c,symbolSize:p,symbolKeepAspect:n,symbolRotate:d,symbolOffset:g});if(e.isSeriesFiltered(t)){return}function y(e,r){var n=t.getRawValue(r);var v=t.getDataParams(r);l&&e.setItemVisual(r,"symbol",i(n,v));u&&e.setItemVisual(r,"symbolSize",a(n,v));f&&e.setItemVisual(r,"symbolRotate",o(n,v));h&&e.setItemVisual(r,"symbolOffset",s(n,v))}return{dataEach:v?y:null}}};var Vm={createOnAllSeries:true,performRawSeries:true,reset:function(t,e){if(!t.hasSymbolVisual){return}if(e.isSeriesFiltered(t)){return}var r=t.getData();function i(t,e){var r=t.getItemModel(e);var i=r.getShallow("symbol",true);var a=r.getShallow("symbolSize",true);var n=r.getShallow("symbolRotate",true);var o=r.getShallow("symbolOffset",true);var s=r.getShallow("symbolKeepAspect",true);if(i!=null){t.setItemVisual(e,"symbol",i)}if(a!=null){t.setItemVisual(e,"symbolSize",a)}if(n!=null){t.setItemVisual(e,"symbolRotate",n)}if(o!=null){t.setItemVisual(e,"symbolOffset",o)}if(s!=null){t.setItemVisual(e,"symbolKeepAspect",s)}}return{dataEach:r.hasItemOption?i:null}}};function Gm(t,e,r){switch(r){case"color":var i=t.getItemVisual(e,"style");return i[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,r);default:if("development"!=="production"){console.warn("Unknown visual type "+r)}}}function Fm(t,e){switch(e){case"color":var r=t.getVisual("style");return r[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e);default:if("development"!=="production"){console.warn("Unknown visual type "+e)}}}function Hm(t,e,r,i){switch(r){case"color":var a=t.ensureUniqueItemVisual(e,"style");a[t.getVisual("drawType")]=i;t.setItemVisual(e,"colorFromPalette",false);break;case"opacity":t.ensureUniqueItemVisual(e,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":t.setItemVisual(e,r,i);break;default:if("development"!=="production"){console.warn("Unknown visual type "+r)}}}function Wm(t,e){function r(e,r){var i=[];e.eachComponent({mainType:"series",subType:t,query:r},function(t){i.push(t.seriesIndex)});return i}R([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],function(t){e(t[0],function(e,i,a){e=C({},e);if("development"!=="production"){hn(e.type,t[1])}a.dispatchAction(C(e,{type:t[1],seriesIndex:r(i,e)}))})})}function Um(t,e,r,i,a){var n=t+e;if(!r.isSilent(n)){if("development"!=="production"){fn("event "+n+" is deprecated.")}i.eachComponent({mainType:"series",subType:"pie"},function(t){var e=t.seriesIndex;var i=a.selected;for(var o=0;o<i.length;o++){if(i[o].seriesIndex===e){var s=t.getData();var l=Gn(s,a.fromActionPayload);r.trigger(n,{type:n,seriesId:t.id,name:W(l)?s.getName(l[0]):s.getName(l),selected:C({},t.option.selectedMap)})}}})}}function Ym(t,e,r){t.on("selectchanged",function(t){var i=r.getModel();if(t.isFromClick){Um("map","selectchanged",e,i,t);Um("pie","selectchanged",e,i,t)}else if(t.fromAction==="select"){Um("map","selected",e,i,t);Um("pie","selected",e,i,t)}else if(t.fromAction==="unselect"){Um("map","unselected",e,i,t);Um("pie","unselected",e,i,t)}})}function Xm(t,e,r){var i;while(t){if(e(t)){i=t;if(r){break}}t=t.__hostTarget||t.parent}return i}var Zm=Math.round(Math.random()*9);var jm=typeof Object.defineProperty==="function";var qm=function(){function t(){this._id="__ec_inner_"+Zm++}t.prototype.get=function(t){return this._guard(t)[this._id]};t.prototype.set=function(t,e){var r=this._guard(t);if(jm){Object.defineProperty(r,this._id,{value:e,enumerable:false,configurable:true})}else{r[this._id]=e}return this};t.prototype["delete"]=function(t){if(this.has(t)){delete this._guard(t)[this._id];return true}return false};t.prototype.has=function(t){return!!this._guard(t)[this._id]};t.prototype._guard=function(t){if(t!==Object(t)){throw TypeError("Value of WeakMap is not a non-null object.")}return t};return t}();var Km=Sl.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx;var i=e.cy;var a=e.width/2;var n=e.height/2;t.moveTo(r,i-n);t.lineTo(r+a,i+n);t.lineTo(r-a,i+n);t.closePath()}});var $m=Sl.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx;var i=e.cy;var a=e.width/2;var n=e.height/2;t.moveTo(r,i-n);t.lineTo(r+a,i);t.lineTo(r,i+n);t.lineTo(r-a,i);t.closePath()}});var Jm=Sl.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.x;var i=e.y;var a=e.width/5*3;var n=Math.max(a,e.height);var o=a/2;var s=o*o/(n-o);var l=i-n+o+s;var u=Math.asin(s/o);var f=Math.cos(u)*o;var h=Math.sin(u);var v=Math.cos(u);var c=o*.6;var p=o*.7;t.moveTo(r-f,l+s);t.arc(r,l,o,Math.PI-u,Math.PI*2+u);t.bezierCurveTo(r+f-h*c,l+s+v*c,r,i-p,r,i);t.bezierCurveTo(r,i-p,r-f+h*c,l+s+v*c,r-f,l+s);t.closePath()}});var Qm=Sl.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.height;var i=e.width;var a=e.x;var n=e.y;var o=i/3*2;t.moveTo(a,n);t.lineTo(a+o,n+r);t.lineTo(a,n+r/4*3);t.lineTo(a-o,n+r);t.lineTo(a,n);t.closePath()}});var tx={line:vh,rect:zl,roundRect:zl,square:zl,circle:Nf,diamond:$m,pin:Jm,arrow:Qm,triangle:Km};var ex={line:function(t,e,r,i,a){a.x1=t;a.y1=e+i/2;a.x2=t+r;a.y2=e+i/2},rect:function(t,e,r,i,a){a.x=t;a.y=e;a.width=r;a.height=i},roundRect:function(t,e,r,i,a){a.x=t;a.y=e;a.width=r;a.height=i;a.r=Math.min(r,i)/4},square:function(t,e,r,i,a){var n=Math.min(r,i);a.x=t;a.y=e;a.width=n;a.height=n},circle:function(t,e,r,i,a){a.cx=t+r/2;a.cy=e+i/2;a.r=Math.min(r,i)/2},diamond:function(t,e,r,i,a){a.cx=t+r/2;a.cy=e+i/2;a.width=r;a.height=i},pin:function(t,e,r,i,a){a.x=t+r/2;a.y=e+i/2;a.width=r;a.height=i},arrow:function(t,e,r,i,a){a.x=t+r/2;a.y=e+i/2;a.width=r;a.height=i},triangle:function(t,e,r,i,a){a.cx=t+r/2;a.cy=e+i/2;a.width=r;a.height=i}};var rx={};R(tx,function(t,e){rx[e]=new t});var ix=Sl.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,r){var i=na(t,e,r);var a=this.shape;if(a&&a.symbolType==="pin"&&e.position==="inside"){i.y=r.y+r.height*.4}return i},buildPath:function(t,e,r){var i=e.symbolType;if(i!=="none"){var a=rx[i];if(!a){i="rect";a=rx[i]}ex[i](e.x,e.y,e.width,e.height,a.shape);a.buildPath(t,a.shape,r)}}});function ax(t,e){if(this.type!=="image"){var r=this.style;if(this.__isEmptyBrush){r.stroke=t;r.fill=e||"#fff";r.lineWidth=2}else if(this.shape.symbolType==="line"){r.stroke=t}else{r.fill=t}this.markRedraw()}}function nx(t,e,r,i,a,n,o){var s=t.indexOf("empty")===0;if(s){t=t.substr(5,1).toLowerCase()+t.substr(6)}var l;if(t.indexOf("image://")===0){l=Kh(t.slice(8),new Yi(e,r,i,a),o?"center":"cover")}else if(t.indexOf("path://")===0){l=qh(t.slice(7),{},new Yi(e,r,i,a),o?"center":"cover")}else{l=new ix({shape:{symbolType:t,x:e,y:r,width:i,height:a}})}l.__isEmptyBrush=s;l.setColor=ax;if(n){l.setColor(n)}return l}function ox(t){if(!W(t)){t=[+t,+t]}return[t[0]||0,t[1]||0]}function sx(t,e){if(t==null){return}if(!W(t)){t=[t,t]}return[Na(t[0],e[0])||0,Na(it(t[1],t[0]),e[1])||0]}function lx(t,e,r){var i=e.x==null?0:e.x;var a=e.x2==null?1:e.x2;var n=e.y==null?0:e.y;var o=e.y2==null?0:e.y2;if(!e.global){i=i*r.width+r.x;a=a*r.width+r.x;n=n*r.height+r.y;o=o*r.height+r.y}i=isNaN(i)?0:i;a=isNaN(a)?1:a;n=isNaN(n)?0:n;o=isNaN(o)?0:o;var s=t.createLinearGradient(i,n,a,o);return s}function ux(t,e,r){var i=r.width;var a=r.height;var n=Math.min(i,a);var o=e.x==null?.5:e.x;var s=e.y==null?.5:e.y;var l=e.r==null?.5:e.r;if(!e.global){o=o*i+r.x;s=s*a+r.y;l=l*n}var u=t.createRadialGradient(o,s,0,o,s,l);return u}function fx(t,e,r){var i=e.type==="radial"?ux(t,e,r):lx(t,e,r);var a=e.colorStops;for(var n=0;n<a.length;n++){i.addColorStop(a[n].offset,a[n].color)}return i}function hx(t,e){if(t===e||!t&&!e){return false}if(!t||!e||t.length!==e.length){return true}for(var r=0;r<t.length;r++){if(t[r]!==e[r]){return true}}return false}function vx(t,e){if(!t||t==="solid"||!(e>0)){return null}e=e||1;return t==="dashed"?[4*e,2*e]:t==="dotted"?[e]:Z(t)?[t]:W(t)?t:null}var cx=new Js(true);function px(t){var e=t.stroke;return!(e==null||e==="none"||!(t.lineWidth>0))}function dx(t){return typeof t==="string"&&t!=="none"}function gx(t){var e=t.fill;return e!=null&&e!=="none"}function yx(t,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity;t.fill();t.globalAlpha=r}else{t.fill()}}function mx(t,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity;t.stroke();t.globalAlpha=r}else{t.stroke()}}function xx(t,e,r){var i=_o(e.image,e.__image,r);if(wo(i)){var a=t.createPattern(i,e.repeat||"repeat");if(typeof DOMMatrix==="function"&&a.setTransform){var n=new DOMMatrix;n.rotateSelf(0,0,(e.rotation||0)/Math.PI*180);n.scaleSelf(e.scaleX||1,e.scaleY||1);n.translateSelf(e.x||0,e.y||0);a.setTransform(n)}return a}}function _x(t,e,r,i){var a=px(r);var n=gx(r);var o=r.strokePercent;var s=o<1;var l=!e.path;if((!e.silent||s)&&l){e.createPathProxy()}var u=e.path||cx;if(!i){var f=r.fill;var h=r.stroke;var v=n&&!!f.colorStops;var c=a&&!!h.colorStops;var p=n&&!!f.image;var d=a&&!!h.image;var g=void 0;var y=void 0;var m=void 0;var x=void 0;var _=void 0;if(v||c){_=e.getBoundingRect()}if(v){g=e.__dirty?fx(t,f,_):e.__canvasFillGradient;e.__canvasFillGradient=g}if(c){y=e.__dirty?fx(t,h,_):e.__canvasStrokeGradient;e.__canvasStrokeGradient=y}if(p){m=e.__dirty||!e.__canvasFillPattern?xx(t,f,e):e.__canvasFillPattern;e.__canvasFillPattern=m}if(d){x=e.__dirty||!e.__canvasStrokePattern?xx(t,h,e):e.__canvasStrokePattern;e.__canvasStrokePattern=m}if(v){t.fillStyle=g}else if(p){if(m){t.fillStyle=m}else{n=false}}if(c){t.strokeStyle=y}else if(d){if(x){t.strokeStyle=x}else{a=false}}}var b=r.lineDash&&r.lineWidth>0&&vx(r.lineDash,r.lineWidth);var w=r.lineDashOffset;var S=!!t.setLineDash;var M=e.getGlobalScale();u.setScale(M[0],M[1],e.segmentIgnoreThreshold);if(b){var I=r.strokeNoScale&&e.getLineScale?e.getLineScale():1;if(I&&I!==1){b=N(b,function(t){return t/I});w/=I}}var T=true;if(l||e.__dirty&Fe||b&&!S&&a){u.setDPR(t.dpr);if(s){u.setContext(null)}else{u.setContext(t);T=false}u.reset();if(b&&!S){u.setLineDash(b);u.setLineDashOffset(w)}e.buildPath(u,e.shape,i);u.toStatic();e.pathUpdated()}if(T){u.rebuildPath(t,s?o:1)}if(b&&S){t.setLineDash(b);t.lineDashOffset=w}if(!i){if(r.strokeFirst){if(a){mx(t,r)}if(n){yx(t,r)}}else{if(n){yx(t,r)}if(a){mx(t,r)}}}if(b&&S){t.setLineDash([])}}function bx(t,e,r){var i=e.__image=_o(r.image,e.__image,e,e.onload);if(!i||!wo(i)){return}var a=r.x||0;var n=r.y||0;var o=e.getWidth();var s=e.getHeight();var l=i.width/i.height;if(o==null&&s!=null){o=s*l}else if(s==null&&o!=null){s=o/l}else if(o==null&&s==null){o=i.width;s=i.height}if(r.sWidth&&r.sHeight){var u=r.sx||0;var f=r.sy||0;t.drawImage(i,u,f,r.sWidth,r.sHeight,a,n,o,s)}else if(r.sx&&r.sy){var u=r.sx;var f=r.sy;var h=o-u;var v=s-f;t.drawImage(i,u,f,h,v,a,n,o,s)}else{t.drawImage(i,a,n,o,s)}}function Sx(t,e,r){var i=r.text;i!=null&&(i+="");if(i){t.font=r.font||Zi;t.textAlign=r.textAlign;t.textBaseline=r.textBaseline;var a=void 0;if(t.setLineDash){var n=r.lineDash&&r.lineWidth>0&&vx(r.lineDash,r.lineWidth);var o=r.lineDashOffset;if(n){var s=r.strokeNoScale&&e.getLineScale?e.getLineScale():1;if(s&&s!==1){n=N(n,function(t){return t/s});o/=s}t.setLineDash(n);t.lineDashOffset=o;a=true}}if(r.strokeFirst){if(px(r)){t.strokeText(i,r.x,r.y)}if(gx(r)){t.fillText(i,r.x,r.y)}}else{if(gx(r)){t.fillText(i,r.x,r.y)}if(px(r)){t.strokeText(i,r.x,r.y)}}if(a){t.setLineDash([])}}}var Mx=["shadowBlur","shadowOffsetX","shadowOffsetY"];var Ix=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Tx(t,e,r,i,a){var n=false;if(!i){r=r||{};if(e===r){return false}}if(i||e.opacity!==r.opacity){if(!n){zx(t,a);n=true}var o=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(o)?Vo.opacity:o}if(i||e.blend!==r.blend){if(!n){zx(t,a);n=true}t.globalCompositeOperation=e.blend||Vo.blend}for(var s=0;s<Mx.length;s++){var l=Mx[s];if(i||e[l]!==r[l]){if(!n){zx(t,a);n=true}t[l]=t.dpr*(e[l]||0)}}if(i||e.shadowColor!==r.shadowColor){if(!n){zx(t,a);n=true}t.shadowColor=e.shadowColor||Vo.shadowColor}return n}function Cx(t,e,r,i,a){var n=Bx(e,a.inHover);var o=i?null:r&&Bx(r,a.inHover)||{};if(n===o){return false}var s=Tx(t,n,o,i,a);if(i||n.fill!==o.fill){if(!s){zx(t,a);s=true}dx(n.fill)&&(t.fillStyle=n.fill)}if(i||n.stroke!==o.stroke){if(!s){zx(t,a);s=true}dx(n.stroke)&&(t.strokeStyle=n.stroke)}if(i||n.opacity!==o.opacity){if(!s){zx(t,a);s=true}t.globalAlpha=n.opacity==null?1:n.opacity}if(e.hasStroke()){var l=n.lineWidth;var u=l/(n.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1);if(t.lineWidth!==u){if(!s){zx(t,a);s=true}t.lineWidth=u}}for(var f=0;f<Ix.length;f++){var h=Ix[f];var v=h[0];if(i||n[v]!==o[v]){if(!s){zx(t,a);s=true}t[v]=n[v]||h[1]}}return s}function Dx(t,e,r,i,a){return Tx(t,Bx(e,a.inHover),r&&Bx(r,a.inHover),i,a)}function Ax(t,e){var r=e.transform;var i=t.dpr||1;if(r){t.setTransform(i*r[0],i*r[1],i*r[2],i*r[3],i*r[4],i*r[5])}else{t.setTransform(i,0,0,i,0,0)}}function kx(t,e,r){var i=false;for(var a=0;a<t.length;a++){var n=t[a];i=i||n.isZeroArea();Ax(e,n);e.beginPath();n.buildPath(e,n.shape);e.clip()}r.allClipped=i}function Lx(t,e){if(t&&e){return t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]}else if(!t&&!e){return false}return true}var Px=1;var Ox=2;var Rx=3;var Nx=4;function Ex(t){var e=gx(t);var r=px(t);return!(t.lineDash||!(+e^+r)||e&&typeof t.fill!=="string"||r&&typeof t.stroke!=="string"||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function zx(t,e){e.batchFill&&t.fill();e.batchStroke&&t.stroke();e.batchFill="";e.batchStroke=""}function Bx(t,e){return e?t.__hoverStyle||t.style:t.style}function Vx(t,e){Gx(t,e,{inHover:false,viewWidth:0,viewHeight:0},true)}function Gx(t,e,r,i){var a=e.transform;if(!e.shouldBePainted(r.viewWidth,r.viewHeight,false,false)){e.__dirty&=~Ve;e.__isRendered=false;return}var n=e.__clipPaths;var o=r.prevElClipPaths;var s=false;var l=false;if(!o||hx(n,o)){if(o&&o.length){zx(t,r);t.restore();l=s=true;r.prevElClipPaths=null;r.allClipped=false;r.prevEl=null}if(n&&n.length){zx(t,r);t.save();kx(n,t,r);s=true}r.prevElClipPaths=n}if(r.allClipped){e.__isRendered=false;return}e.beforeBrush&&e.beforeBrush();e.innerBeforeBrush();var u=r.prevEl;if(!u){l=s=true}var f=e instanceof Sl&&e.autoBatch&&Ex(e.style);if(s||Lx(a,u.transform)){zx(t,r);Ax(t,e)}else if(!f){zx(t,r)}var h=Bx(e,r.inHover);if(e instanceof Sl){if(r.lastDrawType!==Px){l=true;r.lastDrawType=Px}Cx(t,e,u,l,r);if(!f||!r.batchFill&&!r.batchStroke){t.beginPath()}_x(t,e,h,f);if(f){r.batchFill=h.fill||"";r.batchStroke=h.stroke||""}}else{if(e instanceof Il){if(r.lastDrawType!==Rx){l=true;r.lastDrawType=Rx}Cx(t,e,u,l,r);Sx(t,e,h)}else if(e instanceof Al){if(r.lastDrawType!==Ox){l=true;r.lastDrawType=Ox}Dx(t,e,u,l,r);bx(t,e,h)}else if(e instanceof Ah){if(r.lastDrawType!==Nx){l=true;r.lastDrawType=Nx}Fx(t,e,r)}}if(f&&i){zx(t,r)}e.innerAfterBrush();e.afterBrush&&e.afterBrush();r.prevEl=e;e.__dirty=0;e.__isRendered=true}function Fx(t,e,r){var i=e.getDisplayables();var a=e.getTemporalDisplayables();t.save();var n={prevElClipPaths:null,prevEl:null,allClipped:false,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover};var o;var s;for(o=e.getCursor(),s=i.length;o<s;o++){var l=i[o];l.beforeBrush&&l.beforeBrush();l.innerBeforeBrush();Gx(t,l,n,o===s-1);l.innerAfterBrush();l.afterBrush&&l.afterBrush();n.prevEl=l}for(var u=0,f=a.length;u<f;u++){var l=a[u];l.beforeBrush&&l.beforeBrush();l.innerBeforeBrush();Gx(t,l,n,u===f-1);l.innerAfterBrush();l.afterBrush&&l.afterBrush();n.prevEl=l}e.clearTemporalDisplayables();e.notClear=true;t.restore()}var Hx=new qm;var Wx=new Je(100);var Ux=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Yx(t,e){if(t==="none"){return null}var r=e.getDevicePixelRatio();var i=e.getZr();var a=i.painter.type==="svg";if(t.dirty){Hx["delete"](t)}var n=Hx.get(t);if(n){return n}var o=D(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:true,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});if(o.backgroundColor==="none"){o.backgroundColor=null}var s={repeat:"repeat"};l(s);s.rotation=o.rotation;s.scaleX=s.scaleY=a?1:1/r;Hx.set(t,s);t.dirty=false;return s;function l(t){var e=[r];var n=true;for(var s=0;s<Ux.length;++s){var l=o[Ux[s]];var u=typeof l;if(l!=null&&!W(l)&&u!=="string"&&u!=="number"&&u!=="boolean"){n=false;break}e.push(l)}var f;if(n){f=e.join(",")+(a?"-svg":"");var h=Wx.get(f);if(h){a?t.svgElement=h:t.image=h}}var v=Zx(o.dashArrayX);var c=jx(o.dashArrayY);var p=Xx(o.symbol);var d=qx(v);var g=Kx(c);var y=!a&&A();var m=a&&i.painter.createSVGElement("g");var x=b();var _;if(y){y.width=x.width*r;y.height=x.height*r;_=y.getContext("2d")}w();if(n){Wx.put(f,y||m)}t.image=y;t.svgElement=m;t.svgWidth=x.width;t.svgHeight=x.height;function b(){var t=1;for(var e=0,r=d.length;e<r;++e){t=an(t,d[e])}var i=1;for(var e=0,r=p.length;e<r;++e){i=an(i,p[e].length)}t*=i;var a=g*d.length*p.length;if("development"!=="production"){var n=function(t){console.warn("Calculated decal size is greater than "+t+" due to decal option settings so "+t+" is used for the decal size. Please consider changing the decal option to make a smaller decal or set "+t+" to be larger to avoid incontinuity.")};if(t>o.maxTileWidth){n("maxTileWidth")}if(a>o.maxTileHeight){n("maxTileHeight")}}return{width:Math.max(1,Math.min(t,o.maxTileWidth)),height:Math.max(1,Math.min(a,o.maxTileHeight))}}function w(){if(_){_.clearRect(0,0,y.width,y.height);if(o.backgroundColor){_.fillStyle=o.backgroundColor;_.fillRect(0,0,y.width,y.height)}}var t=0;for(var e=0;e<c.length;++e){t+=c[e]}if(t<=0){return}var n=-g;var s=0;var l=0;var u=0;while(n<x.height){if(s%2===0){var f=l/2%p.length;var h=0;var d=0;var b=0;while(h<x.width*2){var w=0;for(var e=0;e<v[u].length;++e){w+=v[u][e]}if(w<=0){break}if(d%2===0){var S=(1-o.symbolSize)*.5;var M=h+v[u][d]*S;var I=n+c[s]*S;var T=v[u][d]*o.symbolSize;var C=c[s]*o.symbolSize;var D=b/2%p[f].length;A(M,I,T,C,p[f][D])}h+=v[u][d];++b;++d;if(d===v[u].length){d=0}}++u;if(u===v.length){u=0}}n+=c[s];++l;++s;if(s===c.length){s=0}}function A(t,e,n,s,l){var u=a?1:r;var f=nx(l,t*u,e*u,n*u,s*u,o.color,o.symbolKeepAspect);if(a){m.appendChild(i.painter.paintOne(f))}else{Vx(_,f)}}}}}function Xx(t){if(!t||t.length===0){return[["rect"]]}if(typeof t==="string"){return[[t]]}var e=true;for(var r=0;r<t.length;++r){if(typeof t[r]!=="string"){e=false;break}}if(e){return Xx([t])}var i=[];for(var r=0;r<t.length;++r){if(typeof t[r]==="string"){i.push([t[r]])}else{i.push(t[r])}}return i}function Zx(t){if(!t||t.length===0){return[[0,0]]}if(typeof t==="number"){var e=Math.ceil(t);return[[e,e]]}var r=true;for(var i=0;i<t.length;++i){if(typeof t[i]!=="number"){r=false;break}}if(r){return Zx([t])}var a=[];for(var i=0;i<t.length;++i){if(typeof t[i]==="number"){var e=Math.ceil(t[i]);a.push([e,e])}else{var e=N(t[i],function(t){return Math.ceil(t)});if(e.length%2===1){a.push(e.concat(e))}else{a.push(e)}}}return a}function jx(t){if(!t||typeof t==="object"&&t.length===0){return[0,0]}if(typeof t==="number"){var e=Math.ceil(t);return[e,e]}var r=N(t,function(t){return Math.ceil(t)});return t.length%2?r.concat(r):r}function qx(t){return N(t,function(t){return Kx(t)})}function Kx(t){var e=0;for(var r=0;r<t.length;++r){e+=t[r]}if(t.length%2===1){return e*2}return e}function $x(t,e){t.eachRawSeries(function(r){if(t.isSeriesFiltered(r)){return}var i=r.getData();if(i.hasItemVisual()){i.each(function(t){var r=i.getItemVisual(t,"decal");if(r){var a=i.ensureUniqueItemVisual(t,"style");a.decal=Yx(r,e)}})}var a=i.getVisual("decal");if(a){var n=i.getVisual("style");n.decal=Yx(a,e)}})}function Jx(t){if(Y(t)){var e=new DOMParser;t=e.parseFromString(t,"text/xml")}var r=t;if(r.nodeType===9){r=r.firstChild}while(r.nodeName.toLowerCase()!=="svg"||r.nodeType!==1){r=r.nextSibling}return r}var Qx;var t_={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"};var e_=V(t_);var r_={"alignment-baseline":"textBaseline","stop-color":"stopColor"};var i_=V(r_);var a_=function(){function t(){this._defs={};this._root=null}t.prototype.parse=function(t,e){e=e||{};var r=Jx(t);if(!r){throw new Error("Illegal svg")}this._defsUsePending=[];var i=new ya;this._root=i;var a=[];var n=r.getAttribute("viewBox")||"";var o=parseFloat(r.getAttribute("width")||e.width);var s=parseFloat(r.getAttribute("height")||e.height);isNaN(o)&&(o=null);isNaN(s)&&(s=null);f_(r,i,null,true,false);var l=r.firstChild;while(l){this._parseNode(l,i,a,null,false,false);l=l.nextSibling}p_(this._defs,this._defsUsePending);this._defsUsePending=[];var u;var f;if(n){var h=g_(n);if(h.length>=4){u={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])}}}if(u&&o!=null&&s!=null){f=S_(u,{x:0,y:0,width:o,height:s});if(!e.ignoreViewBox){var v=i;i=new ya;i.add(v);v.scaleX=v.scaleY=f.scale;v.x=f.x;v.y=f.y}}if(!e.ignoreRootClip&&o!=null&&s!=null){i.setClipPath(new zl({shape:{x:0,y:0,width:o,height:s}}))}return{root:i,width:o,height:s,viewBoxRect:u,viewBoxTransform:f,named:a}};t.prototype._parseNode=function(t,e,r,i,a,n){var o=t.nodeName.toLowerCase();var s;var l=i;if(o==="defs"){a=true}if(o==="text"){n=true}if(o==="defs"||o==="switch"){s=e}else{if(!a){var u=Qx[o];if(u&&gt(Qx,o)){s=u.call(this,t,e);var f=t.getAttribute("name");if(f){var h={name:f,namedFrom:null,svgNodeTagLower:o,el:s};r.push(h);if(o==="g"){l=h}}else if(i){r.push({name:i.name,namedFrom:i,svgNodeTagLower:o,el:s})}e.add(s)}}var v=n_[o];if(v&&gt(n_,o)){var c=v.call(this,t);var p=t.getAttribute("id");if(p){this._defs[p]=c}}}if(s&&s.isGroup){var d=t.firstChild;while(d){if(d.nodeType===1){this._parseNode(d,s,r,l,a,n)}else if(d.nodeType===3&&n){this._parseText(d,s)}d=d.nextSibling}}};t.prototype._parseText=function(t,e){var r=new Il({style:{text:t.textContent},silent:true,x:this._textX||0,y:this._textY||0});l_(e,r);f_(t,r,this._defsUsePending,false,false);h_(r,e);var i=r.style;var a=i.fontSize;if(a&&a<9){i.fontSize=9;r.scaleX*=a/9;r.scaleY*=a/9}var n=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=n;var o=r.getBoundingRect();this._textX+=o.width;e.add(r);return r};t.internalField=function(){Qx={g:function(t,e){var r=new ya;l_(e,r);f_(t,r,this._defsUsePending,false,false);return r},rect:function(t,e){var r=new zl;l_(e,r);f_(t,r,this._defsUsePending,false,false);r.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")});r.silent=true;return r},circle:function(t,e){var r=new Nf;l_(e,r);f_(t,r,this._defsUsePending,false,false);r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")});r.silent=true;return r},line:function(t,e){var r=new vh;l_(e,r);f_(t,r,this._defsUsePending,false,false);r.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")});r.silent=true;return r},ellipse:function(t,e){var r=new zf;l_(e,r);f_(t,r,this._defsUsePending,false,false);r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")});r.silent=true;return r},polygon:function(t,e){var r=t.getAttribute("points");var i;if(r){i=u_(r)}var a=new sh({shape:{points:i||[]},silent:true});l_(e,a);f_(t,a,this._defsUsePending,false,false);return a},polyline:function(t,e){var r=t.getAttribute("points");var i;if(r){i=u_(r)}var a=new uh({shape:{points:i||[]},silent:true});l_(e,a);f_(t,a,this._defsUsePending,false,false);return a},image:function(t,e){var r=new Al;l_(e,r);f_(t,r,this._defsUsePending,false,false);r.setStyle({image:t.getAttribute("xlink:href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")});r.silent=true;return r},text:function(t,e){var r=t.getAttribute("x")||"0";var i=t.getAttribute("y")||"0";var a=t.getAttribute("dx")||"0";var n=t.getAttribute("dy")||"0";this._textX=parseFloat(r)+parseFloat(a);this._textY=parseFloat(i)+parseFloat(n);var o=new ya;l_(e,o);f_(t,o,this._defsUsePending,false,true);return o},tspan:function(t,e){var r=t.getAttribute("x");var i=t.getAttribute("y");if(r!=null){this._textX=parseFloat(r)}if(i!=null){this._textY=parseFloat(i)}var a=t.getAttribute("dx")||"0";var n=t.getAttribute("dy")||"0";var o=new ya;l_(e,o);f_(t,o,this._defsUsePending,false,true);this._textX+=parseFloat(a);this._textY+=parseFloat(n);return o},path:function(t,e){var r=t.getAttribute("d")||"";var i=kf(r);l_(e,i);f_(t,i,this._defsUsePending,false,false);i.silent=true;return i}}}();return t}();var n_={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||"0",10);var r=parseInt(t.getAttribute("y1")||"0",10);var i=parseInt(t.getAttribute("x2")||"10",10);var a=parseInt(t.getAttribute("y2")||"0",10);var n=new bh(e,r,i,a);o_(t,n);s_(t,n);return n},radialgradient:function(t){var e=parseInt(t.getAttribute("cx")||"0",10);var r=parseInt(t.getAttribute("cy")||"0",10);var i=parseInt(t.getAttribute("r")||"0",10);var a=new wh(e,r,i);o_(t,a);s_(t,a);return a}};function o_(t,e){var r=t.getAttribute("gradientUnits");if(r==="userSpaceOnUse"){e.global=true}}function s_(t,e){var r=t.firstChild;while(r){if(r.nodeType===1&&r.nodeName.toLocaleLowerCase()==="stop"){var i=r.getAttribute("offset");var a=void 0;if(i&&i.indexOf("%")>0){a=parseInt(i,10)/100}else if(i){a=parseFloat(i)}else{a=0}var n={};b_(r,n,n);var o=n.stopColor||r.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:a,color:o})}r=r.nextSibling}}function l_(t,e){if(t&&t.__inheritedStyle){if(!e.__inheritedStyle){e.__inheritedStyle={}}D(e.__inheritedStyle,t.__inheritedStyle)}}function u_(t){var e=g_(t);var r=[];for(var i=0;i<e.length;i+=2){var a=parseFloat(e[i]);var n=parseFloat(e[i+1]);r.push([a,n])}return r}function f_(t,e,r,i,a){var n=e;var o=n.__inheritedStyle=n.__inheritedStyle||{};var s={};if(t.nodeType===1){x_(t,e);b_(t,o,s);if(!i){w_(t,o,s)}}n.style=n.style||{};if(o.fill!=null){n.style.fill=c_(n,"fill",o.fill,r)}if(o.stroke!=null){n.style.stroke=c_(n,"stroke",o.stroke,r)}R(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(t){if(o[t]!=null){n.style[t]=parseFloat(o[t])}});R(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(t){if(o[t]!=null){n.style[t]=o[t]}});if(a){n.__selfStyle=s}if(o.lineDash){n.style.lineDash=N(g_(o.lineDash),function(t){return parseFloat(t)})}if(o.visibility==="hidden"||o.visibility==="collapse"){n.invisible=true}if(o.display==="none"){n.ignore=true}}function h_(t,e){var r=e.__selfStyle;if(r){var i=r.textBaseline;var a=i;if(!i||i==="auto"){a="alphabetic"}else if(i==="baseline"){a="alphabetic"}else if(i==="before-edge"||i==="text-before-edge"){a="top"}else if(i==="after-edge"||i==="text-after-edge"){a="bottom"}else if(i==="central"||i==="mathematical"){a="middle"}t.style.textBaseline=a}var n=e.__inheritedStyle;if(n){var o=n.textAlign;var s=o;if(o){if(o==="middle"){s="center"}t.style.textAlign=s}}}var v_=/^url\(\s*#(.*?)\)/;function c_(t,e,r,i){var a=r&&r.match(v_);if(a){var n=lt(a[1]);i.push([t,e,n]);return}if(r==="none"){r=null}return r}function p_(t,e){for(var r=0;r<e.length;r++){var i=e[r];i[0].style[i[1]]=t[i[2]]}}var d_=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function g_(t){return t.match(d_)||[]}var y_=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g;var m_=Math.PI/180;function x_(t,e){var r=t.getAttribute("transform");if(r){r=r.replace(/,/g," ");var i=[];var a=null;r.replace(y_,function(t,e,r){i.push(e,r);return""});for(var n=i.length-1;n>0;n-=2){var o=i[n];var s=i[n-1];var l=g_(o);a=a||yi();switch(s){case"translate":bi(a,a,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":Si(a,a,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":wi(a,a,-parseFloat(l[0])*m_);break;case"skewX":var u=Math.tan(parseFloat(l[0])*m_);_i(a,[1,0,u,1,0,0],a);break;case"skewY":var f=Math.tan(parseFloat(l[0])*m_);_i(a,[1,f,0,1,0,0],a);break;case"matrix":a[0]=parseFloat(l[0]);a[1]=parseFloat(l[1]);a[2]=parseFloat(l[2]);a[3]=parseFloat(l[3]);a[4]=parseFloat(l[4]);a[5]=parseFloat(l[5]);break}}e.setLocalTransform(a)}}var __=/([^\s:;]+)\s*:\s*([^:;]+)/g;function b_(t,e,r){var i=t.getAttribute("style");if(!i){return}__.lastIndex=0;var a;while((a=__.exec(i))!=null){var n=a[1];var o=gt(t_,n)?t_[n]:null;if(o){e[o]=a[2]}var s=gt(r_,n)?r_[n]:null;if(s){r[s]=a[2]}}}function w_(t,e,r){for(var i=0;i<e_.length;i++){var a=e_[i];var n=t.getAttribute(a);if(n!=null){e[t_[a]]=n}}for(var i=0;i<i_.length;i++){var a=i_[i];var n=t.getAttribute(a);if(n!=null){r[r_[a]]=n}}}function S_(t,e){var r=e.width/t.width;var i=e.height/t.height;var a=Math.min(r,i);return{scale:a,x:-(t.x+t.width/2)*a+(e.x+e.width/2),y:-(t.y+t.height/2)*a+(e.y+e.height/2)}}function M_(t,e){var r=new a_;return r.parse(t,e)}var I_=1e-8;function T_(t,e){return Math.abs(t-e)<I_}function C_(t,e,r){var i=0;var a=t[0];if(!a){return false}for(var n=1;n<t.length;n++){var o=t[n];i+=ol(a[0],a[1],o[0],o[1],e,r);a=o}var s=t[0];if(!T_(a[0],s[0])||!T_(a[1],s[1])){i+=ol(a[0],a[1],s[0],s[1],e,r)}return i!==0}var D_=[];var A_=function(){function t(t){this.name=t}t.prototype.getCenter=function(){return};return t}();var k_=function(t){r(e,t);function e(e,r,i){var a=t.call(this,e)||this;a.type="geoJSON";a.geometries=r;if(!i){var n=a.getBoundingRect();i=[n.x+n.width/2,n.y+n.height/2]}else{i=[i[0],i[1]]}a._center=i;return a}e.prototype.getBoundingRect=function(){var t=this._rect;if(t){return t}var e=Number.MAX_VALUE;var r=[e,e];var i=[-e,-e];var a=[];var n=[];var o=this.geometries;var s=0;for(;s<o.length;s++){if(o[s].type!=="polygon"){continue}var l=o[s].exterior;Ts(l,a,n);Ht(r,r,a);Wt(i,i,n)}if(s===0){r[0]=r[1]=i[0]=i[1]=0}return this._rect=new Yi(r[0],r[1],i[0]-r[0],i[1]-r[1])};e.prototype.contain=function(t){var e=this.getBoundingRect();var r=this.geometries;if(!e.contain(t[0],t[1])){return false}t:for(var i=0,a=r.length;i<a;i++){if(r[i].type!=="polygon"){continue}var n=r[i].exterior;var o=r[i].interiors;if(C_(n,t[0],t[1])){for(var s=0;s<(o?o.length:0);s++){if(C_(o[s],t[0],t[1])){continue t}}return true}}return false};e.prototype.transformTo=function(t,e,r,i){var a=this.getBoundingRect();var n=a.width/a.height;if(!r){r=n*i}else if(!i){i=r/n}var o=new Yi(t,e,r,i);var s=a.calculateTransform(o);var l=this.geometries;for(var u=0;u<l.length;u++){if(l[u].type!=="polygon"){continue}var f=l[u].exterior;var h=l[u].interiors;for(var v=0;v<f.length;v++){Ft(f[v],f[v],s)}for(var c=0;c<(h?h.length:0);c++){for(var v=0;v<h[c].length;v++){Ft(h[c][v],h[c][v],s)}}}a=this._rect;a.copy(o);this._center=[a.x+a.width/2,a.y+a.height/2]};e.prototype.cloneShallow=function(t){t==null&&(t=this.name);var r=new e(t,this.geometries,this._center);r._rect=this._rect;r.transformTo=null;return r};e.prototype.getCenter=function(){return this._center};e.prototype.setCenter=function(t){this._center=t};return e}(A_);var L_=function(t){r(e,t);function e(e,r){var i=t.call(this,e)||this;i.type="geoSVG";i._elOnlyForCalculate=r;return i}e.prototype.getCenter=function(){var t=this._center;if(!t){t=this._center=this._calculateCenter()}return t};e.prototype._calculateCenter=function(){var t=this._elOnlyForCalculate;var e=t.getBoundingRect();var r=[e.x+e.width/2,e.y+e.height/2];var i=mi(D_);var a=t;while(a&&!a.isGeoSVGGraphicRoot){_i(i,a.getLocalTransform(),i);a=a.parent}Mi(i,i);Ft(r,r,i);return r};return e}(A_);var P_=ct(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]);var O_=function(){function t(t,e){this.type="geoSVG";this._usedGraphicMap=ct();this._freedGraphics=[];this._mapName=t;this._parsedXML=Jx(e)}t.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML);this._freedGraphics.push(t);this._boundingRect=this._firstGraphic.boundingRect.clone();var e=N_(t.named),r=e.regions,i=e.regionsMap;this._regions=r;this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}};t.prototype._buildGraphic=function(t){var e;var r;try{e=t&&M_(t,{ignoreViewBox:true,ignoreRootClip:true})||{};r=e.root;st(r!=null)}catch(t){throw new Error("Invalid svg format\n"+t.message)}var i=new ya;i.add(r);i.isGeoSVGGraphicRoot=true;var a=e.width;var n=e.height;var o=e.viewBoxRect;var s=this._boundingRect;if(!s){var l=void 0;var u=void 0;var f=void 0;var h=void 0;if(a!=null){l=0;f=a}else if(o){l=o.x;f=o.width}if(n!=null){u=0;h=n}else if(o){u=o.y;h=o.height}if(l==null||u==null){var v=r.getBoundingRect();if(l==null){l=v.x;f=v.width}if(u==null){u=v.y;h=v.height}}s=this._boundingRect=new Yi(l,u,f,h)}if(o){var c=S_(o,s);r.scaleX=r.scaleY=c.scale;r.x=c.x;r.y=c.y}i.setClipPath(new zl({shape:s.plain()}));var p=[];R(e.named,function(t){if(P_.get(t.svgNodeTagLower)!=null){p.push(t);R_(t.el)}});return{root:i,boundingRect:s,named:p}};t.prototype.useGraphic=function(t){var e=this._usedGraphicMap;var r=e.get(t);if(r){return r}r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML);e.set(t,r);return r};t.prototype.freeGraphic=function(t){var e=this._usedGraphicMap;var r=e.get(t);if(r){e.removeKey(t);this._freedGraphics.push(r)}};return t}();function R_(t){t.silent=false;if(t.isGroup){t.traverse(function(t){t.silent=false})}}function N_(t){var e=[];var r=ct();R(t,function(t){if(t.namedFrom!=null){return}var i=new L_(t.name,t.el);e.push(i);r.set(t.name,i)});return{regions:e,regionsMap:r}}function E_(t){if(!t.UTF8Encoding){return t}var e=t;var r=e.UTF8Scale;if(r==null){r=1024}var i=e.features;for(var a=0;a<i.length;a++){var n=i[a];var o=n.geometry;if(o.type==="Polygon"){var s=o.coordinates;for(var l=0;l<s.length;l++){s[l]=z_(s[l],o.encodeOffsets[l],r)}}else if(o.type==="MultiPolygon"){var s=o.coordinates;for(var l=0;l<s.length;l++){var u=s[l];for(var f=0;f<u.length;f++){u[f]=z_(u[f],o.encodeOffsets[l][f],r)}}}}e.UTF8Encoding=false;return e}function z_(t,e,r){var i=[];var a=e[0];var n=e[1];for(var o=0;o<t.length;o+=2){var s=t.charCodeAt(o)-64;var l=t.charCodeAt(o+1)-64;s=s>>1^-(s&1);l=l>>1^-(l&1);s+=a;l+=n;a=s;n=l;i.push([s/r,l/r])}return i}function B_(t,e){t=E_(t);return N(z(t.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var r=t.properties;var i=t.geometry;var a=[];if(i.type==="Polygon"){var n=i.coordinates;a.push({type:"polygon",exterior:n[0],interiors:n.slice(1)})}if(i.type==="MultiPolygon"){var n=i.coordinates;R(n,function(t){if(t[0]){a.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})}})}var o=new k_(r[e||"name"],a,r.cp);o.properties=r;return o})}var V_=[126,25];var G_="";var F_=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var H_=0;H_<F_.length;H_++){for(var W_=0;W_<F_[H_].length;W_++){F_[H_][W_][0]/=10.5;F_[H_][W_][1]/=-10.5/.75;F_[H_][W_][0]+=V_[0];F_[H_][W_][1]+=V_[1]}}function U_(t,e){if(t==="china"){for(var r=0;r<e.length;r++){if(e[r].name===G_){return}}e.push(new k_(G_,N(F_,function(t){return{type:"polygon",exterior:t}}),V_))}}var Y_={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};function X_(t,e){if(t==="china"){var r=Y_[e.name];if(r){var i=e.getCenter();i[0]+=r[0]/10.5;i[1]+=-r[1]/(10.5/.75);e.setCenter(i)}}}var Z_={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function j_(t,e){if(t==="world"){var r=Z_[e.name];if(r){var i=[r[0],r[1]];e.setCenter(i)}}}var q_=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function K_(t,e){if(t==="china"&&e.name===""){e.geometries.push({type:"polygon",exterior:q_[0]})}}var $_="name";var J_=function(){function t(t,e,r){this.type="geoJSON";this._parsedMap=ct();this._mapName=t;this._specialAreas=r;this._geoJSON=tb(e)}t.prototype.load=function(t,e){e=e||$_;var r=this._parsedMap.get(e);if(!r){var i=this._parseToRegions(e);r=this._parsedMap.set(e,{regions:i,boundingRect:Q_(i)})}var a=ct();var n=[];R(r.regions,function(e){var r=e.name;if(t&&t.hasOwnProperty(r)){e=e.cloneShallow(r=t[r])}n.push(e);a.set(r,e)});return{regions:n,boundingRect:r.boundingRect||new Yi(0,0,0,0),regionsMap:a}};t.prototype._parseToRegions=function(t){var e=this._mapName;var r=this._geoJSON;var i;try{i=r?B_(r,t):[]}catch(t){throw new Error("Invalid geoJson format\n"+t.message)}U_(e,i);R(i,function(t){var r=t.name;X_(e,t);j_(e,t);K_(e,t);var i=this._specialAreas&&this._specialAreas[r];if(i){t.transformTo(i.left,i.top,i.width,i.height)}},this);return i};t.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}};return t}();function Q_(t){var e;for(var r=0;r<t.length;r++){var i=t[r].getBoundingRect();e=e||i.clone();e.union(i)}return e}function tb(t){return!Y(t)?t:typeof JSON!=="undefined"&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")()}var eb=ct();var rb={registerMap:function(t,e,r){if(e.svg){var i=new O_(t,e.svg);eb.set(t,i)}else{var a=e.geoJson||e.geoJSON;if(a&&!e.features){r=e.specialAreas}else{a=e}var i=new J_(t,a,r);eb.set(t,i)}},getGeoResource:function(t){return eb.get(t)},getMapForUser:function(t){var e=eb.get(t);return e&&e.type==="geoJSON"&&e.getMapForUser()},load:function(t,e,r){var i=eb.get(t);if(!i){if("development"!=="production"){console.error("Map "+t+" not exists. The GeoJSON of the map must be provided.")}return}return i.load(e,r)}};var ib=new Zt;var ab=typeof window!=="undefined";var nb="5.2.0";var ob={zrender:"5.2.0"};var sb=1;var lb=800;var ub=900;var fb=1e3;var hb=2e3;var vb=5e3;var cb=1e3;var pb=1100;var db=2e3;var gb=3e3;var yb=4e3;var mb=4500;var xb=4600;var _b=5e3;var bb=6e3;var wb=7e3;var Sb={PROCESSOR:{FILTER:fb,SERIES_FILTER:lb,STATISTIC:vb},VISUAL:{LAYOUT:cb,PROGRESSIVE_LAYOUT:pb,GLOBAL:db,CHART:gb,POST_CHART_LAYOUT:xb,COMPONENT:yb,BRUSH:_b,CHART_ITEM:mb,ARIA:bb,DECAL:wb}};var Mb="__flagInMainProcess";var Ib="__pendingUpdate";var Tb="__needsUpdateStatus";var Cb=/^[a-zA-Z0-9_]+$/;var Db="__connectUpdateStatus";var Ab=0;var kb=1;var Lb=2;function Pb(t){return function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(this.isDisposed()){nw(this.id);return}return Rb(this,t,e)}}function Ob(t){return function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}return Rb(this,t,e)}}function Rb(t,e,r){r[0]=r[0]&&r[0].toLowerCase();return Zt.prototype[e].apply(t,r)}var Nb=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Zt);var Eb=Nb.prototype;Eb.on=Ob("on");Eb.off=Ob("off");var zb;var Bb;var Vb;var Gb;var Fb;var Hb;var Wb;var Ub;var Yb;var Xb;var Zb;var jb;var qb;var Kb;var $b;var Jb;var Qb;var tw;var ew;var rw=function(t){r(e,t);function e(e,r,i){var a=t.call(this,new zm)||this;a._chartsViews=[];a._chartsMap={};a._componentsViews=[];a._componentsMap={};a._pendingActions=[];i=i||{};if(typeof r==="string"){r=hw[r]}a._dom=e;var n="canvas";var o=false;if("development"!=="production"){var s=ab?window:global;n=s.__ECHARTS__DEFAULT__RENDERER__||n;var l=s.__ECHARTS__DEFAULT__USE_DIRTY_RECT__;o=l==null?o:l}var u=a._zr=Ma(e,{renderer:i.renderer||n,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,useDirtyRect:i.useDirtyRect==null?o:i.useDirtyRect});a._throttledZrFlush=em(F(u.flush,u),17);r=M(r);r&&Xd(r,true);a._theme=r;a._locale=nc(i.locale||ic);a._coordSysMgr=new gd;var f=a._api=Jb(a);function h(t,e){return t.__prio-e.__prio}Be(fw,h);Be(lw,h);a._scheduler=new dm(a,f,lw,fw);a._messageCenter=new Nb;a._initEvents();a.resize=F(a.resize,a);u.animation.on("frame",a._onframe,a);Xb(u,a);Zb(u,a);ft(a);return a}e.prototype._onframe=function(){if(this._disposed){return}ew(this);var t=this._scheduler;if(this[Ib]){var e=this[Ib].silent;this[Mb]=true;zb(this);Gb.update.call(this,null,this[Ib].updateParams);this._zr.flush();this[Mb]=false;this[Ib]=null;Ub.call(this,e);Yb.call(this,e)}else if(t.unfinished){var r=sb;var i=this._model;var a=this._api;t.unfinished=false;do{var n=+new Date;t.performSeriesTasks(i);t.performDataProcessorTasks(i);Hb(this,i);t.performVisualTasks(i);$b(this,this._model,a,"remain",{});r-=+new Date-n}while(r>0&&t.unfinished);if(!t.unfinished){this._zr.flush()}}};e.prototype.getDom=function(){return this._dom};e.prototype.getId=function(){return this.id};e.prototype.getZr=function(){return this._zr};e.prototype.setOption=function(t,e,r){if("development"!=="production"){st(!this[Mb],"`setOption` should not be called during main process.")}if(this._disposed){nw(this.id);return}var i;var a;var n;if(j(e)){r=e.lazyUpdate;i=e.silent;a=e.replaceMerge;n=e.transition;e=e.notMerge}this[Mb]=true;if(!this._model||e){var o=new md(this._api);var s=this._theme;var l=this._model=new sd;l.scheduler=this._scheduler;l.init(null,null,null,s,this._locale,o)}this._model.setOption(t,{replaceMerge:a},uw);var u={seriesTransition:n,optionChanged:true};if(r){this[Ib]={silent:i,updateParams:u};this[Mb]=false;this.getZr().wakeUp()}else{zb(this);Gb.update.call(this,null,u);this._zr.flush();this[Ib]=null;this[Mb]=false;Ub.call(this,i);Yb.call(this,i)}};e.prototype.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};e.prototype.getModel=function(){return this._model};e.prototype.getOption=function(){return this._model&&this._model.getOption()};e.prototype.getWidth=function(){return this._zr.getWidth()};e.prototype.getHeight=function(){return this._zr.getHeight()};e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||ab&&window.devicePixelRatio||1};e.prototype.getRenderedCanvas=function(t){if(!s.canvasSupported){return}t=t||{};return this._zr.painter.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})};e.prototype.getSvgDataURL=function(){if(!s.svgSupported){return}var t=this._zr;var e=t.storage.getDisplayList();R(e,function(t){t.stopAnimation(null,true)});return t.painter.toDataURL()};e.prototype.getDataURL=function(t){if(this._disposed){nw(this.id);return}t=t||{};var e=t.excludeComponents;var r=this._model;var i=[];var a=this;R(e,function(t){r.eachComponent({mainType:t},function(t){var e=a._componentsMap[t.__viewId];if(!e.group.ignore){i.push(e);e.group.ignore=true}})});var n=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));R(i,function(t){t.group.ignore=false});return n};e.prototype.getConnectedDataURL=function(t){if(this._disposed){nw(this.id);return}if(!s.canvasSupported){return}var e=t.type==="svg";var r=this.group;var i=Math.min;var a=Math.max;var n=Infinity;if(pw[r]){var o=n;var l=n;var u=-n;var f=-n;var h=[];var v=t&&t.pixelRatio||this.getDevicePixelRatio();R(cw,function(n,s){if(n.group===r){var v=e?n.getZr().painter.getSvgDom().innerHTML:n.getRenderedCanvas(M(t));var c=n.getDom().getBoundingClientRect();o=i(c.left,o);l=i(c.top,l);u=a(c.right,u);f=a(c.bottom,f);h.push({dom:v,left:c.left,top:c.top})}});o*=v;l*=v;u*=v;f*=v;var c=u-o;var p=f-l;var d=A();var g=Ma(d,{renderer:e?"svg":"canvas"});g.resize({width:c,height:p});if(e){var y="";R(h,function(t){var e=t.left-o;var r=t.top-l;y+='<g transform="translate('+e+","+r+')">'+t.dom+"</g>"});g.painter.getSvgRoot().innerHTML=y;if(t.connectedBackgroundColor){g.painter.setBackgroundColor(t.connectedBackgroundColor)}g.refreshImmediately();return g.painter.toDataURL()}else{if(t.connectedBackgroundColor){g.add(new zl({shape:{x:0,y:0,width:c,height:p},style:{fill:t.connectedBackgroundColor}}))}R(h,function(t){var e=new Al({style:{x:t.left*v-o,y:t.top*v-l,image:t.dom}});g.add(e)});g.refreshImmediately();return d.toDataURL("image/"+(t&&t.type||"png"))}}else{return this.getDataURL(t)}};e.prototype.convertToPixel=function(t,e){return Fb(this,"convertToPixel",t,e)};e.prototype.convertFromPixel=function(t,e){return Fb(this,"convertFromPixel",t,e)};e.prototype.containPixel=function(t,e){if(this._disposed){nw(this.id);return}var r=this._model;var i;var a=Wn(r,t);R(a,function(t,r){r.indexOf("Models")>=0&&R(t,function(t){var a=t.coordinateSystem;if(a&&a.containPoint){i=i||!!a.containPoint(e)}else if(r==="seriesModels"){var n=this._chartsMap[t.__viewId];if(n&&n.containPoint){i=i||n.containPoint(e,t)}else{if("development"!=="production"){console.warn(r+": "+(n?"The found component do not support containPoint.":"No view mapping to the found component."))}}}else{if("development"!=="production"){console.warn(r+": containPoint is not supported")}}},this)},this);return!!i};e.prototype.getVisual=function(t,e){var r=this._model;var i=Wn(r,t,{defaultMainType:"series"});var a=i.seriesModel;if("development"!=="production"){if(!a){console.warn("There is no specified seires model")}}var n=a.getData();var o=i.hasOwnProperty("dataIndexInside")?i.dataIndexInside:i.hasOwnProperty("dataIndex")?n.indexOfRawIndex(i.dataIndex):null;return o!=null?Gm(n,o,e):Fm(n,e)};e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]};e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};e.prototype._initEvents=function(){var t=this;R(aw,function(e){var r=function(r){var i=t.getModel();var a=r.target;var n;var o=e==="globalout";if(o){n={}}else{a&&Xm(a,function(t){var e=$l(t);if(e&&e.dataIndex!=null){var r=e.dataModel||i.getSeriesByIndex(e.seriesIndex);n=r&&r.getDataParams(e.dataIndex,e.dataType)||{};return true}else if(e.eventData){n=C({},e.eventData);return true}},true)}if(n){var s=n.componentType;var l=n.componentIndex;if(s==="markLine"||s==="markPoint"||s==="markArea"){s="series";l=n.seriesIndex}var u=s&&l!=null&&i.getComponent(s,l);var f=u&&t[u.mainType==="series"?"_chartsMap":"_componentsMap"][u.__viewId];if("development"!=="production"){if(!o&&!(u&&f)){console.warn("model or view can not be found by params")}}n.event=r;n.type=e;t._$eventProcessor.eventInfo={targetEl:a,packedEvent:n,model:u,view:f};t.trigger(e,n)}};r.zrEventfulCallAtLast=true;t._zr.on(e,r,t)});R(sw,function(e,r){t._messageCenter.on(r,function(t){this.trigger(r,t)},t)});R(["selectchanged"],function(e){t._messageCenter.on(e,function(t){this.trigger(e,t)},t)});Ym(this._messageCenter,this,this._api)};e.prototype.isDisposed=function(){return this._disposed};e.prototype.clear=function(){if(this._disposed){nw(this.id);return}this.setOption({series:[]},true)};e.prototype.dispose=function(){if(this._disposed){nw(this.id);return}this._disposed=true;jn(this.getDom(),yw,"");var t=this;var e=t._api;var r=t._model;R(t._componentsViews,function(t){t.dispose(r,e)});R(t._chartsViews,function(t){t.dispose(r,e)});t._zr.dispose();t._dom=t._model=t._chartsMap=t._componentsMap=t._chartsViews=t._componentsViews=t._scheduler=t._api=t._zr=t._throttledZrFlush=t._theme=t._coordSysMgr=t._messageCenter=null;delete cw[t.id]};e.prototype.resize=function(t){if("development"!=="production"){st(!this[Mb],"`resize` should not be called during main process.")}if(this._disposed){nw(this.id);return}this._zr.resize(t);var e=this._model;this._loadingFX&&this._loadingFX.resize();if(!e){return}var r=e.resetOption("media");var i=t&&t.silent;if(this[Ib]){if(i==null){i=this[Ib].silent}r=true;this[Ib]=null}this[Mb]=true;r&&zb(this);Gb.update.call(this,{type:"resize",animation:C({duration:0},t&&t.animation)});this[Mb]=false;Ub.call(this,i);Yb.call(this,i)};e.prototype.showLoading=function(t,e){if(this._disposed){nw(this.id);return}if(j(t)){e=t;t=""}t=t||"default";this.hideLoading();if(!vw[t]){if("development"!=="production"){console.warn("Loading effects "+t+" not exists.")}return}var r=vw[t](this._api,e);var i=this._zr;this._loadingFX=r;i.add(r)};e.prototype.hideLoading=function(){if(this._disposed){nw(this.id);return}this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};e.prototype.makeActionFromEvent=function(t){var e=C({},t);e.type=sw[t.type];return e};e.prototype.dispatchAction=function(t,e){if(this._disposed){nw(this.id);return}if(!j(e)){e={silent:!!e}}if(!ow[t.type]){return}if(!this._model){return}if(this[Mb]){this._pendingActions.push(t);return}var r=e.silent;Wb.call(this,t,r);var i=e.flush;if(i){this._zr.flush()}else if(i!==false&&s.browser.weChat){this._throttledZrFlush()}Ub.call(this,r);Yb.call(this,r)};e.prototype.updateLabelLayout=function(){ib.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})};e.prototype.appendData=function(t){if(this._disposed){nw(this.id);return}var e=t.seriesIndex;var r=this.getModel();var i=r.getSeriesByIndex(e);if("development"!=="production"){st(t.data&&i)}i.appendData(t);this._scheduler.unfinished=true;this.getZr().wakeUp()};e.internalField=function(){zb=function(t){var e=t._scheduler;e.restorePipelines(t._model);e.prepareStageTasks();Bb(t,true);Bb(t,false);e.plan()};Bb=function(t,e){var r=t._model;var i=t._scheduler;var a=e?t._componentsViews:t._chartsViews;var n=e?t._componentsMap:t._chartsMap;var o=t._zr;var s=t._api;for(var l=0;l<a.length;l++){a[l].__alive=false}e?r.eachComponent(function(t,e){t!=="series"&&u(e)}):r.eachSeries(u);function u(t){var l=t.__requireNewView;t.__requireNewView=false;var u="_ec_"+t.id+"_"+t.type;var f=!l&&n[u];if(!f){var h=ro(t.type);var v=e?Hy.getClass(h.main,h.sub):Xy.getClass(h.sub);if("development"!=="production"){st(v,h.sub+" does not exist.")}f=new v;f.init(r,s);n[u]=f;a.push(f);o.add(f.group)}t.__viewId=f.__id=u;f.__alive=true;f.__model=t;f.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex};!e&&i.prepareView(f,t,r,s)}for(var l=0;l<a.length;){var f=a[l];if(!f.__alive){!e&&f.renderTask.dispose();o.remove(f.group);f.dispose(r,s);a.splice(l,1);if(n[f.__id]===f){delete n[f.__id]}f.__id=f.group.__ecComponentInfo=null}else{l++}}};Vb=function(t,e,r,i,a){var n=t._model;n.setUpdatePayload(r);if(!i){R([].concat(t._componentsViews).concat(t._chartsViews),f);return}var o={};o[i+"Id"]=r[i+"Id"];o[i+"Index"]=r[i+"Index"];o[i+"Name"]=r[i+"Name"];var s={mainType:i,query:o};a&&(s.subType=a);var l=r.excludeSeriesId;var u;if(l!=null){u=ct();R(yn(l),function(t){var e=Ln(t,null);if(e!=null){u.set(e,true)}})}if(uf(r)){Hu(t._api)}n&&n.eachComponent(s,function(e){var i=u&&u.get(e.id)!==null;if(i){return}if(uf(r)){if(e instanceof Oy){if(r.type===uu&&!r.notBlur){Yu(e,r,t._api)}}else{var a=Xu(e.mainType,e.componentIndex,r.name,t._api),n=a.focusSelf,o=a.dispatchers;if(r.type===uu&&n&&!r.notBlur){Uu(e.mainType,e.componentIndex,t._api)}if(o){R(o,function(t){r.type===uu?Nu(t):Eu(t)})}}}else if(lf(r)){if(e instanceof Oy){qu(e,r,t._api);Ku(e);tw(t)}}},t);n&&n.eachComponent(s,function(e){var r=u&&u.get(e.id)!==null;if(r){return}f(t[i==="series"?"_chartsMap":"_componentsMap"][e.__viewId])},t);function f(i){i&&i.__alive&&i[e]&&i[e](i.__model,n,t._api,r)}};Gb={prepareAndUpdate:function(t){zb(this);Gb.update.call(this,t,{optionChanged:t.newOption!=null})},update:function(t,e){var r=this._model;var i=this._api;var a=this._zr;var n=this._coordSysMgr;var o=this._scheduler;if(!r){return}r.setUpdatePayload(t);o.restoreData(r,t);o.performSeriesTasks(r);n.create(r,i);o.performDataProcessorTasks(r,t);Hb(this,r);n.update(r,i);jb(r);o.performVisualTasks(r,t);qb(this,r,i,t,e);var l=r.get("backgroundColor")||"transparent";var u=r.get("darkMode");if(!s.canvasSupported){var f=vr(l);l=Sr(f,"rgb");if(f[3]===0){l="transparent"}}else{a.setBackgroundColor(l);if(u!=null&&u!=="auto"){a.setDarkMode(u)}}ib.trigger("afterupdate",r,i)},updateTransform:function(t){var e=this;var r=this._model;var i=this._api;if(!r){return}r.setUpdatePayload(t);var a=[];r.eachComponent(function(n,o){if(n==="series"){return}var s=e.getViewOfComponentModel(o);if(s&&s.__alive){if(s.updateTransform){var l=s.updateTransform(o,r,i,t);l&&l.update&&a.push(s)}else{a.push(s)}}});var n=ct();r.eachSeries(function(a){var o=e._chartsMap[a.__viewId];if(o.updateTransform){var s=o.updateTransform(a,r,i,t);s&&s.update&&n.set(a.uid,1)}else{n.set(a.uid,1)}});jb(r);this._scheduler.performVisualTasks(r,t,{setDirty:true,dirtyMap:n});$b(this,r,i,t,{},n);ib.trigger("afterupdate",r,i)},updateView:function(t){var e=this._model;if(!e){return}e.setUpdatePayload(t);Xy.markUpdateMethod(t,"updateView");jb(e);this._scheduler.performVisualTasks(e,t,{setDirty:true});qb(this,e,this._api,t,{});ib.trigger("afterupdate",e,this._api)},updateVisual:function(t){var e=this;var r=this._model;if(!r){return}r.setUpdatePayload(t);r.eachSeries(function(t){t.getData().clearAllVisual()});Xy.markUpdateMethod(t,"updateVisual");jb(r);this._scheduler.performVisualTasks(r,t,{visualType:"visual",setDirty:true});r.eachComponent(function(i,a){if(i!=="series"){var n=e.getViewOfComponentModel(a);n&&n.__alive&&n.updateVisual(a,r,e._api,t)}});r.eachSeries(function(i){var a=e._chartsMap[i.__viewId];a.updateVisual(i,r,e._api,t)});ib.trigger("afterupdate",r,this._api)},updateLayout:function(t){Gb.update.call(this,t)}};Fb=function(t,e,r,i){if(t._disposed){nw(t.id);return}var a=t._model;var n=t._coordSysMgr.getCoordinateSystems();var o;var s=Wn(a,r);for(var l=0;l<n.length;l++){var u=n[l];if(u[e]&&(o=u[e](a,s,i))!=null){return o}}if("development"!=="production"){console.warn("No coordinate system that supports "+e+" found by the given finder.")}};Hb=function(t,e){var r=t._chartsMap;var i=t._scheduler;e.eachSeries(function(t){i.updateStreamModes(t,r[t.__viewId])})};Wb=function(t,e){var r=this;var i=this.getModel();var a=t.type;var n=t.escapeConnect;var o=ow[a];var s=o.actionInfo;var l=(s.update||"update").split(":");var u=l.pop();var f=l[0]!=null&&ro(l[0]);this[Mb]=true;var h=[t];var v=false;if(t.batch){v=true;h=N(t.batch,function(e){e=D(C({},e),t);e.batch=null;return e})}var c=[];var p;var d=lf(t);var g=uf(t);R(h,function(e){p=o.action(e,r._model,r._api);p=p||C({},e);p.type=s.event||p.type;c.push(p);if(g){var i=Un(t),a=i.queryOptionMap,n=i.mainTypeSpecified;var l=n?a.keys()[0]:"series";Vb(r,u,e,l);tw(r)}else if(d){Vb(r,u,e,"series");tw(r)}else if(f){Vb(r,u,e,f.main,f.sub)}});if(u!=="none"&&!g&&!d&&!f){if(this[Ib]){zb(this);Gb.update.call(this,t);this[Ib]=null}else{Gb[u].call(this,t)}}if(v){p={type:s.event||a,escapeConnect:n,batch:c}}else{p=c[0]}this[Mb]=false;if(!e){var y=this._messageCenter;y.trigger(p.type,p);if(d){var m={type:"selectchanged",escapeConnect:n,selected:$u(i),isFromClick:t.isFromClick||false,fromAction:t.type,fromActionPayload:t};y.trigger(m.type,m)}}};Ub=function(t){var e=this._pendingActions;while(e.length){var r=e.shift();Wb.call(this,r,t)}};Yb=function(t){!t&&this.trigger("updated")};Xb=function(t,e){t.on("rendered",function(r){e.trigger("rendered",r);if(t.animation.isFinished()&&!e[Ib]&&!e._scheduler.unfinished&&!e._pendingActions.length){e.trigger("finished")}})};Zb=function(t,e){t.on("mouseover",function(t){var r=t.target;var i=Xm(r,nf);if(i){Zu(i,t,e._api);tw(e)}}).on("mouseout",function(t){var r=t.target;var i=Xm(r,nf);if(i){ju(i,t,e._api);tw(e)}}).on("click",function(t){var r=t.target;var i=Xm(r,function(t){return $l(t).dataIndex!=null},true);if(i){var a=i.selected?"unselect":"select";var n=$l(i);e._api.dispatchAction({type:a,dataType:n.dataType,dataIndexInside:n.dataIndex,seriesIndex:n.seriesIndex,isFromClick:true})}})};jb=function(t){t.clearColorPalette();t.eachSeries(function(t){t.clearColorPalette()})};qb=function(t,e,r,i,a){Kb(t,e,r,i,a);R(t._chartsViews,function(t){t.__alive=false});$b(t,e,r,i,a);R(t._chartsViews,function(t){if(!t.__alive){t.remove(e,r)}})};Kb=function(t,e,r,i,n,s){R(s||t._componentsViews,function(t){var n=t.__model;o(n,t);t.render(n,e,r,i);a(n,t);l(n,t)})};$b=function(t,r,n,s,u,f){var h=t._scheduler;u=C(u||{},{updatedSeries:r.getSeries()});ib.trigger("series:beforeupdate",r,n,u);var v=false;r.eachSeries(function(e){var r=t._chartsMap[e.__viewId];r.__alive=true;var a=r.renderTask;h.updatePayload(a,s);o(e,r);if(f&&f.get(e.uid)){a.dirty()}if(a.perform(h.getPerformArgs(a))){v=true}r.group.silent=!!e.get("silent");i(e,r);Ku(e)});h.unfinished=v||h.unfinished;ib.trigger("series:layoutlabels",r,n,u);ib.trigger("series:transition",r,n,u);r.eachSeries(function(e){var r=t._chartsMap[e.__viewId];a(e,r);l(e,r)});e(t,r);ib.trigger("series:afterupdate",r,n,u)};tw=function(t){t[Tb]=true;t.getZr().wakeUp()};ew=function(e){if(!e[Tb]){return}e.getZr().storage.traverse(function(e){if(Nh(e)){return}t(e)});e[Tb]=false};function t(t){var e=[];var r=t.currentStates;for(var i=0;i<r.length;i++){var a=r[i];if(!(a==="emphasis"||a==="blur"||a==="select")){e.push(a)}}if(t.selected&&t.states.select){e.push("select")}if(t.hoverState===au&&t.states.emphasis){e.push("emphasis")}else if(t.hoverState===iu&&t.states.blur){e.push("blur")}t.useStates(e)}function e(t,e){var r=t._zr;var i=r.storage;var a=0;i.traverse(function(t){if(!t.isGroup){a++}});if(a>e.get("hoverLayerThreshold")&&!s.node&&!s.worker){e.eachSeries(function(e){if(e.preventUsingHoverLayer){return}var r=t._chartsMap[e.__viewId];if(r.__alive){r.group.traverse(function(t){if(t.states.emphasis){t.states.emphasis.hoverLayer=true}})}})}}function i(t,e){var r=t.get("blendMode")||null;if("development"!=="production"){if(!s.canvasSupported&&r&&r!=="source-over"){console.warn("Only canvas support blendMode")}}e.group.traverse(function(t){if(!t.isGroup){t.style.blend=r}if(t.eachPendingDisplayable){t.eachPendingDisplayable(function(t){t.style.blend=r})}})}function a(t,e){if(t.preventAutoZ){return}n(e.group,t.get("z")||0,t.get("zlevel")||0,-Infinity)}function n(t,e,r,i){var a=t.getTextContent();var o=t.getTextGuideLine();var s=t.isGroup;if(s){var l=t.childrenRef();for(var u=0;u<l.length;u++){i=Math.max(n(l[u],e,r,i),i)}}else{t.z=e;t.zlevel=r;i=Math.max(t.z2,i)}if(a){a.z=e;a.zlevel=r;isFinite(i)&&(a.z2=i+2)}if(o){var f=t.textGuideLineConfig;o.z=e;o.zlevel=r;isFinite(i)&&(o.z2=i+(f&&f.showAbove?1:-1))}return i}function o(t,e){e.group.traverse(function(t){if(Nh(t)){return}var e=t.getTextContent();var r=t.getTextGuideLine();if(t.stateTransition){t.stateTransition=null}if(e&&e.stateTransition){e.stateTransition=null}if(r&&r.stateTransition){r.stateTransition=null}if(t.hasState()){t.prevStates=t.currentStates;t.clearStates()}else if(t.prevStates){t.prevStates=null}})}function l(e,r){var i=e.getModel("stateAnimation");var a=e.isAnimationEnabled();var n=i.get("duration");var o=n>0?{duration:n,delay:i.get("delay"),easing:i.get("easing")}:null;r.group.traverse(function(e){if(e.states&&e.states.emphasis){if(Nh(e)){return}if(e instanceof Sl){ff(e)}if(e.__dirty){var r=e.prevStates;if(r){e.useStates(r)}}if(a){e.stateTransition=o;var i=e.getTextContent();var n=e.getTextGuideLine();if(i){i.stateTransition=o}if(n){n.stateTransition=o}}if(e.__dirty){t(e)}}})}Jb=function(t){return new(function(e){r(i,e);function i(){return e!==null&&e.apply(this,arguments)||this}i.prototype.getCoordinateSystems=function(){return t._coordSysMgr.getCoordinateSystems()};i.prototype.getComponentByElement=function(e){while(e){var r=e.__ecComponentInfo;if(r!=null){return t._model.getComponent(r.mainType,r.index)}e=e.parent}};i.prototype.enterEmphasis=function(e,r){Nu(e,r);tw(t)};i.prototype.leaveEmphasis=function(e,r){Eu(e,r);tw(t)};i.prototype.enterBlur=function(e){zu(e);tw(t)};i.prototype.leaveBlur=function(e){Bu(e);tw(t)};i.prototype.enterSelect=function(e){Vu(e);tw(t)};i.prototype.leaveSelect=function(e){Gu(e);tw(t)};i.prototype.getModel=function(){return t.getModel()};i.prototype.getViewOfComponentModel=function(e){return t.getViewOfComponentModel(e)};i.prototype.getViewOfSeriesModel=function(e){return t.getViewOfSeriesModel(e)};return i}(pd))(t)};Qb=function(t){function e(t,e){for(var r=0;r<t.length;r++){var i=t[r];i[Db]=e}}R(sw,function(r,i){t._messageCenter.on(i,function(r){if(pw[t.group]&&t[Db]!==Ab){if(r&&r.escapeConnect){return}var i=t.makeActionFromEvent(r);var a=[];R(cw,function(e){if(e!==t&&e.group===t.group){a.push(e)}});e(a,Ab);R(a,function(t){if(t[Db]!==kb){t.dispatchAction(i)}});e(a,Lb)}})})}}();return e}(Zt);var iw=rw.prototype;iw.on=Pb("on");iw.off=Pb("off");iw.one=function(t,e,r){var i=this;fn("ECharts#one is deprecated.");function a(){var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}e&&e.apply&&e.apply(this,r);i.off(t,a)}this.on.call(this,t,a,r)};var aw=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function nw(t){if("development"!=="production"){console.warn("Instance "+t+" has been disposed")}}var ow={};var sw={};var lw=[];var uw=[];var fw=[];var hw={};var vw={};var cw={};var pw={};var dw=+new Date-0;var gw=+new Date-0;var yw="_echarts_instance_";function mw(t,e,r){if("development"!=="production"){if(!t){throw new Error("Initialize failed: invalid dom.")}}var i=Sw(t);if(i){if("development"!=="production"){console.warn("There is a chart instance already initialized on the dom.")}return i}if("development"!=="production"){if($(t)&&t.nodeName.toUpperCase()!=="CANVAS"&&(!t.clientWidth&&(!r||r.width==null)||!t.clientHeight&&(!r||r.height==null))){console.warn("Can't get DOM width or height. Please check "+"dom.clientWidth and dom.clientHeight. They should not be 0."+"For example, you may need to call this in the callback "+"of window.onload.")}}var a=new rw(t,e,r);a.id="ec_"+dw++;cw[a.id]=a;jn(t,yw,a.id);Qb(a);ib.trigger("afterinit",a);return a}function xw(t){if(W(t)){var e=t;t=null;R(e,function(e){if(e.group!=null){t=e.group}});t=t||"g_"+gw++;R(e,function(e){e.group=t})}pw[t]=true;return t}function _w(t){pw[t]=false}var bw=_w;function ww(t){if(typeof t==="string"){t=cw[t]}else if(!(t instanceof rw)){t=Sw(t)}if(t instanceof rw&&!t.isDisposed()){t.dispose()}}function Sw(t){return cw[qn(t,yw)]}function Mw(t){return cw[t]}function Iw(t,e){hw[t]=e}function Tw(t){if(k(uw,t)<0){uw.push(t)}}function Cw(t,e){zw(lw,t,e,hb)}function Dw(t){kw("afterinit",t)}function Aw(t){kw("afterupdate",t)}function kw(t,e){ib.on(t,e)}function Lw(t,e,r){if(typeof e==="function"){r=e;e=""}var i=j(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase();e=t.event;if(sw[e]){return}st(Cb.test(i)&&Cb.test(e));if(!ow[i]){ow[i]={action:r,actionInfo:t}}sw[e]=i}function Pw(t,e){gd.register(t,e)}function Ow(t){var e=gd.get(t);if(e){return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}}function Rw(t,e){zw(fw,t,e,cb,"layout")}function Nw(t,e){zw(fw,t,e,gb,"visual")}var Ew=[];function zw(t,e,r,i,a){if(U(e)||j(e)){r=e;e=i}if("development"!=="production"){if(isNaN(e)||e==null){throw new Error("Illegal priority")}R(t,function(t){st(t.__raw!==r)})}if(k(Ew,r)>=0){return}Ew.push(r);var n=dm.wrapStageHandler(r,a);n.__prio=e;n.__raw=r;t.push(n)}function Bw(t,e){vw[t]=e}function Vw(t){_("createCanvas",t)}function Gw(t,e,r){rb.registerMap(t,e,r)}function Fw(t){return rb.getMapForUser(t)}var Hw=Ug;Nw(db,um);Nw(mb,hm);Nw(mb,vm);Nw(db,Bm);Nw(mb,Vm);Nw(wb,$x);Tw(Xd);Cw(ub,Zd);Bw("default",pm);Lw({type:uu,event:uu,update:uu},yt);Lw({type:fu,event:fu,update:fu},yt);Lw({type:hu,event:hu,update:hu},yt);Lw({type:vu,event:vu,update:vu},yt);Lw({type:cu,event:cu,update:cu},yt);Iw("light",Lm);Iw("dark",Em);var Ww={};var Uw=[];var Yw={registerPreprocessor:Tw,registerProcessor:Cw,registerPostInit:Dw,registerPostUpdate:Aw,registerUpdateLifecycle:kw,registerAction:Lw,registerCoordinateSystem:Pw,registerLayout:Rw,registerVisual:Nw,registerTransform:Hw,registerLoading:Bw,registerMap:Gw,PRIORITY:Sb,ComponentModel:xp,ComponentView:Hy,SeriesModel:Oy,ChartView:Xy,registerComponentModel:function(t){xp.registerClass(t)},registerComponentView:function(t){Hy.registerClass(t)},registerSeriesModel:function(t){Oy.registerClass(t)},registerChartView:function(t){Xy.registerClass(t)},registerSubTypeDefaulter:function(t,e){xp.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){Da(t,e)}};function Xw(t){if(W(t)){R(t,function(t){Xw(t)});return}if(k(Uw,t)>=0){return}Uw.push(t);if(U(t)){t={install:t}}t.install(Yw)}function Zw(t){return t==null?0:t.length||1}function jw(t){return t}var qw=function(){function t(t,e,r,i,a,n){this._old=t;this._new=e;this._oldKeyGetter=r||jw;this._newKeyGetter=i||jw;this.context=a;this._diffModeMultiple=n==="multiple"}t.prototype.add=function(t){this._add=t;return this};t.prototype.update=function(t){this._update=t;return this};t.prototype.updateManyToOne=function(t){this._updateManyToOne=t;return this};t.prototype.updateOneToMany=function(t){this._updateOneToMany=t;return this};t.prototype.updateManyToMany=function(t){this._updateManyToMany=t;return this};t.prototype.remove=function(t){this._remove=t;return this};t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()};t.prototype._executeOneToOne=function(){var t=this._old;var e=this._new;var r={};var i=new Array(t.length);var a=new Array(e.length);this._initIndexMap(t,null,i,"_oldKeyGetter");this._initIndexMap(e,r,a,"_newKeyGetter");for(var n=0;n<t.length;n++){var o=i[n];var s=r[o];var l=Zw(s);if(l>1){var u=s.shift();if(s.length===1){r[o]=s[0]}this._update&&this._update(u,n)}else if(l===1){r[o]=null;this._update&&this._update(s,n)}else{this._remove&&this._remove(n)}}this._performRestAdd(a,r)};t.prototype._executeMultiple=function(){var t=this._old;var e=this._new;var r={};var i={};var a=[];var n=[];this._initIndexMap(t,r,a,"_oldKeyGetter");this._initIndexMap(e,i,n,"_newKeyGetter");for(var o=0;o<a.length;o++){var s=a[o];var l=r[s];var u=i[s];var f=Zw(l);var h=Zw(u);if(f>1&&h===1){this._updateManyToOne&&this._updateManyToOne(u,l);i[s]=null}else if(f===1&&h>1){this._updateOneToMany&&this._updateOneToMany(u,l);i[s]=null}else if(f===1&&h===1){this._update&&this._update(u,l);i[s]=null}else if(f>1&&h>1){this._updateManyToMany&&this._updateManyToMany(u,l);i[s]=null}else if(f>1){for(var v=0;v<f;v++){this._remove&&this._remove(l[v])}}else{this._remove&&this._remove(l)}}this._performRestAdd(n,i)};t.prototype._performRestAdd=function(t,e){for(var r=0;r<t.length;r++){var i=t[r];var a=e[i];var n=Zw(a);if(n>1){for(var o=0;o<n;o++){this._add&&this._add(a[o])}}else if(n===1){this._add&&this._add(a)}e[i]=null}};t.prototype._initIndexMap=function(t,e,r,i){var a=this._diffModeMultiple;for(var n=0;n<t.length;n++){var o="_ec_"+this[i](t[n],n);if(!a){r[n]=o}if(!e){continue}var s=e[o];var l=Zw(s);if(l===0){e[o]=n;if(a){r.push(o)}}else if(l===1){e[o]=[s,n]}else{s.push(n)}}};return t}();var Kw=function(){function t(t,e){this._encode=t;this._schema=e}t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}};t.prototype._getFullDimensionNames=function(){if(!this._cachedDimNames){this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]}return this._cachedDimNames};return t}();function $w(t,e){var r={};var i=r.encode={};var a=ct();var n=[];var o=[];var s={};R(t.dimensions,function(e){var r=t.getDimensionInfo(e);var l=r.coordDim;if(l){if("development"!=="production"){st(Mp.get(l)==null)}var u=r.coordDimIndex;Jw(i,l)[u]=e;if(!r.isExtraCoord){a.set(l,1);if(tS(r.type)){n[0]=e}Jw(s,l)[u]=t.getDimensionIndex(r.name)}if(r.defaultTooltip){o.push(e)}}Mp.each(function(t,e){var a=Jw(i,e);var n=r.otherDims[e];if(n!=null&&n!==false){a[n]=r.name}})});var l=[];var u={};a.each(function(t,e){var r=i[e];u[e]=r[0];l=l.concat(r)});r.dataDimsOnCoord=l;r.dataDimIndicesOnCoord=N(l,function(e){return t.getDimensionInfo(e).storeDimIndex});r.encodeFirstDimNotExtra=u;var f=i.label;if(f&&f.length){n=f.slice()}var h=i.tooltip;if(h&&h.length){o=h.slice()}else if(!o.length){o=n.slice()}i.defaultedLabel=n;i.defaultedTooltip=o;r.userOutput=new Kw(s,e);return r}function Jw(t,e){if(!t.hasOwnProperty(e)){t[e]=[]}return t[e]}function Qw(t){return t==="category"?"ordinal":t==="time"?"time":"float"}function tS(t){return!(t==="ordinal"||t==="time")}var eS=function(){function t(t){this.otherDims={};if(t!=null){C(this,t)}}return t}();var rS=Fn();var iS={float:"f",int:"i",ordinal:"o",number:"n",time:"t"};var aS=function(){function t(t){this.dimensions=t.dimensions;this._dimOmitted=t.dimensionOmitted;this.source=t.source;this._fullDimCount=t.fullDimensionCount;this._updateDimOmitted(t.dimensionOmitted)}t.prototype.isDimensionOmitted=function(){return this._dimOmitted};t.prototype._updateDimOmitted=function(t){this._dimOmitted=t;if(!t){return}if(!this._dimNameMap){this._dimNameMap=sS(this.source)}};t.prototype.getSourceDimensionIndex=function(t){return it(this._dimNameMap.get(t),-1)};t.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e){return e[t]}};t.prototype.makeStoreSchema=function(){var t=this._fullDimCount;var e=ng(this.source);var r=!lS(t);var i="";var a=[];for(var n=0,o=0;n<t;n++){var s=void 0;var l=void 0;var u=void 0;var f=this.dimensions[o];if(f&&f.storeDimIndex===n){s=e?f.name:null;l=f.type;u=f.ordinalMeta;o++}else{var h=this.getSourceDimension(n);if(h){s=e?h.name:null;l=h.type}}a.push({property:s,type:l,ordinalMeta:u});if(e&&s!=null&&(!f||!f.isCalculationCoord)){i+=r?s.replace(/\`/g,"`1").replace(/\$/g,"`2"):s}i+="$";i+=iS[l]||"f";if(u){i+=u.uid}i+="$"}var v=this.source;var c=[v.seriesLayoutBy,v.startIndex,i].join("$$");return{dimensions:a,hash:c}};t.prototype.makeOutputDimensionNames=function(){var t=[];for(var e=0,r=0;e<this._fullDimCount;e++){var i=void 0;var a=this.dimensions[r];if(a&&a.storeDimIndex===e){if(!a.isCalculationCoord){i=a.name}r++}else{var n=this.getSourceDimension(e);if(n){i=n.name}}t.push(i)}return t};t.prototype.appendCalculationDimension=function(t){this.dimensions.push(t);t.isCalculationCoord=true;this._fullDimCount++;this._updateDimOmitted(true)};return t}();function nS(t){return t instanceof aS}function oS(t){var e=ct();for(var r=0;r<(t||[]).length;r++){var i=t[r];var a=j(i)?i.name:i;if(a!=null&&e.get(a)==null){e.set(a,r)}}return e}function sS(t){var e=rS(t);return e.dimNameMap||(e.dimNameMap=oS(t.dimensionsDefine))}function lS(t){return t>30}var uS=j;var fS=N;var hS=typeof Int32Array==="undefined"?Array:Int32Array;var vS="e\0\0";var cS=-1;var pS=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"];var dS=["_approximateExtent"];var gS;var yS;var mS;var xS;var _S;var bS;var wS;var SS=function(){function t(t,e){this.type="list";this._dimOmitted=false;this._nameList=[];this._idList=[];this._visual={};this._layout={};this._itemVisuals=[];this._itemLayouts=[];this._graphicEls=[];this._approximateExtent={};this._calculationInfo={};this.hasItemOption=false;this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"];this.CHANGABLE_METHODS=["filterSelf","selectRange"];this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r;var i=false;if(nS(t)){r=t.dimensions;this._dimOmitted=t.isDimensionOmitted();this._schema=t}else{i=true;r=t}r=r||["x","y"];var a={};var n=[];var o={};var s=false;var l={};for(var u=0;u<r.length;u++){var f=r[u];var h=Y(f)?new eS({name:f}):!(f instanceof eS)?new eS(f):f;var v=h.name;h.type=h.type||"float";if(!h.coordDim){h.coordDim=v;h.coordDimIndex=0}var c=h.otherDims=h.otherDims||{};n.push(v);a[v]=h;if(l[v]!=null){s=true}if(h.createInvertedIndices){o[v]=[]}if(c.itemName===0){this._nameDimIdx=u}if(c.itemId===0){this._idDimIdx=u}if("development"!=="production"){st(i||h.storeDimIndex>=0)}if(i){h.storeDimIndex=u}}this.dimensions=n;this._dimInfos=a;this._initGetDimensionInfo(s);this.hostModel=e;this._invertedIndicesMap=o;if(this._dimOmitted){var p=this._dimIdxToName=ct();R(n,function(t){p.set(a[t].storeDimIndex,t)})}}t.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(e==null){return t}e=t;if(!this._dimOmitted){return this.dimensions[e]}var r=this._dimIdxToName.get(e);if(r!=null){return r}var i=this._schema.getSourceDimension(e);if(i){return i.name}};t.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(e!=null){return e}if(t==null){return-1}var r=this._getDimInfo(t);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1};t.prototype._recognizeDimIndex=function(t){if(typeof t==="number"||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0)){return+t}};t.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);if("development"!=="production"){if(e==null){throw new Error("Unkown dimension "+t)}}return e};t.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))};t.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(t){return e.hasOwnProperty(t)?e[t]:undefined}:function(t){return e[t]}};t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()};t.prototype.mapDimension=function(t,e){var r=this._dimSummary;if(e==null){return r.encodeFirstDimNotExtra[t]}var i=r.encode[t];return i?i[e]:null};t.prototype.mapDimensionsAll=function(t){var e=this._dimSummary;var r=e.encode[t];return(r||[]).slice()};t.prototype.getStore=function(){return this._store};t.prototype.initData=function(t,e,r){var i=this;var a;if(t instanceof ny){a=t}if(!a){var n=this.dimensions;var o=Kd(t)||O(t)?new hg(t,n.length):t;a=new ny;var s=fS(n,function(t){return{type:i._dimInfos[t].type,property:t}});a.initData(o,s,r)}this._store=a;this._nameList=(e||[]).slice();this._idList=[];this._nameRepeatCount={};this._doInit(0,a.count());this._dimSummary=$w(this,this._schema);this.userOutput=this._dimSummary.userOutput};t.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])};t.prototype.appendValues=function(t,e){var r=this._store.appendValues(t,e.length),i=r.start,a=r.end;var n=this._shouldMakeIdFromName();this._updateOrdinalMeta();if(e){for(var o=i;o<a;o++){var s=o-i;this._nameList[o]=e[s];if(n){wS(this,o)}}}};t.prototype._updateOrdinalMeta=function(){var t=this._store;var e=this.dimensions;for(var r=0;r<e.length;r++){var i=this._dimInfos[e[r]];if(i.ordinalMeta){t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}}};t.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==Ap&&!t.fillStorage};t.prototype._doInit=function(t,e){if(t>=e){return}var r=this._store;var i=r.getProvider();this._updateOrdinalMeta();var a=this._nameList;var n=this._idList;var o=i.getSource().sourceFormat;var s=o===Ip;if(s&&!i.pure){var l=[];for(var u=t;u<e;u++){var f=i.getItem(u,l);if(!this.hasItemOption&&bn(f)){this.hasItemOption=true}if(f){var h=f.name;if(a[u]==null&&h!=null){a[u]=Ln(h,null)}var v=f.id;if(n[u]==null&&v!=null){n[u]=Ln(v,null)}}}}if(this._shouldMakeIdFromName()){for(var u=t;u<e;u++){wS(this,u)}}gS(this)};t.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))};t.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e);this._approximateExtent[e]=t.slice()};t.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]};t.prototype.setCalculationInfo=function(t,e){uS(t)?C(this._calculationInfo,t):this._calculationInfo[t]=e};t.prototype.getName=function(t){var e=this.getRawIndex(t);var r=this._nameList[e];if(r==null&&this._nameDimIdx!=null){r=mS(this,this._nameDimIdx,e)}if(r==null){r=""}return r};t.prototype._getCategory=function(t,e){var r=this._store.get(t,e);var i=this._store.getOrdinalMeta(t);if(i){return i.categories[r]}return r};t.prototype.getId=function(t){return yS(this,this.getRawIndex(t))};t.prototype.count=function(){return this._store.count()};t.prototype.get=function(t,e){var r=this._store;var i=this._dimInfos[t];if(i){return r.get(i.storeDimIndex,e)}};t.prototype.getByRawIndex=function(t,e){var r=this._store;var i=this._dimInfos[t];if(i){return r.getByRawIndex(i.storeDimIndex,e)}};t.prototype.getIndices=function(){return this._store.getIndices()};t.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))};t.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))};t.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))};t.prototype.getValues=function(t,e){var r=this;var i=this._store;return W(t)?i.getValues(fS(t,function(t){return r._getStoreDimIndex(t)}),e):i.getValues(t)};t.prototype.hasValue=function(t){var e=this._dimSummary.dataDimIndicesOnCoord;for(var r=0,i=e.length;r<i;r++){if(isNaN(this._store.get(e[r],t))){return false}}return true};t.prototype.indexOfName=function(t){for(var e=0,r=this._store.count();e<r;e++){if(this.getName(e)===t){return e}}return-1};t.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)};t.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)};t.prototype.rawIndexOf=function(t,e){var r=t&&this._invertedIndicesMap[t];if("development"!=="production"){if(!r){throw new Error("Do not supported yet")}}var i=r[e];if(i==null||isNaN(i)){return cS}return i};t.prototype.indicesOfNearest=function(t,e,r){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,r)};t.prototype.each=function(t,e,r){if(typeof t==="function"){r=e;e=t;t=[]}var i=r||this;var a=fS(xS(t),this._getStoreDimIndex,this);this._store.each(a,i?F(e,i):e)};t.prototype.filterSelf=function(t,e,r){if(typeof t==="function"){r=e;e=t;t=[]}var i=r||this;var a=fS(xS(t),this._getStoreDimIndex,this);this._store=this._store.filter(a,i?F(e,i):e);return this};t.prototype.selectRange=function(t){var e=this;var r={};var i=V(t);R(i,function(i){var a=e._getStoreDimIndex(i);r[a]=t[i]});this._store=this._store.selectRange(r);return this};t.prototype.mapArray=function(t,e,r){if(typeof t==="function"){r=e;e=t;t=[]}r=r||this;var i=[];this.each(t,function(){i.push(e&&e.apply(this,arguments))},r);return i};t.prototype.map=function(t,e,r,i){var a=r||i||this;var n=fS(xS(t),this._getStoreDimIndex,this);var o=bS(this);o._store=this._store.map(n,a?F(e,a):e);return o};t.prototype.modify=function(t,e,r,i){var a=this;var n=r||i||this;if("development"!=="production"){R(xS(t),function(t){var e=a.getDimensionInfo(t);if(!e.isCalculationCoord){console.error("Danger: only stack dimension can be modified")}})}var o=fS(xS(t),this._getStoreDimIndex,this);this._store.modify(o,n?F(e,n):e)};t.prototype.downSample=function(t,e,r,i){var a=bS(this);a._store=this._store.downSample(this._getStoreDimIndex(t),e,r,i);return a};t.prototype.lttbDownSample=function(t,e){var r=bS(this);r._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e);return r};t.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)};t.prototype.getItemModel=function(t){var e=this.hostModel;var r=this.getRawDataItem(t);return new Uv(r,e,e&&e.ecModel)};t.prototype.diff=function(t){var e=this;return new qw(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(e){return yS(t,e)},function(t){return yS(e,t)})};t.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]};t.prototype.setVisual=function(t,e){this._visual=this._visual||{};if(uS(t)){C(this._visual,t)}else{this._visual[t]=e}};t.prototype.getItemVisual=function(t,e){var r=this._itemVisuals[t];var i=r&&r[e];if(i==null){return this.getVisual(e)}return i};t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0};t.prototype.ensureUniqueItemVisual=function(t,e){var r=this._itemVisuals;var i=r[t];if(!i){i=r[t]={}}var a=i[e];if(a==null){a=this.getVisual(e);if(W(a)){a=a.slice()}else if(uS(a)){a=C({},a)}i[e]=a}return a};t.prototype.setItemVisual=function(t,e,r){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i;if(uS(e)){C(i,e)}else{i[e]=r}};t.prototype.clearAllVisual=function(){this._visual={};this._itemVisuals=[]};t.prototype.setLayout=function(t,e){if(uS(t)){for(var r in t){if(t.hasOwnProperty(r)){this.setLayout(r,t[r])}}return}this._layout[t]=e};t.prototype.getLayout=function(t){return this._layout[t]};t.prototype.getItemLayout=function(t){return this._itemLayouts[t]};t.prototype.setItemLayout=function(t,e,r){this._itemLayouts[t]=r?C(this._itemLayouts[t]||{},e):e};t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0};t.prototype.setItemGraphicEl=function(t,e){var r=this.hostModel&&this.hostModel.seriesIndex;Jl(r,this.dataType,t,e);this._graphicEls[t]=e};t.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]};t.prototype.eachItemGraphicEl=function(t,e){R(this._graphicEls,function(r,i){if(r){t&&t.call(e,r,i)}})};t.prototype.cloneShallow=function(e){if(!e){e=new t(this._schema?this._schema:fS(this.dimensions,this._getDimInfo,this),this.hostModel)}_S(e,this);e._store=this._store;return e};t.prototype.wrapMethod=function(t,e){var r=this[t];if(typeof r!=="function"){return}this.__wrappedMethods=this.__wrappedMethods||[];this.__wrappedMethods.push(t);this[t]=function(){var t=r.apply(this,arguments);return e.apply(this,[t].concat(nt(arguments)))}};t.internalField=function(){gS=function(t){var e=t._invertedIndicesMap;R(e,function(r,i){var a=t._dimInfos[i];var n=a.ordinalMeta;var o=t._store;if(n){r=e[i]=new hS(n.categories.length);for(var s=0;s<r.length;s++){r[s]=cS}for(var s=0;s<o.count();s++){r[o.get(a.storeDimIndex,s)]=s}}})};mS=function(t,e,r){return Ln(t._getCategory(e,r),null)};yS=function(t,e){var r=t._idList[e];if(r==null&&t._idDimIdx!=null){r=mS(t,t._idDimIdx,e)}if(r==null){r=vS+e}return r};xS=function(t){if(!W(t)){t=t!=null?[t]:[]}return t};bS=function(e){var r=new t(e._schema?e._schema:fS(e.dimensions,e._getDimInfo,e),e.hostModel);_S(r,e);return r};_S=function(t,e){R(pS.concat(e.__wrappedMethods||[]),function(r){if(e.hasOwnProperty(r)){t[r]=e[r]}});t.__wrappedMethods=e.__wrappedMethods;R(dS,function(r){t[r]=M(e[r])});t._calculationInfo=C({},e._calculationInfo)};wS=function(t,e){var r=t._nameList;var i=t._idList;var a=t._nameDimIdx;var n=t._idDimIdx;var o=r[e];var s=i[e];if(o==null&&a!=null){r[e]=o=mS(t,a,e)}if(s==null&&n!=null){i[e]=s=mS(t,n,e)}if(s==null&&o!=null){var l=t._nameRepeatCount;var u=l[o]=(l[o]||0)+1;s=o;if(u>1){s+="__ec__"+u}i[e]=s}}}();return t}();function MS(t,e){return IS(t,e).dimensions}function IS(t,e){if(!Kd(t)){t=Jd(t)}e=e||{};var r=e.coordDimensions||[];var i=e.dimensionsDefine||t.dimensionsDefine||[];var a=ct();var n=[];var o=CS(t,r,i,e.dimensionsCount);var s=e.canOmitUnusedDimensions&&lS(o);var l=i===t.dimensionsDefine;var u=l?sS(t):oS(i);var f=e.encodeDefine;if(!f&&e.encodeDefaulter){f=e.encodeDefaulter(t,o)}var h=ct(f);var v=new $g(o);for(var c=0;c<v.length;c++){v[c]=-1}function p(t){var e=v[t];if(e<0){var r=i[t];var a=j(r)?r:{name:r};var o=new eS;var s=a.name;if(s!=null&&u.get(s)!=null){o.name=o.displayName=s}a.type!=null&&(o.type=a.type);a.displayName!=null&&(o.displayName=a.displayName);var l=n.length;v[t]=l;o.storeDimIndex=t;n.push(o);return o}return n[e]}if(!s){for(var c=0;c<o;c++){p(c)}}h.each(function(t,e){var r=yn(t).slice();if(r.length===1&&!Y(r[0])&&r[0]<0){h.set(e,false);return}var i=h.set(e,[]);R(r,function(t,r){var a=Y(t)?u.get(t):t;if(a!=null&&a<o){i[r]=a;g(p(a),e,r)}})});var d=0;R(r,function(t){var e;var r;var i;var a;if(Y(t)){e=t;a={}}else{a=t;e=a.name;var n=a.ordinalMeta;a.ordinalMeta=null;a=C({},a);a.ordinalMeta=n;r=a.dimsDef;i=a.otherDims;a.name=a.coordDim=a.coordDimIndex=a.dimsDef=a.otherDims=null}var s=h.get(e);if(s===false){return}s=yn(s);if(!s.length){for(var u=0;u<(r&&r.length||1);u++){while(d<o&&p(d).coordDim!=null){d++}d<o&&s.push(d++)}}R(s,function(t,n){var o=p(t);if(l&&a.type!=null){o.type=a.type}g(D(o,a),e,n);if(o.name==null&&r){var s=r[n];!j(s)&&(s={name:s});o.name=o.displayName=s.name;o.defaultTooltip=s.defaultTooltip}i&&D(o.otherDims,i)})});function g(t,e,r){if(Mp.get(e)!=null){t.otherDims[e]=r}else{t.coordDim=e;t.coordDimIndex=r;a.set(e,true)}}var y=e.generateCoord;var m=e.generateCoordCount;var x=m!=null;m=y?m||1:0;var _=y||"value";function b(t){if(t.name==null){t.name=t.coordDim}}if(!s){for(var w=0;w<o;w++){var S=p(w);var M=S.coordDim;if(M==null){S.coordDim=DS(_,a,x);S.coordDimIndex=0;if(!y||m<=0){S.isExtraCoord=true}m--}b(S);if(S.type==null&&(Gp(t,w)===Op.Must||S.isExtraCoord&&(S.otherDims.itemName!=null||S.otherDims.seriesName!=null))){S.type="ordinal"}}}else{R(n,function(t){b(t)});n.sort(function(t,e){return t.storeDimIndex-e.storeDimIndex})}TS(n);return new aS({source:t,dimensions:n,fullDimensionCount:o,dimensionOmitted:s})}function TS(t){var e=ct();for(var r=0;r<t.length;r++){var i=t[r];var a=i.name;var n=e.get(a)||0;if(n>0){i.name=a+(n-1)}n++;e.set(a,n)}}function CS(t,e,r,i){var a=Math.max(t.dimensionsDetectedCount||1,e.length,r.length,i||0);R(e,function(t){var e;if(j(t)&&(e=t.dimsDef)){a=Math.max(a,e.length)}});return a}function DS(t,e,r){var i=e.data;if(r||i.hasOwnProperty(t)){var a=0;while(i.hasOwnProperty(t+a)){a++}t+=a}e.set(t,true);return t}var AS=function(){function t(t){this.coordSysDims=[];this.axisMap=ct();this.categoryAxisMap=ct();this.coordSysName=t}return t}();function kS(t){var e=t.get("coordinateSystem");var r=new AS(e);var i=LS[e];if(i){i(t,r,r.axisMap,r.categoryAxisMap);return r}}var LS={cartesian2d:function(t,e,r,i){var a=t.getReferringComponents("xAxis",Yn).models[0];var n=t.getReferringComponents("yAxis",Yn).models[0];if("development"!=="production"){if(!a){throw new Error('xAxis "'+rt(t.get("xAxisIndex"),t.get("xAxisId"),0)+'" not found')}if(!n){throw new Error('yAxis "'+rt(t.get("xAxisIndex"),t.get("yAxisId"),0)+'" not found')}}e.coordSysDims=["x","y"];r.set("x",a);r.set("y",n);if(PS(a)){i.set("x",a);e.firstCategoryDimIndex=0}if(PS(n)){i.set("y",n);e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1)}},singleAxis:function(t,e,r,i){var a=t.getReferringComponents("singleAxis",Yn).models[0];if("development"!=="production"){if(!a){throw new Error("singleAxis should be specified.")}}e.coordSysDims=["single"];r.set("single",a);if(PS(a)){i.set("single",a);e.firstCategoryDimIndex=0}},polar:function(t,e,r,i){var a=t.getReferringComponents("polar",Yn).models[0];var n=a.findAxisModel("radiusAxis");var o=a.findAxisModel("angleAxis");if("development"!=="production"){if(!o){throw new Error("angleAxis option not found")}if(!n){throw new Error("radiusAxis option not found")}}e.coordSysDims=["radius","angle"];r.set("radius",n);r.set("angle",o);if(PS(n)){i.set("radius",n);e.firstCategoryDimIndex=0}if(PS(o)){i.set("angle",o);e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1)}},geo:function(t,e,r,i){e.coordSysDims=["lng","lat"]},parallel:function(t,e,r,i){var a=t.ecModel;var n=a.getComponent("parallel",t.get("parallelIndex"));var o=e.coordSysDims=n.dimensions.slice();R(n.parallelAxisIndex,function(t,n){var s=a.getComponent("parallelAxis",t);var l=o[n];r.set(l,s);if(PS(s)){i.set(l,s);if(e.firstCategoryDimIndex==null){e.firstCategoryDimIndex=n}}})}};function PS(t){return t.get("type")==="category"}function OS(t,e,r){r=r||{};var i=r.byIndex;var a=r.stackedCoordDimension;var n;var o;var s;if(RS(e)){n=e}else{o=e.schema;n=o.dimensions;s=e.store}var l=!!(t&&t.get("stack"));var u;var f;var h;var v;R(n,function(t,e){if(Y(t)){n[e]=t={name:t}}if(l&&!t.isExtraCoord){if(!i&&!u&&t.ordinalMeta){u=t}if(!f&&t.type!=="ordinal"&&t.type!=="time"&&(!a||a===t.coordDim)){f=t}}});if(f&&!i&&!u){i=true}if(f){h="__\0ecstackresult_"+t.id;v="__\0ecstackedover_"+t.id;if(u){u.createInvertedIndices=true}var c=f.coordDim;var p=f.type;var d=0;R(n,function(t){if(t.coordDim===c){d++}});var g={name:h,coordDim:c,coordDimIndex:d,type:p,isExtraCoord:true,isCalculationCoord:true,storeDimIndex:n.length};var y={name:v,coordDim:v,coordDimIndex:d+1,type:p,isExtraCoord:true,isCalculationCoord:true,storeDimIndex:n.length+1};if(o){if(s){g.storeDimIndex=s.ensureCalculationDimension(v,p);y.storeDimIndex=s.ensureCalculationDimension(h,p)}o.appendCalculationDimension(g);o.appendCalculationDimension(y)}else{n.push(g);n.push(y)}}return{stackedDimension:f&&f.name,stackedByDimension:u&&u.name,isStackedByIndex:i,stackedOverDimension:v,stackResultDimension:h}}function RS(t){return!nS(t.schema)}function NS(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function ES(t,e){return NS(t,e)?t.getCalculationInfo("stackResultDimension"):e}function zS(t,e){var r=t.get("coordinateSystem");var i=gd.get(r);var a;if(e&&e.coordSysDims){a=N(e.coordSysDims,function(t){var r={name:t};var i=e.axisMap.get(t);if(i){var a=i.get("type");r.type=Qw(a)}return r})}if(!a){a=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]}return a}function BS(t,e,r){var i;var a;r&&R(t,function(t,n){var o=t.coordDim;var s=r.categoryAxisMap.get(o);if(s){if(i==null){i=n}t.ordinalMeta=s.getOrdinalMeta();if(e){t.createInvertedIndices=true}}if(t.otherDims.itemName!=null){a=true}});if(!a&&i!=null){t[i].otherDims.itemName=0}return i}function VS(t,e,r){r=r||{};var i=e.getSourceManager();var a;var n=false;if(t){n=true;a=Jd(t)}else{a=i.getSource();n=a.sourceFormat===Ip}var o=kS(e);var s=zS(e,o);var l=r.useEncodeDefaulter;var u=U(l)?l:l?H(Ep,s,e):null;var f={coordDimensions:s,generateCoord:r.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!n};var h=IS(a,f);var v=BS(h.dimensions,r.createInvertedIndices,o);var c=!n?i.getSharedDataStore(h):null;var p=OS(e,{schema:h,store:c});var d=new SS(h,e);d.setCalculationInfo(p);var g=v!=null&&GS(a)?function(t,e,r,i){return i===v?r:this.defaultDimValueGetter(t,e,r,i)}:null;d.hasItemOption=false;d.initData(n?a:c,null,g);return d}function GS(t){if(t.sourceFormat===Ip){var e=FS(t.data||[]);return e!=null&&!W(_n(e))}}function FS(t){var e=0;while(e<t.length&&t[e]==null){e++}return t[e]}var HS=function(){function t(t){this._setting=t||{};this._extent=[Infinity,-Infinity]}t.prototype.getSetting=function(t){return this._setting[t]};t.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]);t[1]>e[1]&&(e[1]=t[1])};t.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))};t.prototype.getExtent=function(){return this._extent.slice()};t.prototype.setExtent=function(t,e){var r=this._extent;if(!isNaN(t)){r[0]=t}if(!isNaN(e)){r[1]=e}};t.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t};t.prototype.isBlank=function(){return this._isBlank};t.prototype.setBlank=function(t){this._isBlank=t};return t}();vo(HS);var WS=0;var US=function(){function t(t){this.categories=t.categories||[];this._needCollect=t.needCollect;this._deduplication=t.deduplication;this.uid=++WS}t.createByAxisModel=function(e){var r=e.option;var i=r.data;var a=i&&N(i,YS);return new t({categories:a,needCollect:!a,deduplication:r.dedplication!==false})};t.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)};t.prototype.parseAndCollect=function(t){var e;var r=this._needCollect;if(typeof t!=="string"&&!r){return t}if(r&&!this._deduplication){e=this.categories.length;this.categories[e]=t;return e}var i=this._getOrCreateMap();e=i.get(t);if(e==null){if(r){e=this.categories.length;this.categories[e]=t;i.set(t,e)}else{e=NaN}}return e};t.prototype._getOrCreateMap=function(){return this._map||(this._map=ct(this.categories))};return t}();function YS(t){if(j(t)&&t.value!=null){return t.value}else{return t+""}}var XS=Ea;function ZS(t,e,r,i){var a={};var n=t[1]-t[0];var o=a.interval=Ka(n/e,true);if(r!=null&&o<r){o=a.interval=r}if(i!=null&&o>i){o=a.interval=i}var s=a.intervalPrecision=jS(o);var l=a.niceTickExtent=[XS(Math.ceil(t[0]/o)*o,s),XS(Math.floor(t[1]/o)*o,s)];KS(l,t);return a}function jS(t){return Ba(t)+2}function qS(t,e,r){t[e]=Math.max(Math.min(t[e],r[1]),r[0])}function KS(t,e){!isFinite(t[0])&&(t[0]=e[0]);!isFinite(t[1])&&(t[1]=e[1]);qS(t,0,e);qS(t,1,e);if(t[0]>t[1]){t[0]=t[1]}}function $S(t,e){return t>=e[0]&&t<=e[1]}function JS(t,e){if(e[1]===e[0]){return.5}return(t-e[0])/(e[1]-e[0])}function QS(t,e){return t*(e[1]-e[0])+e[0]}var tM=function(t){r(e,t);function e(e){var r=t.call(this,e)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");if(!i){i=new US({})}if(W(i)){i=new US({categories:N(i,function(t){return j(t)?t.value:t})})}r._ordinalMeta=i;r._extent=r.getSetting("extent")||[0,i.categories.length-1];return r}e.prototype.parse=function(t){return typeof t==="string"?this._ordinalMeta.getOrdinal(t):Math.round(t)};e.prototype.contain=function(t){t=this.parse(t);return $S(t,this._extent)&&this._ordinalMeta.categories[t]!=null};e.prototype.normalize=function(t){t=this._getTickNumber(this.parse(t));return JS(t,this._extent)};e.prototype.scale=function(t){t=Math.round(QS(t,this._extent));return this.getRawOrdinalNumber(t)};e.prototype.getTicks=function(){var t=[];var e=this._extent;var r=e[0];while(r<=e[1]){t.push({value:r});r++}return t};e.prototype.getMinorTicks=function(t){return};e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}var e=t.ordinalNumbers;var r=this._ordinalNumbersByTick=[];var i=this._ticksByOrdinalNumber=[];var a=0;var n=this._ordinalMeta.categories.length;for(var o=Math.min(n,e.length);a<o;++a){var s=e[a];r[a]=s;i[s]=a}var l=0;for(;a<n;++a){while(i[l]!=null){l++}r.push(l);i[l]=a}};e.prototype._getTickNumber=function(t){var e=this._ticksByOrdinalNumber;return e&&t>=0&&t<e.length?e[t]:t};e.prototype.getRawOrdinalNumber=function(t){var e=this._ordinalNumbersByTick;return e&&t>=0&&t<e.length?e[t]:t};e.prototype.getLabel=function(t){if(!this.isBlank()){var e=this.getRawOrdinalNumber(t.value);var r=this._ordinalMeta.categories[e];return r==null?"":r+""}};e.prototype.count=function(){return this._extent[1]-this._extent[0]+1};e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))};e.prototype.isInExtentRange=function(t){t=this._getTickNumber(t);return this._extent[0]<=t&&this._extent[1]>=t};e.prototype.getOrdinalMeta=function(){return this._ordinalMeta};e.prototype.niceTicks=function(){};e.prototype.niceExtent=function(){};e.type="ordinal";return e}(HS);HS.registerClass(tM);var eM=Ea;var rM=function(t){r(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="interval";e._interval=0;e._intervalPrecision=2;return e}e.prototype.parse=function(t){return t};e.prototype.contain=function(t){return $S(t,this._extent)};e.prototype.normalize=function(t){return JS(t,this._extent)};e.prototype.scale=function(t){return QS(t,this._extent)};e.prototype.setExtent=function(t,e){var r=this._extent;if(!isNaN(t)){r[0]=parseFloat(t)}if(!isNaN(e)){r[1]=parseFloat(e)}};e.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]);t[1]>e[1]&&(e[1]=t[1]);this.setExtent(e[0],e[1])};e.prototype.getInterval=function(){return this._interval};e.prototype.setInterval=function(t){this._interval=t;this._niceExtent=this._extent.slice();this._intervalPrecision=jS(t)};e.prototype.getTicks=function(t){var e=this._interval;var r=this._extent;var i=this._niceExtent;var a=this._intervalPrecision;var n=[];if(!e){return n}var o=1e4;if(r[0]<i[0]){if(t){n.push({value:eM(i[0]-e,a)})}else{n.push({value:r[0]})}}var s=i[0];while(s<=i[1]){n.push({value:s});s=eM(s+e,a);if(s===n[n.length-1].value){break}if(n.length>o){return[]}}var l=n.length?n[n.length-1].value:i[1];if(r[1]>l){if(t){n.push({value:eM(l+e,a)})}else{n.push({value:r[1]})}}return n};e.prototype.getMinorTicks=function(t){var e=this.getTicks(true);var r=[];var i=this.getExtent();for(var a=1;a<e.length;a++){var n=e[a];var o=e[a-1];var s=0;var l=[];var u=n.value-o.value;var f=u/t;while(s<t-1){var h=eM(o.value+(s+1)*f);if(h>i[0]&&h<i[1]){l.push(h)}s++}r.push(l)}return r};e.prototype.getLabel=function(t,e){if(t==null){return""}var r=e&&e.precision;if(r==null){r=Ba(t.value)||0}else if(r==="auto"){r=this._intervalPrecision}var i=eM(t.value,r,true);return Fc(i)};e.prototype.niceTicks=function(t,e,r){t=t||5;var i=this._extent;var a=i[1]-i[0];if(!isFinite(a)){return}if(a<0){a=-a;i.reverse()}var n=ZS(i,t,e,r);this._intervalPrecision=n.intervalPrecision;this._interval=n.interval;this._niceExtent=n.niceTickExtent};e.prototype.niceExtent=function(t){var e=this._extent;if(e[0]===e[1]){if(e[0]!==0){var r=e[0];if(!t.fixMax){e[1]+=r/2;e[0]-=r/2}else{e[0]-=r/2}}else{e[1]=1}}var i=e[1]-e[0];if(!isFinite(i)){e[0]=0;e[1]=1}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var a=this._interval;if(!t.fixMin){e[0]=eM(Math.floor(e[0]/a)*a)}if(!t.fixMax){e[1]=eM(Math.ceil(e[1]/a)*a)}};e.type="interval";return e}(HS);HS.registerClass(rM);var iM="__ec_stack_";var aM=.5;var nM=typeof Float32Array!=="undefined"?Float32Array:Array;function oM(t){return t.get("stack")||iM+t.seriesIndex}function sM(t){return t.dim+t.index}function lM(t){var e=[];var r=t.axis;var i="axis0";if(r.type!=="category"){return}var a=r.getBandWidth();for(var n=0;n<t.count||0;n++){e.push(D({bandWidth:a,axisKey:i,stackId:iM+n},t))}var o=vM(e);var s=[];for(var n=0;n<t.count;n++){var l=o[i][iM+n];l.offsetCenter=l.offset+l.width/2;s.push(l)}return s}function uM(t,e){var r=[];e.eachSeriesByType(t,function(t){if(gM(t)&&!yM(t)){r.push(t)}});return r}function fM(t){var e={};R(t,function(t){var r=t.coordinateSystem;var i=r.getBaseAxis();if(i.type!=="time"&&i.type!=="value"){return}var a=t.getData();var n=i.dim+"_"+i.index;var o=a.getDimensionIndex(a.mapDimension(i.dim));var s=a.getStore();for(var l=0,u=s.count();l<u;++l){var f=s.get(o,l);if(!e[n]){e[n]=[f]}else{e[n].push(f)}}});var r={};for(var i in e){if(e.hasOwnProperty(i)){var a=e[i];if(a){a.sort(function(t,e){return t-e});var n=null;for(var o=1;o<a.length;++o){var s=a[o]-a[o-1];if(s>0){n=n===null?s:Math.min(n,s)}}r[i]=n}}}return r}function hM(t){var e=fM(t);var r=[];R(t,function(t){var i=t.coordinateSystem;var a=i.getBaseAxis();var n=a.getExtent();var o;if(a.type==="category"){o=a.getBandWidth()}else if(a.type==="value"||a.type==="time"){var s=a.dim+"_"+a.index;var l=e[s];var u=Math.abs(n[1]-n[0]);var f=a.scale.getExtent();var h=Math.abs(f[1]-f[0]);o=l?u/h*l:u}else{var v=t.getData();o=Math.abs(n[1]-n[0])/v.count()}var c=Na(t.get("barWidth"),o);var p=Na(t.get("barMaxWidth"),o);var d=Na(t.get("barMinWidth")||1,o);var g=t.get("barGap");var y=t.get("barCategoryGap");r.push({bandWidth:o,barWidth:c,barMaxWidth:p,barMinWidth:d,barGap:g,barCategoryGap:y,axisKey:sM(a),stackId:oM(t)})});return vM(r)}function vM(t){var e={};R(t,function(t,r){var i=t.axisKey;var a=t.bandWidth;var n=e[i]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}};var o=n.stacks;e[i]=n;var s=t.stackId;if(!o[s]){n.autoWidthCount++}o[s]=o[s]||{width:0,maxWidth:0};var l=t.barWidth;if(l&&!o[s].width){o[s].width=l;l=Math.min(n.remainedWidth,l);n.remainedWidth-=l}var u=t.barMaxWidth;u&&(o[s].maxWidth=u);var f=t.barMinWidth;f&&(o[s].minWidth=f);var h=t.barGap;h!=null&&(n.gap=h);var v=t.barCategoryGap;v!=null&&(n.categoryGap=v)});var r={};R(e,function(t,e){r[e]={};var i=t.stacks;var a=t.bandWidth;var n=t.categoryGap;if(n==null){var o=V(i).length;n=Math.max(35-o*4,15)+"%"}var s=Na(n,a);var l=Na(t.gap,1);var u=t.remainedWidth;var f=t.autoWidthCount;var h=(u-s)/(f+(f-1)*l);h=Math.max(h,0);R(i,function(t){var e=t.maxWidth;var r=t.minWidth;if(!t.width){var i=h;if(e&&e<i){i=Math.min(e,u)}if(r&&r>i){i=r}if(i!==h){t.width=i;u-=i+l*i;f--}}else{var i=t.width;if(e){i=Math.min(i,e)}if(r){i=Math.max(i,r)}t.width=i;u-=i+l*i;f--}});h=(u-s)/(f+(f-1)*l);h=Math.max(h,0);var v=0;var c;R(i,function(t,e){if(!t.width){t.width=h}c=t;v+=t.width*(1+l)});if(c){v-=c.width*l}var p=-v/2;R(i,function(t,i){r[e][i]=r[e][i]||{bandWidth:a,offset:p,width:t.width};p+=t.width*(1+l)})});return r}function cM(t,e,r){if(t&&e){var i=t[sM(e)];if(i!=null&&r!=null){return i[oM(r)]}return i}}function pM(t,e){var r=uM(t,e);var i=hM(r);var a={};R(r,function(t){var e=t.getData();var r=t.coordinateSystem;var n=r.getBaseAxis();var o=oM(t);var s=i[sM(n)][o];var l=s.offset;var u=s.width;var f=r.getOtherAxis(n);var h=t.get("barMinHeight")||0;a[o]=a[o]||[];e.setLayout({bandWidth:s.bandWidth,offset:l,size:u});var v=e.mapDimension(f.dim);var c=e.mapDimension(n.dim);var p=NS(e,v);var d=f.isHorizontal();var g=mM(n,f);var y=e.getStore();var m=e.getDimensionIndex(v);var x=e.getDimensionIndex(c);for(var _=0,b=y.count();_<b;_++){var w=y.get(m,_);var S=y.get(x,_);var M=w>=0?"p":"n";var I=g;if(p){if(!a[o][S]){a[o][S]={p:g,n:g}}I=a[o][S][M]}var T=void 0;var C=void 0;var D=void 0;var A=void 0;if(d){var k=r.dataToPoint([w,S]);T=I;C=k[1]+l;D=k[0]-g;A=u;if(Math.abs(D)<h){D=(D<0?-1:1)*h}if(!isNaN(D)){p&&(a[o][S][M]+=D)}}else{var k=r.dataToPoint([S,w]);T=k[0]+l;C=I;D=u;A=k[1]-g;if(Math.abs(A)<h){A=(A<=0?-1:1)*h}if(!isNaN(A)){p&&(a[o][S][M]+=A)}}e.setItemLayout(_,{x:T,y:C,width:D,height:A})}})}var dM={seriesType:"bar",plan:Wy(),reset:function(t){if(!gM(t)||!yM(t)){return}var e=t.getData();var r=t.coordinateSystem;var i=r.master.getRect();var a=r.getBaseAxis();var n=r.getOtherAxis(a);var o=e.getDimensionIndex(e.mapDimension(n.dim));var s=e.getDimensionIndex(e.mapDimension(a.dim));var l=n.isHorizontal();var u=l?0:1;var f=cM(hM([t]),a,t).width;if(!(f>aM)){f=aM}return{progress:function(t,e){var h=t.count;var v=new nM(h*2);var c=new nM(h*2);var p=new nM(h);var d;var g=[];var y=[];var m=0;var x=0;var _=e.getStore();while((d=t.next())!=null){y[u]=_.get(o,d);y[1-u]=_.get(s,d);g=r.dataToPoint(y,null);c[m]=l?i.x+i.width:g[0];v[m++]=g[0];c[m]=l?g[1]:i.y+i.height;v[m++]=g[1];p[x++]=d}e.setLayout({largePoints:v,largeDataIndices:p,largeBackgroundPoints:c,barWidth:f,valueAxisStart:mM(a,n),backgroundStart:l?i.x:i.y,valueAxisHorizontal:l})}}}};function gM(t){return t.coordinateSystem&&t.coordinateSystem.type==="cartesian2d"}function yM(t){return t.pipelineContext&&t.pipelineContext.large}function mM(t,e,r){return e.toGlobalCoord(e.dataToCoord(e.type==="log"?1:0))}var xM=function(t,e,r,i){while(r<i){var a=r+i>>>1;if(t[a][1]<e){r=a+1}else{i=a}}return r};var _M=function(t){r(e,t);function e(e){var r=t.call(this,e)||this;r.type="time";return r}e.prototype.getLabel=function(t){var e=this.getSetting("useUTC");return wc(t.value,dc[bc(xc(this._minLevelUnit))]||dc.second,e,this.getSetting("locale"))};e.prototype.getFormattedLabel=function(t,e,r){var i=this.getSetting("useUTC");var a=this.getSetting("locale");return Sc(t,e,r,a,i)};e.prototype.getTicks=function(t){var e=this._interval;var r=this._extent;var i=[];if(!e){return i}i.push({value:r[0],level:0});var a=this.getSetting("useUTC");var n=AM(this._minLevelUnit,this._approxInterval,a,r);i=i.concat(n);i.push({value:r[1],level:0});return i};e.prototype.niceExtent=function(t){var e=this._extent;if(e[0]===e[1]){e[0]-=hc;e[1]+=hc}if(e[1]===-Infinity&&e[0]===Infinity){var r=new Date;e[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate());e[0]=e[1]-hc}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval)};e.prototype.niceTicks=function(t,e,r){t=t||10;var i=this._extent;var a=i[1]-i[0];this._approxInterval=a/t;if(e!=null&&this._approxInterval<e){this._approxInterval=e}if(r!=null&&this._approxInterval>r){this._approxInterval=r}var n=bM.length;var o=Math.min(xM(bM,this._approxInterval,0,n),n-1);this._interval=bM[o][1];this._minLevelUnit=bM[Math.max(o-1,0)][0]};e.prototype.parse=function(t){return typeof t==="number"?t:+Za(t)};e.prototype.contain=function(t){return $S(this.parse(t),this._extent)};e.prototype.normalize=function(t){return JS(this.parse(t),this._extent)};e.prototype.scale=function(t){return QS(t,this._extent)};e.type="time";return e}(rM);var bM=[["second",lc],["minute",uc],["hour",fc],["quarter-day",fc*6],["half-day",fc*12],["day",hc*1.2],["half-week",hc*3.5],["week",hc*7],["month",hc*31],["quarter",hc*95],["half-year",vc/2],["year",vc]];function wM(t,e,r,i){var a=Za(e);var n=Za(r);var o=function(t){return Ic(a,t,i)===Ic(n,t,i)};var s=function(){return o("year")};var l=function(){return s()&&o("month")};var u=function(){return l()&&o("day")};var f=function(){return u()&&o("hour")};var h=function(){return f()&&o("minute")};var v=function(){return h()&&o("second")};var c=function(){return v()&&o("millisecond")};switch(t){case"year":return s();case"month":return l();case"day":return u();case"hour":return f();case"minute":return h();case"second":return v();case"millisecond":return c()}}function SM(t,e){t/=hc;return t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function MM(t){var e=30*hc;t/=e;return t>6?6:t>3?3:t>2?2:1}function IM(t){t/=fc;return t>12?12:t>6?6:t>3.5?4:t>2?2:1}function TM(t,e){t/=e?uc:lc;return t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function CM(t){return Ka(t,true)}function DM(t,e,r){var i=new Date(t);switch(xc(e)){case"year":case"month":i[Rc(r)](0);case"day":i[Nc(r)](1);case"hour":i[Ec(r)](0);case"minute":i[zc(r)](0);case"second":i[Bc(r)](0);i[Vc(r)](0)}return i.getTime()}function AM(t,e,r,i){var a=1e4;var n=yc;var o=0;function s(t,e,r,a,n,o,s){var l=new Date(e);var u=e;var f=l[a]();while(u<r&&u<=i[1]){s.push({value:u});f+=t;l[n](f);u=l.getTime()}s.push({value:u,notAdd:true})}function l(t,a,n){var o=[];var l=!a.length;if(wM(xc(t),i[0],i[1],r)){return}if(l){a=[{value:DM(new Date(i[0]),t,r)},{value:i[1]}]}for(var u=0;u<a.length-1;u++){var f=a[u].value;var h=a[u+1].value;if(f===h){continue}var v=void 0;var c=void 0;var p=void 0;var d=false;switch(t){case"year":v=Math.max(1,Math.round(e/hc/365));c=Tc(r);p=Oc(r);break;case"half-year":case"quarter":case"month":v=MM(e);c=Cc(r);p=Rc(r);break;case"week":case"half-week":case"day":v=SM(e);c=Dc(r);p=Nc(r);d=true;break;case"half-day":case"quarter-day":case"hour":v=IM(e);c=Ac(r);p=Ec(r);break;case"minute":v=TM(e,true);c=kc(r);p=zc(r);break;case"second":v=TM(e,false);c=Lc(r);p=Bc(r);break;case"millisecond":v=CM(e);c=Pc(r);p=Vc(r);break}s(v,f,h,c,p,d,o);if(t==="year"&&n.length>1&&u===0){n.unshift({value:n[0].value-v})}}for(var u=0;u<o.length;u++){n.push(o[u])}return o}var u=[];var f=[];var h=0;var v=0;for(var c=0;c<n.length&&o++<a;++c){var p=xc(n[c]);if(!_c(n[c])){continue}l(n[c],u[u.length-1]||[],f);var d=n[c+1]?xc(n[c+1]):null;if(p!==d){if(f.length){v=h;f.sort(function(t,e){return t.value-e.value});var g=[];for(var y=0;y<f.length;++y){var m=f[y].value;if(y===0||f[y-1].value!==m){g.push(f[y]);if(m>=i[0]&&m<=i[1]){h++}}}var x=(i[1]-i[0])/e;if(h>x*1.5&&v>x/1.5){break}u.push(g);if(h>x||t===n[c]){break}}f=[]}}if("development"!=="production"){if(o>=a){ln("Exceed safe limit.")}}var _=z(N(u,function(t){return z(t,function(t){return t.value>=i[0]&&t.value<=i[1]&&!t.notAdd})}),function(t){return t.length>0});var b=[];var w=_.length-1;for(var c=0;c<_.length;++c){var S=_[c];for(var M=0;M<S.length;++M){b.push({value:S[M].value,level:w-c})}}b.sort(function(t,e){return t.value-e.value});var I=[];for(var c=0;c<b.length;++c){if(c===0||b[c].value!==b[c-1].value){I.push(b[c])}}return I}HS.registerClass(_M);var kM=HS.prototype;var LM=rM.prototype;var PM=Ea;var OM=Math.floor;var RM=Math.ceil;var NM=Math.pow;var EM=Math.log;var zM=function(t){r(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="log";e.base=10;e._originalScale=new rM;e._interval=0;return e}e.prototype.getTicks=function(t){var e=this._originalScale;var r=this._extent;var i=e.getExtent();var a=LM.getTicks.call(this,t);return N(a,function(t){var e=t.value;var a=Ea(NM(this.base,e));a=e===r[0]&&this._fixMin?VM(a,i[0]):a;a=e===r[1]&&this._fixMax?VM(a,i[1]):a;return{value:a}},this)};e.prototype.setExtent=function(t,e){var r=this.base;t=EM(t)/EM(r);e=EM(e)/EM(r);LM.setExtent.call(this,t,e)};e.prototype.getExtent=function(){var t=this.base;var e=kM.getExtent.call(this);e[0]=NM(t,e[0]);e[1]=NM(t,e[1]);var r=this._originalScale;var i=r.getExtent();this._fixMin&&(e[0]=VM(e[0],i[0]));this._fixMax&&(e[1]=VM(e[1],i[1]));return e};e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=EM(t[0])/EM(e);t[1]=EM(t[1])/EM(e);kM.unionExtent.call(this,t)};e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))};e.prototype.niceTicks=function(t){t=t||10;var e=this._extent;var r=e[1]-e[0];if(r===Infinity||r<=0){return}var i=ja(r);var a=t/r*i;if(a<=.5){i*=10}while(!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0){i*=10}var n=[Ea(RM(e[0]/i)*i),Ea(OM(e[1]/i)*i)];this._interval=i;this._niceExtent=n};e.prototype.niceExtent=function(t){LM.niceExtent.call(this,t);this._fixMin=t.fixMin;this._fixMax=t.fixMax};e.prototype.parse=function(t){return t};e.prototype.contain=function(t){t=EM(t)/EM(this.base);return $S(t,this._extent)};e.prototype.normalize=function(t){t=EM(t)/EM(this.base);return JS(t,this._extent)};e.prototype.scale=function(t){t=QS(t,this._extent);return NM(this.base,t)};e.type="log";return e}(HS);var BM=zM.prototype;BM.getMinorTicks=LM.getMinorTicks;BM.getLabel=LM.getLabel;function VM(t,e){return PM(t,Ba(e))}HS.registerClass(zM);var GM=function(){function t(t,e,r){this._prepareParams(t,e,r)}t.prototype._prepareParams=function(t,e,r){if(r[1]<r[0]){r=[NaN,NaN]}this._dataMin=r[0];this._dataMax=r[1];var i=this._isOrdinal=t.type==="ordinal";this._needCrossZero=e.getNeedCrossZero&&e.getNeedCrossZero();var a=this._modelMinRaw=e.get("min",true);if(U(a)){this._modelMinNum=UM(t,a({min:r[0],max:r[1]}))}else if(a!=="dataMin"){this._modelMinNum=UM(t,a)}var n=this._modelMaxRaw=e.get("max",true);if(U(n)){this._modelMaxNum=UM(t,n({min:r[0],max:r[1]}))}else if(n!=="dataMax"){this._modelMaxNum=UM(t,n)}if(i){this._axisDataLen=e.getCategories().length}else{var o=e.get("boundaryGap");var s=W(o)?o:[o||0,o||0];if(typeof s[0]==="boolean"||typeof s[1]==="boolean"){if("development"!=="production"){console.warn("Boolean type for boundaryGap is only "+"allowed for ordinal axis. Please use string in "+'percentage instead, e.g., "20%". Currently, '+"boundaryGap is set to be 0.")}this._boundaryGapInner=[0,0]}else{this._boundaryGapInner=[aa(s[0],1),aa(s[1],1)]}}};t.prototype.calculate=function(){var t=this._isOrdinal;var e=this._dataMin;var r=this._dataMax;var i=this._axisDataLen;var a=this._boundaryGapInner;var n=!t?r-e||Math.abs(e):null;var o=this._modelMinRaw==="dataMin"?e:this._modelMinNum;var s=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum;var l=o!=null;var u=s!=null;if(o==null){o=t?i?0:NaN:e-a[0]*n}if(s==null){s=t?i?i-1:NaN:r+a[1]*n}(o==null||!isFinite(o))&&(o=NaN);(s==null||!isFinite(s))&&(s=NaN);if(o>s){o=NaN;s=NaN}var f=et(o)||et(s)||t&&!i;if(this._needCrossZero){if(o>0&&s>0&&!l){o=0}if(o<0&&s<0&&!u){s=0}}var h=this._determinedMin;var v=this._determinedMax;if(h!=null){o=h;l=true}if(v!=null){s=v;u=true}return{min:o,max:s,minFixed:l,maxFixed:u,isBlank:f}};t.prototype.modifyDataMinMax=function(t,e){if("development"!=="production"){st(!this.frozen)}this[HM[t]]=e};t.prototype.setDeterminedMinMax=function(t,e){var r=FM[t];if("development"!=="production"){st(!this.frozen&&this[r]==null)}this[r]=e};t.prototype.freeze=function(){this.frozen=true};return t}();var FM={min:"_determinedMin",max:"_determinedMax"};var HM={min:"_dataMin",max:"_dataMax"};function WM(t,e,r){var i=t.rawExtentInfo;if(i){return i}i=new GM(t,e,r);t.rawExtentInfo=i;return i}function UM(t,e){return e==null?null:et(e)?NaN:t.parse(e)}function YM(t,e){var r=t.type;var i=WM(t,e,t.getExtent()).calculate();t.setBlank(i.isBlank);var a=i.min;var n=i.max;var o=e.ecModel;if(o&&r==="time"){var s=uM("bar",o);var l=false;R(s,function(t){l=l||t.getBaseAxis()===e.axis});if(l){var u=hM(s);var f=XM(a,n,e,u);a=f.min;n=f.max}}return{extent:[a,n],fixMin:i.minFixed,fixMax:i.maxFixed}}function XM(t,e,r,i){var a=r.axis.getExtent();var n=a[1]-a[0];var o=cM(i,r.axis);if(o===undefined){return{min:t,max:e}}var s=Infinity;R(o,function(t){s=Math.min(t.offset,s)});var l=-Infinity;R(o,function(t){l=Math.max(t.offset+t.width,l)});s=Math.abs(s);l=Math.abs(l);var u=s+l;var f=e-t;var h=1-(s+l)/n;var v=f/h-f;e+=v*(l/u);t-=v*(s/u);return{min:t,max:e}}function ZM(t,e){var r=YM(t,e);var i=r.extent;var a=e.get("splitNumber");if(t instanceof zM){t.base=e.get("logBase")}var n=t.type;t.setExtent(i[0],i[1]);t.niceExtent({splitNumber:a,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:n==="interval"||n==="time"?e.get("minInterval"):null,maxInterval:n==="interval"||n==="time"?e.get("maxInterval"):null});var o=e.get("interval");if(o!=null){t.setInterval&&t.setInterval(o)}}function jM(t,e){e=e||t.get("type");if(e){switch(e){case"category":return new tM({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[Infinity,-Infinity]});case"time":return new _M({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(HS.getClass(e)||rM)}}}function qM(t){var e=t.scale.getExtent();var r=e[0];var i=e[1];return!(r>0&&i>0||r<0&&i<0)}function KM(t){var e=t.getLabelModel().get("formatter");var r=t.type==="category"?t.scale.getExtent()[0]:null;if(t.scale.type==="time"){return function(e){return function(r,i){return t.scale.getFormattedLabel(r,i,e)}}(e)}else if(typeof e==="string"){return function(e){return function(r){var i=t.scale.getLabel(r);var a=e.replace("{value}",i!=null?i:"");return a}}(e)}else if(typeof e==="function"){return function(e){return function(i,a){if(r!=null){a=i.value-r}return e($M(t,i),a,i.level!=null?{level:i.level}:null)}}(e)}else{return function(e){return t.scale.getLabel(e)}}}function $M(t,e){return t.type==="category"?t.scale.getLabel(e):e.value}function JM(t){var e=t.model;var r=t.scale;if(!e.get(["axisLabel","show"])||r.isBlank()){return}var i;var a;var n=r.getExtent();if(r instanceof tM){a=r.count()}else{i=r.getTicks();a=i.length}var o=t.getLabelModel();var s=KM(t);var l;var u=1;if(a>40){u=Math.ceil(a/40)}for(var f=0;f<a;f+=u){var h=i?i[f]:{value:n[0]+f};var v=s(h,f);var c=o.getTextRect(v);var p=QM(c,o.get("rotate")||0);l?l.union(p):l=p}return l}function QM(t,e){var r=e*Math.PI/180;var i=t.width;var a=t.height;var n=i*Math.abs(Math.cos(r))+Math.abs(a*Math.sin(r));var o=i*Math.abs(Math.sin(r))+Math.abs(a*Math.cos(r));var s=new Yi(t.x,t.y,n,o);return s}function tI(t){var e=t.get("interval");return e==null?"auto":e}function eI(t){return t.type==="category"&&tI(t.getLabelModel())===0}function rI(t,e){var r={};R(t.mapDimensionsAll(e),function(e){r[ES(t,e)]=true});return V(r)}function iI(t,e,r){if(e){R(rI(e,r),function(r){var i=e.getApproximateExtent(r);i[0]<t[0]&&(t[0]=i[0]);i[1]>t[1]&&(t[1]=i[1])})}}var aI=function(){function t(){}t.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale};t.prototype.getCoordSysModel=function(){return};return t}();function nI(t){return VS(null,t)}var oI={isDimensionStacked:NS,enableDataStack:OS,getStackedDimension:ES};function sI(t,e){var r=e;if(!(e instanceof Uv)){r=new Uv(e)}var i=jM(r);i.setExtent(t[0],t[1]);ZM(i,r);return i}function lI(t){P(t,aI)}function uI(t,e){e=e||{};return Sv(t,null,null,e.state!=="normal")}var fI=Object.freeze({__proto__:null,createList:nI,getLayoutRect:hp,dataStack:oI,createScale:sI,mixinAxisModelCommonMethods:lI,getECData:$l,createTextStyle:uI,createDimensions:MS,createSymbol:nx,enableHoverEmphasis:Ju});var hI=Object.freeze({__proto__:null,linearMap:Ra,round:Ea,asc:za,getPrecision:Ba,getPrecisionSafe:Va,getPixelPrecision:Ga,getPercentWithPrecision:Fa,MAX_SAFE_INTEGER:Wa,remRadian:Ua,isRadianAroundZero:Ya,parseDate:Za,quantity:ja,quantityExponent:qa,nice:Ka,quantile:$a,reformIntervals:Ja,isNumeric:tn,numericToNumber:Qa});var vI=Object.freeze({__proto__:null,parse:Za,format:wc});var cI=Object.freeze({__proto__:null,extendShape:Uh,extendPath:Xh,makePath:qh,makeImage:Kh,mergePath:Jh,resizePath:Qh,createIcon:hv,updateProps:Oh,initProps:Rh,getTransform:iv,clipPointsByRect:uv,clipRectByRect:fv,registerShape:Zh,getShapeClass:jh,Group:ya,Image:Al,Text:Fl,Circle:Nf,Ellipse:zf,Sector:Qf,Ring:eh,Polygon:sh,Polyline:uh,Rect:zl,Line:vh,BezierCurve:gh,Arc:mh,IncrementalDisplayable:Ah,CompoundPath:xh,LinearGradient:bh,RadialGradient:wh,BoundingRect:Yi});var pI=Object.freeze({__proto__:null,addCommas:Fc,toCamelCase:Hc,normalizeCssArray:Wc,encodeHTML:Xc,formatTpl:Kc,getTooltipMarker:Jc,formatTime:Qc,capitalFirst:tp,truncateText:Mo,getTextRect:Gc});var dI=Object.freeze({__proto__:null,map:N,each:R,indexOf:k,inherits:L,reduce:E,filter:z,bind:F,curry:H,isArray:W,isString:Y,isObject:j,isFunction:U,extend:C,defaults:D,clone:M,merge:I});var gI=Fn();function yI(t){return t.type==="category"?xI(t):wI(t)}function mI(t,e){return t.type==="category"?bI(t,e):{ticks:N(t.scale.getTicks(),function(t){return t.value})}}function xI(t){var e=t.getLabelModel();var r=_I(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function _I(t,e){var r=SI(t,"labels");var i=tI(e);var a=MI(r,i);if(a){return a}var n;var o;if(U(i)){n=kI(t,i)}else{o=i==="auto"?TI(t):i;n=AI(t,o)}return II(r,i,{labels:n,labelCategoryInterval:o})}function bI(t,e){var r=SI(t,"ticks");var i=tI(e);var a=MI(r,i);if(a){return a}var n;var o;if(!e.get("show")||t.scale.isBlank()){n=[]}if(U(i)){n=kI(t,i,true)}else if(i==="auto"){var s=_I(t,t.getLabelModel());o=s.labelCategoryInterval;n=N(s.labels,function(t){return t.tickValue})}else{o=i;n=AI(t,o,true)}return II(r,i,{ticks:n,tickCategoryInterval:o})}function wI(t){var e=t.scale.getTicks();var r=KM(t);return{labels:N(e,function(e,i){return{formattedLabel:r(e,i),rawLabel:t.scale.getLabel(e),tickValue:e.value}})}}function SI(t,e){return gI(t)[e]||(gI(t)[e]=[])}function MI(t,e){for(var r=0;r<t.length;r++){if(t[r].key===e){return t[r].value}}}function II(t,e,r){t.push({key:e,value:r});return r}function TI(t){var e=gI(t).autoInterval;return e!=null?e:gI(t).autoInterval=t.calculateCategoryInterval()}function CI(t){var e=DI(t);var r=KM(t);var i=(e.axisRotate-e.labelRotate)/180*Math.PI;var a=t.scale;var n=a.getExtent();var o=a.count();if(n[1]-n[0]<1){return 0}var s=1;if(o>40){s=Math.max(1,Math.floor(o/40))}var l=n[0];var u=t.dataToCoord(l+1)-t.dataToCoord(l);var f=Math.abs(u*Math.cos(i));var h=Math.abs(u*Math.sin(i));var v=0;var c=0;for(;l<=n[1];l+=s){var p=0;var d=0;var g=ta(r({value:l}),e.font,"center","top");p=g.width*1.3;d=g.height*1.3;v=Math.max(v,p,7);c=Math.max(c,d,7)}var y=v/f;var m=c/h;isNaN(y)&&(y=Infinity);isNaN(m)&&(m=Infinity);var x=Math.max(0,Math.floor(Math.min(y,m)));var _=gI(t.model);var b=t.getExtent();var w=_.lastAutoInterval;var S=_.lastTickCount;if(w!=null&&S!=null&&Math.abs(w-x)<=1&&Math.abs(S-o)<=1&&w>x&&_.axisExtent0===b[0]&&_.axisExtent1===b[1]){x=w}else{_.lastTickCount=o;_.lastAutoInterval=x;_.axisExtent0=b[0];_.axisExtent1=b[1]}return x}function DI(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function AI(t,e,r){var i=KM(t);var a=t.scale;var n=a.getExtent();var o=t.getLabelModel();var s=[];var l=Math.max((e||0)+1,1);var u=n[0];var f=a.count();if(u!==0&&l>1&&f/l>2){u=Math.round(Math.ceil(u/l)*l)}var h=eI(t);var v=o.get("showMinLabel")||h;var c=o.get("showMaxLabel")||h;if(v&&u!==n[0]){d(n[0])}var p=u;for(;p<=n[1];p+=l){d(p)}if(c&&p-l!==n[1]){d(n[1])}function d(t){var e={value:t};s.push(r?t:{formattedLabel:i(e),rawLabel:a.getLabel(e),tickValue:t})}return s}function kI(t,e,r){var i=t.scale;var a=KM(t);var n=[];R(i.getTicks(),function(t){var o=i.getLabel(t);var s=t.value;if(e(t.value,o)){n.push(r?s:{formattedLabel:a(t),rawLabel:o,tickValue:s})}});return n}var LI=[0,1];var PI=function(){function t(t,e,r){this.onBand=false;this.inverse=false;this.dim=t;this.scale=e;this._extent=r||[0,0]}t.prototype.contain=function(t){var e=this._extent;var r=Math.min(e[0],e[1]);var i=Math.max(e[0],e[1]);return t>=r&&t<=i};t.prototype.containData=function(t){return this.scale.contain(t)};t.prototype.getExtent=function(){return this._extent.slice()};t.prototype.getPixelPrecision=function(t){return Ga(t||this.scale.getExtent(),this._extent)};t.prototype.setExtent=function(t,e){var r=this._extent;r[0]=t;r[1]=e};t.prototype.dataToCoord=function(t,e){var r=this._extent;var i=this.scale;t=i.normalize(t);if(this.onBand&&i.type==="ordinal"){r=r.slice();OI(r,i.count())}return Ra(t,LI,r,e)};t.prototype.coordToData=function(t,e){var r=this._extent;var i=this.scale;if(this.onBand&&i.type==="ordinal"){r=r.slice();OI(r,i.count())}var a=Ra(t,r,LI,e);return this.scale.scale(a)};t.prototype.pointToData=function(t,e){return};t.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel();var r=mI(this,e);var i=r.ticks;var a=N(i,function(t){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(t):t),tickValue:t}},this);var n=e.get("alignWithLabel");RI(this,a,n,t.clamp);return a};t.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal"){return[]}var t=this.model.getModel("minorTick");var e=t.get("splitNumber");if(!(e>0&&e<100)){e=5}var r=this.scale.getMinorTicks(e);var i=N(r,function(t){return N(t,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this)},this);return i};t.prototype.getViewLabels=function(){return yI(this).labels};t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")};t.prototype.getTickModel=function(){return this.model.getModel("axisTick")};t.prototype.getBandWidth=function(){var t=this._extent;var e=this.scale.getExtent();var r=e[1]-e[0]+(this.onBand?1:0);r===0&&(r=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/r};t.prototype.calculateCategoryInterval=function(){return CI(this)};return t}();function OI(t,e){var r=t[1]-t[0];var i=e;var a=r/i/2;t[0]+=a;t[1]-=a}function RI(t,e,r,i){var a=e.length;if(!t.onBand||r||!a){return}var n=t.getExtent();var o;var s;if(a===1){e[0].coord=n[0];o=e[1]={coord:n[0]}}else{var l=e[a-1].tickValue-e[0].tickValue;var u=(e[a-1].coord-e[0].coord)/l;R(e,function(t){t.coord-=u/2});var f=t.scale.getExtent();s=1+f[1]-e[a-1].tickValue;o={coord:e[a-1].coord+u*s};e.push(o)}var h=n[0]>n[1];if(v(e[0].coord,n[0])){i?e[0].coord=n[0]:e.shift()}if(i&&v(n[0],e[0].coord)){e.unshift({coord:n[0]})}if(v(n[1],o.coord)){i?o.coord=n[1]:e.pop()}if(i&&v(o.coord,n[1])){e.push({coord:n[1]})}function v(t,e){t=Ea(t);e=Ea(e);return h?t>e:t<e}}function NI(t){var e=xp.extend(t);xp.registerClass(e);return e}function EI(t){var e=Hy.extend(t);Hy.registerClass(e);return e}function zI(t){var e=Oy.extend(t);Oy.registerClass(e);return e}function BI(t){var e=Xy.extend(t);Xy.registerClass(e);return e}var VI=Math.PI*2;var GI=Js.CMD;var FI=["top","right","bottom","left"];function HI(t,e,r,i,a){var n=r.width;var o=r.height;switch(t){case"top":i.set(r.x+n/2,r.y-e);a.set(0,-1);break;case"bottom":i.set(r.x+n/2,r.y+o+e);a.set(0,1);break;case"left":i.set(r.x-e,r.y+o/2);a.set(-1,0);break;case"right":i.set(r.x+n+e,r.y+o/2);a.set(1,0);break}}function WI(t,e,r,i,a,n,o,s,l){o-=t;s-=e;var u=Math.sqrt(o*o+s*s);o/=u;s/=u;var f=o*r+t;var h=s*r+e;if(Math.abs(i-a)%VI<1e-4){l[0]=f;l[1]=h;return u-r}if(n){var v=i;i=il(a);a=il(v)}else{i=il(i);a=il(a)}if(i>a){a+=VI}var c=Math.atan2(s,o);if(c<0){c+=VI}if(c>=i&&c<=a||c+VI>=i&&c+VI<=a){l[0]=f;l[1]=h;return u-r}var p=r*Math.cos(i)+t;var d=r*Math.sin(i)+e;var g=r*Math.cos(a)+t;var y=r*Math.sin(a)+e;var m=(p-o)*(p-o)+(d-s)*(d-s);var x=(g-o)*(g-o)+(y-s)*(y-s);if(m<x){l[0]=p;l[1]=d;return Math.sqrt(m)}else{l[0]=g;l[1]=y;return Math.sqrt(x)}}function UI(t,e,r,i,a,n,o,s){var l=a-t;var u=n-e;var f=r-t;var h=i-e;var v=Math.sqrt(f*f+h*h);f/=v;h/=v;var c=l*f+u*h;var p=c/v;if(s){p=Math.min(Math.max(p,0),1)}p*=v;var d=o[0]=t+p*f;var g=o[1]=e+p*h;return Math.sqrt((d-a)*(d-a)+(g-n)*(g-n))}function YI(t,e,r,i,a,n,o){if(r<0){t=t+r;r=-r}if(i<0){e=e+i;i=-i}var s=t+r;var l=e+i;var u=o[0]=Math.min(Math.max(a,t),s);var f=o[1]=Math.min(Math.max(n,e),l);return Math.sqrt((u-a)*(u-a)+(f-n)*(f-n))}var XI=[];function ZI(t,e,r){var i=YI(e.x,e.y,e.width,e.height,t.x,t.y,XI);r.set(XI[0],XI[1]);return i}function jI(t,e,r){var i=0;var a=0;var n=0;var o=0;var s;var l;var u=Infinity;var f=e.data;var h=t.x;var v=t.y;for(var c=0;c<f.length;){var p=f[c++];if(c===1){i=f[c];a=f[c+1];n=i;o=a}var d=u;switch(p){case GI.M:n=f[c++];o=f[c++];i=n;a=o;break;case GI.L:d=UI(i,a,f[c],f[c+1],h,v,XI,true);i=f[c++];a=f[c++];break;case GI.C:d=us(i,a,f[c++],f[c++],f[c++],f[c++],f[c],f[c+1],h,v,XI);i=f[c++];a=f[c++];break;case GI.Q:d=gs(i,a,f[c++],f[c++],f[c],f[c+1],h,v,XI);i=f[c++];a=f[c++];break;case GI.A:var g=f[c++];var y=f[c++];var m=f[c++];var x=f[c++];var _=f[c++];var b=f[c++];c+=1;var w=!!(1-f[c++]);s=Math.cos(_)*m+g;l=Math.sin(_)*x+y;if(c<=1){n=s;o=l}var S=(h-g)*x/m+g;d=WI(g,y,x,_,_+b,w,S,v,XI);i=Math.cos(_+b)*m+g;a=Math.sin(_+b)*x+y;break;case GI.R:n=i=f[c++];o=a=f[c++];var M=f[c++];var I=f[c++];d=YI(n,o,M,I,h,v,XI);break;case GI.Z:d=UI(i,a,n,o,h,v,XI,true);i=n;a=o;break}if(d<u){u=d;r.set(XI[0],XI[1])}}return u}var qI=new Ei;var KI=new Ei;var $I=new Ei;var JI=new Ei;var QI=new Ei;function tT(t,e){if(!t){return}var r=t.getTextGuideLine();var i=t.getTextContent();if(!(i&&r)){return}var a=t.textGuideLineConfig||{};var n=[[0,0],[0,0],[0,0]];var o=a.candidates||FI;var s=i.getBoundingRect().clone();s.applyTransform(i.getComputedTransform());var l=Infinity;var u=a.anchor;var f=t.getComputedTransform();var h=f&&Mi([],f);var v=e.get("length2")||0;if(u){$I.copy(u)}for(var c=0;c<o.length;c++){var p=o[c];HI(p,0,s,qI,JI);Ei.scaleAndAdd(KI,qI,JI,v);KI.transform(h);var d=t.getBoundingRect();var g=u?u.distance(KI):t instanceof Sl?jI(KI,t.path,$I):ZI(KI,d,$I);if(g<l){l=g;KI.transform(f);$I.transform(f);$I.toArray(n[0]);KI.toArray(n[1]);qI.toArray(n[2])}}iT(n,e.get("minTurnAngle"));r.setShape({points:n})}var eT=[];var rT=new Ei;function iT(t,e){if(!(e<=180&&e>0)){return}e=e/180*Math.PI;qI.fromArray(t[0]);KI.fromArray(t[1]);$I.fromArray(t[2]);Ei.sub(JI,qI,KI);Ei.sub(QI,$I,KI);var r=JI.len();var i=QI.len();if(r<.001||i<.001){return}JI.scale(1/r);QI.scale(1/i);var a=JI.dot(QI);var n=Math.cos(e);if(n<a){var o=UI(KI.x,KI.y,$I.x,$I.y,qI.x,qI.y,eT,false);rT.fromArray(eT);rT.scaleAndAdd(QI,o/Math.tan(Math.PI-e));var s=$I.x!==KI.x?(rT.x-KI.x)/($I.x-KI.x):(rT.y-KI.y)/($I.y-KI.y);if(isNaN(s)){return}if(s<0){Ei.copy(rT,KI)}else if(s>1){Ei.copy(rT,$I)}rT.toArray(t[1])}}function aT(t,e,r){if(!(r<=180&&r>0)){return}r=r/180*Math.PI;qI.fromArray(t[0]);KI.fromArray(t[1]);$I.fromArray(t[2]);Ei.sub(JI,KI,qI);Ei.sub(QI,$I,KI);var i=JI.len();var a=QI.len();if(i<.001||a<.001){return}JI.scale(1/i);QI.scale(1/a);var n=JI.dot(e);var o=Math.cos(r);if(n<o){var s=UI(KI.x,KI.y,$I.x,$I.y,qI.x,qI.y,eT,false);rT.fromArray(eT);var l=Math.PI/2;var u=Math.acos(QI.dot(e));var f=l+u-r;if(f>=l){Ei.copy(rT,$I)}else{rT.scaleAndAdd(QI,s/Math.tan(Math.PI/2-f));var h=$I.x!==KI.x?(rT.x-KI.x)/($I.x-KI.x):(rT.y-KI.y)/($I.y-KI.y);if(isNaN(h)){return}if(h<0){Ei.copy(rT,KI)}else if(h>1){Ei.copy(rT,$I)}}rT.toArray(t[1])}}function nT(t,e,r,i){var a=r==="normal";var n=a?t:t.ensureState(r);n.ignore=e;var o=i.get("smooth");if(o&&o===true){o=.3}n.shape=n.shape||{};if(o>0){n.shape.smooth=o}var s=i.getModel("lineStyle").getLineStyle();a?t.useStyle(s):n.style=s}function oT(t,e){var r=e.smooth;var i=e.points;if(!i){return}t.moveTo(i[0][0],i[0][1]);if(r>0&&i.length>=3){var a=Et(i[0],i[1]);var n=Et(i[1],i[2]);if(!a||!n){t.lineTo(i[1][0],i[1][1]);t.lineTo(i[2][0],i[2][1]);return}var o=Math.min(a,n)*r;var s=Gt([],i[1],i[0],o/a);var l=Gt([],i[1],i[2],o/n);var u=Gt([],s,l,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]);t.bezierCurveTo(l[0],l[1],l[0],l[1],i[2][0],i[2][1])}else{for(var f=1;f<i.length;f++){t.lineTo(i[f][0],i[f][1])}}}function sT(t,e,r){var i=t.getTextGuideLine();var a=t.getTextContent();if(!a){if(i){t.removeTextGuideLine()}return}var n=e.normal;var o=n.get("show");var s=a.ignore;for(var l=0;l<ou.length;l++){var u=ou[l];var f=e[u];var h=u==="normal";if(f){var v=f.get("show");var c=h?s:it(a.states[u]&&a.states[u].ignore,s);if(c||!it(v,o)){var p=h?i:i&&i.states.normal;if(p){p.ignore=true}continue}if(!i){i=new uh;t.setTextGuideLine(i);if(!h&&(s||!o)){nT(i,true,"normal",e.normal)}if(t.stateProxy){i.stateProxy=t.stateProxy}}nT(i,false,u,f)}}if(i){D(i.style,r);i.style.fill=null;var d=n.get("showAbove");var g=t.textGuideLineConfig=t.textGuideLineConfig||{};g.showAbove=d||false;i.buildPath=oT}}function lT(t,e){e=e||"labelLine";var r={normal:t.getModel(e)};for(var i=0;i<nu.length;i++){var a=nu[i];r[a]=t.getModel([a,e])}return r}function uT(t){var e=[];for(var r=0;r<t.length;r++){var i=t[r];if(i.defaultAttr.ignore){continue}var a=i.label;var n=a.getComputedTransform();var o=a.getBoundingRect();var s=!n||n[1]<1e-5&&n[2]<1e-5;var l=a.style.margin||0;var u=o.clone();u.applyTransform(n);u.x-=l/2;u.y-=l/2;u.width+=l;u.height+=l;var f=s?new Ch(o,n):null;e.push({label:a,labelLine:i.labelLine,rect:u,localRect:o,obb:f,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:s,transform:n})}return e}function fT(t,e,r,i,a,n){var o=t.length;if(o<2){return}t.sort(function(t,r){return t.rect[e]-r.rect[e]});var s=0;var l;var u=false;var f=0;for(var h=0;h<o;h++){var v=t[h];var c=v.rect;l=c[e]-s;if(l<0){c[e]-=l;v.label[e]-=l;u=true}var p=Math.max(-l,0);f+=p;s=c[e]+c[r]}if(f>0&&n){b(-f/o,0,o)}var d=t[0];var g=t[o-1];var y;var m;x();y<0&&w(-y,.8);m<0&&w(m,.8);x();_(y,m,1);_(m,y,-1);x();if(y<0){S(-y)}if(m<0){S(m)}function x(){y=d.rect[e]-i;m=a-g.rect[e]-g.rect[r]}function _(t,e,r){if(t<0){var i=Math.min(e,-t);if(i>0){b(i*r,0,o);var a=i+t;if(a<0){w(-a*r,1)}}else{w(-t*r,1)}}}function b(r,i,a){if(r!==0){u=true}for(var n=i;n<a;n++){var o=t[n];var s=o.rect;s[e]+=r;o.label[e]+=r}}function w(i,a){var n=[];var s=0;for(var l=1;l<o;l++){var u=t[l-1].rect;var f=Math.max(t[l].rect[e]-u[e]-u[r],0);n.push(f);s+=f}if(!s){return}var h=Math.min(Math.abs(i)/s,a);if(i>0){for(var l=0;l<o-1;l++){var v=n[l]*h;b(v,0,l+1)}}else{for(var l=o-1;l>0;l--){var v=n[l-1]*h;b(-v,l,o)}}}function S(t){var e=t<0?-1:1;t=Math.abs(t);var r=Math.ceil(t/(o-1));for(var i=0;i<o-1;i++){if(e>0){b(r,0,i+1)}else{b(-r,o-i-1,o)}t-=r;if(t<=0){return}}}return u}function hT(t,e,r,i){return fT(t,"x","width",e,r,i)}function vT(t,e,r,i){return fT(t,"y","height",e,r,i)}function cT(t){var e=[];t.sort(function(t,e){return e.priority-t.priority});var r=new Yi(0,0,0,0);function i(t){if(!t.ignore){var e=t.ensureState("emphasis");if(e.ignore==null){e.ignore=false}}t.ignore=true}for(var a=0;a<t.length;a++){var n=t[a];var o=n.axisAligned;var s=n.localRect;var l=n.transform;var u=n.label;var f=n.labelLine;r.copy(n.rect);r.width-=.1;r.height-=.1;r.x+=.05;r.y+=.05;var h=n.obb;var v=false;for(var c=0;c<e.length;c++){var p=e[c];if(!r.intersect(p.rect)){continue}if(o&&p.axisAligned){v=true;break}if(!p.obb){p.obb=new Ch(p.localRect,p.transform)}if(!h){h=new Ch(s,l)}if(h.intersect(p.obb)){v=true;break}}if(v){i(u);f&&i(f)}else{u.attr("ignore",n.defaultAttr.ignore);f&&f.attr("ignore",n.defaultAttr.labelGuideIgnore);e.push(n)}}}function pT(t){if(t){var e=[];for(var r=0;r<t.length;r++){e.push(t[r].slice())}return e}}function dT(t,e){var r=t.label;var i=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:pT(i&&i.shape.points)}}var gT=["align","verticalAlign","width","height","fontSize"];var yT=new Ri;var mT=Fn();var xT=Fn();function _T(t,e,r){for(var i=0;i<r.length;i++){var a=r[i];if(e[a]!=null){t[a]=e[a]}}}var bT=["x","y","rotation"];var wT=function(){function t(){this._labelList=[];this._chartViewList=[]}t.prototype.clearLabels=function(){this._labelList=[];this._chartViewList=[]};t.prototype._addLabel=function(t,e,r,i,a){var n=i.style;var o=i.__hostTarget;var s=o.textConfig||{};var l=i.getComputedTransform();var u=i.getBoundingRect().plain();Yi.applyTransform(u,u,l);if(l){yT.setLocalTransform(l)}else{yT.x=yT.y=yT.rotation=yT.originX=yT.originY=0;yT.scaleX=yT.scaleY=1}var f=i.__hostTarget;var h;if(f){h=f.getBoundingRect().plain();var v=f.getComputedTransform();Yi.applyTransform(h,h,v)}var c=h&&f.getTextGuideLine();this._labelList.push({label:i,labelLine:c,seriesModel:r,dataIndex:t,dataType:e,layoutOption:a,computedLayoutOption:null,rect:u,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:c&&c.ignore,x:yT.x,y:yT.y,scaleX:yT.scaleX,scaleY:yT.scaleY,rotation:yT.rotation,style:{x:n.x,y:n.y,align:n.align,verticalAlign:n.verticalAlign,width:n.width,height:n.height,fontSize:n.fontSize},cursor:i.cursor,attachedPos:s.position,attachedRot:s.rotation}})};t.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var r=t.__model;var i=r.get("labelLayout");if(!(U(i)||V(i).length)){return}t.group.traverse(function(t){if(t.ignore){return true}var a=t.getTextContent();var n=$l(t);if(a&&!a.disableLabelLayout){e._addLabel(n.dataIndex,n.dataType,r,a,i)}})};t.prototype.updateLayoutConfig=function(t){var e=t.getWidth();var r=t.getHeight();function i(t,e){return function(){tT(t,e)}}for(var a=0;a<this._labelList.length;a++){var n=this._labelList[a];var o=n.label;var s=o.__hostTarget;var l=n.defaultAttr;var u=void 0;if(typeof n.layoutOption==="function"){u=n.layoutOption(dT(n,s))}else{u=n.layoutOption}u=u||{};n.computedLayoutOption=u;var f=Math.PI/180;if(s){s.setTextConfig({local:false,position:u.x!=null||u.y!=null?null:l.attachedPos,rotation:u.rotate!=null?u.rotate*f:l.attachedRot,offset:[u.dx||0,u.dy||0]})}var h=false;if(u.x!=null){o.x=Na(u.x,e);o.setStyle("x",0);h=true}else{o.x=l.x;o.setStyle("x",l.style.x)}if(u.y!=null){o.y=Na(u.y,r);o.setStyle("y",0);h=true}else{o.y=l.y;o.setStyle("y",l.style.y)}if(u.labelLinePoints){var v=s.getTextGuideLine();if(v){v.setShape({points:u.labelLinePoints});h=false}}var c=mT(o);c.needsUpdateLabelLine=h;o.rotation=u.rotate!=null?u.rotate*f:l.rotation;o.scaleX=l.scaleX;o.scaleY=l.scaleY;for(var p=0;p<gT.length;p++){var d=gT[p];o.setStyle(d,u[d]!=null?u[d]:l.style[d])}if(u.draggable){o.draggable=true;o.cursor="move";if(s){var g=n.seriesModel;if(n.dataIndex!=null){var y=n.seriesModel.getData(n.dataType);g=y.getItemModel(n.dataIndex)}o.on("drag",i(s,g.getModel("labelLine")))}}else{o.off("drag");o.cursor=l.cursor}}};t.prototype.layout=function(t){var e=t.getWidth();var r=t.getHeight();var i=uT(this._labelList);var a=z(i,function(t){return t.layoutOption.moveOverlap==="shiftX"});var n=z(i,function(t){return t.layoutOption.moveOverlap==="shiftY"});hT(a,0,e);vT(n,0,r);var o=z(i,function(t){return t.layoutOption.hideOverlap});cT(o)};t.prototype.processLabelsOverall=function(){var t=this;R(this._chartViewList,function(e){var r=e.__model;var i=e.ignoreLabelLineUpdate;var a=r.isAnimationEnabled();e.group.traverse(function(e){if(e.ignore){return true}var n=!i;var o=e.getTextContent();if(!n&&o){n=mT(o).needsUpdateLabelLine}if(n){t._updateLabelLine(e,r)}if(a){t._animateLabels(e,r)}})})};t.prototype._updateLabelLine=function(t,e){var r=t.getTextContent();var i=$l(t);var a=i.dataIndex;if(r&&a!=null){var n=e.getData(i.dataType);var o=n.getItemModel(a);var s={};var l=n.getItemVisual(a,"style");var u=n.getVisual("drawType");s.stroke=l[u];var f=o.getModel("labelLine");sT(t,lT(o),s);tT(t,f)}};t.prototype._animateLabels=function(t,e){var r=t.getTextContent();var i=t.getTextGuideLine();if(r&&!r.ignore&&!r.invisible&&!t.disableLabelAnimation&&!Nh(t)){var a=mT(r);var n=a.oldLayout;var o=$l(t);var s=o.dataIndex;var l={x:r.x,y:r.y,rotation:r.rotation};var u=e.getData(o.dataType);if(!n){r.attr(l);if(!Pv(r).valueAnimation){var f=it(r.style.opacity,1);r.style.opacity=0;Rh(r,{style:{opacity:f}},e,s)}}else{r.attr(n);var h=t.prevStates;if(h){if(k(h,"select")>=0){r.attr(a.oldLayoutSelect)}if(k(h,"emphasis")>=0){r.attr(a.oldLayoutEmphasis)}}Oh(r,l,e,s)}a.oldLayout=l;if(r.states.select){var v=a.oldLayoutSelect={};_T(v,l,bT);_T(v,r.states.select,bT)}if(r.states.emphasis){var c=a.oldLayoutEmphasis={};_T(c,l,bT);_T(c,r.states.emphasis,bT)}Rv(r,s,u,e,e)}if(i&&!i.ignore&&!i.invisible){var a=xT(i);var n=a.oldLayout;var p={points:i.shape.points};if(!n){i.setShape(p);i.style.strokePercent=0;Rh(i,{style:{strokePercent:1}},e)}else{i.attr({shape:n});Oh(i,{shape:p},e)}a.oldLayout=p}};return t}();var ST=Fn();function MT(t){t.registerUpdateLifecycle("series:beforeupdate",function(t,e,r){var i=ST(e).labelManager;if(!i){i=ST(e).labelManager=new wT}i.clearLabels()});t.registerUpdateLifecycle("series:layoutlabels",function(t,e,r){var i=ST(e).labelManager;r.updatedSeries.forEach(function(t){i.addLabelsOfSeries(e.getViewOfSeriesModel(t))});i.updateLayoutConfig(e);i.layout(e);i.processLabelsOverall()})}function IT(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function TT(t){var e;if(!t||t==="transparent"){t="none"}else if(typeof t==="string"&&t.indexOf("rgba")>-1){var r=vr(t);if(r){t="rgb("+r[0]+","+r[1]+","+r[2]+")";e=r[3]}}return{color:t,opacity:e==null?1:e}}function CT(t,e,r){if(!r){r=function(t,e){return t===e}}t=t.slice();e=e.slice();var i=e.length;var a=t.length;var n=1;var o=i+a;var s=[{newPos:-1,components:[]}];var l=DT(s[0],e,t,0,r);if(s[0].newPos+1>=i&&l+1>=a){var u=[];for(var f=0;f<e.length;f++){u.push(f)}return[{indices:u,count:e.length,added:false,removed:false}]}function h(){for(var o=-1*n;o<=n;o+=2){var l;var u=s[o-1];var f=s[o+1];var h=(f?f.newPos:0)-o;if(u){s[o-1]=undefined}var v=u&&u.newPos+1<i;var c=f&&0<=h&&h<a;if(!v&&!c){s[o]=undefined;continue}if(!v||c&&u.newPos<f.newPos){l=LT(f);AT(l.components,false,true)}else{l=u;l.newPos++;AT(l.components,true,false)}h=DT(l,e,t,o,r);if(l.newPos+1>=i&&h+1>=a){return kT(l.components)}else{s[o]=l}}n++}while(n<=o){var v=h();if(v){return v}}}function DT(t,e,r,i,a){var n=e.length;var o=r.length;var s=t.newPos;var l=s-i;var u=0;while(s+1<n&&l+1<o&&a(e[s+1],r[l+1])){s++;l++;u++}if(u){t.components.push({count:u,added:false,removed:false,indices:[]})}t.newPos=s;return l}function AT(t,e,r){var i=t[t.length-1];if(i&&i.added===e&&i.removed===r){t[t.length-1]={count:i.count+1,added:e,removed:r,indices:[]}}else{t.push({count:1,added:e,removed:r,indices:[]})}}function kT(t){var e=0;var r=t.length;var i=0;var a=0;for(;e<r;e++){var n=t[e];if(!n.removed){var o=[];for(var s=i;s<i+n.count;s++){o.push(s)}n.indices=o;i+=n.count;if(!n.added){a+=n.count}}else{for(var s=a;s<a+n.count;s++){n.indices.push(s)}a+=n.count}}return t}function LT(t){return{newPos:t.newPos,components:t.components.slice(0)}}function PT(t,e,r){return CT(t,e,r)}var OT="none";var RT=Math.round;var NT=Math.sin;var ET=Math.cos;var zT=Math.PI;var BT=Math.PI*2;var VT=180/zT;var GT=1e-4;function FT(t){return RT(t*1e3)/1e3}function HT(t){return RT(t*1e4)/1e4}function WT(t){return t<GT&&t>-GT}function UT(t){var e=t.fill;return e!=null&&e!==OT}function YT(t){var e=t.stroke;return e!=null&&e!==OT}function XT(t,e){if(e){ZT(t,"transform","matrix("+FT(e[0])+","+FT(e[1])+","+FT(e[2])+","+FT(e[3])+","+HT(e[4])+","+HT(e[5])+")")}}function ZT(t,e,r){if(!r||r.type!=="linear"&&r.type!=="radial"){t.setAttribute(e,r)}}function jT(t,e,r){t.setAttributeNS("http://www.w3.org/1999/xlink",e,r)}function qT(t,e,r){t.setAttributeNS("http://www.w3.org/XML/1998/namespace",e,r)}function KT(t,e,r){var i=e.opacity==null?1:e.opacity;if(r instanceof Al){t.style.opacity=i+"";return}if(UT(e)){var a=TT(e.fill);ZT(t,"fill",a.color);ZT(t,"fill-opacity",(e.fillOpacity!=null?e.fillOpacity*a.opacity*i:a.opacity*i)+"")}else{ZT(t,"fill",OT)}if(YT(e)){var n=TT(e.stroke);ZT(t,"stroke",n.color);var o=e.lineWidth;var s=e.strokeNoScale?r.getLineScale():1;ZT(t,"stroke-width",(s?o/s:0)+"");ZT(t,"paint-order",e.strokeFirst?"stroke":"fill");ZT(t,"stroke-opacity",(e.strokeOpacity!=null?e.strokeOpacity*n.opacity*i:n.opacity*i)+"");var l=e.lineDash&&o>0&&vx(e.lineDash,o);if(l){var u=e.lineDashOffset;if(s&&s!==1){l=N(l,function(t){return t/s});if(u){u/=s;u=RT(u)}}ZT(t,"stroke-dasharray",l.join(","));ZT(t,"stroke-dashoffset",(u||0)+"")}else{ZT(t,"stroke-dasharray","")}e.lineCap&&ZT(t,"stroke-linecap",e.lineCap);e.lineJoin&&ZT(t,"stroke-linejoin",e.lineJoin);e.miterLimit&&ZT(t,"stroke-miterlimit",e.miterLimit+"")}else{ZT(t,"stroke",OT)}}var $T=function(){function t(){}t.prototype.reset=function(){this._d=[];this._str=""};t.prototype.moveTo=function(t,e){this._add("M",t,e)};t.prototype.lineTo=function(t,e){this._add("L",t,e)};t.prototype.bezierCurveTo=function(t,e,r,i,a,n){this._add("C",t,e,r,i,a,n)};t.prototype.quadraticCurveTo=function(t,e,r,i){this._add("Q",t,e,r,i)};t.prototype.arc=function(t,e,r,i,a,n){this.ellipse(t,e,r,r,0,i,a,n)};t.prototype.ellipse=function(t,e,r,i,a,n,o,s){var l=this._d.length===0;var u=o-n;var f=!s;var h=Math.abs(u);var v=WT(h-BT)||(f?u>=BT:-u>=BT);var c=u>0?u%BT:u%BT+BT;var p=false;if(v){p=true}else if(WT(h)){p=false}else{p=c>=zT===!!f}var d=HT(t+r*ET(n));var g=HT(e+i*NT(n));if(v){if(f){u=BT-1e-4}else{u=-BT+1e-4}p=true;if(l){this._d.push("M",d,g)}}var y=HT(t+r*ET(n+u));var m=HT(e+i*NT(n+u));if(isNaN(d)||isNaN(g)||isNaN(r)||isNaN(i)||isNaN(a)||isNaN(VT)||isNaN(y)||isNaN(m)){return""}this._d.push("A",HT(r),HT(i),RT(a*VT),+p,+f,y,m)};t.prototype.rect=function(t,e,r,i){this._add("M",t,e);this._add("L",t+r,e);this._add("L",t+r,e+i);this._add("L",t,e+i);this._add("L",t,e);this._add("Z")};t.prototype.closePath=function(){if(this._d.length>0){this._add("Z")}};t.prototype._add=function(t,e,r,i,a,n,o,s,l){this._d.push(t);for(var u=1;u<arguments.length;u++){var f=arguments[u];if(isNaN(f)){this._invalid=true;return}this._d.push(HT(f))}};t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(" ");this._d=[]};t.prototype.getStr=function(){return this._str};return t}();var JT={brush:function(t){var e=t.style;var r=t.__svgEl;if(!r){r=IT("path");t.__svgEl=r}if(!t.path){t.createPathProxy()}var i=t.path;if(t.shapeChanged()){i.beginPath();t.buildPath(i,t.shape);t.pathUpdated()}var a=i.getVersion();var n=t;var o=n.__svgPathBuilder;if(n.__svgPathVersion!==a||!o||t.style.strokePercent<1){if(!o){o=n.__svgPathBuilder=new $T}o.reset();i.rebuildPath(o,t.style.strokePercent);o.generateStr();n.__svgPathVersion=a}ZT(r,"d",o.getStr());KT(r,e,t);XT(r,t.transform)}};var QT={brush:function(t){var e=t.style;var r=e.image;if(r instanceof HTMLImageElement){r=r.src}else if(r instanceof HTMLCanvasElement){r=r.toDataURL()}if(!r){return}var i=e.x||0;var a=e.y||0;var n=e.width;var o=e.height;var s=t.__svgEl;if(!s){s=IT("image");t.__svgEl=s}if(r!==t.__imageSrc){jT(s,"href",r);t.__imageSrc=r}ZT(s,"width",n+"");ZT(s,"height",o+"");ZT(s,"x",i+"");ZT(s,"y",a+"");KT(s,e,t);XT(s,t.transform)}};var tC={left:"start",right:"end",center:"middle",middle:"middle"};function eC(t,e,r){if(r==="top"){t+=e/2}else if(r==="bottom"){t-=e/2}return t}var rC={brush:function(t){var e=t.style;var r=e.text;r!=null&&(r+="");if(!r||isNaN(e.x)||isNaN(e.y)){return}var i=t.__svgEl;if(!i){i=IT("text");qT(i,"xml:space","preserve");t.__svgEl=i}var a=e.font||Zi;var n=i.style;n.font=a;i.textContent=r;KT(i,e,t);XT(i,t.transform);var o=e.x||0;var s=eC(e.y||0,ia(a),e.textBaseline);var l=tC[e.textAlign]||e.textAlign;ZT(i,"dominant-baseline","central");ZT(i,"text-anchor",l);ZT(i,"x",o+"");ZT(i,"y",s+"")}};var iC="0";var aC="1";var nC=function(){function t(t,e,r,i,a){this.nextId=0;this._domName="_dom";this.createElement=IT;this._zrId=t;this._svgRoot=e;this._tagNames=typeof r==="string"?[r]:r;this._markLabel=i;if(a){this._domName=a}}t.prototype.getDefs=function(t){var e=this._svgRoot;var r=this._svgRoot.getElementsByTagName("defs");if(r.length===0){if(t){var i=e.insertBefore(this.createElement("defs"),e.firstChild);if(!i.contains){i.contains=function(t){var e=i.children;if(!e){return false}for(var r=e.length-1;r>=0;--r){if(e[r]===t){return true}}return false}}return i}else{return null}}else{return r[0]}};t.prototype.doUpdate=function(t,e){if(!t){return}var r=this.getDefs(false);if(t[this._domName]&&r.contains(t[this._domName])){if(typeof e==="function"){e(t)}}else{var i=this.add(t);if(i){t[this._domName]=i}}};t.prototype.add=function(t){return null};t.prototype.addDom=function(t){var e=this.getDefs(true);if(t.parentNode!==e){e.appendChild(t)}};t.prototype.removeDom=function(t){var e=this.getDefs(false);if(e&&t[this._domName]){e.removeChild(t[this._domName]);t[this._domName]=null}};t.prototype.getDoms=function(){var t=this.getDefs(false);if(!t){return[]}var e=[];R(this._tagNames,function(r){var i=t.getElementsByTagName(r);for(var a=0;a<i.length;a++){e.push(i[a])}});return e};t.prototype.markAllUnused=function(){var t=this.getDoms();var e=this;R(t,function(t){t[e._markLabel]=iC})};t.prototype.markDomUsed=function(t){t&&(t[this._markLabel]=aC)};t.prototype.markDomUnused=function(t){t&&(t[this._markLabel]=iC)};t.prototype.isDomUnused=function(t){return t&&t[this._markLabel]!==aC};t.prototype.removeUnused=function(){var t=this;var e=this.getDefs(false);if(!e){return}var r=this.getDoms();R(r,function(r){if(t.isDomUnused(r)){e.removeChild(r)}})};t.prototype.getSvgProxy=function(t){if(t instanceof Sl){return JT}else if(t instanceof Al){return QT}else if(t instanceof Il){return rC}else{return JT}};t.prototype.getSvgElement=function(t){return t.__svgEl};return t}();function oC(t){return t.type==="linear"}function sC(t){return t.type==="radial"}function lC(t){return t&&(t.type==="linear"||t.type==="radial")}var uC=function(t){r(e,t);function e(e,r){return t.call(this,e,r,["linearGradient","radialGradient"],"__gradient_in_use__")||this}e.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var r=this;R(["fill","stroke"],function(i){var a=e.style[i];if(lC(a)){var n=a;var o=r.getDefs(true);var s=void 0;if(n.__dom){s=n.__dom;if(!o.contains(n.__dom)){r.addDom(s)}}else{s=r.add(n)}r.markUsed(e);var l=s.getAttribute("id");t.setAttribute(i,"url(#"+l+")")}})}};e.prototype.add=function(t){var e;if(oC(t)){e=this.createElement("linearGradient")}else if(sC(t)){e=this.createElement("radialGradient")}else{S("Illegal gradient type.");return null}t.id=t.id||this.nextId++;e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id);this.updateDom(t,e);this.addDom(e);return e};e.prototype.update=function(t){if(!lC(t)){return}var e=this;this.doUpdate(t,function(){var r=t.__dom;if(!r){return}var i=r.tagName;var a=t.type;if(a==="linear"&&i==="linearGradient"||a==="radial"&&i==="radialGradient"){e.updateDom(t,t.__dom)}else{e.removeDom(t);e.add(t)}})};e.prototype.updateDom=function(t,e){if(oC(t)){e.setAttribute("x1",t.x+"");e.setAttribute("y1",t.y+"");e.setAttribute("x2",t.x2+"");e.setAttribute("y2",t.y2+"")}else if(sC(t)){e.setAttribute("cx",t.x+"");e.setAttribute("cy",t.y+"");e.setAttribute("r",t.r+"")}else{S("Illegal gradient type.");return}if(t.global){e.setAttribute("gradientUnits","userSpaceOnUse")}else{e.setAttribute("gradientUnits","objectBoundingBox")}e.innerHTML="";var r=t.colorStops;for(var i=0,a=r.length;i<a;++i){var n=this.createElement("stop");n.setAttribute("offset",r[i].offset*100+"%");var o=r[i].color;if(o.indexOf("rgba")>-1){var s=vr(o)[3];var l=gr(o);n.setAttribute("stop-color","#"+l);n.setAttribute("stop-opacity",s+"")}else{n.setAttribute("stop-color",r[i].color)}e.appendChild(n)}t.__dom=e};e.prototype.markUsed=function(e){if(e.style){var r=e.style.fill;if(r&&r.__dom){t.prototype.markDomUsed.call(this,r.__dom)}r=e.style.stroke;if(r&&r.__dom){t.prototype.markDomUsed.call(this,r.__dom)}}};return e}(nC);function fC(t){return t&&(!!t.image||!!t.svgElement)}var hC=new qm;var vC=function(t){r(e,t);function e(e,r){return t.call(this,e,r,["pattern"],"__pattern_in_use__")||this}e.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var r=this;R(["fill","stroke"],function(i){var a=e.style[i];if(fC(a)){var n=r.getDefs(true);var o=hC.get(a);if(o){if(!n.contains(o)){r.addDom(o)}}else{o=r.add(a)}r.markUsed(e);var s=o.getAttribute("id");t.setAttribute(i,"url(#"+s+")")}})}};e.prototype.add=function(t){if(!fC(t)){return}var e=this.createElement("pattern");t.id=t.id==null?this.nextId++:t.id;e.setAttribute("id","zr"+this._zrId+"-pattern-"+t.id);e.setAttribute("x","0");e.setAttribute("y","0");e.setAttribute("patternUnits","userSpaceOnUse");this.updateDom(t,e);this.addDom(e);return e};e.prototype.update=function(t){if(!fC(t)){return}var e=this;this.doUpdate(t,function(){var r=hC.get(t);e.updateDom(t,r)})};e.prototype.updateDom=function(t,e){var r=t.svgElement;if(r instanceof SVGElement){if(r.parentNode!==e){e.innerHTML="";e.appendChild(r);e.setAttribute("width",t.svgWidth+"");e.setAttribute("height",t.svgHeight+"")}}else{var i=void 0;var a=e.getElementsByTagName("image");if(a.length){if(t.image){i=a[0]}else{e.removeChild(a[0]);return}}else if(t.image){i=this.createElement("image")}if(i){var n=void 0;var o=t.image;if(typeof o==="string"){n=o}else if(o instanceof HTMLImageElement){n=o.src}else if(o instanceof HTMLCanvasElement){n=o.toDataURL()}if(n){i.setAttribute("href",n);i.setAttribute("x","0");i.setAttribute("y","0");var s={dirty:function(){}};var l=_o(n,i,s,function(t){e.setAttribute("width",t.width+"");e.setAttribute("height",t.height+"")});if(l&&l.width&&l.height){e.setAttribute("width",l.width+"");e.setAttribute("height",l.height+"")}e.appendChild(i)}}}var u=t.x||0;var f=t.y||0;var h=(t.rotation||0)/Math.PI*180;var v=t.scaleX||1;var c=t.scaleY||1;var p="translate("+u+", "+f+") rotate("+h+") scale("+v+", "+c+")";e.setAttribute("patternTransform",p);hC.set(t,e)};e.prototype.markUsed=function(e){if(e.style){if(fC(e.style.fill)){t.prototype.markDomUsed.call(this,hC.get(e.style.fill))}if(fC(e.style.stroke)){t.prototype.markDomUsed.call(this,hC.get(e.style.stroke))}}};return e}(nC);function cC(t){var e=[];if(t){for(var r=0;r<t.length;r++){var i=t[r];e.push(i.id)}}return e.join(",")}function pC(t){var e=t.__clipPaths;return e&&e.length>0}var dC=function(t){r(e,t);function e(e,r){var i=t.call(this,e,r,"clipPath","__clippath_in_use__")||this;i._refGroups={};i._keyDuplicateCount={};return i}e.prototype.markAllUnused=function(){t.prototype.markAllUnused.call(this);var e=this._refGroups;for(var r in e){if(e.hasOwnProperty(r)){this.markDomUnused(e[r])}}this._keyDuplicateCount={}};e.prototype._getClipPathGroup=function(t,e){if(!pC(t)){return}var r=t.__clipPaths;var i=this._keyDuplicateCount;var a=cC(r);if(hx(r,e&&e.__clipPaths)){i[a]=i[a]||0;i[a]&&(a+="-"+i[a]);i[a]++}return this._refGroups[a]||(this._refGroups[a]=this.createElement("g"))};e.prototype.update=function(t,e){var r=this._getClipPathGroup(t,e);if(r){this.markDomUsed(r);this.updateDom(r,t.__clipPaths)}return r};e.prototype.updateDom=function(t,e){if(e&&e.length>0){var r=this.getDefs(true);var i=e[0];var a=void 0;var n=void 0;if(i._dom){n=i._dom.getAttribute("id");a=i._dom;if(!r.contains(a)){r.appendChild(a)}}else{n="zr"+this._zrId+"-clip-"+this.nextId;++this.nextId;a=this.createElement("clipPath");a.setAttribute("id",n);r.appendChild(a);i._dom=a}var o=this.getSvgProxy(i);o.brush(i);var s=this.getSvgElement(i);a.innerHTML="";a.appendChild(s);t.setAttribute("clip-path","url(#"+n+")");if(e.length>1){this.updateDom(a,e.slice(1))}}else{if(t){t.setAttribute("clip-path","none")}}};e.prototype.markUsed=function(e){var r=this;if(e.__clipPaths){R(e.__clipPaths,function(e){if(e._dom){t.prototype.markDomUsed.call(r,e._dom)}})}};e.prototype.removeUnused=function(){t.prototype.removeUnused.call(this);var e={};var r=this._refGroups;for(var i in r){if(r.hasOwnProperty(i)){var a=r[i];if(!this.isDomUnused(a)){e[i]=a}else if(a.parentNode){a.parentNode.removeChild(a)}}}this._refGroups=e};return e}(nC);var gC=function(t){r(e,t);function e(e,r){var i=t.call(this,e,r,["filter"],"__filter_in_use__","_shadowDom")||this;i._shadowDomMap={};i._shadowDomPool=[];return i}e.prototype._getFromPool=function(){var t=this._shadowDomPool.pop();if(!t){t=this.createElement("filter");t.setAttribute("id","zr"+this._zrId+"-shadow-"+this.nextId++);var e=this.createElement("feDropShadow");t.appendChild(e);this.addDom(t)}return t};e.prototype.update=function(t,e){var r=e.style;if(yC(r)){var i=mC(e);var a=e._shadowDom=this._shadowDomMap[i];if(!a){a=this._getFromPool();this._shadowDomMap[i]=a}this.updateDom(t,e,a)}else{this.remove(t,e)}};e.prototype.remove=function(t,e){if(e._shadowDom!=null){e._shadowDom=null;t.style.filter=""}};e.prototype.updateDom=function(t,e,r){var i=r.children[0];var a=e.style;var n=e.getGlobalScale();var o=n[0];var s=n[1];if(!o||!s){return}var l=a.shadowOffsetX||0;var u=a.shadowOffsetY||0;var f=a.shadowBlur;var h=TT(a.shadowColor);i.setAttribute("dx",l/o+"");i.setAttribute("dy",u/s+"");i.setAttribute("flood-color",h.color);i.setAttribute("flood-opacity",h.opacity+"");var v=f/2/o;var c=f/2/s;var p=v+" "+c;i.setAttribute("stdDeviation",p);r.setAttribute("x","-100%");r.setAttribute("y","-100%");r.setAttribute("width","300%");r.setAttribute("height","300%");e._shadowDom=r;var d=r.getAttribute("id");t.style.filter="url(#"+d+")"};e.prototype.removeUnused=function(){var t=this.getDefs(false);if(!t){return}var e=this._shadowDomPool;var r=this._shadowDomMap;for(var i in r){if(r.hasOwnProperty(i)){e.push(r[i])}}this._shadowDomMap={}};return e}(nC);function yC(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)}function mC(t){var e=t.style;var r=t.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(",")}function xC(t){return parseInt(t,10)}function _C(t){if(t instanceof Sl){return JT}else if(t instanceof Al){return QT}else if(t instanceof Il){return rC}else{return JT}}function bC(t,e){return e&&t&&e.parentNode!==t}function wC(t,e,r){if(bC(t,e)&&r){var i=r.nextSibling;i?t.insertBefore(e,i):t.appendChild(e)}}function SC(t,e){if(bC(t,e)){var r=t.firstChild;r?t.insertBefore(e,r):t.appendChild(e)}}function MC(t,e){if(e&&t&&e.parentNode===t){t.removeChild(e)}}function IC(t){if(t&&t.parentNode){t.parentNode.removeChild(t)}}function TC(t){return t.__svgEl}var CC=function(){function t(t,e,r,i){this.type="svg";this.refreshHover=DC("refreshHover");this.pathToImage=DC("pathToImage");this.configLayer=DC("configLayer");this.root=t;this.storage=e;this._opts=r=C({},r||{});var a=IT("svg");a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg");a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");a.setAttribute("version","1.1");a.setAttribute("baseProfile","full");a.style.cssText="user-select:none;position:absolute;left:0;top:0;";var n=IT("g");a.appendChild(n);var o=IT("g");a.appendChild(o);this._gradientManager=new uC(i,o);this._patternManager=new vC(i,o);this._clipPathManager=new dC(i,o);this._shadowManager=new gC(i,o);var s=document.createElement("div");s.style.cssText="overflow:hidden;position:relative";this._svgDom=a;this._svgRoot=o;this._backgroundRoot=n;this._viewport=s;t.appendChild(s);s.appendChild(a);this.resize(r.width,r.height);this._visibleList=[]}t.prototype.getType=function(){return"svg"};t.prototype.getViewportRoot=function(){return this._viewport};t.prototype.getSvgDom=function(){return this._svgDom};t.prototype.getSvgRoot=function(){return this._svgRoot};t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t){return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}}};t.prototype.refresh=function(){var t=this.storage.getDisplayList(true);this._paintList(t)};t.prototype.setBackgroundColor=function(t){if(this._backgroundRoot&&this._backgroundNode){this._backgroundRoot.removeChild(this._backgroundNode)}var e=IT("rect");e.setAttribute("width",this.getWidth());e.setAttribute("height",this.getHeight());e.setAttribute("x",0);e.setAttribute("y",0);e.setAttribute("id",0);var r=TT(t),i=r.color,a=r.opacity;e.setAttribute("fill",i);e.setAttribute("fill-opacity",a);this._backgroundRoot.appendChild(e);this._backgroundNode=e};t.prototype.createSVGElement=function(t){return IT(t)};t.prototype.paintOne=function(t){var e=_C(t);e&&e.brush(t);return TC(t)};t.prototype._paintList=function(t){var e=this._gradientManager;var r=this._patternManager;var i=this._clipPathManager;var a=this._shadowManager;e.markAllUnused();r.markAllUnused();i.markAllUnused();a.markAllUnused();var n=this._svgRoot;var o=this._visibleList;var s=t.length;var l=[];for(var u=0;u<s;u++){var f=t[u];var h=_C(f);var v=TC(f);if(!f.invisible){if(f.__dirty||!v){h&&h.brush(f);v=TC(f);if(v&&f.style){e.update(f.style.fill);e.update(f.style.stroke);r.update(f.style.fill);r.update(f.style.stroke);a.update(v,f)}f.__dirty=0}if(v){l.push(f)}}}var c=PT(o,l);var p;var d;for(var u=0;u<c.length;u++){var g=c[u];if(g.removed){for(var y=0;y<g.count;y++){var f=o[g.indices[y]];var v=TC(f);pC(f)?IC(v):MC(n,v)}}}var m;var x;for(var u=0;u<c.length;u++){var g=c[u];if(g.removed){continue}for(var y=0;y<g.count;y++){var f=l[g.indices[y]];var _=i.update(f,m);if(_!==x){p=d;if(_){p?wC(n,_,p):SC(n,_);d=_;p=null}x=_}var v=TC(f);p?wC(x||n,v,p):SC(x||n,v);p=v||p;if(!x){d=p}e.markUsed(f);e.addWithoutUpdate(v,f);r.markUsed(f);r.addWithoutUpdate(v,f);i.markUsed(f);m=f}}e.removeUnused();r.removeUnused();i.removeUnused();a.removeUnused();this._visibleList=l};t.prototype.resize=function(t,e){var r=this._viewport;r.style.display="none";var i=this._opts;t!=null&&(i.width=t);e!=null&&(i.height=e);t=this._getSize(0);e=this._getSize(1);r.style.display="";if(this._width!==t||this._height!==e){this._width=t;this._height=e;var a=r.style;a.width=t+"px";a.height=e+"px";var n=this._svgDom;n.setAttribute("width",t+"");n.setAttribute("height",e+"")}if(this._backgroundNode){this._backgroundNode.setAttribute("width",t);this._backgroundNode.setAttribute("height",e)}};t.prototype.getWidth=function(){return this._width};t.prototype.getHeight=function(){return this._height};t.prototype._getSize=function(t){var e=this._opts;var r=["width","height"][t];var i=["clientWidth","clientHeight"][t];var a=["paddingLeft","paddingTop"][t];var n=["paddingRight","paddingBottom"][t];if(e[r]!=null&&e[r]!=="auto"){return parseFloat(e[r])}var o=this.root;var s=document.defaultView.getComputedStyle(o);return(o[i]||xC(s[r])||xC(o.style[r]))-(xC(s[a])||0)-(xC(s[n])||0)|0};t.prototype.dispose=function(){this.root.innerHTML="";this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null};t.prototype.clear=function(){var t=this._viewport;if(t&&t.parentNode){t.parentNode.removeChild(t)}};t.prototype.toDataURL=function(){this.refresh();var t=this._svgDom;var e=t.outerHTML||(t.parentNode&&t.parentNode).innerHTML;var r=encodeURIComponent(e.replace(/></g,">\n\r<"));return"data:image/svg+xml;charset=UTF-8,"+r};return t}();function DC(t){return function(){S('In SVG mode painter not support method "'+t+'"')}}function AC(t){t.registerPainter("svg",CC)}function kC(){return false}function LC(t,e,r){var i=A();var a=e.getWidth();var n=e.getHeight();var o=i.style;if(o){o.position="absolute";o.left="0";o.top="0";o.width=a+"px";o.height=n+"px";i.setAttribute("data-zr-dom-id",t)}i.width=a*r;i.height=n*r;return i}var PC=function(t){r(e,t);function e(e,r,i){var a=t.call(this)||this;a.motionBlur=false;a.lastFrameAlpha=.7;a.dpr=1;a.virtual=false;a.config={};a.incremental=false;a.zlevel=0;a.maxRepaintRectCount=5;a.__dirty=true;a.__firstTimePaint=true;a.__used=false;a.__drawIndex=0;a.__startIndex=0;a.__endIndex=0;a.__prevStartIndex=null;a.__prevEndIndex=null;var n;i=i||vi;if(typeof e==="string"){n=LC(e,r,i)}else if(j(e)){n=e;e=n.id}a.id=e;a.dom=n;var o=n.style;if(o){n.onselectstart=kC;o.webkitUserSelect="none";o.userSelect="none";o.webkitTapHighlightColor="rgba(0,0,0,0)";o["-webkit-touch-callout"]="none";o.padding="0";o.margin="0";o.borderWidth="0"}a.domBack=null;a.ctxBack=null;a.painter=r;a.config=null;a.dpr=i;return a}e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex};e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex;this.__prevEndIndex=this.__endIndex};e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d");this.ctx.dpr=this.dpr};e.prototype.setUnpainted=function(){this.__firstTimePaint=true};e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=LC("back-"+this.id,this.painter,t);this.ctxBack=this.domBack.getContext("2d");if(t!==1){this.ctxBack.scale(t,t)}};e.prototype.createRepaintRects=function(t,e,r,i){if(this.__firstTimePaint){this.__firstTimePaint=false;return null}var a=[];var n=this.maxRepaintRectCount;var o=false;var s=new Yi(0,0,0,0);function l(t){if(!t.isFinite()||t.isZero()){return}if(a.length===0){var e=new Yi(0,0,0,0);e.copy(t);a.push(e)}else{var r=false;var i=Infinity;var l=0;for(var u=0;u<a.length;++u){var f=a[u];if(f.intersect(t)){var h=new Yi(0,0,0,0);h.copy(f);h.union(t);a[u]=h;r=true;break}else if(o){s.copy(t);s.union(f);var v=t.width*t.height;var c=f.width*f.height;var p=s.width*s.height;var d=p-v-c;if(d<i){i=d;l=u}}}if(o){a[l].union(t);r=true}if(!r){var e=new Yi(0,0,0,0);e.copy(t);a.push(e)}if(!o){o=a.length>=n}}}for(var u=this.__startIndex;u<this.__endIndex;++u){var f=t[u];if(f){var h=f.shouldBePainted(r,i,true,true);var v=f.__isRendered&&(f.__dirty&Ve||!h)?f.getPrevPaintRect():null;if(v){l(v)}var c=h&&(f.__dirty&Ve||!f.__isRendered)?f.getPaintRect():null;if(c){l(c)}}}for(var u=this.__prevStartIndex;u<this.__prevEndIndex;++u){var f=e[u];var h=f.shouldBePainted(r,i,true,true);if(f&&(!h||!f.__zr)&&f.__isRendered){var v=f.getPrevPaintRect();if(v){l(v)}}}var p;do{p=false;for(var u=0;u<a.length;){if(a[u].isZero()){a.splice(u,1);continue}for(var d=u+1;d<a.length;){if(a[u].intersect(a[d])){p=true;a[u].union(a[d]);a.splice(d,1)}else{d++}}u++}}while(p);this._paintRects=a;return a};e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()};e.prototype.resize=function(t,e){var r=this.dpr;var i=this.dom;var a=i.style;var n=this.domBack;if(a){a.width=t+"px";a.height=e+"px"}i.width=t*r;i.height=e*r;if(n){n.width=t*r;n.height=e*r;if(r!==1){this.ctxBack.scale(r,r)}}};e.prototype.clear=function(t,e,r){var i=this.dom;var a=this.ctx;var n=i.width;var o=i.height;e=e||this.clearColor;var s=this.motionBlur&&!t;var l=this.lastFrameAlpha;var u=this.dpr;var f=this;if(s){if(!this.domBack){this.createBackBuffer()}this.ctxBack.globalCompositeOperation="copy";this.ctxBack.drawImage(i,0,0,n/u,o/u)}var h=this.domBack;function v(t,r,i,n){a.clearRect(t,r,i,n);if(e&&e!=="transparent"){var o=void 0;if(J(e)){o=e.__canvasGradient||fx(a,e,{x:0,y:0,width:i,height:n});e.__canvasGradient=o}else if(Q(e)){o=xx(a,e,{dirty:function(){f.setUnpainted();f.__painter.refresh()}})}a.save();a.fillStyle=o||e;a.fillRect(t,r,i,n);a.restore()}if(s){a.save();a.globalAlpha=l;a.drawImage(h,t,r,i,n);a.restore()}}if(!r||s){v(0,0,n,o)}else if(r.length){R(r,function(t){v(t.x*u,t.y*u,t.width*u,t.height*u)})}};return e}(Zt);var OC=1e5;var RC=314159;var NC=.01;var EC=.001;function zC(t){return parseInt(t,10)}function BC(t){if(!t){return false}if(t.__builtin__){return true}if(typeof t.resize!=="function"||typeof t.refresh!=="function"){return false}return true}function VC(t,e){var r=document.createElement("div");r.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";";return r}var GC=function(){function t(t,e,r,i){this.type="canvas";this._zlevelList=[];this._prevDisplayList=[];this._layers={};this._layerConfig={};this._needsManuallyCompositing=false;this.type="canvas";var a=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=r=C({},r||{});this.dpr=r.devicePixelRatio||vi;this._singleCanvas=a;this.root=t;var n=t.style;if(n){n.webkitTapHighlightColor="transparent";n.webkitUserSelect="none";n.userSelect="none";n["-webkit-touch-callout"]="none";t.innerHTML=""}this.storage=e;var o=this._zlevelList;this._prevDisplayList=[];var s=this._layers;if(!a){this._width=this._getSize(0);this._height=this._getSize(1);var l=this._domRoot=VC(this._width,this._height);t.appendChild(l)}else{var u=t;var f=u.width;var h=u.height;if(r.width!=null){f=r.width}if(r.height!=null){h=r.height}this.dpr=r.devicePixelRatio||1;u.width=f*this.dpr;u.height=h*this.dpr;this._width=f;this._height=h;var v=new PC(u,this,this.dpr);v.__builtin__=true;v.initContext();s[RC]=v;v.zlevel=RC;o.push(RC);this._domRoot=t}}t.prototype.getType=function(){return"canvas"};t.prototype.isSingleCanvas=function(){return this._singleCanvas};t.prototype.getViewportRoot=function(){return this._domRoot};t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t){return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}}};t.prototype.refresh=function(t){var e=this.storage.getDisplayList(true);var r=this._prevDisplayList;var i=this._zlevelList;this._redrawId=Math.random();this._paintList(e,r,t,this._redrawId);for(var a=0;a<i.length;a++){var n=i[a];var o=this._layers[n];if(!o.__builtin__&&o.refresh){var s=a===0?this._backgroundColor:null;o.refresh(s)}}if(this._opts.useDirtyRect){this._prevDisplayList=e.slice()}return this};t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(false))};t.prototype._paintHoverList=function(t){var e=t.length;var r=this._hoverlayer;r&&r.clear();if(!e){return}var i={inHover:true,viewWidth:this._width,viewHeight:this._height};var a;for(var n=0;n<e;n++){var o=t[n];if(o.__inHover){if(!r){r=this._hoverlayer=this.getLayer(OC)}if(!a){a=r.ctx;a.save()}Gx(a,o,i,n===e-1)}}if(a){a.restore()}};t.prototype.getHoverLayer=function(){return this.getLayer(OC)};t.prototype.paintOne=function(t,e){Vx(t,e)};t.prototype._paintList=function(t,e,r,i){if(this._redrawId!==i){return}r=r||false;this._updateLayerStatus(t);var a=this._doPaintList(t,e,r),n=a.finished,o=a.needsRefreshHover;if(this._needsManuallyCompositing){this._compositeManually()}if(o){this._paintHoverList(t)}if(!n){var s=this;Ze(function(){s._paintList(t,e,r,i)})}else{this.eachLayer(function(t){t.afterBrush&&t.afterBrush()})}};t.prototype._compositeManually=function(){var t=this.getLayer(RC).ctx;var e=this._domRoot.width;var r=this._domRoot.height;t.clearRect(0,0,e,r);this.eachBuiltinLayer(function(i){if(i.virtual){t.drawImage(i.dom,0,0,e,r)}})};t.prototype._doPaintList=function(t,e,r){var i=this;var a=[];var n=this._opts.useDirtyRect;for(var o=0;o<this._zlevelList.length;o++){var l=this._zlevelList[o];var u=this._layers[l];if(u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||r)){a.push(u)}}var f=true;var h=false;var v=function(o){var s=a[o];var l=s.ctx;var u=n&&s.createRepaintRects(t,e,c._width,c._height);var v=r?s.__startIndex:s.__drawIndex;var p=!r&&s.incremental&&Date.now;var d=p&&Date.now();var g=s.zlevel===c._zlevelList[0]?c._backgroundColor:null;if(s.__startIndex===s.__endIndex){s.clear(false,g,u)}else if(v===s.__startIndex){var y=t[v];if(!y.incremental||!y.notClear||r){s.clear(false,g,u)}}if(v===-1){console.error("For some unknown reason. drawIndex is -1");v=s.__startIndex}var m;var x=function(e){var r={inHover:false,allClipped:false,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(m=v;m<s.__endIndex;m++){var a=t[m];if(a.__inHover){h=true}i._doPaintEl(a,s,n,e,r,m===s.__endIndex-1);if(p){var o=Date.now()-d;if(o>15){break}}}if(r.prevElClipPaths){l.restore()}};if(u){if(u.length===0){m=s.__endIndex}else{var _=c.dpr;for(var b=0;b<u.length;++b){var w=u[b];l.save();l.beginPath();l.rect(w.x*_,w.y*_,w.width*_,w.height*_);l.clip();x(w);l.restore()}}}else{l.save();x();l.restore()}s.__drawIndex=m;if(s.__drawIndex<s.__endIndex){f=false}};var c=this;for(var p=0;p<a.length;p++){v(p)}if(s.wxa){R(this._layers,function(t){if(t&&t.ctx&&t.ctx.draw){t.ctx.draw()}})}return{finished:f,needsRefreshHover:h}};t.prototype._doPaintEl=function(t,e,r,i,a,n){var o=e.ctx;if(r){var s=t.getPaintRect();if(!i||s&&s.intersect(i)){Gx(o,t,a,n);t.setPrevPaintRect(s)}}else{Gx(o,t,a,n)}};t.prototype.getLayer=function(t,e){if(this._singleCanvas&&!this._needsManuallyCompositing){t=RC}var r=this._layers[t];if(!r){r=new PC("zr_"+t,this,this.dpr);r.zlevel=t;r.__builtin__=true;if(this._layerConfig[t]){I(r,this._layerConfig[t],true)}else if(this._layerConfig[t-NC]){I(r,this._layerConfig[t-NC],true)}if(e){r.virtual=e}this.insertLayer(t,r);r.initContext()}return r};t.prototype.insertLayer=function(t,e){var r=this._layers;var i=this._zlevelList;var a=i.length;var n=this._domRoot;var o=null;var s=-1;if(r[t]){S("ZLevel "+t+" has been used already");return}if(!BC(e)){S("Layer of zlevel "+t+" is not valid");return}if(a>0&&t>i[0]){for(s=0;s<a-1;s++){if(i[s]<t&&i[s+1]>t){break}}o=r[i[s]]}i.splice(s+1,0,t);r[t]=e;if(!e.virtual){if(o){var l=o.dom;if(l.nextSibling){n.insertBefore(e.dom,l.nextSibling)}else{n.appendChild(e.dom)}}else{if(n.firstChild){n.insertBefore(e.dom,n.firstChild)}else{n.appendChild(e.dom)}}}e.__painter=this};t.prototype.eachLayer=function(t,e){var r=this._zlevelList;for(var i=0;i<r.length;i++){var a=r[i];t.call(e,this._layers[a],a)}};t.prototype.eachBuiltinLayer=function(t,e){var r=this._zlevelList;for(var i=0;i<r.length;i++){var a=r[i];var n=this._layers[a];if(n.__builtin__){t.call(e,n,a)}}};t.prototype.eachOtherLayer=function(t,e){var r=this._zlevelList;for(var i=0;i<r.length;i++){var a=r[i];var n=this._layers[a];if(!n.__builtin__){t.call(e,n,a)}}};t.prototype.getLayers=function(){return this._layers};t.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=false});function e(t){if(a){if(a.__endIndex!==t){a.__dirty=true}a.__endIndex=t}}if(this._singleCanvas){for(var r=1;r<t.length;r++){var i=t[r];if(i.zlevel!==t[r-1].zlevel||i.incremental){this._needsManuallyCompositing=true;break}}}var a=null;var n=0;var o;var s;for(s=0;s<t.length;s++){var i=t[s];var l=i.zlevel;var u=void 0;if(o!==l){o=l;n=0}if(i.incremental){u=this.getLayer(l+EC,this._needsManuallyCompositing);u.incremental=true;n=1}else{u=this.getLayer(l+(n>0?NC:0),this._needsManuallyCompositing)}if(!u.__builtin__){S("ZLevel "+l+" has been used by unkown layer "+u.id)}if(u!==a){u.__used=true;if(u.__startIndex!==s){u.__dirty=true}u.__startIndex=s;if(!u.incremental){u.__drawIndex=s}else{u.__drawIndex=-1}e(s);a=u}if(i.__dirty&Ve&&!i.__inHover){u.__dirty=true;if(u.incremental&&u.__drawIndex<0){u.__drawIndex=s}}}e(s);this.eachBuiltinLayer(function(t,e){if(!t.__used&&t.getElementCount()>0){t.__dirty=true;t.__startIndex=t.__endIndex=t.__drawIndex=0}if(t.__dirty&&t.__drawIndex<0){t.__drawIndex=t.__startIndex}})};t.prototype.clear=function(){this.eachBuiltinLayer(this._clearLayer);return this};t.prototype._clearLayer=function(t){t.clear()};t.prototype.setBackgroundColor=function(t){this._backgroundColor=t;R(this._layers,function(t){t.setUnpainted()})};t.prototype.configLayer=function(t,e){if(e){var r=this._layerConfig;if(!r[t]){r[t]=e}else{I(r[t],e,true)}for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===t||a===t+NC){var n=this._layers[a];I(n,r[t],true)}}}};t.prototype.delLayer=function(t){var e=this._layers;var r=this._zlevelList;var i=e[t];if(!i){return}i.dom.parentNode.removeChild(i.dom);delete e[t];r.splice(k(r,t),1)};t.prototype.resize=function(t,e){if(!this._domRoot.style){if(t==null||e==null){return}this._width=t;this._height=e;this.getLayer(RC).resize(t,e)}else{var r=this._domRoot;r.style.display="none";var i=this._opts;t!=null&&(i.width=t);e!=null&&(i.height=e);t=this._getSize(0);e=this._getSize(1);r.style.display="";if(this._width!==t||e!==this._height){r.style.width=t+"px";r.style.height=e+"px";for(var a in this._layers){if(this._layers.hasOwnProperty(a)){this._layers[a].resize(t,e)}}this.refresh(true)}this._width=t;this._height=e}return this};t.prototype.clearLayer=function(t){var e=this._layers[t];if(e){e.clear()}};t.prototype.dispose=function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null};t.prototype.getRenderedCanvas=function(t){t=t||{};if(this._singleCanvas&&!this._compositeManually){return this._layers[RC].dom}var e=new PC("image",this,t.pixelRatio||this.dpr);e.initContext();e.clear(false,t.backgroundColor||this._backgroundColor);var r=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width;var a=e.dom.height;this.eachLayer(function(t){if(t.__builtin__){r.drawImage(t.dom,0,0,i,a)}else if(t.renderToCanvas){r.save();t.renderToCanvas(r);r.restore()}})}else{var n={inHover:false,viewWidth:this._width,viewHeight:this._height};var o=this.storage.getDisplayList(true);for(var s=0,l=o.length;s<l;s++){var u=o[s];Gx(r,u,n,s===l-1)}}return e.dom};t.prototype.getWidth=function(){return this._width};t.prototype.getHeight=function(){return this._height};t.prototype._getSize=function(t){var e=this._opts;var r=["width","height"][t];var i=["clientWidth","clientHeight"][t];var a=["paddingLeft","paddingTop"][t];var n=["paddingRight","paddingBottom"][t];if(e[r]!=null&&e[r]!=="auto"){return parseFloat(e[r])}var o=this.root;var s=document.defaultView.getComputedStyle(o);return(o[i]||zC(s[r])||zC(o.style[r]))-(zC(s[a])||0)-(zC(s[n])||0)|0};t.prototype.pathToImage=function(t,e){e=e||this.dpr;var r=document.createElement("canvas");var i=r.getContext("2d");var a=t.getBoundingRect();var n=t.style;var o=n.shadowBlur*e;var s=n.shadowOffsetX*e;var l=n.shadowOffsetY*e;var u=t.hasStroke()?n.lineWidth:0;var f=Math.max(u/2,-s+o);var h=Math.max(u/2,s+o);var v=Math.max(u/2,-l+o);var c=Math.max(u/2,l+o);var p=a.width+f+h;var d=a.height+v+c;r.width=p*e;r.height=d*e;i.scale(e,e);i.clearRect(0,0,p,d);i.dpr=e;var g={x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY,rotation:t.rotation,originX:t.originX,originY:t.originY};t.x=f-a.x;t.y=v-a.y;t.rotation=0;t.scaleX=1;t.scaleY=1;t.updateTransform();if(t){Gx(i,t,{inHover:false,viewWidth:this._width,viewHeight:this._height},true)}var y=new Al({style:{x:0,y:0,image:r}});C(t,g);return y};return t}();function FC(t){t.registerPainter("canvas",GC)}var HC=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.hasSymbolVisual=true;return r}e.prototype.getInitialData=function(t){if("development"!=="production"){var e=t.coordinateSystem;if(e!=="polar"&&e!=="cartesian2d"){throw new Error("Line not support coordinateSystem besides cartesian and polar")}}return VS(null,this,{useEncodeDefaulter:true})};e.prototype.getLegendIcon=function(t){var e=new ya;var r=nx("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,false);e.add(r);r.setStyle(t.lineStyle);var i=this.getData().getVisual("symbol");var a=this.getData().getVisual("symbolRotate");var n=i==="none"?"circle":i;var o=t.itemHeight*.8;var s=nx(n,(t.itemWidth-o)/2,(t.itemHeight-o)/2,o,o,t.itemStyle.fill);e.add(s);s.setStyle(t.itemStyle);var l=t.iconRotate==="inherit"?a:t.iconRotate||0;s.rotation=l*Math.PI/180;s.setOrigin([t.itemWidth/2,t.itemHeight/2]);if(n.indexOf("empty")>-1){s.style.stroke=s.style.fill;s.style.fill="#fff";s.style.lineWidth=2}return e};e.type="series.line";e.dependencies=["grid","polar"];e.defaultOption={zlevel:0,z:3,coordinateSystem:"cartesian2d",legendHoverLink:true,clip:true,label:{position:"top"},endLabel:{show:false,valueAnimation:true,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:true,lineStyle:{width:"bolder"}},step:false,smooth:false,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:true,showAllSymbol:"auto",connectNulls:false,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:Infinity,universalTransition:{divideShape:"clone"}};return e}(Oy);function WC(t,e){var r=t.mapDimensionsAll("defaultedLabel");var i=r.length;if(i===1){var a=wg(t,e,r[0]);return a!=null?a+"":null}else if(i){var n=[];for(var o=0;o<r.length;o++){n.push(wg(t,e,r[o]))}return n.join(" ")}}function UC(t,e){var r=t.mapDimensionsAll("defaultedLabel");if(!W(e)){return e+""}var i=[];for(var a=0;a<r.length;a++){var n=t.getDimensionIndex(r[a]);if(n>=0){i.push(e[n])}}return i.join(" ")}var YC=function(t){r(e,t);function e(e,r,i,a){var n=t.call(this)||this;n.updateData(e,r,i,a);return n}e.prototype._createSymbol=function(t,e,r,i,a){this.removeAll();var n=nx(t,-1,-1,2,2,null,a);n.attr({z2:100,culling:true,scaleX:i[0]/2,scaleY:i[1]/2});n.drift=XC;this._symbolType=t;this.add(n)};e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)};e.prototype.getSymbolType=function(){return this._symbolType};e.prototype.getSymbolPath=function(){return this.childAt(0)};e.prototype.highlight=function(){Nu(this.childAt(0))};e.prototype.downplay=function(){Eu(this.childAt(0))};e.prototype.setZ=function(t,e){var r=this.childAt(0);r.zlevel=t;r.z=e};e.prototype.setDraggable=function(t){var e=this.childAt(0);e.draggable=t;e.cursor=t?"move":e.cursor};e.prototype.updateData=function(t,r,i,a){this.silent=false;var n=t.getItemVisual(r,"symbol")||"circle";var o=t.hostModel;var s=e.getSymbolSize(t,r);var l=n!==this._symbolType;var u=a&&a.disableAnimation;if(l){var f=t.getItemVisual(r,"symbolKeepAspect");this._createSymbol(n,t,r,s,f)}else{var h=this.childAt(0);h.silent=false;var v={scaleX:s[0]/2,scaleY:s[1]/2};u?h.attr(v):Oh(h,v,o,r);Vh(h)}this._updateCommon(t,r,s,i,a);if(l){var h=this.childAt(0);if(!u){var v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}};h.scaleX=h.scaleY=0;h.style.opacity=0;Rh(h,v,o,r)}}if(u){this.childAt(0).stopAnimation("remove")}this._seriesModel=o};e.prototype._updateCommon=function(t,e,r,i,a){var n=this.childAt(0);var o=t.hostModel;var s;var l;var u;var f;var h;var v;var c;var p;if(i){s=i.emphasisItemStyle;l=i.blurItemStyle;u=i.selectItemStyle;f=i.focus;h=i.blurScope;v=i.labelStatesModels;c=i.hoverScale;p=i.cursorStyle}if(!i||t.hasItemOption){var d=i&&i.itemModel?i.itemModel:t.getItemModel(e);var g=d.getModel("emphasis");s=g.getModel("itemStyle").getItemStyle();u=d.getModel(["select","itemStyle"]).getItemStyle();l=d.getModel(["blur","itemStyle"]).getItemStyle();f=g.get("focus");h=g.get("blurScope");v=wv(d);c=g.getShallow("scale");p=d.getShallow("cursor")}var y=t.getItemVisual(e,"symbolRotate");n.attr("rotation",(y||0)*Math.PI/180||0);var m=sx(t.getItemVisual(e,"symbolOffset"),r);if(m){n.x=m[0];n.y=m[1]}p&&n.attr("cursor",p);var x=t.getItemVisual(e,"style");var _=x.fill;if(n instanceof Al){var b=n.style;n.useStyle(C({image:b.image,x:b.x,y:b.y,width:b.width,height:b.height},x))}else{if(n.__isEmptyBrush){n.useStyle(C({},x))}else{n.useStyle(x)}n.style.decal=null;n.setColor(_,a&&a.symbolInnerColor);n.style.strokeNoScale=true}var w=t.getItemVisual(e,"liftZ");var S=this._z2;if(w!=null){if(S==null){this._z2=n.z2;n.z2+=w}}else if(S!=null){n.z2=S;this._z2=null}var M=a&&a.useNameLabel;bv(n,v,{labelFetcher:o,labelDataIndex:e,defaultText:I,inheritColor:_,defaultOpacity:x.opacity});function I(e){return M?t.getName(e):WC(t,e)}this._sizeX=r[0]/2;this._sizeY=r[1]/2;var T=n.ensureState("emphasis");T.style=s;n.ensureState("select").style=u;n.ensureState("blur").style=l;if(c){var D=Math.max(1.1,3/this._sizeY);T.scaleX=this._sizeX*D;T.scaleY=this._sizeY*D}this.setSymbolScale(1);Ju(this,f,h)};e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t};e.prototype.fadeOut=function(t,e){var r=this.childAt(0);var i=this._seriesModel;var a=$l(this).dataIndex;var n=e&&e.animation;this.silent=r.silent=true;if(e&&e.fadeLabel){var o=r.getTextContent();if(o){Eh(o,{style:{opacity:0}},i,{dataIndex:a,removeOpt:n,cb:function(){r.removeTextContent()}})}}else{r.removeTextContent()}Eh(r,{style:{opacity:0},scaleX:0,scaleY:0},i,{dataIndex:a,cb:t,removeOpt:n})};e.getSymbolSize=function(t,e){return ox(t.getItemVisual(e,"symbolSize"))};return e}(ya);function XC(t,e){this.parent.drift(t,e)}function ZC(t,e,r,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(r))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&t.getItemVisual(r,"symbol")!=="none"}function jC(t){if(t!=null&&!j(t)){t={isIgnore:t}}return t||{}}function qC(t){var e=t.hostModel;var r=e.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),hoverScale:r.get("scale"),labelStatesModels:wv(e),cursorStyle:e.get("cursor")}}var KC=function(){function t(t){this.group=new ya;this._SymbolCtor=t||YC}t.prototype.updateData=function(t,e){e=jC(e);var r=this.group;var i=t.hostModel;var a=this._data;var n=this._SymbolCtor;var o=e.disableAnimation;var s=qC(t);var l={disableAnimation:o};var u=e.getSymbolPoint||function(e){return t.getItemLayout(e)};if(!a){r.removeAll()}t.diff(a).add(function(i){var a=u(i);if(ZC(t,a,i,e)){var o=new n(t,i,s,l);o.setPosition(a);t.setItemGraphicEl(i,o);r.add(o)}}).update(function(f,h){var v=a.getItemGraphicEl(h);var c=u(f);if(!ZC(t,c,f,e)){r.remove(v);return}var p=t.getItemVisual(f,"symbol")||"circle";var d=v&&v.getSymbolType&&v.getSymbolType();if(!v||d&&d!==p){r.remove(v);v=new n(t,f,s,l);v.setPosition(c)}else{v.updateData(t,f,s,l);var g={x:c[0],y:c[1]};o?v.attr(g):Oh(v,g,i)}r.add(v);t.setItemGraphicEl(f,v)}).remove(function(t){var e=a.getItemGraphicEl(t);e&&e.fadeOut(function(){r.remove(e)})}).execute();this._getSymbolPoint=u;this._data=t};t.prototype.isPersistent=function(){return true};t.prototype.updateLayout=function(){var t=this;var e=this._data;if(e){e.eachItemGraphicEl(function(e,r){var i=t._getSymbolPoint(r);e.setPosition(i);e.markRedraw()})}};t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=qC(t);this._data=null;this.group.removeAll()};t.prototype.incrementalUpdate=function(t,e,r){r=jC(r);function i(t){if(!t.isGroup){t.incremental=true;t.ensureState("emphasis").hoverLayer=true}}for(var a=t.start;a<t.end;a++){var n=e.getItemLayout(a);if(ZC(e,n,a,r)){var o=new this._SymbolCtor(e,a,this._seriesScope);o.traverse(i);o.setPosition(n);this.group.add(o);e.setItemGraphicEl(a,o)}}};t.prototype.remove=function(t){var e=this.group;var r=this._data;if(r&&t){r.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})})}else{e.removeAll()}};return t}();function $C(t,e,r){var i=t.getBaseAxis();var a=t.getOtherAxis(i);var n=JC(a,r);var o=i.dim;var s=a.dim;var l=e.mapDimension(s);var u=e.mapDimension(o);var f=s==="x"||s==="radius"?1:0;var h=N(t.dimensions,function(t){return e.mapDimension(t)});var v=false;var c=e.getCalculationInfo("stackResultDimension");if(NS(e,h[0])){v=true;h[0]=c}if(NS(e,h[1])){v=true;h[1]=c}return{dataDimsForPoint:h,valueStart:n,valueAxisDim:s,baseAxisDim:o,stacked:!!v,valueDim:l,baseDim:u,baseDataOffset:f,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function JC(t,e){var r=0;var i=t.scale.getExtent();if(e==="start"){r=i[0]}else if(e==="end"){r=i[1]}else{if(i[0]>0){r=i[0]}else if(i[1]<0){r=i[1]}}return r}function QC(t,e,r,i){var a=NaN;if(t.stacked){a=r.get(r.getCalculationInfo("stackedOverDimension"),i)}if(isNaN(a)){a=t.valueStart}var n=t.baseDataOffset;var o=[];o[n]=r.get(t.baseDim,i);o[1-n]=a;return e.dataToPoint(o)}var tD=typeof Float32Array!=="undefined";var eD=!tD?Array:Float32Array;function rD(t){if(W(t)){return tD?new Float32Array(t):t}return new eD(t)}function iD(t,e){var r=[];e.diff(t).add(function(t){r.push({cmd:"+",idx:t})}).update(function(t,e){r.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){r.push({cmd:"-",idx:t})}).execute();return r}function aD(t,e,r,i,a,n,o,s){var l=iD(t,e);var u=[];var f=[];var h=[];var v=[];var c=[];var p=[];var d=[];var g=$C(a,e,o);var y=t.getLayout("points")||[];var m=e.getLayout("points")||[];for(var x=0;x<l.length;x++){var _=l[x];var b=true;var w=void 0;var S=void 0;switch(_.cmd){case"=":w=_.idx*2;S=_.idx1*2;var M=y[w];var I=y[w+1];var T=m[S];var C=m[S+1];if(isNaN(M)||isNaN(I)){M=T;I=C}u.push(M,I);f.push(T,C);h.push(r[w],r[w+1]);v.push(i[S],i[S+1]);d.push(e.getRawIndex(_.idx1));break;case"+":var D=_.idx;var A=g.dataDimsForPoint;var k=a.dataToPoint([e.get(A[0],D),e.get(A[1],D)]);S=D*2;u.push(k[0],k[1]);f.push(m[S],m[S+1]);var L=QC(g,a,e,D);h.push(L[0],L[1]);v.push(i[S],i[S+1]);d.push(e.getRawIndex(D));break;case"-":b=false}if(b){c.push(_);p.push(p.length)}}p.sort(function(t,e){return d[t]-d[e]});var P=u.length;var O=rD(P);var R=rD(P);var N=rD(P);var E=rD(P);var z=[];for(var x=0;x<p.length;x++){var B=p[x];var V=x*2;var G=B*2;O[V]=u[G];O[V+1]=u[G+1];R[V]=f[G];R[V+1]=f[G+1];N[V]=h[G];N[V+1]=h[G+1];E[V]=v[G];E[V+1]=v[G+1];z[x]=c[B]}return{current:O,next:R,stackedOnCurrent:N,stackedOnNext:E,status:z}}var nD=Math.min;var oD=Math.max;function sD(t,e){return isNaN(t)||isNaN(e)}function lD(t,e,r,i,a,n,o,s,l){var u;var f;var h;var v;var c;var p;var d=r;var g=0;for(;g<i;g++){var y=e[d*2];var m=e[d*2+1];if(d>=a||d<0){break}if(sD(y,m)){if(l){d+=n;continue}break}if(d===r){t[n>0?"moveTo":"lineTo"](y,m);h=y;v=m}else{var x=y-u;var _=m-f;if(x*x+_*_<.5){d+=n;continue}if(o>0){var b=d+n;var w=e[b*2];var S=e[b*2+1];var M=g+1;if(l){while(sD(w,S)&&M<i){M++;b+=n;w=e[b*2];S=e[b*2+1]}}var I=.5;var T=0;var C=0;var D=void 0;var A=void 0;if(M>=i||sD(w,S)){c=y;p=m}else{T=w-u;C=S-f;var k=y-u;var L=w-y;var P=m-f;var O=S-m;var R=void 0;var N=void 0;if(s==="x"){R=Math.abs(k);N=Math.abs(L);c=y-R*o;p=m;D=y+R*o;A=m}else if(s==="y"){R=Math.abs(P);N=Math.abs(O);c=y;p=m-R*o;D=y;A=m+R*o}else{R=Math.sqrt(k*k+P*P);N=Math.sqrt(L*L+O*O);I=N/(N+R);c=y-T*o*(1-I);p=m-C*o*(1-I);D=y+T*o*I;A=m+C*o*I;D=nD(D,oD(w,y));A=nD(A,oD(S,m));D=oD(D,nD(w,y));A=oD(A,nD(S,m));T=D-y;C=A-m;c=y-T*R/N;p=m-C*R/N;c=nD(c,oD(u,y));p=nD(p,oD(f,m));c=oD(c,nD(u,y));p=oD(p,nD(f,m));T=y-c;C=m-p;D=y+T*N/R;A=m+C*N/R}}t.bezierCurveTo(h,v,c,p,y,m);h=D;v=A}else{t.lineTo(y,m)}}u=y;f=m;d+=n}return g}var uD=function(){function t(){this.smooth=0;this.smoothConstraint=true}return t}();var fD=function(t){r(e,t);function e(e){var r=t.call(this,e)||this;r.type="ec-polyline";return r}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new uD};e.prototype.buildPath=function(t,e){var r=e.points;var i=0;var a=r.length/2;if(e.connectNulls){for(;a>0;a--){if(!sD(r[a*2-2],r[a*2-1])){break}}for(;i<a;i++){if(!sD(r[i*2],r[i*2+1])){break}}}while(i<a){i+=lD(t,r,i,a,a,1,e.smooth,e.smoothMonotone,e.connectNulls)+1}};e.prototype.getPointOn=function(t,e){if(!this.path){this.createPathProxy();this.buildPath(this.path,this.shape)}var r=this.path;var i=r.data;var a=Js.CMD;var n;var o;var s=e==="x";var l=[];for(var u=0;u<i.length;){var f=i[u++];var h=void 0;var v=void 0;var c=void 0;var p=void 0;var d=void 0;var g=void 0;var y=void 0;switch(f){case a.M:n=i[u++];o=i[u++];break;case a.L:h=i[u++];v=i[u++];y=s?(t-n)/(h-n):(t-o)/(v-o);if(y<=1&&y>=0){var m=s?(v-o)*y+o:(h-n)*y+n;return s?[t,m]:[m,t]}n=h;o=v;break;case a.C:h=i[u++];v=i[u++];c=i[u++];p=i[u++];d=i[u++];g=i[u++];var x=s?os(n,h,c,d,t,l):os(o,v,p,g,t,l);if(x>0){for(var _=0;_<x;_++){var b=l[_];if(b<=1&&b>=0){var m=s?as(o,v,p,g,b):as(n,h,c,d,b);return s?[t,m]:[m,t]}}}n=d;o=g;break}}};return e}(Sl);var hD=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(uD);var vD=function(t){r(e,t);function e(e){var r=t.call(this,e)||this;r.type="ec-polygon";return r}e.prototype.getDefaultShape=function(){return new hD};e.prototype.buildPath=function(t,e){var r=e.points;var i=e.stackedOnPoints;var a=0;var n=r.length/2;var o=e.smoothMonotone;if(e.connectNulls){for(;n>0;n--){if(!sD(r[n*2-2],r[n*2-1])){break}}for(;a<n;a++){if(!sD(r[a*2],r[a*2+1])){break}}}while(a<n){var s=lD(t,r,a,n,n,1,e.smooth,o,e.connectNulls);lD(t,i,a+s-1,s,n,-1,e.stackedOnSmooth,o,e.connectNulls);a+=s+1;t.closePath()}};return e}(Sl);function cD(t,e,r,i,a){var n=t.getArea();var o=n.x;var s=n.y;var l=n.width;var u=n.height;var f=r.get(["lineStyle","width"])||2;o-=f/2;s-=f/2;l+=f;u+=f;o=Math.floor(o);l=Math.round(l);var h=new zl({shape:{x:o,y:s,width:l,height:u}});if(e){var v=t.getBaseAxis();var c=v.isHorizontal();var p=v.inverse;if(c){if(p){h.shape.x+=l}h.shape.width=0}else{if(!p){h.shape.y+=u}h.shape.height=0}var d=typeof a==="function"?function(t){a(t,h)}:null;Rh(h,{shape:{width:l,height:u,x:o,y:s}},r,null,i,d)}return h}function pD(t,e,r){var i=t.getArea();var a=Ea(i.r0,1);var n=Ea(i.r,1);var o=new Qf({shape:{cx:Ea(t.cx,1),cy:Ea(t.cy,1),r0:a,r:n,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});if(e){var s=t.getBaseAxis().dim==="angle";if(s){o.shape.endAngle=i.startAngle}else{o.shape.r=a}Rh(o,{shape:{endAngle:i.endAngle,r:n}},r)}return o}function dD(t,e,r,i,a){if(!t){return null}else if(t.type==="polar"){return pD(t,e,r)}else if(t.type==="cartesian2d"){return cD(t,e,r,i,a)}return null}function gD(t,e){return t.type===e}function yD(t,e){if(t.length!==e.length){return}for(var r=0;r<t.length;r++){if(t[r]!==e[r]){return}}return true}function mD(t){var e=Infinity;var r=Infinity;var i=-Infinity;var a=-Infinity;for(var n=0;n<t.length;){var o=t[n++];var s=t[n++];if(!isNaN(o)){e=Math.min(o,e);i=Math.max(o,i)}if(!isNaN(s)){r=Math.min(s,r);a=Math.max(s,a)}}return[[e,r],[i,a]]}function xD(t,e){var r=mD(t),i=r[0],a=r[1];var n=mD(e),o=n[0],s=n[1];return Math.max(Math.abs(i[0]-o[0]),Math.abs(i[1]-o[1]),Math.abs(a[0]-s[0]),Math.abs(a[1]-s[1]))}function _D(t){return typeof t==="number"?t:t?.5:0}function bD(t,e,r){if(!r.valueDim){return[]}var i=e.count();var a=rD(i*2);for(var n=0;n<i;n++){var o=QC(r,t,e,n);a[n*2]=o[0];a[n*2+1]=o[1]}return a}function wD(t,e,r){var i=e.getBaseAxis();var a=i.dim==="x"||i.dim==="radius"?0:1;var n=[];var o=0;var s=[];var l=[];var u=[];for(;o<t.length-2;o+=2){u[0]=t[o+2];u[1]=t[o+3];l[0]=t[o];l[1]=t[o+1];n.push(l[0],l[1]);switch(r){case"end":s[a]=u[a];s[1-a]=l[1-a];n.push(s[0],s[1]);break;case"middle":var f=(l[a]+u[a])/2;var h=[];s[a]=h[a]=f;s[1-a]=l[1-a];h[1-a]=u[1-a];n.push(s[0],s[1]);n.push(h[0],h[1]);break;default:s[a]=l[a];s[1-a]=u[1-a];n.push(s[0],s[1])}}n.push(t[o++],t[o++]);return n}function SD(t,e){var r=t.getVisual("visualMeta");if(!r||!r.length||!t.count()){return}if(e.type!=="cartesian2d"){if("development"!=="production"){console.warn("Visual map on line style is only supported on cartesian2d.")}return}var i;var a;for(var n=r.length-1;n>=0;n--){var o=t.getDimensionInfo(r[n].dimension);i=o&&o.coordDim;if(i==="x"||i==="y"){a=r[n];break}}if(!a){if("development"!=="production"){console.warn("Visual map on line style only support x or y dimension.")}return}var s=e.getAxis(i);var l=s.scale.getExtent();var u=N(a.stops,function(t){var e=s.toGlobalCoord(s.dataToCoord(t.value));isNaN(e)||isFinite(e)||(e=s.toGlobalCoord(s.dataToCoord(l[+(e<0)])));return{offset:0,coord:e,color:t.color}});var f=u.length;var h=a.outerColors.slice();if(f&&u[0].coord>u[f-1].coord){u.reverse();h.reverse()}var v=10;var c=u[0].coord-v;var p=u[f-1].coord+v;var d=p-c;if(d<.001){return"transparent"}R(u,function(t){t.offset=(t.coord-c)/d});u.push({offset:f?u[f-1].offset:.5,color:h[1]||"transparent"});u.unshift({offset:f?u[0].offset:.5,color:h[0]||"transparent"});var g=new bh(0,0,0,0,u,true);g[i]=c;g[i+"2"]=p;return g}function MD(t,e,r){var i=t.get("showAllSymbol");var a=i==="auto";if(i&&!a){return}var n=r.getAxesByScale("ordinal")[0];if(!n){return}if(a&&ID(n,e)){return}var o=e.mapDimension(n.dim);var s={};R(n.getViewLabels(),function(t){var e=n.scale.getRawOrdinalNumber(t.tickValue);s[e]=1});return function(t){return!s.hasOwnProperty(e.get(o,t))}}function ID(t,e){var r=t.getExtent();var i=Math.abs(r[1]-r[0])/t.scale.count();isNaN(i)&&(i=0);var a=e.count();var n=Math.max(1,Math.round(a/5));for(var o=0;o<a;o+=n){if(YC.getSymbolSize(e,o)[t.isHorizontal()?1:0]*1.5>i){return false}}return true}function TD(t,e){return isNaN(t)||isNaN(e)}function CD(t){var e=t.length/2;for(;e>0;e--){if(!TD(t[e*2-2],t[e*2-1])){break}}return e-1}function DD(t,e){return[t[e*2],t[e*2+1]]}function AD(t,e,r){var i=t.length/2;var a=r==="x"?0:1;var n;var o;var s=0;var l=-1;for(var u=0;u<i;u++){o=t[u*2+a];if(isNaN(o)||isNaN(t[u*2+1-a])){continue}if(u===0){n=o;continue}if(n<=e&&o>=e||n>=e&&o<=e){l=u;break}s=u;n=o}return{range:[s,l],t:(e-n)/(o-n)}}function kD(t){if(t.get(["endLabel","show"])){return true}for(var e=0;e<nu.length;e++){if(t.get([nu[e],"endLabel","show"])){return true}}return false}function LD(t,e,r,i){if(gD(e,"cartesian2d")){var a=i.getModel("endLabel");var n=a.get("valueAnimation");var o=i.getData();var s={lastFrameIndex:0};var l=kD(i)?function(r,i){t._endLabelOnDuring(r,i,o,s,n,a,e)}:null;var u=e.getBaseAxis().isHorizontal();var f=cD(e,r,i,function(){var e=t._endLabel;if(e&&r){if(s.originalX!=null){e.attr({x:s.originalX,y:s.originalY})}}},l);if(!i.get("clip",true)){var h=f.shape;var v=Math.max(h.width,h.height);if(u){h.y-=v;h.height+=v*2}else{h.x-=v;h.width+=v*2}}if(l){l(1,f)}return f}else{if("development"!=="production"){if(i.get(["endLabel","show"])){console.warn("endLabel is not supported for lines in polar systems.")}}return pD(e,r,i)}}function PD(t,e){var r=e.getBaseAxis();var i=r.isHorizontal();var a=r.inverse;var n=i?a?"right":"left":"center";var o=i?"middle":a?"top":"bottom";return{normal:{align:t.get("align")||n,verticalAlign:t.get("verticalAlign")||o}}}var OD=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.init=function(){var t=new ya;var e=new KC;this.group.add(e.group);this._symbolDraw=e;this._lineGroup=t};e.prototype.render=function(t,e,r){var i=this;var a=t.coordinateSystem;var n=this.group;var o=t.getData();var s=t.getModel("lineStyle");var l=t.getModel("areaStyle");var u=o.getLayout("points")||[];var f=a.type==="polar";var h=this._coordSys;var v=this._symbolDraw;var c=this._polyline;var p=this._polygon;var d=this._lineGroup;var g=t.get("animation");var y=!l.isEmpty();var m=l.get("origin");var x=$C(a,o,m);var _=y&&bD(a,o,x);var b=t.get("showSymbol");var w=b&&!f&&MD(t,o,a);var S=this._data;S&&S.eachItemGraphicEl(function(t,e){if(t.__temp){n.remove(t);S.setItemGraphicEl(e,null)}});if(!b){v.remove()}n.add(d);var M=!f?t.get("step"):false;var I;if(a&&a.getArea&&t.get("clip",true)){I=a.getArea();if(I.width!=null){I.x-=.1;I.y-=.1;I.width+=.2;I.height+=.2}else if(I.r0){I.r0-=.5;I.r+=.5}}this._clipShapeForSymbol=I;var T=SD(o,a)||o.getVisual("style")[o.getVisual("drawType")];if(!(c&&h.type===a.type&&M===this._step)){b&&v.updateData(o,{isIgnore:w,clipShape:I,disableAnimation:true,getSymbolPoint:function(t){return[u[t*2],u[t*2+1]]}});g&&this._initSymbolLabelAnimation(o,a,I);if(M){u=wD(u,a,M);if(_){_=wD(_,a,M)}}c=this._newPolyline(u);if(y){p=this._newPolygon(u,_)}if(!f){this._initOrUpdateEndLabel(t,a,ep(T))}d.setClipPath(LD(this,a,true,t))}else{if(y&&!p){p=this._newPolygon(u,_)}else if(p&&!y){d.remove(p);p=this._polygon=null}if(!f){this._initOrUpdateEndLabel(t,a,ep(T))}d.setClipPath(LD(this,a,false,t));b&&v.updateData(o,{isIgnore:w,clipShape:I,disableAnimation:true,getSymbolPoint:function(t){return[u[t*2],u[t*2+1]]}});if(!yD(this._stackedOnPoints,_)||!yD(this._points,u)){if(g){this._doUpdateAnimation(o,_,a,r,M,m)}else{if(M){u=wD(u,a,M);if(_){_=wD(_,a,M)}}c.setShape({points:u});p&&p.setShape({points:u,stackedOnPoints:_})}}}var C=t.get(["emphasis","focus"]);var A=t.get(["emphasis","blurScope"]);c.useStyle(D(s.getLineStyle(),{fill:"none",stroke:T,lineJoin:"bevel"}));rf(c,t,"lineStyle");if(c.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var k=c.getState("emphasis").style;k.lineWidth=+c.style.lineWidth+1}$l(c).seriesIndex=t.seriesIndex;Ju(c,C,A);var L=_D(t.get("smooth"));var P=t.get("smoothMonotone");var O=t.get("connectNulls");c.setShape({smooth:L,smoothMonotone:P,connectNulls:O});if(p){var R=o.getCalculationInfo("stackedOnSeries");var N=0;p.useStyle(D(l.getAreaStyle(),{fill:T,opacity:.7,lineJoin:"bevel",decal:o.getVisual("style").decal}));if(R){N=_D(R.get("smooth"))}p.setShape({smooth:L,stackedOnSmooth:N,smoothMonotone:P,connectNulls:O});rf(p,t,"areaStyle");$l(p).seriesIndex=t.seriesIndex;Ju(p,C,A)}var E=function(t){i._changePolyState(t)};o.eachItemGraphicEl(function(t){t&&(t.onHoverStateChange=E)});this._polyline.onHoverStateChange=E;this._data=o;this._coordSys=a;this._stackedOnPoints=_;this._points=u;this._step=M;this._valueOrigin=m};e.prototype.dispose=function(){};e.prototype.highlight=function(t,e,r,i){var a=t.getData();var n=Gn(a,i);this._changePolyState("emphasis");if(!(n instanceof Array)&&n!=null&&n>=0){var o=a.getLayout("points");var s=a.getItemGraphicEl(n);if(!s){var l=o[n*2];var u=o[n*2+1];if(isNaN(l)||isNaN(u)){return}if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,u)){return}var f=t.get("zlevel");var h=t.get("z");s=new YC(a,n);s.x=l;s.y=u;s.setZ(f,h);var v=s.getSymbolPath().getTextContent();if(v){v.zlevel=f;v.z=h;v.z2=this._polyline.z2+1}s.__temp=true;a.setItemGraphicEl(n,s);s.stopSymbolAnimation(true);this.group.add(s)}s.highlight()}else{Xy.prototype.highlight.call(this,t,e,r,i)}};e.prototype.downplay=function(t,e,r,i){var a=t.getData();var n=Gn(a,i);this._changePolyState("normal");if(n!=null&&n>=0){var o=a.getItemGraphicEl(n);if(o){if(o.__temp){a.setItemGraphicEl(n,null);this.group.remove(o)}else{o.downplay()}}}else{Xy.prototype.downplay.call(this,t,e,r,i)}};e.prototype._changePolyState=function(t){var e=this._polygon;Tu(this._polyline,t);e&&Tu(e,t)};e.prototype._newPolyline=function(t){var e=this._polyline;if(e){this._lineGroup.remove(e)}e=new fD({shape:{points:t},segmentIgnoreThreshold:2,z2:10});this._lineGroup.add(e);this._polyline=e;return e};e.prototype._newPolygon=function(t,e){var r=this._polygon;if(r){this._lineGroup.remove(r)}r=new vD({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2});this._lineGroup.add(r);this._polygon=r;return r};e.prototype._initSymbolLabelAnimation=function(t,e,r){var i;var a;var n=e.getBaseAxis();var o=n.inverse;if(e.type==="cartesian2d"){i=n.isHorizontal();a=false}else if(e.type==="polar"){i=n.dim==="angle";a=true}var s=t.hostModel;var l=s.get("animationDuration");if(typeof l==="function"){l=l(null)}var u=s.get("animationDelay")||0;var f=typeof u==="function"?u(null):u;t.eachItemGraphicEl(function(t,n){var s=t;if(s){var h=[t.x,t.y];var v=void 0;var c=void 0;var p=void 0;if(r){if(a){var d=r;var g=e.pointToCoord(h);if(i){v=d.startAngle;c=d.endAngle;p=-g[1]/180*Math.PI}else{v=d.r0;c=d.r;p=g[0]}}else{var y=r;if(i){v=y.x;c=y.x+y.width;p=t.x}else{v=y.y+y.height;c=y.y;p=t.y}}}var m=c===v?0:(p-v)/(c-v);if(o){m=1-m}var x=typeof u==="function"?u(n):l*m+f;var _=s.getSymbolPath();var b=_.getTextContent();s.attr({scaleX:0,scaleY:0});s.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:true,delay:x});if(b){b.animateFrom({style:{opacity:0}},{duration:300,delay:x})}_.disableLabelAnimation=true}})};e.prototype._initOrUpdateEndLabel=function(t,e,r){var i=t.getModel("endLabel");if(kD(t)){var a=t.getData();var n=this._polyline;var o=this._endLabel;if(!o){o=this._endLabel=new Fl({z2:200});o.ignoreClip=true;n.setTextContent(this._endLabel);n.disableLabelAnimation=true}var s=CD(a.getLayout("points"));if(s>=0){bv(n,wv(t,"endLabel"),{inheritColor:r,labelFetcher:t,labelDataIndex:s,defaultText:function(t,e,r){return r!=null?UC(a,r):WC(a,t)},enableTextSetter:true},PD(i,e));n.textConfig.position=null}}else if(this._endLabel){this._polyline.removeTextContent();this._endLabel=null}};e.prototype._endLabelOnDuring=function(t,e,r,i,a,n,o){var s=this._endLabel;var l=this._polyline;if(s){if(t<1&&i.originalX==null){i.originalX=s.x;i.originalY=s.y}var u=r.getLayout("points");var f=r.hostModel;var h=f.get("connectNulls");var v=n.get("precision");var c=n.get("distance")||0;var p=o.getBaseAxis();var d=p.isHorizontal();var g=p.inverse;var y=e.shape;var m=g?d?y.x:y.y+y.height:d?y.x+y.width:y.y;var x=(d?c:0)*(g?-1:1);var _=(d?0:-c)*(g?-1:1);var b=d?"x":"y";var w=AD(u,m,b);var S=w.range;var M=S[1]-S[0];var I=void 0;if(M>=1){if(M>1&&!h){var T=DD(u,S[0]);s.attr({x:T[0]+x,y:T[1]+_});a&&(I=f.getRawValue(S[0]))}else{var T=l.getPointOn(m,b);T&&s.attr({x:T[0]+x,y:T[1]+_});var C=f.getRawValue(S[0]);var D=f.getRawValue(S[1]);a&&(I=Jn(r,v,C,D,w.t))}i.lastFrameIndex=S[0]}else{var A=t===1||i.lastFrameIndex>0?S[0]:0;var T=DD(u,A);a&&(I=f.getRawValue(A));s.attr({x:T[0]+x,y:T[1]+_})}if(a){Pv(s).setLabelText(I)}}};e.prototype._doUpdateAnimation=function(t,e,r,i,a,n){var o=this._polyline;var s=this._polygon;var l=t.hostModel;var u=aD(this._data,t,this._stackedOnPoints,e,this._coordSys,r,this._valueOrigin);var f=u.current;var h=u.stackedOnCurrent;var v=u.next;var c=u.stackedOnNext;if(a){f=wD(u.current,r,a);h=wD(u.stackedOnCurrent,r,a);v=wD(u.next,r,a);c=wD(u.stackedOnNext,r,a)}if(xD(f,v)>3e3||s&&xD(h,c)>3e3){o.setShape({points:v});if(s){s.setShape({points:v,stackedOnPoints:c})}return}o.shape.__points=u.current;o.shape.points=f;var p={shape:{points:v}};if(u.current!==f){p.shape.__points=u.next}o.stopAnimation();Oh(o,p,l);if(s){s.setShape({points:f,stackedOnPoints:h});s.stopAnimation();Oh(s,{shape:{stackedOnPoints:c}},l);if(o.shape.points!==s.shape.points){s.shape.points=o.shape.points}}var d=[];var g=u.status;for(var y=0;y<g.length;y++){var m=g[y].cmd;if(m==="="){var x=t.getItemGraphicEl(g[y].idx1);if(x){d.push({el:x,ptIdx:y})}}}if(o.animators&&o.animators.length){o.animators[0].during(function(){s&&s.dirtyShape();var t=o.shape.__points;for(var e=0;e<d.length;e++){var r=d[e].el;var i=d[e].ptIdx*2;r.x=t[i];r.y=t[i+1];r.markRedraw()}})}};e.prototype.remove=function(t){var e=this.group;var r=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(true);r&&r.eachItemGraphicEl(function(t,i){if(t.__temp){e.remove(t);r.setItemGraphicEl(i,null)}});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null};e.type="line";return e}(Xy);function RD(t,e){return{seriesType:t,plan:Wy(),reset:function(t){var r=t.getData();var i=t.coordinateSystem;var a=t.pipelineContext;var n=e||a.large;if(!i){return}var o=N(i.dimensions,function(t){return r.mapDimension(t)}).slice(0,2);var s=o.length;var l=r.getCalculationInfo("stackResultDimension");if(NS(r,o[0])){o[0]=l}if(NS(r,o[1])){o[1]=l}var u=r.getStore();var f=r.getDimensionIndex(o[0]);var h=r.getDimensionIndex(o[1]);return s&&{progress:function(t,e){var r=t.end-t.start;var a=n&&rD(r*s);var o=[];var l=[];for(var v=t.start,c=0;v<t.end;v++){var p=void 0;if(s===1){var d=u.get(f,v);p=i.dataToPoint(d,null,l)}else{o[0]=u.get(f,v);o[1]=u.get(h,v);p=i.dataToPoint(o,null,l)}if(n){a[c++]=p[0];a[c++]=p[1]}else{e.setItemLayout(v,p.slice())}}n&&e.setLayout("points",a)}}}}}var ND={average:function(t){var e=0;var r=0;for(var i=0;i<t.length;i++){if(!isNaN(t[i])){e+=t[i];r++}}return r===0?NaN:e/r},sum:function(t){var e=0;for(var r=0;r<t.length;r++){e+=t[r]||0}return e},max:function(t){var e=-Infinity;for(var r=0;r<t.length;r++){t[r]>e&&(e=t[r])}return isFinite(e)?e:NaN},min:function(t){var e=Infinity;for(var r=0;r<t.length;r++){t[r]<e&&(e=t[r])}return isFinite(e)?e:NaN},nearest:function(t){return t[0]}};var ED=function(t){return Math.round(t.length/2)};function zD(t){return{seriesType:t,reset:function(t,e,r){var i=t.getData();var a=t.get("sampling");var n=t.coordinateSystem;var o=i.count();if(o>10&&n.type==="cartesian2d"&&a){var s=n.getBaseAxis();var l=n.getOtherAxis(s);var u=s.getExtent();var f=r.getDevicePixelRatio();var h=Math.abs(u[1]-u[0])*(f||1);var v=Math.round(o/h);if(v>1){if(a==="lttb"){t.setData(i.lttbDownSample(i.mapDimension(l.dim),1/v))}var c=void 0;if(typeof a==="string"){c=ND[a]}else if(typeof a==="function"){c=a}if(c){t.setData(i.downSample(i.mapDimension(l.dim),1/v,c,ED))}}}}}}function BD(t){t.registerChartView(OD);t.registerSeriesModel(HC);t.registerLayout(RD("line",true));t.registerVisual({seriesType:"line",reset:function(t){var e=t.getData();var r=t.getModel("lineStyle").getLineStyle();if(r&&!r.stroke){r.stroke=e.getVisual("style").fill}e.setVisual("legendLineStyle",r)}});t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,zD("line"))}var VD=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.getInitialData=function(t,e){return VS(null,this,{useEncodeDefaulter:true})};e.prototype.getMarkerPosition=function(t){var e=this.coordinateSystem;if(e&&e.clampData){var r=e.dataToPoint(e.clampData(t));var i=this.getData();var a=i.getLayout("offset");var n=i.getLayout("size");var o=e.getBaseAxis().isHorizontal()?0:1;r[o]+=a+n/2;return r}return[NaN,NaN]};e.type="series.__base_bar__";e.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,barMinHeight:0,barMinAngle:0,large:false,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"};return e}(Oy);Oy.registerClass(VD);var GD=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.getInitialData=function(){return VS(null,this,{useEncodeDefaulter:true,createInvertedIndices:!!this.get("realtimeSort",true)||null})};e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):false};e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold");var e=this.get("largeThreshold");if(e>t){t=e}return t};e.prototype.brushSelector=function(t,e,r){return r.rect(e.getItemLayout(t))};e.type="series.bar";e.dependencies=["grid","polar"];e.defaultOption=qv(VD.defaultOption,{clip:true,roundCap:false,showBackground:false,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:false});return e}(VD);var FD=function(){function t(){this.cx=0;this.cy=0;this.r0=0;this.r=0;this.startAngle=0;this.endAngle=Math.PI*2;this.clockwise=true}return t}();var HD=function(t){r(e,t);function e(e){var r=t.call(this,e)||this;r.type="sausage";return r}e.prototype.getDefaultShape=function(){return new FD};e.prototype.buildPath=function(t,e){var r=e.cx;var i=e.cy;var a=Math.max(e.r0||0,0);var n=Math.max(e.r,0);var o=(n-a)*.5;var s=a+o;var l=e.startAngle;var u=e.endAngle;var f=e.clockwise;var h=Math.cos(l);var v=Math.sin(l);var c=Math.cos(u);var p=Math.sin(u);var d=f?u-l<Math.PI*2:l-u<Math.PI*2;if(d){t.moveTo(h*a+r,v*a+i);t.arc(h*s+r,v*s+i,o,-Math.PI+l,l,!f)}t.arc(r,i,n,l,u,!f);t.moveTo(c*n+r,p*n+i);t.arc(c*s+r,p*s+i,o,u-Math.PI*2,u-Math.PI,!f);if(a!==0){t.arc(r,i,a,u,l,f);t.moveTo(h*a+r,p*a+i)}t.closePath()};return e}(Sl);function WD(t,e){e=e||{};var r=e.isRoundCap;return function(e,i,a){var n=i.position;if(!n||n instanceof Array){return na(e,i,a)}var o=t(n);var s=i.distance!=null?i.distance:5;var l=this.shape;var u=l.cx;var f=l.cy;var h=l.r;var v=l.r0;var c=(h+v)/2;var p=l.startAngle;var d=l.endAngle;var g=(p+d)/2;var y=r?Math.abs(h-v)/2:0;var m=Math.cos;var x=Math.sin;var _=u+h*m(p);var b=f+h*x(p);var w="left";var S="top";switch(o){case"startArc":_=u+(v-s)*m(g);b=f+(v-s)*x(g);w="center";S="top";break;case"insideStartArc":_=u+(v+s)*m(g);b=f+(v+s)*x(g);w="center";S="bottom";break;case"startAngle":_=u+c*m(p)+YD(p,s+y,false);b=f+c*x(p)+XD(p,s+y,false);w="right";S="middle";break;case"insideStartAngle":_=u+c*m(p)+YD(p,-s+y,false);b=f+c*x(p)+XD(p,-s+y,false);w="left";S="middle";break;case"middle":_=u+c*m(g);b=f+c*x(g);w="center";S="middle";break;case"endArc":_=u+(h+s)*m(g);b=f+(h+s)*x(g);w="center";S="bottom";break;case"insideEndArc":_=u+(h-s)*m(g);b=f+(h-s)*x(g);w="center";S="top";break;case"endAngle":_=u+c*m(d)+YD(d,s+y,true);b=f+c*x(d)+XD(d,s+y,true);w="left";S="middle";break;case"insideEndAngle":_=u+c*m(d)+YD(d,-s+y,true);b=f+c*x(d)+XD(d,-s+y,true);w="right";S="middle";break;default:return na(e,i,a)}e=e||{};e.x=_;e.y=b;e.align=w;e.verticalAlign=S;return e}}function UD(t,e,r,i){if(typeof i==="number"){t.setTextConfig({rotation:i});return}else if(W(e)){t.setTextConfig({rotation:0});return}var a=t.shape;var n=a.clockwise?a.startAngle:a.endAngle;var o=a.clockwise?a.endAngle:a.startAngle;var s=(n+o)/2;var l;var u=r(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=n;break;case"endAngle":case"insideEndAngle":l=o;break;default:t.setTextConfig({rotation:0});return}var f=Math.PI*1.5-l;if(u==="middle"&&f>Math.PI/2&&f<Math.PI*1.5){f-=Math.PI}t.setTextConfig({rotation:f})}function YD(t,e,r){return e*Math.sin(t)*(r?-1:1)}function XD(t,e,r){return e*Math.cos(t)*(r?1:-1)}var ZD=[0,0];var jD=Math.max;var qD=Math.min;function KD(t,e){var r=t.getArea&&t.getArea();if(gD(t,"cartesian2d")){var i=t.getBaseAxis();if(i.type!=="category"||!i.onBand){var a=e.getLayout("bandWidth");if(i.isHorizontal()){r.x-=a;r.width+=a*2}else{r.y-=a;r.height+=a*2}}}return r}var $D=function(t){r(e,t);function e(){var r=t.call(this)||this;r.type=e.type;r._isFirstFrame=true;return r}e.prototype.render=function(t,e,r,i){this._model=t;this._removeOnRenderedListener(r);this._updateDrawMode(t);var a=t.get("coordinateSystem");if(a==="cartesian2d"||a==="polar"){this._isLargeDraw?this._renderLarge(t,e,r):this._renderNormal(t,e,r,i)}else if("development"!=="production"){ln("Only cartesian2d and polar supported for bar.")}};e.prototype.incrementalPrepareRender=function(t){this._clear();this._updateDrawMode(t);this._updateLargeClip(t)};e.prototype.incrementalRender=function(t,e){this._incrementalRenderLarge(t,e)};e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;if(this._isLargeDraw==null||e!==this._isLargeDraw){this._isLargeDraw=e;this._clear()}};e.prototype._renderNormal=function(t,e,r,i){var a=this.group;var n=t.getData();var o=this._data;var s=t.coordinateSystem;var l=s.getBaseAxis();var u;if(s.type==="cartesian2d"){u=l.isHorizontal()}else if(s.type==="polar"){u=l.dim==="angle"}var f=t.isAnimationEnabled()?t:null;var h=tA(t,s);if(h){this._enableRealtimeSort(h,n,r)}var v=t.get("clip",true)||h;var c=KD(s,n);a.removeClipPath();var p=t.get("roundCap",true);var d=t.get("showBackground",true);var g=t.getModel("backgroundStyle");var y=g.get("borderRadius")||0;var m=[];var x=this._backgroundEls;var _=i&&i.isInitSort;var b=i&&i.type==="changeAxisOrder";function w(t){var e=oA[s.type](n,t);var r=xA(s,u,e);r.useStyle(g.getItemStyle());if(s.type==="cartesian2d"){r.setShape("r",y)}m[t]=r;return r}n.diff(o).add(function(e){var r=n.getItemModel(e);var i=oA[s.type](n,e,r);if(d){w(e)}if(!n.hasValue(e)||!nA[s.type](i)){return}var o=false;if(v){o=JD[s.type](c,i)}var g=QD[s.type](t,n,e,i,u,f,l.model,false,p);uA(g,n,e,r,i,t,u,s.type==="polar");if(_){g.attr({shape:i})}else if(h){eA(h,f,g,i,e,u,false,false)}else{Rh(g,{shape:i},t,e)}n.setItemGraphicEl(e,g);a.add(g);g.ignore=o}).update(function(e,r){var i=n.getItemModel(e);var S=oA[s.type](n,e,i);if(d){var M=void 0;if(x.length===0){M=w(r)}else{M=x[r];M.useStyle(g.getItemStyle());if(s.type==="cartesian2d"){M.setShape("r",y)}m[e]=M}var I=oA[s.type](n,e);var T=mA(u,I,s);Oh(M,{shape:T},f,e)}var C=o.getItemGraphicEl(r);if(!n.hasValue(e)||!nA[s.type](S)){a.remove(C);return}var D=false;if(v){D=JD[s.type](c,S);if(D){a.remove(C)}}if(!C){C=QD[s.type](t,n,e,S,u,f,l.model,!!C,p)}else{Vh(C)}if(!b){uA(C,n,e,i,S,t,u,s.type==="polar")}if(_){C.attr({shape:S})}else if(h){eA(h,f,C,S,e,u,true,b)}else{Oh(C,{shape:S},t,e,null)}n.setItemGraphicEl(e,C);C.ignore=D;a.add(C)}).remove(function(e){var r=o.getItemGraphicEl(e);r&&Bh(r,t,e)}).execute();var S=this._backgroundGroup||(this._backgroundGroup=new ya);S.removeAll();for(var M=0;M<m.length;++M){S.add(m[M])}a.add(S);this._backgroundEls=m;this._data=n};e.prototype._renderLarge=function(t,e,r){this._clear();cA(t,this.group);this._updateLargeClip(t)};e.prototype._incrementalRenderLarge=function(t,e){this._removeBackground();cA(e,this.group,true)};e.prototype._updateLargeClip=function(t){var e=t.get("clip",true)?dD(t.coordinateSystem,false,t):null;if(e){this.group.setClipPath(e)}else{this.group.removeClipPath()}};e.prototype._enableRealtimeSort=function(t,e,r){var i=this;if(!e.count()){return}var a=t.baseAxis;if(this._isFirstFrame){this._dispatchInitSort(e,t,r);this._isFirstFrame=false}else{var n=function(t){var r=e.getItemGraphicEl(t);if(r){var i=r.shape;return(a.isHorizontal()?Math.abs(i.height):Math.abs(i.width))||0}else{return 0}};this._onRendered=function(){i._updateSortWithinSameData(e,n,a,r)};r.getZr().on("rendered",this._onRendered)}};e.prototype._dataSort=function(t,e,r){var i=[];t.each(t.mapDimension(e.dim),function(t,e){var a=r(e);a=a==null?NaN:a;i.push({dataIndex:e,mappedValue:a,ordinalNumber:t})});i.sort(function(t,e){return e.mappedValue-t.mappedValue});return{ordinalNumbers:N(i,function(t){return t.ordinalNumber})}};e.prototype._isOrderChangedWithinSameData=function(t,e,r){var i=r.scale;var a=t.mapDimension(r.dim);var n=Number.MAX_VALUE;for(var o=0,s=i.getOrdinalMeta().categories.length;o<s;++o){var l=t.rawIndexOf(a,i.getRawOrdinalNumber(o));var u=l<0?Number.MIN_VALUE:e(t.indexOfRawIndex(l));if(u>n){return true}n=u}return false};e.prototype._isOrderDifferentInView=function(t,e){var r=e.scale;var i=r.getExtent();var a=Math.max(0,i[0]);var n=Math.min(i[1],r.getOrdinalMeta().categories.length-1);for(;a<=n;++a){if(t.ordinalNumbers[a]!==r.getRawOrdinalNumber(a)){return true}}};e.prototype._updateSortWithinSameData=function(t,e,r,i){if(!this._isOrderChangedWithinSameData(t,e,r)){return}var a=this._dataSort(t,r,e);if(this._isOrderDifferentInView(a,r)){this._removeOnRenderedListener(i);i.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:a})}};e.prototype._dispatchInitSort=function(t,e,r){var i=e.baseAxis;var a=this._dataSort(t,i,function(r){return t.get(t.mapDimension(e.otherAxis.dim),r)});r.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:true,axisId:i.index,sortInfo:a})};e.prototype.remove=function(t,e){this._clear(this._model);this._removeOnRenderedListener(e)};e.prototype.dispose=function(t,e){this._removeOnRenderedListener(e)};e.prototype._removeOnRenderedListener=function(t){if(this._onRendered){t.getZr().off("rendered",this._onRendered);this._onRendered=null}};e.prototype._clear=function(t){var e=this.group;var r=this._data;if(t&&t.isAnimationEnabled()&&r&&!this._isLargeDraw){this._removeBackground();this._backgroundEls=[];r.eachItemGraphicEl(function(e){Bh(e,t,$l(e).dataIndex)})}else{e.removeAll()}this._data=null;this._isFirstFrame=true};e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup);this._backgroundGroup=null};e.type="bar";return e}(Xy);var JD={cartesian2d:function(t,e){var r=e.width<0?-1:1;var i=e.height<0?-1:1;if(r<0){e.x+=e.width;e.width=-e.width}if(i<0){e.y+=e.height;e.height=-e.height}var a=t.x+t.width;var n=t.y+t.height;var o=jD(e.x,t.x);var s=qD(e.x+e.width,a);var l=jD(e.y,t.y);var u=qD(e.y+e.height,n);var f=s<o;var h=u<l;e.x=f&&o>a?s:o;e.y=h&&l>n?u:l;e.width=f?0:s-o;e.height=h?0:u-l;if(r<0){e.x+=e.width;e.width=-e.width}if(i<0){e.y+=e.height;e.height=-e.height}return f||h},polar:function(t,e){var r=e.r0<=e.r?1:-1;if(r<0){var i=e.r;e.r=e.r0;e.r0=i}var a=qD(e.r,t.r);var n=jD(e.r0,t.r0);e.r=a;e.r0=n;var o=a-n<0;if(r<0){var i=e.r;e.r=e.r0;e.r0=i}return o}};var QD={cartesian2d:function(t,e,r,i,a,n,o,s,l){var u=new zl({shape:C({},i),z2:1});u.__dataIndex=r;u.name="item";if(n){var f=u.shape;var h=a?"height":"width";f[h]=0}return u},polar:function(t,e,r,i,a,n,o,s,l){var u=i.startAngle<i.endAngle;var f=!a&&l?HD:Qf;var h=new f({shape:D({clockwise:u},i),z2:1});h.name="item";var v=lA(a);h.calculateTextPosition=WD(v,{isRoundCap:f===HD});if(n){var c=h.shape;var p=a?"r":"endAngle";var d={};c[p]=a?0:i.startAngle;d[p]=i[p];(s?Oh:Rh)(h,{shape:d},n)}return h}};function tA(t,e){var r=t.get("realtimeSort",true);var i=e.getBaseAxis();if("development"!=="production"){if(r){if(i.type!=="category"){ln("`realtimeSort` will not work because this bar series is not based on a category axis.")}if(e.type!=="cartesian2d"){ln("`realtimeSort` will not work because this bar series is not on cartesian2d.")}}}if(r&&i.type==="category"&&e.type==="cartesian2d"){return{baseAxis:i,otherAxis:e.getOtherAxis(i)}}}function eA(t,e,r,i,a,n,o,s){var l;var u;if(n){u={x:i.x,width:i.width};l={y:i.y,height:i.height}}else{u={y:i.y,height:i.height};l={x:i.x,width:i.width}}if(!s){(o?Oh:Rh)(r,{shape:l},e,a,null)}var f=e?t.baseAxis.model:null;(o?Oh:Rh)(r,{shape:u},f,a)}function rA(t,e){for(var r=0;r<e.length;r++){if(!isFinite(t[e[r]])){return true}}return false}var iA=["x","y","width","height"];var aA=["cx","cy","r","startAngle","endAngle"];var nA={cartesian2d:function(t){return!rA(t,iA)},polar:function(t){return!rA(t,aA)}};var oA={cartesian2d:function(t,e,r){var i=t.getItemLayout(e);var a=r?fA(r,i):0;var n=i.width>0?1:-1;var o=i.height>0?1:-1;return{x:i.x+n*a/2,y:i.y+o*a/2,width:i.width-n*a,height:i.height-o*a}},polar:function(t,e,r){var i=t.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle}}};function sA(t){return t.startAngle!=null&&t.endAngle!=null&&t.startAngle===t.endAngle}function lA(t){return function(t){var e=t?"Arc":"Angle";return function(t){switch(t){case"start":case"insideStart":case"end":case"insideEnd":return t+e;default:return t}}}(t)}function uA(t,e,r,i,a,n,o,s){var l=e.getItemVisual(r,"style");if(!s){t.setShape("r",i.get(["itemStyle","borderRadius"])||0)}t.useStyle(l);var u=i.getShallow("cursor");u&&t.attr("cursor",u);var f=s?o?a.r>=a.r0?"endArc":"startArc":a.endAngle>=a.startAngle?"endAngle":"startAngle":o?a.height>=0?"bottom":"top":a.width>=0?"right":"left";var h=wv(i);bv(t,h,{labelFetcher:n,labelDataIndex:r,defaultText:WC(n.getData(),r),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:f});var v=t.getTextContent();if(s&&v){var c=i.get(["label","position"]);t.textConfig.inside=c==="middle"?true:null;UD(t,c==="outside"?f:c,lA(o),i.get(["label","rotate"]))}Ov(v,h,n.getRawValue(r),function(t){return UC(e,t)});var p=i.getModel(["emphasis"]);Ju(t,p.get("focus"),p.get("blurScope"));rf(t,i);if(sA(a)){t.style.fill="none";t.style.stroke="none";R(t.states,function(t){if(t.style){t.style.fill=t.style.stroke="none"}})}}function fA(t,e){var r=t.get(["itemStyle","borderColor"]);if(!r||r==="none"){return 0}var i=t.get(["itemStyle","borderWidth"])||0;var a=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width);var n=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(i,a,n)}var hA=function(){function t(){}return t}();var vA=function(t){r(e,t);function e(e){var r=t.call(this,e)||this;r.type="largeBar";return r}e.prototype.getDefaultShape=function(){return new hA};e.prototype.buildPath=function(t,e){var r=e.points;var i=this.__startPoint;var a=this.__baseDimIdx;for(var n=0;n<r.length;n+=2){i[a]=r[n+a];t.moveTo(i[0],i[1]);t.lineTo(r[n],r[n+1])}};return e}(Sl);function cA(t,e,r){var i=t.getData();var a=[];var n=i.getLayout("valueAxisHorizontal")?1:0;a[1-n]=i.getLayout("valueAxisStart");var o=i.getLayout("largeDataIndices");var s=i.getLayout("barWidth");var l=t.getModel("backgroundStyle");var u=t.get("showBackground",true);if(u){var f=i.getLayout("largeBackgroundPoints");var h=[];h[1-n]=i.getLayout("backgroundStart");var v=new vA({shape:{points:f},incremental:!!r,silent:true,z2:0});v.__startPoint=h;v.__baseDimIdx=n;v.__largeDataIndices=o;v.__barWidth=s;yA(v,l,i);e.add(v)}var c=new vA({shape:{points:i.getLayout("largePoints")},incremental:!!r});c.__startPoint=a;c.__baseDimIdx=n;c.__largeDataIndices=o;c.__barWidth=s;e.add(c);gA(c,t,i);$l(c).seriesIndex=t.seriesIndex;if(!t.get("silent")){c.on("mousedown",pA);c.on("mousemove",pA)}}var pA=em(function(t){var e=this;var r=dA(e,t.offsetX,t.offsetY);$l(e).dataIndex=r>=0?r:null},30,false);function dA(t,e,r){var i=t.__baseDimIdx;var a=1-i;var n=t.shape.points;var o=t.__largeDataIndices;var s=Math.abs(t.__barWidth/2);var l=t.__startPoint[a];ZD[0]=e;ZD[1]=r;var u=ZD[i];var f=ZD[1-i];var h=u-s;var v=u+s;for(var c=0,p=n.length/2;c<p;c++){var d=c*2;var g=n[d+i];var y=n[d+a];if(g>=h&&g<=v&&(l<=y?f>=l&&f<=y:f>=y&&f<=l)){return o[c]}}return-1}function gA(t,e,r){var i=r.getVisual("style");t.useStyle(C({},i));t.style.fill=null;t.style.stroke=i.fill;t.style.lineWidth=r.getLayout("barWidth")}function yA(t,e,r){var i=e.get("borderColor")||e.get("color");var a=e.getItemStyle();t.useStyle(a);t.style.fill=null;t.style.stroke=i;t.style.lineWidth=r.getLayout("barWidth")}function mA(t,e,r){if(gD(r,"cartesian2d")){var i=e;var a=r.getArea();return{x:t?i.x:a.x,y:t?a.y:i.y,width:t?i.width:a.width,height:t?a.height:i.height}}else{var a=r.getArea();var n=e;return{cx:a.cx,cy:a.cy,r0:t?a.r0:n.r0,r:t?a.r:n.r,startAngle:t?n.startAngle:0,endAngle:t?n.endAngle:Math.PI*2}}}function xA(t,e,r){var i=t.type==="polar"?Qf:zl;return new i({shape:mA(e,r,t),silent:true,z2:0})}function _A(t){t.registerChartView($D);t.registerSeriesModel(GD);t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,H(pM,"bar"));t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,dM);t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,zD("bar"));t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var r=t.componentType||"series";e.eachComponent({mainType:r,query:t},function(e){if(t.sortInfo){e.axis.setCategorySortInfo(t.sortInfo)}})})}var bA=Math.PI*2;var wA=Math.PI/180;function SA(t,e){return hp(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function MA(t,e){var r=SA(t,e);var i=t.get("center");var a=t.get("radius");if(!W(a)){a=[0,a]}if(!W(i)){i=[i,i]}var n=Na(r.width,e.getWidth());var o=Na(r.height,e.getHeight());var s=Math.min(n,o);var l=Na(i[0],n)+r.x;var u=Na(i[1],o)+r.y;var f=Na(a[0],s/2);var h=Na(a[1],s/2);return{cx:l,cy:u,r0:f,r:h}}function IA(t,e,r){e.eachSeriesByType(t,function(t){var e=t.getData();var i=e.mapDimension("value");var a=SA(t,r);var n=MA(t,r),o=n.cx,s=n.cy,l=n.r,u=n.r0;var f=-t.get("startAngle")*wA;var h=t.get("minAngle")*wA;var v=0;e.each(i,function(t){!isNaN(t)&&v++});var c=e.getSum(i);var p=Math.PI/(c||v)*2;var d=t.get("clockwise");var g=t.get("roseType");var y=t.get("stillShowZeroSum");var m=e.getDataExtent(i);m[0]=0;var x=bA;var _=0;var b=f;var w=d?1:-1;e.setLayout({viewRect:a,r:l});e.each(i,function(t,r){var i;if(isNaN(t)){e.setItemLayout(r,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:d,cx:o,cy:s,r0:u,r:g?NaN:l});return}if(g!=="area"){i=c===0&&y?p:t*p}else{i=bA/v}if(i<h){i=h;x-=h}else{_+=t}var a=b+w*i;e.setItemLayout(r,{angle:i,startAngle:b,endAngle:a,clockwise:d,cx:o,cy:s,r0:u,r:g?Ra(t,m,[u,l]):l});b=a});if(x<bA&&v){if(x<=.001){var S=bA/v;e.each(i,function(t,r){if(!isNaN(t)){var i=e.getItemLayout(r);i.angle=S;i.startAngle=f+w*r*S;i.endAngle=f+w*(r+1)*S}})}else{p=x/_;b=f;e.each(i,function(t,r){if(!isNaN(t)){var i=e.getItemLayout(r);var a=i.angle===h?h:t*p;i.startAngle=b;i.endAngle=b+w*a;b+=w*a}})}}})}function TA(t){return{seriesType:t,reset:function(t,e){var r=e.findComponents({mainType:"legend"});if(!r||!r.length){return}var i=t.getData();i.filterSelf(function(t){var e=i.getName(t);for(var a=0;a<r.length;a++){if(!r[a].isSelected(e)){return false}}return true})}}}var CA=Math.PI/180;function DA(t,e,r,i,a,n,o,s,l,u){if(t.length<2){return}function f(t){var n=t.rB;var o=n*n;for(var s=0;s<t.list.length;s++){var l=t.list[s];var u=Math.abs(l.label.y-r);var f=i+l.len;var h=f*f;var v=Math.sqrt((1-Math.abs(u*u/o))*h);l.label.x=e+(v+l.len2)*a}}function h(t){var n={list:[],maxY:0};var o={list:[],maxY:0};for(var s=0;s<t.length;s++){if(t[s].labelAlignTo!=="none"){continue}var l=t[s];var u=l.label.y>r?o:n;var h=Math.abs(l.label.y-r);if(h>u.maxY){var v=l.label.x-e-l.len2*a;var c=i+l.len;var p=Math.abs(v)<c?Math.sqrt(h*h/(1-v*v/c/c)):c;u.rB=p;u.maxY=h}u.list.push(l)}f(n);f(o)}var v=t.length;for(var c=0;c<v;c++){if(t[c].position==="outer"&&t[c].labelAlignTo==="labelLine"){var p=t[c].label.x-u;t[c].linePoints[1][0]+=p;t[c].label.x=u}}if(vT(t,l,l+o)){h(t)}}function AA(t,e,r,i,a,n,o,s){var l=[];var u=[];var f=Number.MAX_VALUE;var h=-Number.MAX_VALUE;for(var v=0;v<t.length;v++){var c=t[v].label;if(kA(t[v])){continue}if(c.x<e){f=Math.min(f,c.x);l.push(t[v])}else{h=Math.max(h,c.x);u.push(t[v])}}DA(u,e,r,i,1,a,n,o,s,h);DA(l,e,r,i,-1,a,n,o,s,f);for(var v=0;v<t.length;v++){var p=t[v];var c=p.label;if(kA(p)){continue}var d=p.linePoints;if(d){var g=p.labelAlignTo==="edge";var y=p.rect.width;var m=void 0;if(g){if(c.x<e){m=d[2][0]-p.labelDistance-o-p.edgeDistance}else{m=o+a-p.edgeDistance-d[2][0]-p.labelDistance}}else{if(c.x<e){m=c.x-o-p.bleedMargin}else{m=o+a-c.x-p.bleedMargin}}if(m<p.rect.width){p.label.style.width=m;if(p.labelAlignTo==="edge"){y=m}}var x=d[1][0]-d[2][0];if(g){if(c.x<e){d[2][0]=o+p.edgeDistance+y+p.labelDistance}else{d[2][0]=o+a-p.edgeDistance-y-p.labelDistance}}else{if(c.x<e){d[2][0]=c.x+p.labelDistance}else{d[2][0]=c.x-p.labelDistance}d[1][0]=d[2][0]+x}d[1][1]=d[2][1]=c.y}}}function kA(t){return t.position==="center"}function LA(t){var e=t.getData();var r=[];var i;var a;var n=false;var o=(t.get("minShowLabelAngle")||0)*CA;var s=e.getLayout("viewRect");var l=e.getLayout("r");var u=s.width;var f=s.x;var h=s.y;var v=s.height;function c(t){t.ignore=true}function p(t){if(!t.ignore){return true}for(var e in t.states){if(t.states[e].ignore===false){return true}}return false}e.each(function(t){var s=e.getItemGraphicEl(t);var h=s.shape;var v=s.getTextContent();var d=s.getTextGuideLine();var g=e.getItemModel(t);var y=g.getModel("label");var m=y.get("position")||g.get(["emphasis","label","position"]);var x=y.get("distanceToLabelLine");var _=y.get("alignTo");var b=Na(y.get("edgeDistance"),u);var w=y.get("bleedMargin");var S=g.getModel("labelLine");var M=S.get("length");M=Na(M,u);var I=S.get("length2");I=Na(I,u);if(Math.abs(h.endAngle-h.startAngle)<o){R(v.states,c);v.ignore=true;return}if(!p(v)){return}var T=(h.startAngle+h.endAngle)/2;var C=Math.cos(T);var D=Math.sin(T);var A;var k;var L;var P;i=h.cx;a=h.cy;var O=m==="inside"||m==="inner";if(m==="center"){A=h.cx;k=h.cy;P="center"}else{var N=(O?(h.r+h.r0)/2*C:h.r*C)+i;var E=(O?(h.r+h.r0)/2*D:h.r*D)+a;A=N+C*3;k=E+D*3;if(!O){var z=N+C*(M+l-h.r);var B=E+D*(M+l-h.r);var V=z+(C<0?-1:1)*I;var G=B;if(_==="edge"){A=C<0?f+b:f+u-b}else{A=V+(C<0?-x:x)}k=G;L=[[N,E],[z,B],[V,G]]}P=O?"center":_==="edge"?C>0?"right":"left":C>0?"left":"right"}var F;var H=y.get("rotate");if(typeof H==="number"){F=H*(Math.PI/180)}else if(m==="center"){F=0}else{var W=C<0?-T+Math.PI:-T;if(H==="radial"||H===true){F=W}else if(H==="tangential"&&m!=="outside"&&m!=="outer"){F=W+Math.PI/2;if(F>Math.PI/2){F-=Math.PI}}else{F=0}}n=!!F;v.x=A;v.y=k;v.rotation=F;v.setStyle({verticalAlign:"middle"});if(!O){var U=v.getBoundingRect().clone();U.applyTransform(v.getComputedTransform());var Y=(v.style.margin||0)+2.1;U.y-=Y/2;U.height+=Y;r.push({label:v,labelLine:d,position:m,len:M,len2:I,minTurnAngle:S.get("minTurnAngle"),maxSurfaceAngle:S.get("maxSurfaceAngle"),surfaceNormal:new Ei(C,D),linePoints:L,textAlign:P,labelDistance:x,labelAlignTo:_,edgeDistance:b,bleedMargin:w,rect:U})}else{v.setStyle({align:P});var X=v.states.select;if(X){X.x+=v.x;X.y+=v.y}}s.setTextConfig({inside:O})});if(!n&&t.get("avoidLabelOverlap")){AA(r,i,a,l,u,v,f,h)}for(var d=0;d<r.length;d++){var g=r[d];var y=g.label;var m=g.labelLine;var x=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:g.textAlign});if(x){R(y.states,c);y.ignore=true}var _=y.states.select;if(_){_.x+=y.x;_.y+=y.y}}if(m){var b=g.linePoints;if(x||!b){R(m.states,c);m.ignore=true}else{iT(b,g.minTurnAngle);aT(b,g.surfaceNormal,g.maxSurfaceAngle);m.setShape({points:b});y.__hostTarget.textGuideLineConfig={anchor:new Ei(b[0][0],b[0][1])}}}}}function PA(t,e,r){var i=t.get("borderRadius");if(i==null){return r?{innerCornerRadius:0,cornerRadius:0}:null}if(!W(i)){i=[i,i]}return{innerCornerRadius:aa(i[0],e.r0),cornerRadius:aa(i[1],e.r)}}var OA=function(t){r(e,t);function e(e,r,i){var a=t.call(this)||this;a.z2=2;var n=new Fl;a.setTextContent(n);a.updateData(e,r,i,true);return a}e.prototype.updateData=function(t,e,r,a){var n=this;var o=t.hostModel;var s=t.getItemModel(e);var l=s.getModel("emphasis");var u=t.getItemLayout(e);var f=C(PA(s.getModel("itemStyle"),u,true),u);if(isNaN(f.startAngle)){n.setShape(f);return}if(a){n.setShape(f);var h=o.getShallow("animationType");if(h==="scale"){n.shape.r=u.r0;Rh(n,{shape:{r:u.r}},o,e)}else{if(r!=null){n.setShape({startAngle:r,endAngle:r});Rh(n,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},o,e)}else{n.shape.endAngle=u.startAngle;Oh(n,{shape:{endAngle:u.endAngle}},o,e)}}}else{Vh(n);Oh(n,{shape:f},o,e)}n.useStyle(t.getItemVisual(e,"style"));rf(n,s);var v=(u.startAngle+u.endAngle)/2;var c=o.get("selectedOffset");var p=Math.cos(v)*c;var d=Math.sin(v)*c;var g=s.getShallow("cursor");g&&n.attr("cursor",g);this._updateLabel(o,t,e);n.ensureState("emphasis").shape=i({r:u.r+(l.get("scale")?l.get("scaleSize")||0:0)},PA(l.getModel("itemStyle"),u));C(n.ensureState("select"),{x:p,y:d,shape:PA(s.getModel(["select","itemStyle"]),u)});C(n.ensureState("blur"),{shape:PA(s.getModel(["blur","itemStyle"]),u)});var y=n.getTextGuideLine();var m=n.getTextContent();y&&C(y.ensureState("select"),{x:p,y:d});C(m.ensureState("select"),{x:p,y:d});Ju(this,l.get("focus"),l.get("blurScope"))};e.prototype._updateLabel=function(t,e,r){var i=this;var a=e.getItemModel(r);var n=a.getModel("labelLine");var o=e.getItemVisual(r,"style");var s=o&&o.fill;var l=o&&o.opacity;bv(i,wv(a),{labelFetcher:e.hostModel,labelDataIndex:r,inheritColor:s,defaultOpacity:l,defaultText:t.getFormattedLabel(r,"normal")||e.getName(r)});var u=i.getTextContent();i.setTextConfig({position:null,rotation:null});u.attr({z2:10});var f=t.get(["label","position"]);if(f!=="outside"&&f!=="outer"){i.removeTextGuideLine()}else{var h=this.getTextGuideLine();if(!h){h=new uh;this.setTextGuideLine(h)}sT(this,lT(a),{stroke:s,opacity:at(n.get(["lineStyle","opacity"]),l,1)})}};return e}(Qf);var RA=function(t){r(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.ignoreLabelLineUpdate=true;return e}e.prototype.init=function(){var t=new ya;this._sectorGroup=t};e.prototype.render=function(t,e,r,i){var a=t.getData();var n=this._data;var o=this.group;var s;if(!n&&a.count()>0){var l=a.getItemLayout(0);for(var u=1;isNaN(l&&l.startAngle)&&u<a.count();++u){l=a.getItemLayout(u)}if(l){s=l.startAngle}}if(this._emptyCircleSector){o.remove(this._emptyCircleSector)}if(a.count()===0&&t.get("showEmptyCircle")){var f=new Qf({shape:MA(t,r)});f.useStyle(t.getModel("emptyCircleStyle").getItemStyle());this._emptyCircleSector=f;o.add(f)}a.diff(n).add(function(t){var e=new OA(a,t,s);a.setItemGraphicEl(t,e);o.add(e)}).update(function(t,e){var r=n.getItemGraphicEl(e);r.updateData(a,t,s);r.off("click");o.add(r);a.setItemGraphicEl(t,r)}).remove(function(e){var r=n.getItemGraphicEl(e);Bh(r,t,e)}).execute();LA(t);if(t.get("animationTypeUpdate")!=="expansion"){this._data=a}};e.prototype.dispose=function(){};e.prototype.containPoint=function(t,e){var r=e.getData();var i=r.getItemLayout(0);if(i){var a=t[0]-i.cx;var n=t[1]-i.cy;var o=Math.sqrt(a*a+n*n);return o<=i.r&&o>=i.r0}};e.type="pie";return e}(Xy);function NA(t,e,r){e=W(e)&&{coordDimensions:e}||C({encodeDefine:t.getEncode()},e);var i=t.getSource();var a=IS(i,e).dimensions;var n=new SS(a,t);n.initData(i,r);return n}var EA=function(){function t(t,e){this._getDataWithEncodedVisual=t;this._getRawData=e}t.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)};t.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0};t.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)};t.prototype.getItemVisual=function(t,e){var r=this._getDataWithEncodedVisual();return r.getItemVisual(t,e)};return t}();var zA=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.init=function(e){t.prototype.init.apply(this,arguments);this.legendVisualProvider=new EA(F(this.getData,this),F(this.getRawData,this));this._defaultLabelLine(e)};e.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)};e.prototype.getInitialData=function(){return NA(this,{coordDimensions:["value"],encodeDefaulter:H(zp,this)})};e.prototype.getDataParams=function(e){var r=this.getData();var i=t.prototype.getDataParams.call(this,e);var a=[];r.each(r.mapDimension("value"),function(t){a.push(t)});i.percent=Fa(a,e,r.hostModel.get("percentPrecision"));i.$vars.push("percent");return i};e.prototype._defaultLabelLine=function(t){mn(t,"labelLine",["show"]);var e=t.labelLine;var r=t.emphasis.labelLine;e.show=e.show&&t.label.show;r.show=r.show&&t.emphasis.label.show};e.type="series.pie";e.defaultOption={zlevel:0,z:2,legendHoverLink:true,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:true,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:true,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:true,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:true,length:15,length2:15,smooth:false,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:true,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:true},emphasis:{scale:true,scaleSize:5},avoidLabelOverlap:true,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"};return e}(Oy);function BA(t){return{seriesType:t,reset:function(t,e){var r=t.getData();r.filterSelf(function(t){var e=r.mapDimension("value");var i=r.get(e,t);if(typeof i==="number"&&!isNaN(i)&&i<0){return false}return true})}}}function VA(t){t.registerChartView(RA);t.registerSeriesModel(zA);Wm("pie",t.registerAction);t.registerLayout(H(IA,"pie"));t.registerProcessor(TA("pie"));t.registerProcessor(BA("pie"))}var GA=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.hasSymbolVisual=true;return r}e.prototype.getInitialData=function(t,e){return VS(null,this,{useEncodeDefaulter:true})};e.prototype.getProgressive=function(){var t=this.option.progressive;if(t==null){return this.option.large?5e3:this.get("progressive")}return t};e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;if(t==null){return this.option.large?1e4:this.get("progressiveThreshold")}return t};e.prototype.brushSelector=function(t,e,r){return r.point(e.getItemLayout(t))};e.type="series.scatter";e.dependencies=["grid","polar","geo","singleAxis","calendar"];e.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true,symbolSize:10,large:false,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:true},clip:true,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}};return e}(Oy);var FA=4;var HA=function(){function t(){}return t}();var WA=function(t){r(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new HA};e.prototype.buildPath=function(t,e){var r=e.points;var i=e.size;var a=this.symbolProxy;var n=a.shape;var o=t.getContext?t.getContext():t;var s=o&&i[0]<FA;if(s){this._ctx=o;return}this._ctx=null;for(var l=0;l<r.length;){var u=r[l++];var f=r[l++];if(isNaN(u)||isNaN(f)){continue}if(this.softClipShape&&!this.softClipShape.contain(u,f)){continue}n.x=u-i[0]/2;n.y=f-i[1]/2;n.width=i[0];n.height=i[1];a.buildPath(t,n,true)}};e.prototype.afterBrush=function(){var t=this.shape;var e=t.points;var r=t.size;var i=this._ctx;if(!i){return}for(var a=0;a<e.length;){var n=e[a++];var o=e[a++];if(isNaN(n)||isNaN(o)){continue}if(this.softClipShape&&!this.softClipShape.contain(n,o)){continue}i.fillRect(n-r[0]/2,o-r[1]/2,r[0],r[1])}};e.prototype.findDataIndex=function(t,e){var r=this.shape;var i=r.points;var a=r.size;var n=Math.max(a[0],4);var o=Math.max(a[1],4);for(var s=i.length/2-1;s>=0;s--){var l=s*2;var u=i[l]-n/2;var f=i[l+1]-o/2;if(t>=u&&e>=f&&t<=u+n&&e<=f+o){return s}}return-1};return e}(Sl);var UA=function(){function t(){this.group=new ya}t.prototype.isPersistent=function(){return!this._incremental};t.prototype.updateData=function(t,e){this.group.removeAll();var r=new WA({rectHover:true,cursor:"default"});r.setShape({points:t.getLayout("points")});this._setCommon(r,t,false,e);this.group.add(r);this._incremental=null};t.prototype.updateLayout=function(t){if(this._incremental){return}var e=t.getLayout("points");this.group.eachChild(function(t){if(t.startIndex!=null){var r=(t.endIndex-t.startIndex)*2;var i=t.startIndex*4*2;e=new Float32Array(e.buffer,i,r)}t.setShape("points",e)})};t.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll();this._clearIncremental();if(t.count()>2e6){if(!this._incremental){this._incremental=new Ah({silent:true})}this.group.add(this._incremental)}else{this._incremental=null}};t.prototype.incrementalUpdate=function(t,e,r){var i;if(this._incremental){i=new WA;this._incremental.addDisplayable(i,true)}else{i=new WA({rectHover:true,cursor:"default",startIndex:t.start,endIndex:t.end});i.incremental=true;this.group.add(i)}i.setShape({points:e.getLayout("points")});this._setCommon(i,e,!!this._incremental,r)};t.prototype._setCommon=function(t,e,r,i){var a=e.hostModel;i=i||{};var n=e.getVisual("symbolSize");t.setShape("size",n instanceof Array?n:[n,n]);t.softClipShape=i.clipShape||null;t.symbolProxy=nx(e.getVisual("symbol"),0,0,0,0);t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]<FA;t.useStyle(a.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var s=e.getVisual("style");var l=s&&s.fill;if(l){t.setColor(l)}if(!r){var u=$l(t);u.seriesIndex=a.seriesIndex;t.on("mousemove",function(e){u.dataIndex=null;var r=t.findDataIndex(e.offsetX,e.offsetY);if(r>=0){u.dataIndex=r+(t.startIndex||0)}})}};t.prototype.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};t.prototype._clearIncremental=function(){var t=this._incremental;if(t){t.clearDisplaybles()}};return t}();var YA=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=t.getData();var a=this._updateSymbolDraw(i,t);a.updateData(i,{clipShape:this._getClipShape(t)});this._finished=true};e.prototype.incrementalPrepareRender=function(t,e,r){var i=t.getData();var a=this._updateSymbolDraw(i,t);a.incrementalPrepareUpdate(i);this._finished=false};e.prototype.incrementalRender=function(t,e,r){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)});this._finished=t.end===e.getData().count()};e.prototype.updateTransform=function(t,e,r){var i=t.getData();this.group.dirty();if(!this._finished||i.count()>1e4||!this._symbolDraw.isPersistent()){return{update:true}}else{var a=RD("").reset(t,e,r);if(a.progress){a.progress({start:0,end:i.count(),count:i.count()},i)}this._symbolDraw.updateLayout(i)}};e.prototype._getClipShape=function(t){var e=t.coordinateSystem;var r=e&&e.getArea&&e.getArea();return t.get("clip",true)?r:null};e.prototype._updateSymbolDraw=function(t,e){var r=this._symbolDraw;var i=e.pipelineContext;var a=i.large;if(!r||a!==this._isLargeDraw){r&&r.remove();r=this._symbolDraw=a?new UA:new KC;this._isLargeDraw=a;this.group.removeAll()}this.group.add(r.group);return r};e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(true);this._symbolDraw=null};e.prototype.dispose=function(){};e.type="scatter";return e}(Xy);var XA=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.type="grid";e.dependencies=["xAxis","yAxis"];e.layoutMode="box";e.defaultOption={show:false,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:false,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"};return e}(xp);var ZA=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Yn).models[0]};e.type="cartesian2dAxis";return e}(xp);P(ZA,aI);var jA={show:true,zlevel:0,z:0,inverse:false,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:false,triggerEvent:false,tooltip:{show:false},axisPointer:{},axisLine:{show:true,onZero:true,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:true,inside:false,length:5,lineStyle:{width:1}},axisLabel:{show:true,inside:false,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:true,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}};var qA=I({boundaryGap:true,deduplication:null,splitLine:{show:false},axisTick:{alignWithLabel:false,interval:"auto"},axisLabel:{interval:"auto"}},jA);var KA=I({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:false,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:false,lineStyle:{color:"#F4F7FD",width:1}}},jA);var $A=I({scale:true,splitNumber:6,axisLabel:{showMinLabel:false,showMaxLabel:false,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:false}},KA);var JA=D({scale:true,logBase:10},KA);var QA={category:qA,value:KA,time:$A,log:JA};var tk={value:1,category:1,time:1,log:1};function ek(t,e,i,a){R(tk,function(n,o){var s=I(I({},QA[o],true),a,true);var l=function(t){r(i,t);function i(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e+"Axis."+o;return r}i.prototype.mergeDefaultAndTheme=function(t,e){var r=pp(this);var i=r?gp(t):{};var a=e.getTheme();I(t,a.get(o+"Axis"));I(t,this.getDefaultOption());t.type=rk(t);if(r){dp(t,i,r)}};i.prototype.optionUpdated=function(){var t=this.option;if(t.type==="category"){this.__ordinalMeta=US.createByAxisModel(this)}};i.prototype.getCategories=function(t){var e=this.option;if(e.type==="category"){if(t){return e.data}return this.__ordinalMeta.categories}};i.prototype.getOrdinalMeta=function(){return this.__ordinalMeta};i.type=e+"Axis."+o;i.defaultOption=s;return i}(i);t.registerComponentModel(l)});t.registerSubTypeDefaulter(e+"Axis",rk)}function rk(t){return t.type||(t.data?"category":"value")}var ik=function(){function t(t){this.type="cartesian";this._dimList=[];this._axes={};this.name=t||""}t.prototype.getAxis=function(t){return this._axes[t]};t.prototype.getAxes=function(){return N(this._dimList,function(t){return this._axes[t]},this)};t.prototype.getAxesByScale=function(t){t=t.toLowerCase();return z(this.getAxes(),function(e){return e.scale.type===t})};t.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t;this._dimList.push(e)};return t}();var ak=["x","y"];function nk(t){return t.type==="interval"||t.type==="time"}var ok=function(t){r(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="cartesian2d";e.dimensions=ak;return e}e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale;var e=this.getAxis("y").scale;if(!nk(t)||!nk(e)){return}var r=t.getExtent();var i=e.getExtent();var a=this.dataToPoint([r[0],i[0]]);var n=this.dataToPoint([r[1],i[1]]);var o=r[1]-r[0];var s=i[1]-i[0];if(!o||!s){return}var l=(n[0]-a[0])/o;var u=(n[1]-a[1])/s;var f=a[0]-r[0]*l;var h=a[1]-i[0]*u;var v=this._transform=[l,0,0,u,f,h];this._invTransform=Mi([],v)};e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")};e.prototype.containPoint=function(t){var e=this.getAxis("x");var r=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&r.contain(r.toLocalCoord(t[1]))};e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])};e.prototype.dataToPoint=function(t,e,r){r=r||[];var i=t[0];var a=t[1];if(this._transform&&i!=null&&isFinite(i)&&a!=null&&isFinite(a)){return Ft(r,t,this._transform)}var n=this.getAxis("x");var o=this.getAxis("y");r[0]=n.toGlobalCoord(n.dataToCoord(i,e));r[1]=o.toGlobalCoord(o.dataToCoord(a,e));return r};e.prototype.clampData=function(t,e){var r=this.getAxis("x").scale;var i=this.getAxis("y").scale;var a=r.getExtent();var n=i.getExtent();var o=r.parse(t[0]);var s=i.parse(t[1]);e=e||[];e[0]=Math.min(Math.max(Math.min(a[0],a[1]),o),Math.max(a[0],a[1]));e[1]=Math.min(Math.max(Math.min(n[0],n[1]),s),Math.max(n[0],n[1]));return e};e.prototype.pointToData=function(t,e){var r=[];if(this._invTransform){return Ft(r,t,this._invTransform)}var i=this.getAxis("x");var a=this.getAxis("y");r[0]=i.coordToData(i.toLocalCoord(t[0]),e);r[1]=a.coordToData(a.toLocalCoord(t[1]),e);return r};e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")};e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent();var e=this.getAxis("y").getGlobalExtent();var r=Math.min(t[0],t[1]);var i=Math.min(e[0],e[1]);var a=Math.max(t[0],t[1])-r;var n=Math.max(e[0],e[1])-i;return new Yi(r,i,a,n)};return e}(ik);var sk=function(t){r(e,t);function e(e,r,i,a,n){var o=t.call(this,e,r,i)||this;o.index=0;o.type=a||"value";o.position=n||"bottom";return o}e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"};e.prototype.getGlobalExtent=function(t){var e=this.getExtent();e[0]=this.toGlobalCoord(e[0]);e[1]=this.toGlobalCoord(e[1]);t&&e[0]>e[1]&&e.reverse();return e};e.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),e)};e.prototype.setCategorySortInfo=function(t){if(this.type!=="category"){return false}this.model.option.categorySortInfo=t;this.scale.setSortInfo(t)};return e}(PI);function lk(t,e,r){r=r||{};var i=t.coordinateSystem;var a=e.axis;var n={};var o=a.getAxesOnZeroOf()[0];var s=a.position;var l=o?"onZero":s;var u=a.dim;var f=i.getRect();var h=[f.x,f.x+f.width,f.y,f.y+f.height];var v={left:0,right:1,top:0,bottom:1,onZero:2};var c=e.get("offset")||0;var p=u==="x"?[h[2]-c,h[3]+c]:[h[0]-c,h[1]+c];if(o){var d=o.toGlobalCoord(o.dataToCoord(0));p[v.onZero]=Math.max(Math.min(d,p[1]),p[0])}n.position=[u==="y"?p[v[l]]:h[0],u==="x"?p[v[l]]:h[3]];n.rotation=Math.PI/2*(u==="x"?0:1);var g={top:-1,bottom:1,left:-1,right:1};n.labelDirection=n.tickDirection=n.nameDirection=g[s];n.labelOffset=o?p[v[s]]-p[v.onZero]:0;if(e.get(["axisTick","inside"])){n.tickDirection=-n.tickDirection}if(rt(r.labelInside,e.get(["axisLabel","inside"]))){n.labelDirection=-n.labelDirection}var y=e.get(["axisLabel","rotate"]);n.labelRotate=l==="top"?-y:y;n.z2=1;return n}function uk(t){return t.get("coordinateSystem")==="cartesian2d"}function fk(t){var e={xAxisModel:null,yAxisModel:null};R(e,function(r,i){var a=i.replace(/Model$/,"");var n=t.getReferringComponents(a,Yn).models[0];if("development"!=="production"){if(!n){throw new Error(a+' "'+at(t.get(a+"Index"),t.get(a+"Id"),0)+'" not found')}}e[i]=n});return e}var hk=function(){function t(t,e,r){this.type="grid";this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this.axisPointerEnabled=true;this.dimensions=ak;this._initCartesian(t,e,r);this.model=t}t.prototype.getRect=function(){return this._rect};t.prototype.update=function(t,e){var r=this._axesMap;this._updateScale(t,this.model);R(r.x,function(t){ZM(t.scale,t.model)});R(r.y,function(t){ZM(t.scale,t.model)});var i={};R(r.x,function(t){ck(r,"y",t,i)});R(r.y,function(t){ck(r,"x",t,i)});this.resize(this.model,e)};t.prototype.resize=function(t,e,r){var i=t.getBoxLayoutParams();var a=!r&&t.get("containLabel");var n=hp(i,{width:e.getWidth(),height:e.getHeight()});this._rect=n;var o=this._axesList;s();if(a){R(o,function(t){if(!t.model.get(["axisLabel","inside"])){var e=JM(t);if(e){var r=t.isHorizontal()?"height":"width";var i=t.model.get(["axisLabel","margin"]);n[r]-=e[r]+i;if(t.position==="top"){n.y+=e.height+i}else if(t.position==="left"){n.x+=e.width+i}}}});s()}R(this._coordsList,function(t){t.calcAffineTransform()});function s(){R(o,function(t){var e=t.isHorizontal();var r=e?[0,n.width]:[0,n.height];var i=t.inverse?1:0;t.setExtent(r[i],r[1-i]);dk(t,e?n.x:n.y)})}};t.prototype.getAxis=function(t,e){var r=this._axesMap[t];if(r!=null){return r[e||0]}};t.prototype.getAxes=function(){return this._axesList.slice()};t.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var r="x"+t+"y"+e;return this._coordsMap[r]}if(j(t)){e=t.yAxisIndex;t=t.xAxisIndex}for(var i=0,a=this._coordsList;i<a.length;i++){if(a[i].getAxis("x").index===t||a[i].getAxis("y").index===e){return a[i]}}};t.prototype.getCartesians=function(){return this._coordsList.slice()};t.prototype.convertToPixel=function(t,e,r){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null};t.prototype.convertFromPixel=function(t,e,r){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null};t.prototype._findConvertTarget=function(t){var e=t.seriesModel;var r=t.xAxisModel||e&&e.getReferringComponents("xAxis",Yn).models[0];var i=t.yAxisModel||e&&e.getReferringComponents("yAxis",Yn).models[0];var a=t.gridModel;var n=this._coordsList;var o;var s;if(e){o=e.coordinateSystem;k(n,o)<0&&(o=null)}else if(r&&i){o=this.getCartesian(r.componentIndex,i.componentIndex)}else if(r){s=this.getAxis("x",r.componentIndex)}else if(i){s=this.getAxis("y",i.componentIndex)}else if(a){var l=a.coordinateSystem;if(l===this){o=this._coordsList[0]}}return{cartesian:o,axis:s}};t.prototype.containPoint=function(t){var e=this._coordsList[0];if(e){return e.containPoint(t)}};t.prototype._initCartesian=function(t,e,r){var i=this;var a=this;var n={left:false,right:false,top:false,bottom:false};var o={x:{},y:{}};var s={x:0,y:0};e.eachComponent("xAxis",l("x"),this);e.eachComponent("yAxis",l("y"),this);if(!s.x||!s.y){this._axesMap={};this._axesList=[];return}this._axesMap=o;R(o.x,function(e,r){R(o.y,function(a,n){var o="x"+r+"y"+n;var s=new ok(o);s.master=i;s.model=t;i._coordsMap[o]=s;i._coordsList.push(s);s.addAxis(e);s.addAxis(a)})});function l(e){return function(r,i){if(!vk(r,t)){return}var l=r.get("position");if(e==="x"){if(l!=="top"&&l!=="bottom"){l=n.bottom?"top":"bottom"}}else{if(l!=="left"&&l!=="right"){l=n.left?"right":"left"}}n[l]=true;var u=new sk(e,jM(r),[0,0],r.get("type"),l);var f=u.type==="category";u.onBand=f&&r.get("boundaryGap");u.inverse=r.get("inverse");r.axis=u;u.model=r;u.grid=a;u.index=i;a._axesList.push(u);o[e][i]=u;s[e]++}}};t.prototype._updateScale=function(t,e){R(this._axesList,function(t){t.scale.setExtent(Infinity,-Infinity);if(t.type==="category"){var e=t.model.get("categorySortInfo");t.scale.setSortInfo(e)}});t.eachSeries(function(t){if(uk(t)){var i=fk(t);var a=i.xAxisModel;var n=i.yAxisModel;if(!vk(a,e)||!vk(n,e)){return}var o=this.getCartesian(a.componentIndex,n.componentIndex);var s=t.getData();var l=o.getAxis("x");var u=o.getAxis("y");if(s.type==="list"){r(s,l);r(s,u)}}},this);function r(t,e){R(rI(t,e.dim),function(r){e.scale.unionExtentFromData(t,r)})}};t.prototype.getTooltipAxes=function(t){var e=[];var r=[];R(this.getCartesians(),function(i){var a=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis();var n=i.getOtherAxis(a);k(e,a)<0&&e.push(a);k(r,n)<0&&r.push(n)});return{baseAxes:e,otherAxes:r}};t.create=function(e,r){var i=[];e.eachComponent("grid",function(a,n){var o=new t(a,e,r);o.name="grid_"+n;o.resize(a,r,true);a.coordinateSystem=o;i.push(o)});e.eachSeries(function(t){if(!uk(t)){return}var e=fk(t);var r=e.xAxisModel;var i=e.yAxisModel;var a=r.getCoordSysModel();if("development"!=="production"){if(!a){throw new Error('Grid "'+at(r.get("gridIndex"),r.get("gridId"),0)+'" not found')}if(r.getCoordSysModel()!==i.getCoordSysModel()){throw new Error("xAxis and yAxis must use the same grid")}}var n=a.coordinateSystem;t.coordinateSystem=n.getCartesian(r.componentIndex,i.componentIndex)});return i};t.dimensions=ak;return t}();function vk(t,e){return t.getCoordSysModel()===e}function ck(t,e,r,i){r.getAxesOnZeroOf=function(){return n?[n]:[]};var a=t[e];var n;var o=r.model;var s=o.get(["axisLine","onZero"]);var l=o.get(["axisLine","onZeroAxisIndex"]);if(!s){return}if(l!=null){if(pk(a[l])){n=a[l]}}else{for(var u in a){if(a.hasOwnProperty(u)&&pk(a[u])&&!i[f(a[u])]){n=a[u];break}}}if(n){i[f(n)]=true}function f(t){return t.dim+"_"+t.index}}function pk(t){return t&&t.type!=="category"&&t.type!=="time"&&qM(t)}function dk(t,e){var r=t.getExtent();var i=r[0]+r[1];t.toGlobalCoord=t.dim==="x"?function(t){return t+e}:function(t){return i-t+e};t.toLocalCoord=t.dim==="x"?function(t){return t-e}:function(t){return i-t+e}}var gk=Math.PI;var yk=function(){function t(t,e){this.group=new ya;this.opt=e;this.axisModel=t;D(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:true,handleAutoShown:function(){return true}});var r=new ya({x:e.position[0],y:e.position[1],rotation:e.rotation});r.updateTransform();this._transformGroup=r}t.prototype.hasBuilder=function(t){return!!mk[t]};t.prototype.add=function(t){mk[t](this.opt,this.axisModel,this.group,this._transformGroup)};t.prototype.getGroup=function(){return this.group};t.innerTextLayout=function(t,e,r){var i=Ua(e-t);var a;var n;if(Ya(i)){n=r>0?"top":"bottom";a="center"}else if(Ya(i-gk)){n=r>0?"bottom":"top";a="center"}else{n="middle";if(i>0&&i<gk){a=r>0?"right":"left"}else{a=r>0?"left":"right"}}return{rotation:i,textAlign:a,textVerticalAlign:n}};t.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};e[t.mainType+"Index"]=t.componentIndex;return e};t.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)};return t}();var mk={axisLine:function(t,e,r,i){var a=e.get(["axisLine","show"]);if(a==="auto"&&t.handleAutoShown){a=t.handleAutoShown("axisLine")}if(!a){return}var n=e.axis.getExtent();var o=i.transform;var s=[n[0],0];var l=[n[1],0];if(o){Ft(s,s,o);Ft(l,l,o)}var u=C({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle());var f=new vh({subPixelOptimize:true,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:t.strokeContainThreshold||5,silent:true,z2:1});f.anid="line";r.add(f);var h=e.get(["axisLine","symbol"]);if(h!=null){var v=e.get(["axisLine","symbolSize"]);if(typeof h==="string"){h=[h,h]}if(typeof v==="string"||typeof v==="number"){v=[v,v]}var c=sx(e.get(["axisLine","symbolOffset"])||0,v);var p=v[0];var d=v[1];R([{rotate:t.rotation+Math.PI/2,offset:c[0],r:0},{rotate:t.rotation-Math.PI/2,offset:c[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(e,i){if(h[i]!=="none"&&h[i]!=null){var a=nx(h[i],-p/2,-d/2,p,d,u.stroke,true);var n=e.r+e.offset;a.attr({rotation:e.rotate,x:s[0]+n*Math.cos(t.rotation),y:s[1]-n*Math.sin(t.rotation),silent:true,z2:11});r.add(a)}})}},axisTickLabel:function(t,e,r,i){var a=Ik(r,i,e,t);var n=Ck(r,i,e,t);_k(e,n,a);Tk(r,i,e,t.tickDirection)},axisName:function(t,e,r,i){var a=rt(t.axisName,e.get("name"));if(!a){return}var n=e.get("nameLocation");var o=t.nameDirection;var s=e.getModel("nameTextStyle");var l=e.get("nameGap")||0;var u=e.axis.getExtent();var f=u[0]>u[1]?-1:1;var h=[n==="start"?u[0]-f*l:n==="end"?u[1]+f*l:(u[0]+u[1])/2,Sk(n)?t.labelOffset+o*l:0];var v;var c=e.get("nameRotate");if(c!=null){c=c*gk/180}var p;if(Sk(n)){v=yk.innerTextLayout(t.rotation,c!=null?c:t.rotation,o)}else{v=xk(t.rotation,n,c||0,u);p=t.axisNameAvailableWidth;if(p!=null){p=Math.abs(p/Math.sin(v.rotation));!isFinite(p)&&(p=null)}}var d=s.getFont();var g=e.get("nameTruncate",true)||{};var y=g.ellipsis;var m=rt(t.nameTruncateMaxWidth,g.maxWidth,p);var x=new Fl({x:h[0],y:h[1],rotation:v.rotation,silent:yk.isLabelSilent(e),style:Sv(s,{text:a,font:d,overflow:"truncate",width:m,ellipsis:y,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||v.textAlign,verticalAlign:s.get("verticalAlign")||v.textVerticalAlign}),z2:1});gv({el:x,componentModel:e,itemName:a});x.__fullText=a;x.anid="name";if(e.get("triggerEvent")){var _=yk.makeAxisEventDataBase(e);_.targetType="axisName";_.name=a;$l(x).eventData=_}i.add(x);x.updateTransform();r.add(x);x.decomposeTransform()}};function xk(t,e,r,i){var a=Ua(r-t);var n;var o;var s=i[0]>i[1];var l=e==="start"&&!s||e!=="start"&&s;if(Ya(a-gk/2)){o=l?"bottom":"top";n="center"}else if(Ya(a-gk*1.5)){o=l?"top":"bottom";n="center"}else{o="middle";if(a<gk*1.5&&a>gk/2){n=l?"left":"right"}else{n=l?"right":"left"}}return{rotation:a,textAlign:n,textVerticalAlign:o}}function _k(t,e,r){if(eI(t.axis)){return}var i=t.get(["axisLabel","showMinLabel"]);var a=t.get(["axisLabel","showMaxLabel"]);e=e||[];r=r||[];var n=e[0];var o=e[1];var s=e[e.length-1];var l=e[e.length-2];var u=r[0];var f=r[1];var h=r[r.length-1];var v=r[r.length-2];if(i===false){bk(n);bk(u)}else if(wk(n,o)){if(i){bk(o);bk(f)}else{bk(n);bk(u)}}if(a===false){bk(s);bk(h)}else if(wk(l,s)){if(a){bk(l);bk(v)}else{bk(s);bk(h)}}}function bk(t){t&&(t.ignore=true)}function wk(t,e){var r=t&&t.getBoundingRect().clone();var i=e&&e.getBoundingRect().clone();if(!r||!i){return}var a=mi([]);wi(a,a,-t.rotation);r.applyTransform(_i([],a,t.getLocalTransform()));i.applyTransform(_i([],a,e.getLocalTransform()));return r.intersect(i)}function Sk(t){return t==="middle"||t==="center"}function Mk(t,e,r,i,a){var n=[];var o=[];var s=[];for(var l=0;l<t.length;l++){var u=t[l].coord;o[0]=u;o[1]=0;s[0]=u;s[1]=r;if(e){Ft(o,o,e);Ft(s,s,e)}var f=new vh({subPixelOptimize:true,shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:i,z2:2,autoBatch:true,silent:true});f.anid=a+"_"+t[l].tickValue;n.push(f)}return n}function Ik(t,e,r,i){var a=r.axis;var n=r.getModel("axisTick");var o=n.get("show");if(o==="auto"&&i.handleAutoShown){o=i.handleAutoShown("axisTick")}if(!o||a.scale.isBlank()){return}var s=n.getModel("lineStyle");var l=i.tickDirection*n.get("length");var u=a.getTicksCoords();var f=Mk(u,e.transform,l,D(s.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks");for(var h=0;h<f.length;h++){t.add(f[h])}return f}function Tk(t,e,r,i){var a=r.axis;var n=r.getModel("minorTick");if(!n.get("show")||a.scale.isBlank()){return}var o=a.getMinorTicksCoords();if(!o.length){return}var s=n.getModel("lineStyle");var l=i*n.get("length");var u=D(s.getLineStyle(),D(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}));for(var f=0;f<o.length;f++){var h=Mk(o[f],e.transform,l,u,"minorticks_"+f);for(var v=0;v<h.length;v++){t.add(h[v])}}}function Ck(t,e,r,i){var a=r.axis;var n=rt(i.axisLabelShow,r.get(["axisLabel","show"]));if(!n||a.scale.isBlank()){return}var o=r.getModel("axisLabel");var s=o.get("margin");var l=a.getViewLabels();var u=(rt(i.labelRotate,o.get("rotate"))||0)*gk/180;var f=yk.innerTextLayout(i.rotation,u,i.labelDirection);var h=r.getCategories&&r.getCategories(true);var v=[];var c=yk.isLabelSilent(r);var p=r.get("triggerEvent");R(l,function(n,l){var u=a.scale.type==="ordinal"?a.scale.getRawOrdinalNumber(n.tickValue):n.tickValue;var d=n.formattedLabel;var g=n.rawLabel;var y=o;if(h&&h[u]){var m=h[u];if(j(m)&&m.textStyle){y=new Uv(m.textStyle,o,r.ecModel)}}var x=y.getTextColor()||r.get(["axisLine","lineStyle","color"]);var _=a.dataToCoord(u);var b=new Fl({x:_,y:i.labelOffset+i.labelDirection*s,rotation:f.rotation,silent:c,z2:10,style:Sv(y,{text:d,align:y.getShallow("align",true)||f.textAlign,verticalAlign:y.getShallow("verticalAlign",true)||y.getShallow("baseline",true)||f.textVerticalAlign,fill:typeof x==="function"?x(a.type==="category"?g:a.type==="value"?u+"":u,l):x})});b.anid="label_"+u;if(p){var w=yk.makeAxisEventDataBase(r);w.targetType="axisLabel";w.value=g;$l(b).eventData=w}e.add(b);b.updateTransform();v.push(b);t.add(b);b.decomposeTransform()});return v}function Dk(t,e){var r={axesInfo:{},seriesInvolved:false,coordSysAxesInfo:{},coordSysMap:{}};Ak(r,t,e);r.seriesInvolved&&Lk(r,t);return r}function Ak(t,e,r){var i=e.getComponent("tooltip");var a=e.getComponent("axisPointer");var n=a.get("link",true)||[];var o=[];R(r.getCoordinateSystems(),function(r){if(!r.axisPointerEnabled){return}var s=Bk(r.model);var l=t.coordSysAxesInfo[s]={};t.coordSysMap[s]=r;var u=r.model;var f=u.getModel("tooltip",i);R(r.getAxes(),H(p,false,null));if(r.getTooltipAxes&&i&&f.get("show")){var h=f.get("trigger")==="axis";var v=f.get(["axisPointer","type"])==="cross";var c=r.getTooltipAxes(f.get(["axisPointer","axis"]));if(h||v){R(c.baseAxes,H(p,v?"cross":true,h))}if(v){R(c.otherAxes,H(p,"cross",false))}}function p(i,s,u){var h=u.model.getModel("axisPointer",a);var v=h.get("show");if(!v||v==="auto"&&!i&&!zk(h)){return}if(s==null){s=h.get("triggerTooltip")}h=i?kk(u,f,a,e,i,s):h;var c=h.get("snap");var p=Bk(u.model);var d=s||c||u.type==="category";var g=t.axesInfo[p]={key:p,axis:u,coordSys:r,axisPointerModel:h,triggerTooltip:s,involveSeries:d,snap:c,useHandle:zk(h),seriesModels:[],linkGroup:null};l[p]=g;t.seriesInvolved=t.seriesInvolved||d;var y=Pk(n,u);if(y!=null){var m=o[y]||(o[y]={axesInfo:{}});m.axesInfo[p]=g;m.mapper=n[y].mapper;g.linkGroup=m}}})}function kk(t,e,r,i,a,n){var o=e.getModel("axisPointer");var s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"];var l={};R(s,function(t){l[t]=M(o.get(t))});l.snap=t.type!=="category"&&!!n;if(o.get("type")==="cross"){l.type="line"}var u=l.label||(l.label={});u.show==null&&(u.show=false);if(a==="cross"){var f=o.get(["label","show"]);u.show=f!=null?f:true;if(!n){var h=l.lineStyle=o.get("crossStyle");h&&D(u,h.textStyle)}}return t.model.getModel("axisPointer",new Uv(l,r,i))}function Lk(t,e){e.eachSeries(function(e){var r=e.coordinateSystem;var i=e.get(["tooltip","trigger"],true);var a=e.get(["tooltip","show"],true);if(!r||i==="none"||i===false||i==="item"||a===false||e.get(["axisPointer","show"],true)===false){return}R(t.coordSysAxesInfo[Bk(r.model)],function(t){var i=t.axis;if(r.getAxis(i.dim)===i){t.seriesModels.push(e);t.seriesDataCount==null&&(t.seriesDataCount=0);t.seriesDataCount+=e.getData().count()}})})}function Pk(t,e){var r=e.model;var i=e.dim;for(var a=0;a<t.length;a++){var n=t[a]||{};if(Ok(n[i+"AxisId"],r.id)||Ok(n[i+"AxisIndex"],r.componentIndex)||Ok(n[i+"AxisName"],r.name)){return a}}}function Ok(t,e){return t==="all"||W(t)&&k(t,e)>=0||t===e}function Rk(t){var e=Nk(t);if(!e){return}var r=e.axisPointerModel;var i=e.axis.scale;var a=r.option;var n=r.get("status");var o=r.get("value");if(o!=null){o=i.parse(o)}var s=zk(r);if(n==null){a.status=s?"show":"hide"}var l=i.getExtent().slice();l[0]>l[1]&&l.reverse();if(o==null||o>l[1]){o=l[1]}if(o<l[0]){o=l[0]}a.value=o;if(s){a.status=e.axis.scale.isBlank()?"hide":"show"}}function Nk(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Bk(t)]}function Ek(t){var e=Nk(t);return e&&e.axisPointerModel}function zk(t){return!!t.get(["handle","show"])}function Bk(t){return t.type+"||"+t.id}var Vk={};var Gk=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(e,r,i,a){this.axisPointerClass&&Rk(e);t.prototype.render.apply(this,arguments);this._doUpdateAxisPointerClass(e,i,true)};e.prototype.updateAxisPointer=function(t,e,r,i){this._doUpdateAxisPointerClass(t,r,false)};e.prototype.remove=function(t,e){var r=this._axisPointer;r&&r.remove(e)};e.prototype.dispose=function(e,r){this._disposeAxisPointer(r);t.prototype.dispose.apply(this,arguments)};e.prototype._doUpdateAxisPointerClass=function(t,r,i){var a=e.getAxisPointerClass(this.axisPointerClass);if(!a){return}var n=Ek(t);n?(this._axisPointer||(this._axisPointer=new a)).render(t,n,r,i):this._disposeAxisPointer(r)};e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t);this._axisPointer=null};e.registerAxisPointerClass=function(t,e){if("development"!=="production"){if(Vk[t]){throw new Error("axisPointer "+t+" exists")}}Vk[t]=e};e.getAxisPointerClass=function(t){return t&&Vk[t]};e.type="axis";return e}(Hy);var Fk=Fn();function Hk(t,e,r,i){var a=r.axis;if(a.scale.isBlank()){return}var n=r.getModel("splitArea");var o=n.getModel("areaStyle");var s=o.get("color");var l=i.coordinateSystem.getRect();var u=a.getTicksCoords({tickModel:n,clamp:true});if(!u.length){return}var f=s.length;var h=Fk(t).splitAreaColors;var v=ct();var c=0;if(h){for(var p=0;p<u.length;p++){var d=h.get(u[p].tickValue);if(d!=null){c=(d+(f-1)*p)%f;break}}}var g=a.toGlobalCoord(u[0].coord);var y=o.getAreaStyle();s=W(s)?s:[s];for(var p=1;p<u.length;p++){var m=a.toGlobalCoord(u[p].coord);var x=void 0;var _=void 0;var b=void 0;var w=void 0;if(a.isHorizontal()){x=g;_=l.y;b=m-x;w=l.height;g=x+b}else{x=l.x;_=g;b=l.width;w=m-_;g=_+w}var S=u[p-1].tickValue;S!=null&&v.set(S,c);e.add(new zl({anid:S!=null?"area_"+S:null,shape:{x:x,y:_,width:b,height:w},style:D({fill:s[c]},y),autoBatch:true,silent:true}));c=(c+1)%f}Fk(t).splitAreaColors=v}function Wk(t){Fk(t).splitAreaColors=null}var Uk=["axisLine","axisTickLabel","axisName"];var Yk=["splitArea","splitLine","minorSplitLine"];var Xk=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.axisPointerClass="CartesianAxisPointer";return r}e.prototype.render=function(e,r,i,a){this.group.removeAll();var n=this._axisGroup;this._axisGroup=new ya;this.group.add(this._axisGroup);if(!e.get("show")){return}var o=e.getCoordSysModel();var s=lk(o,e);var l=new yk(e,C({handleAutoShown:function(t){var r=o.coordinateSystem.getCartesians();for(var i=0;i<r.length;i++){var a=r[i].getOtherAxis(e.axis).type;if(a==="value"||a==="log"){return true}}return false}},s));R(Uk,l.add,l);this._axisGroup.add(l.getGroup());R(Yk,function(t){if(e.get([t,"show"])){Zk[t](this,this._axisGroup,e,o)}},this);var u=a&&a.type==="changeAxisOrder"&&a.isInitSort;if(!u){lv(n,this._axisGroup,e)}t.prototype.render.call(this,e,r,i,a)};e.prototype.remove=function(){Wk(this)};e.type="cartesianAxis";return e}(Gk);var Zk={splitLine:function(t,e,r,i){var a=r.axis;if(a.scale.isBlank()){return}var n=r.getModel("splitLine");var o=n.getModel("lineStyle");var s=o.get("color");s=W(s)?s:[s];var l=i.coordinateSystem.getRect();var u=a.isHorizontal();var f=0;var h=a.getTicksCoords({tickModel:n});var v=[];var c=[];var p=o.getLineStyle();for(var d=0;d<h.length;d++){var g=a.toGlobalCoord(h[d].coord);if(u){v[0]=g;v[1]=l.y;c[0]=g;c[1]=l.y+l.height}else{v[0]=l.x;v[1]=g;c[0]=l.x+l.width;c[1]=g}var y=f++%s.length;var m=h[d].tickValue;e.add(new vh({anid:m!=null?"line_"+h[d].tickValue:null,subPixelOptimize:true,autoBatch:true,shape:{x1:v[0],y1:v[1],x2:c[0],y2:c[1]},style:D({stroke:s[y]},p),silent:true}))}},minorSplitLine:function(t,e,r,i){var a=r.axis;var n=r.getModel("minorSplitLine");var o=n.getModel("lineStyle");var s=i.coordinateSystem.getRect();var l=a.isHorizontal();var u=a.getMinorTicksCoords();if(!u.length){return}var f=[];var h=[];var v=o.getLineStyle();for(var c=0;c<u.length;c++){for(var p=0;p<u[c].length;p++){var d=a.toGlobalCoord(u[c][p].coord);if(l){f[0]=d;f[1]=s.y;h[0]=d;h[1]=s.y+s.height}else{f[0]=s.x;f[1]=d;h[0]=s.x+s.width;h[1]=d}e.add(new vh({anid:"minor_line_"+u[c][p].tickValue,subPixelOptimize:true,autoBatch:true,shape:{x1:f[0],y1:f[1],x2:h[0],y2:h[1]},style:v,silent:true}))}}},splitArea:function(t,e,r,i){Hk(t,e,r,i)}};var jk=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="xAxis";return e}(Xk);var qk=function(t){r(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type=jk.type;return e}e.type="yAxis";return e}(Xk);var Kk=function(t){r(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="grid";return e}e.prototype.render=function(t,e){this.group.removeAll();if(t.get("show")){this.group.add(new zl({shape:t.coordinateSystem.getRect(),style:D({fill:t.get("backgroundColor")},t.getItemStyle()),silent:true,z2:-1}))}};e.type="grid";return e}(Hy);var $k={offset:0};function Jk(t){t.registerComponentView(Kk);t.registerComponentModel(XA);t.registerCoordinateSystem("cartesian2d",hk);ek(t,"x",ZA,$k);ek(t,"y",ZA,$k);t.registerComponentView(jk);t.registerComponentView(qk);t.registerPreprocessor(function(t){if(t.xAxis&&t.yAxis&&!t.grid){t.grid={}}})}function Qk(t){Xw(Jk);t.registerSeriesModel(GA);t.registerChartView(YA);t.registerLayout(RD("scatter"))}function tL(t){t.eachSeriesByType("radar",function(t){var e=t.getData();var r=[];var i=t.coordinateSystem;if(!i){return}var a=i.getIndicatorAxes();R(a,function(t,n){e.each(e.mapDimension(a[n].dim),function(t,e){r[e]=r[e]||[];var a=i.dataToPoint(t,n);r[e][n]=eL(a)?a:rL(i)})});e.each(function(t){var a=B(r[t],function(t){return eL(t)})||rL(i);r[t].push(a.slice());e.setItemLayout(t,r[t])})})}function eL(t){return!isNaN(t[0])&&!isNaN(t[1])}function rL(t){return[t.cx,t.cy]}function iL(t){var e=t.polar;if(e){if(!W(e)){e=[e]}var r=[];R(e,function(e,i){if(e.indicator){if(e.type&&!e.shape){e.shape=e.type}t.radar=t.radar||[];if(!W(t.radar)){t.radar=[t.radar]}t.radar.push(e)}else{r.push(e)}});t.polar=r}R(t.series,function(t){if(t&&t.type==="radar"&&t.polarIndex){t.radarIndex=t.polarIndex}})}var aL=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=t.coordinateSystem;var a=this.group;var n=t.getData();var o=this._data;function s(t,e){var r=t.getItemVisual(e,"symbol")||"circle";if(r==="none"){return}var i=ox(t.getItemVisual(e,"symbolSize"));var a=nx(r,-1,-1,2,2);var n=t.getItemVisual(e,"symbolRotate")||0;a.attr({style:{strokeNoScale:true},z2:100,scaleX:i[0]/2,scaleY:i[1]/2,rotation:n*Math.PI/180||0});return a}function l(e,r,i,a,n,o){i.removeAll();for(var l=0;l<r.length-1;l++){var u=s(a,n);if(u){u.__dimIdx=l;if(e[l]){u.setPosition(e[l]);yv[o?"initProps":"updateProps"](u,{x:r[l][0],y:r[l][1]},t,n)}else{u.setPosition(r[l])}i.add(u)}}}function u(t){return N(t,function(t){return[i.cx,i.cy]})}n.diff(o).add(function(e){var r=n.getItemLayout(e);if(!r){return}var i=new sh;var a=new uh;var o={shape:{points:r}};i.shape.points=u(r);a.shape.points=u(r);Rh(i,o,t,e);Rh(a,o,t,e);var s=new ya;var f=new ya;s.add(a);s.add(i);s.add(f);l(a.shape.points,r,f,n,e,true);n.setItemGraphicEl(e,s)}).update(function(e,r){var i=o.getItemGraphicEl(r);var a=i.childAt(0);var s=i.childAt(1);var u=i.childAt(2);var f={shape:{points:n.getItemLayout(e)}};if(!f.shape.points){return}l(a.shape.points,f.shape.points,u,n,e,false);Vh(s);Vh(a);Oh(a,f,t);Oh(s,f,t);n.setItemGraphicEl(e,i)}).remove(function(t){a.remove(o.getItemGraphicEl(t))}).execute();n.eachItemGraphicEl(function(t,e){var r=n.getItemModel(e);var i=t.childAt(0);var o=t.childAt(1);var s=t.childAt(2);var l=n.getItemVisual(e,"style");var u=l.fill;a.add(t);i.useStyle(D(r.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:u}));rf(i,r,"lineStyle");rf(o,r,"areaStyle");var f=r.getModel("areaStyle");var h=f.isEmpty()&&f.parentModel.isEmpty();o.ignore=h;R(["emphasis","select","blur"],function(t){var e=r.getModel([t,"areaStyle"]);var i=e.isEmpty()&&e.parentModel.isEmpty();o.ensureState(t).ignore=i&&h});o.useStyle(D(f.getAreaStyle(),{fill:u,opacity:.7,decal:l.decal}));var v=r.getModel("emphasis");var c=v.getModel("itemStyle").getItemStyle();s.eachChild(function(t){if(t instanceof Al){var i=t.style;t.useStyle(C({image:i.image,x:i.x,y:i.y,width:i.width,height:i.height},l))}else{t.useStyle(l);t.setColor(u);t.style.strokeNoScale=true}var a=t.ensureState("emphasis");a.style=M(c);var o=n.getStore().get(n.getDimensionIndex(t.__dimIdx),e);(o==null||isNaN(o))&&(o="");bv(t,wv(r),{labelFetcher:n.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:o,inheritColor:u,defaultOpacity:l.opacity})});Ju(t,v.get("focus"),v.get("blurScope"))});this._data=n};e.prototype.remove=function(){this.group.removeAll();this._data=null};e.type="radar";return e}(Xy);var nL=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.hasSymbolVisual=true;return r}e.prototype.init=function(e){t.prototype.init.apply(this,arguments);this.legendVisualProvider=new EA(F(this.getData,this),F(this.getRawData,this))};e.prototype.getInitialData=function(t,e){return NA(this,{generateCoord:"indicator_",generateCoordCount:Infinity})};e.prototype.formatTooltip=function(t,e,r){var i=this.getData();var a=this.coordinateSystem;var n=a.getIndicatorAxes();var o=this.getData().getName(t);var s=o===""?this.name:o;var l=Iy(this,t);return py("section",{header:s,sortBlocks:true,blocks:N(n,function(e){var r=i.get(i.mapDimension(e.dim),t);return py("nameValue",{markerType:"subItem",markerColor:l,name:e.name,value:r,sortParam:r})})})};e.prototype.getTooltipPosition=function(t){if(t!=null){var e=this.getData();var r=this.coordinateSystem;var i=e.getValues(N(r.dimensions,function(t){return e.mapDimension(t)}),t);for(var a=0,n=i.length;a<n;a++){if(!isNaN(i[a])){var o=r.getIndicatorAxes();return r.coordToPoint(o[a].dataToCoord(i[a]),a)}}}};e.type="series.radar";e.dependencies=["radar"];e.defaultOption={zlevel:0,z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:true,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8};return e}(Oy);var oL=QA.value;function sL(t,e){return D({show:e},t)}var lL=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.optionUpdated=function(){var t=this.get("boundaryGap");var e=this.get("splitNumber");var r=this.get("scale");var i=this.get("axisLine");var a=this.get("axisTick");var n=this.get("axisLabel");var o=this.get("axisName");var s=this.get(["axisName","show"]);var l=this.get(["axisName","formatter"]);var u=this.get("axisNameGap");var f=this.get("triggerEvent");var h=N(this.get("indicator")||[],function(h){if(h.max!=null&&h.max>0&&!h.min){h.min=0}else if(h.min!=null&&h.min<0&&!h.max){h.max=0}var v=o;if(h.color!=null){v=D({color:h.color},o)}var c=I(M(h),{boundaryGap:t,splitNumber:e,scale:r,axisLine:i,axisTick:a,axisLabel:n,name:h.text,nameLocation:"end",nameGap:u,nameTextStyle:v,triggerEvent:f},false);if(!s){c.name=""}if(typeof l==="string"){var p=c.name;c.name=l.replace("{value}",p!=null?p:"")}else if(typeof l==="function"){c.name=l(c.name,c)}var d=new Uv(c,null,this.ecModel);P(d,aI.prototype);d.mainType="radar";d.componentIndex=this.componentIndex;return d},this);this._indicatorModels=h};e.prototype.getIndicatorModels=function(){return this._indicatorModels};e.type="radar";e.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:true},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:false,shape:"polygon",axisLine:I({lineStyle:{color:"#bbb"}},oL.axisLine),axisLabel:sL(oL.axisLabel,false),axisTick:sL(oL.axisTick,false),splitLine:sL(oL.splitLine,true),splitArea:sL(oL.splitArea,true),indicator:[]};return e}(xp);var uL=["axisLine","axisTickLabel","axisName"];var fL=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=this.group;i.removeAll();this._buildAxes(t);this._buildSplitLineAndArea(t)};e.prototype._buildAxes=function(t){var e=t.coordinateSystem;var r=e.getIndicatorAxes();var i=N(r,function(t){var r=new yk(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return r});R(i,function(t){R(uL,t.add,t);this.group.add(t.getGroup())},this)};e.prototype._buildSplitLineAndArea=function(t){var e=t.coordinateSystem;var r=e.getIndicatorAxes();if(!r.length){return}var i=t.get("shape");var a=t.getModel("splitLine");var n=t.getModel("splitArea");var o=a.getModel("lineStyle");var s=n.getModel("areaStyle");var l=a.get("show");var u=n.get("show");var f=o.get("color");var h=s.get("color");var v=W(f)?f:[f];var c=W(h)?h:[h];var p=[];var d=[];function g(t,e,r){var i=r%e.length;t[i]=t[i]||[];return i}if(i==="circle"){var y=r[0].getTicksCoords();var m=e.cx;var x=e.cy;for(var _=0;_<y.length;_++){if(l){var b=g(p,v,_);p[b].push(new Nf({shape:{cx:m,cy:x,r:y[_].coord}}))}if(u&&_<y.length-1){var b=g(d,c,_);d[b].push(new eh({shape:{cx:m,cy:x,r0:y[_].coord,r:y[_+1].coord}}))}}}else{var w;var S=N(r,function(t,r){var i=t.getTicksCoords();w=w==null?i.length-1:Math.min(i.length-1,w);return N(i,function(t){return e.coordToPoint(t.coord,r)})});var M=[];for(var _=0;_<=w;_++){var I=[];for(var T=0;T<r.length;T++){I.push(S[T][_])}if(I[0]){I.push(I[0].slice())}else{if("development"!=="production"){console.error("Can't draw value axis "+_)}}if(l){var b=g(p,v,_);p[b].push(new uh({shape:{points:I}}))}if(u&&M){var b=g(d,c,_-1);d[b].push(new sh({shape:{points:I.concat(M)}}))}M=I.slice().reverse()}}var C=o.getLineStyle();var A=s.getAreaStyle();R(d,function(t,e){this.group.add(Jh(t,{style:D({stroke:"none",fill:c[e%c.length]},A),silent:true}))},this);R(p,function(t,e){this.group.add(Jh(t,{style:D({fill:"none",stroke:v[e%v.length]},C),silent:true}))},this)};e.type="radar";return e}(Hy);var hL=function(t){r(e,t);function e(e,r,i){var a=t.call(this,e,r,i)||this;a.type="value";a.angle=0;a.name="";return a}return e}(PI);var vL=function(){function t(t,e,r){this.dimensions=[];this._model=t;this._indicatorAxes=N(t.getIndicatorModels(),function(t,e){var r="indicator_"+e;var i=new hL(r,new rM);i.name=t.get("name");i.model=t;t.axis=i;this.dimensions.push(r);return i},this);this.resize(t,r)}t.prototype.getIndicatorAxes=function(){return this._indicatorAxes};t.prototype.dataToPoint=function(t,e){var r=this._indicatorAxes[e];return this.coordToPoint(r.dataToCoord(t),e)};t.prototype.coordToPoint=function(t,e){var r=this._indicatorAxes[e];var i=r.angle;var a=this.cx+t*Math.cos(i);var n=this.cy-t*Math.sin(i);return[a,n]};t.prototype.pointToData=function(t){var e=t[0]-this.cx;var r=t[1]-this.cy;var i=Math.sqrt(e*e+r*r);e/=i;r/=i;var a=Math.atan2(-r,e);var n=Infinity;var o;var s=-1;for(var l=0;l<this._indicatorAxes.length;l++){var u=this._indicatorAxes[l];var f=Math.abs(a-u.angle);if(f<n){o=u;s=l;n=f}}return[s,+(o&&o.coordToData(i))]};t.prototype.resize=function(t,e){var r=t.get("center");var i=e.getWidth();var a=e.getHeight();var n=Math.min(i,a)/2;this.cx=Na(r[0],i);this.cy=Na(r[1],a);this.startAngle=t.get("startAngle")*Math.PI/180;var o=t.get("radius");if(typeof o==="string"||typeof o==="number"){o=[0,o]}this.r0=Na(o[0],n);this.r=Na(o[1],n);R(this._indicatorAxes,function(t,e){t.setExtent(this.r0,this.r);var r=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;r=Math.atan2(Math.sin(r),Math.cos(r));t.angle=r},this)};t.prototype.update=function(t,e){var r=this._indicatorAxes;var i=this._model;R(r,function(t){t.scale.setExtent(Infinity,-Infinity)});t.eachSeriesByType("radar",function(e,a){if(e.get("coordinateSystem")!=="radar"||t.getComponent("radar",e.get("radarIndex"))!==i){return}var n=e.getData();R(r,function(t){t.scale.unionExtentFromData(n,n.mapDimension(t.dim))})},this);var a=i.get("splitNumber");function n(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10));var r=t/e;if(r===2){r=5}else{r*=2}return r*e}R(r,function(t,e){var r=YM(t.scale,t.model).extent;ZM(t.scale,t.model);var i=t.model;var o=t.scale;var s=UM(o,i.get("min",true));var l=UM(o,i.get("max",true));var u=o.getInterval();if(s!=null&&l!=null){o.setExtent(+s,+l);o.setInterval((l-s)/a)}else if(s!=null){var f=void 0;do{f=s+u*a;o.setExtent(+s,f);o.setInterval(u);u=n(u)}while(f<r[1]&&isFinite(f)&&isFinite(r[1]))}else if(l!=null){var h=void 0;do{h=l-u*a;o.setExtent(h,+l);o.setInterval(u);u=n(u)}while(h>r[0]&&isFinite(h)&&isFinite(r[0]))}else{var v=o.getTicks().length-1;if(v>a){u=n(u)}var f=Math.ceil(r[1]/u)*u;var h=Ea(f-u*a);o.setExtent(h,f);o.setInterval(u)}})};t.prototype.convertToPixel=function(t,e,r){console.warn("Not implemented.");return null};t.prototype.convertFromPixel=function(t,e,r){console.warn("Not implemented.");return null};t.prototype.containPoint=function(t){console.warn("Not implemented.");return false};t.create=function(e,r){var i=[];e.eachComponent("radar",function(a){var n=new t(a,e,r);i.push(n);a.coordinateSystem=n});e.eachSeriesByType("radar",function(t){if(t.get("coordinateSystem")==="radar"){t.coordinateSystem=i[t.get("radarIndex")||0]}});return i};t.dimensions=[];return t}();function cL(t){t.registerCoordinateSystem("radar",vL);t.registerComponentModel(lL);t.registerComponentView(fL);t.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(t){e.setItemVisual(t,"legendIcon","roundRect")});e.setVisual("legendIcon","roundRect")}})}function pL(t){Xw(cL);t.registerChartView(aL);t.registerSeriesModel(nL);t.registerLayout(tL);t.registerProcessor(TA("radar"));t.registerPreprocessor(iL)}var dL="\0_ec_interaction_mutex";function gL(t,e,r){var i=xL(t);i[e]=r}function yL(t,e,r){var i=xL(t);var a=i[e];if(a===r){i[e]=null}}function mL(t,e){return!!xL(t)[e]}function xL(t){return t[dL]||(t[dL]={})}Lw({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});var _L=function(t){r(e,t);function e(e){var r=t.call(this)||this;r._zr=e;var i=F(r._mousedownHandler,r);var a=F(r._mousemoveHandler,r);var n=F(r._mouseupHandler,r);var o=F(r._mousewheelHandler,r);var s=F(r._pinchHandler,r);r.enable=function(t,r){this.disable();this._opt=D(M(r)||{},{zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:false,preventDefaultMouseMove:true});if(t==null){t=true}if(t===true||t==="move"||t==="pan"){e.on("mousedown",i);e.on("mousemove",a);e.on("mouseup",n)}if(t===true||t==="scale"||t==="zoom"){e.on("mousewheel",o);e.on("pinch",s)}};r.disable=function(){e.off("mousedown",i);e.off("mousemove",a);e.off("mouseup",n);e.off("mousewheel",o);e.off("pinch",s)};return r}e.prototype.isDragging=function(){return this._dragging};e.prototype.isPinching=function(){return this._pinching};e.prototype.setPointerChecker=function(t){this.pointerChecker=t};e.prototype.dispose=function(){this.disable()};e.prototype._mousedownHandler=function(t){if(de(t)||t.target&&t.target.draggable){return}var e=t.offsetX;var r=t.offsetY;if(this.pointerChecker&&this.pointerChecker(t,e,r)){this._x=e;this._y=r;this._dragging=true}};e.prototype._mousemoveHandler=function(t){if(!this._dragging||!SL("moveOnMouseMove",t,this._opt)||t.gestureEvent==="pinch"||mL(this._zr,"globalPan")){return}var e=t.offsetX;var r=t.offsetY;var i=this._x;var a=this._y;var n=e-i;var o=r-a;this._x=e;this._y=r;this._opt.preventDefaultMouseMove&&pe(t.event);wL(this,"pan","moveOnMouseMove",t,{dx:n,dy:o,oldX:i,oldY:a,newX:e,newY:r,isAvailableBehavior:null})};e.prototype._mouseupHandler=function(t){if(!de(t)){this._dragging=false}};e.prototype._mousewheelHandler=function(t){var e=SL("zoomOnMouseWheel",t,this._opt);var r=SL("moveOnMouseWheel",t,this._opt);var i=t.wheelDelta;var a=Math.abs(i);var n=t.offsetX;var o=t.offsetY;if(i===0||!e&&!r){return}if(e){var s=a>3?1.4:a>1?1.2:1.1;var l=i>0?s:1/s;bL(this,"zoom","zoomOnMouseWheel",t,{scale:l,originX:n,originY:o,isAvailableBehavior:null})}if(r){var u=Math.abs(i);var f=(i>0?1:-1)*(u>3?.4:u>1?.15:.05);bL(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:f,originX:n,originY:o,isAvailableBehavior:null})}};e.prototype._pinchHandler=function(t){if(mL(this._zr,"globalPan")){return}var e=t.pinchScale>1?1.1:1/1.1;bL(this,"zoom",null,t,{scale:e,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})};return e}(Zt);function bL(t,e,r,i,a){if(t.pointerChecker&&t.pointerChecker(i,a.originX,a.originY)){pe(i.event);wL(t,e,r,i,a)}}function wL(t,e,r,i,a){a.isAvailableBehavior=F(SL,null,r,i);t.trigger(e,a)}function SL(t,e,r){var i=r[t];return!t||i&&(!Y(i)||e.event[i+"Key"])}function ML(t,e,r){var i=t.target;i.x+=e;i.y+=r;i.dirty()}function IL(t,e,r,i){var a=t.target;var n=t.zoomLimit;var o=t.zoom=t.zoom||1;o*=e;if(n){var s=n.min||0;var l=n.max||Infinity;o=Math.max(Math.min(l,o),s)}var u=o/t.zoom;t.zoom=o;a.x-=(r-a.x)*(u-1);a.y-=(i-a.y)*(u-1);a.scaleX*=u;a.scaleY*=u;a.dirty()}var TL={axisPointer:1,tooltip:1,brush:1};function CL(t,e,r){var i=e.getComponentByElement(t.topTarget);var a=i&&i.coordinateSystem;return i&&i!==r&&!TL.hasOwnProperty(i.mainType)&&a&&a.model!==r}var DL=["rect","circle","line","ellipse","polygon","polyline","path"];var AL=ct(DL);var kL=ct(DL.concat(["g"]));var LL=ct(DL.concat(["g"]));var PL=Fn();function OL(t){var e=t.getItemStyle();var r=t.get("areaColor");if(r!=null){e.fill=r}return e}var RL=function(){function t(t){var e=new ya;this.uid=Xv("ec_map_draw");this._controller=new _L(t.getZr());this._controllerHost={target:e};this.group=e;e.add(this._regionsGroup=new ya);e.add(this._svgGroup=new ya)}t.prototype.draw=function(t,e,r,i,a){var n=t.mainType==="geo";var o=t.getData&&t.getData();n&&e.eachComponent({mainType:"series",subType:"map"},function(e){if(!o&&e.getHostGeoModel()===t){o=e.getData()}});var s=t.coordinateSystem;var l=this._regionsGroup;var u=this.group;var f=s.getTransformInfo();var h=f.raw;var v=f.roam;var c=!l.childAt(0)||a;if(c){u.x=v.x;u.y=v.y;u.scaleX=v.scaleX;u.scaleY=v.scaleY;u.dirty()}else{Oh(u,v,t)}var p=o&&o.getVisual("visualMeta")&&o.getVisual("visualMeta").length>0;var d={api:r,geo:s,mapOrGeoModel:t,data:o,isVisualEncodedByVisualMap:p,isGeo:n,transformInfoRaw:h};if(s.resourceType==="geoJSON"){this._buildGeoJSON(d)}else if(s.resourceType==="geoSVG"){this._buildSVG(d)}this._updateController(t,e,r);this._updateMapSelectHandler(t,l,r,i)};t.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=ct();var r=ct();var i=this._regionsGroup;var a=t.transformInfoRaw;var n=t.mapOrGeoModel;var o=t.data;var s=function(t){return[t[0]*a.scaleX+a.x,t[1]*a.scaleY+a.y]};i.removeAll();R(t.geo.regions,function(a){var l=a.name;var u=e.get(l);var f=r.get(l)||{},h=f.dataIdx,v=f.regionModel;if(!u){u=e.set(l,new ya);i.add(u);h=o?o.indexOfName(l):null;v=t.isGeo?n.getRegionModel(l):o?o.getItemModel(h):null;r.set(l,{dataIdx:h,regionModel:v})}var c=new xh({segmentIgnoreThreshold:1,shape:{paths:[]}});u.add(c);R(a.geometries,function(t){if(t.type!=="polygon"){return}var e=[];for(var r=0;r<t.exterior.length;++r){e.push(s(t.exterior[r]))}c.shape.paths.push(new sh({segmentIgnoreThreshold:1,shape:{points:e}}));for(var r=0;r<(t.interiors?t.interiors.length:0);++r){var i=t.interiors[r];var a=[];for(var n=0;n<i.length;++n){a.push(s(i[n]))}c.shape.paths.push(new sh({segmentIgnoreThreshold:1,shape:{points:a}}))}});NL(t,c,h,v);if(c instanceof Wo){c.culling=true}var p=s(a.getCenter());EL(t,c,l,v,n,h,p)});e.each(function(e,i){var a=r.get(i),o=a.dataIdx,s=a.regionModel;zL(t,e,i,s,n,o);BL(t,e,i,s,n);VL(t,e,i,s,n)},this)};t.prototype._buildSVG=function(t){var e=t.geo.map;var r=t.transformInfoRaw;this._svgGroup.x=r.x;this._svgGroup.y=r.y;this._svgGroup.scaleX=r.scaleX;this._svgGroup.scaleY=r.scaleY;if(this._svgResourceChanged(e)){this._freeSVG();this._useSVG(e)}var i=this._svgDispatcherMap=ct();var a=false;R(this._svgGraphicRecord.named,function(e){var r=e.name;var n=t.mapOrGeoModel;var o=t.data;var s=e.svgNodeTagLower;var l=e.el;var u=o?o.indexOfName(r):null;var f=n.getRegionModel(r);if(AL.get(s)!=null&&l instanceof Wo){NL(t,l,u,f)}if(l instanceof Wo){l.culling=true}l.z2EmphasisLift=0;if(!e.namedFrom){if(LL.get(s)!=null){EL(t,l,r,f,n,u,null)}zL(t,l,r,f,n,u);BL(t,l,r,f,n);if(kL.get(s)!=null){var h=VL(t,l,r,f,n);if(h==="self"){a=true}var v=i.get(r)||i.set(r,[]);v.push(l)}}},this);this._enableBlurEntireSVG(a,t)};t.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var r=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle();var i=r.opacity;this._svgGraphicRecord.root.traverse(function(t){if(!t.isGroup){Pu(t);var e=t.ensureState("blur").style||{};if(e.opacity==null&&i!=null){e.opacity=i}t.ensureState("emphasis")}})}};t.prototype.remove=function(){this._regionsGroup.removeAll();this._regionsGroupByName=null;this._svgGroup.removeAll();this._freeSVG();this._controller.dispose();this._controllerHost=null};t.prototype.findHighDownDispatchers=function(t,e){if(t==null){return[]}var r=e.coordinateSystem;if(r.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var a=i.get(t);return a?[a]:[]}}else if(r.resourceType==="geoSVG"){return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]}};t.prototype._svgResourceChanged=function(t){return this._svgMapName!==t};t.prototype._useSVG=function(t){var e=rb.getGeoResource(t);if(e&&e.type==="geoSVG"){var r=e.useGraphic(this.uid);this._svgGroup.add(r.root);this._svgGraphicRecord=r;this._svgMapName=t}};t.prototype._freeSVG=function(){var t=this._svgMapName;if(t==null){return}var e=rb.getGeoResource(t);if(e&&e.type==="geoSVG"){e.freeGraphic(this.uid)}this._svgGraphicRecord=null;this._svgDispatcherMap=null;this._svgGroup.removeAll();this._svgMapName=null};t.prototype._updateController=function(t,e,r){var i=t.coordinateSystem;var a=this._controller;var n=this._controllerHost;n.zoomLimit=t.get("scaleLimit");n.zoom=i.getZoom();a.enable(t.get("roam")||false);var o=t.mainType;function s(){var e={type:"geoRoam",componentType:o};e[o+"Id"]=t.id;return e}a.off("pan").on("pan",function(t){this._mouseDownFlag=false;ML(n,t.dx,t.dy);r.dispatchAction(C(s(),{dx:t.dx,dy:t.dy}))},this);a.off("zoom").on("zoom",function(t){this._mouseDownFlag=false;IL(n,t.scale,t.originX,t.originY);r.dispatchAction(C(s(),{zoom:t.scale,originX:t.originX,originY:t.originY}))},this);a.setPointerChecker(function(e,a,n){return i.containPoint([a,n])&&!CL(e,r,t)})};t.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();if(e){e.ignore=PL(e).ignore}})};t.prototype._updateMapSelectHandler=function(t,e,r,i){var a=this;e.off("mousedown");e.off("click");if(t.get("selectedMode")){e.on("mousedown",function(){a._mouseDownFlag=true});e.on("click",function(t){if(!a._mouseDownFlag){return}a._mouseDownFlag=false})}};return t}();function NL(t,e,r,i){var a=i.getModel("itemStyle");var n=i.getModel(["emphasis","itemStyle"]);var o=i.getModel(["blur","itemStyle"]);var s=i.getModel(["select","itemStyle"]);var l=OL(a);var u=OL(n);var f=OL(s);var h=OL(o);var v=t.data;if(v){var c=v.getItemVisual(r,"style");var p=v.getItemVisual(r,"decal");if(t.isVisualEncodedByVisualMap&&c.fill){l.fill=c.fill}if(p){l.decal=Yx(p,t.api)}}e.setStyle(l);e.style.strokeNoScale=true;e.ensureState("emphasis").style=u;e.ensureState("select").style=f;e.ensureState("blur").style=h;Pu(e)}function EL(t,e,r,i,a,n,o){var s=t.data;var l=t.isGeo;var u=s&&isNaN(s.get(s.mapDimension("value"),n));var f=s&&s.getItemLayout(n);if(l||u||f&&f.showLabel){var h=!l?n:r;var v=void 0;if(!s||n>=0){v=a}var c=o?{normal:{align:"center",verticalAlign:"middle"}}:null;bv(e,wv(i),{labelFetcher:v,labelDataIndex:h,defaultText:r},c);var p=e.getTextContent();if(p){PL(p).ignore=p.ignore;if(e.textConfig&&o){var d=e.getBoundingRect().clone();e.textConfig.layoutRect=d;e.textConfig.position=[(o[0]-d.x)/d.width*100+"%",(o[1]-d.y)/d.height*100+"%"]}}e.disableLabelAnimation=true}else{e.removeTextContent();e.removeTextConfig();e.disableLabelAnimation=null}}function zL(t,e,r,i,a,n){if(t.data){t.data.setItemGraphicEl(n,e)}else{$l(e).eventData={componentType:"geo",componentIndex:a.componentIndex,geoIndex:a.componentIndex,name:r,region:i&&i.option||{}}}}function BL(t,e,r,i,a){if(!t.data){gv({el:e,componentModel:a,itemName:r,itemTooltipOption:i.get("tooltip")})}}function VL(t,e,r,i,a){e.highDownSilentOnTouch=!!a.get("selectedMode");var n=i.getModel("emphasis");var o=n.get("focus");Ju(e,o,n.get("blurScope"));if(t.isGeo){of(e,a,r)}return o}var GL=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r,i){if(i&&i.type==="mapToggleSelect"&&i.from===this.uid){return}var a=this.group;a.removeAll();if(t.getHostGeoModel()){return}if(this._mapDraw&&i&&i.type==="geoRoam"){this._mapDraw.resetForLabelLayout()}if(!(i&&i.type==="geoRoam"&&i.componentType==="series"&&i.seriesId===t.id)){if(t.needsDrawMap){var n=this._mapDraw||new RL(r);a.add(n.group);n.draw(t,e,r,this,i);this._mapDraw=n}else{this._mapDraw&&this._mapDraw.remove();this._mapDraw=null}}else{var n=this._mapDraw;n&&a.add(n.group)}t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,r)};e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()};e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null};e.prototype._renderSymbols=function(t,e,r){var i=t.originalData;var a=this.group;i.each(i.mapDimension("value"),function(e,r){if(isNaN(e)){return}var n=i.getItemLayout(r);if(!n||!n.point){return}var o=n.point;var s=n.offset;var l=new Nf({style:{fill:t.getData().getVisual("style").fill},shape:{cx:o[0]+s*9,cy:o[1],r:3},silent:true,z2:8+(!s?su+1:0)});if(!s){var u=t.mainSeries.getData();var f=i.getName(r);var h=u.indexOfName(f);var v=i.getItemModel(r);var c=v.getModel("label");var p=u.getItemGraphicEl(h);bv(l,wv(v),{labelFetcher:{getFormattedLabel:function(e,r){return t.getFormattedLabel(h,r)}}});l.disableLabelAnimation=true;if(!c.get("position")){l.setTextConfig({position:"bottom"})}p.onHoverStateChange=function(t){Tu(l,t)}}a.add(l)})};e.type="map";return e}(Xy);var FL=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.needsDrawMap=false;r.seriesGroup=[];r.getTooltipPosition=function(t){if(t!=null){var e=this.getData().getName(t);var r=this.coordinateSystem;var i=r.getRegion(e);return i&&r.dataToPoint(i.getCenter())}};return r}e.prototype.getInitialData=function(t){var e=NA(this,{coordDimensions:["value"],encodeDefaulter:H(zp,this)});var r=ct();var i=[];for(var a=0,n=e.count();a<n;a++){var o=e.getName(a);r.set(o,true)}var s=rb.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);R(s.regions,function(t){var e=t.name;if(!r.get(e)){i.push(e)}});e.appendValues([],i);return e};e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return t!=null?this.ecModel.getComponent("geo",t):null};e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map};e.prototype.getRawValue=function(t){var e=this.getData();return e.get(e.mapDimension("value"),t)};e.prototype.getRegionModel=function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))};e.prototype.formatTooltip=function(t,e,r){var i=this.getData();var a=this.getRawValue(t);var n=i.getName(t);var o=this.seriesGroup;var s=[];for(var l=0;l<o.length;l++){var u=o[l].originalData.indexOfName(n);var f=i.mapDimension("value");if(!isNaN(o[l].originalData.get(f,u))){s.push(o[l].name)}}return py("section",{header:s.join(", "),noHeader:!s.length,blocks:[py("nameValue",{name:n,value:a})]})};e.prototype.setZoom=function(t){this.option.zoom=t};e.prototype.setCenter=function(t){this.option.center=t};e.prototype.getLegendIcon=function(t){var e=t.icon||"roundRect";var r=nx(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);r.setStyle(t.itemStyle);r.style.stroke="none";if(e.indexOf("empty")>-1){r.style.stroke=r.style.fill;r.style.fill="#fff";r.style.lineWidth=2}return r};e.type="series.map";e.dependencies=["geo"];e.layoutMode="box";e.defaultOption={zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:true,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:true,label:{show:false,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"};return e}(Oy);function HL(t,e){var r={};R(t,function(t){t.each(t.mapDimension("value"),function(e,i){var a="ec-"+t.getName(i);r[a]=r[a]||[];if(!isNaN(e)){r[a].push(e)}})});return t[0].map(t[0].mapDimension("value"),function(i,a){var n="ec-"+t[0].getName(a);var o=0;var s=Infinity;var l=-Infinity;var u=r[n].length;for(var f=0;f<u;f++){s=Math.min(s,r[n][f]);l=Math.max(l,r[n][f]);o+=r[n][f]}var h;if(e==="min"){h=s}else if(e==="max"){h=l}else if(e==="average"){h=o/u}else{h=o}return u===0?NaN:h})}function WL(t){var e={};t.eachSeriesByType("map",function(t){var r=t.getHostGeoModel();var i=r?"o"+r.id:"i"+t.getMapType();(e[i]=e[i]||[]).push(t)});R(e,function(t,e){var r=HL(N(t,function(t){return t.getData()}),t[0].get("mapValueCalculation"));for(var i=0;i<t.length;i++){t[i].originalData=t[i].getData()}for(var i=0;i<t.length;i++){t[i].seriesGroup=t;t[i].needsDrawMap=i===0&&!t[i].getHostGeoModel();t[i].setData(r.cloneShallow());t[i].mainSeries=t[0]}})}function UL(t){var e={};t.eachSeriesByType("map",function(r){var i=r.getMapType();if(r.getHostGeoModel()||e[i]){return}var a={};R(r.seriesGroup,function(e){var r=e.coordinateSystem;var i=e.originalData;if(e.get("showLegendSymbol")&&t.getComponent("legend")){i.each(i.mapDimension("value"),function(t,e){var n=i.getName(e);var o=r.getRegion(n);if(!o||isNaN(t)){return}var s=a[n]||0;var l=r.dataToPoint(o.getCenter());a[n]=s+1;i.setItemLayout(e,{point:l,offset:s})})}});var n=r.getData();n.each(function(t){var e=n.getName(t);var r=n.getItemLayout(t)||{};r.showLabel=!a[e];n.setItemLayout(t,r)});e[i]=true})}var YL=Ft;var XL=function(t){r(e,t);function e(e){var r=t.call(this)||this;r.type="view";r.dimensions=["x","y"];r._roamTransformable=new Ri;r._rawTransformable=new Ri;r.name=e;return r}e.prototype.setBoundingRect=function(t,e,r,i){this._rect=new Yi(t,e,r,i);return this._rect};e.prototype.getBoundingRect=function(){return this._rect};e.prototype.setViewRect=function(t,e,r,i){this._transformTo(t,e,r,i);this._viewRect=new Yi(t,e,r,i)};e.prototype._transformTo=function(t,e,r,i){var a=this.getBoundingRect();var n=this._rawTransformable;n.transform=a.calculateTransform(new Yi(t,e,r,i));var o=n.parent;n.parent=null;n.decomposeTransform();n.parent=o;this._updateTransform()};e.prototype.setCenter=function(t){if(!t){return}this._center=t;this._updateCenterAndZoom()};e.prototype.setZoom=function(t){t=t||1;var e=this.zoomLimit;if(e){if(e.max!=null){t=Math.min(e.max,t)}if(e.min!=null){t=Math.max(e.min,t)}}this._zoom=t;this._updateCenterAndZoom()};e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();var e=t.x+t.width/2;var r=t.y+t.height/2;return[e,r]};e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()};e.prototype.getZoom=function(){return this._zoom||1};e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()};e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform();var e=this._roamTransformable;var r=this.getDefaultCenter();var i=this.getCenter();var a=this.getZoom();i=Ft([],i,t);r=Ft([],r,t);e.originX=i[0];e.originY=i[1];e.x=r[0]-i[0];e.y=r[1]-i[1];e.scaleX=e.scaleY=a;this._updateTransform()};e.prototype._updateTransform=function(){var t=this._roamTransformable;var e=this._rawTransformable;e.parent=t;t.updateTransform();e.updateTransform();xi(this.transform||(this.transform=[]),e.transform||yi());this._rawTransform=e.getLocalTransform();this.invTransform=this.invTransform||[];Mi(this.invTransform,this.transform);this.decomposeTransform()};e.prototype.getTransformInfo=function(){var t=this._rawTransformable;var e=this._roamTransformable;var r=new Ri;r.transform=e.transform;r.decomposeTransform();return{roam:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}};e.prototype.getViewRect=function(){return this._viewRect};e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();t.applyTransform(this.transform);return t};e.prototype.dataToPoint=function(t,e,r){var i=e?this._rawTransform:this.transform;r=r||[];return i?YL(r,t,i):_t(r,t)};e.prototype.pointToData=function(t){var e=this.invTransform;return e?YL([],t,e):[t[0],t[1]]};e.prototype.convertToPixel=function(t,e,r){var i=ZL(e);return i===this?i.dataToPoint(r):null};e.prototype.convertFromPixel=function(t,e,r){var i=ZL(e);return i===this?i.pointToData(r):null};e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])};e.dimensions=["x","y"];return e}(Ri);function ZL(t){var e=t.seriesModel;return e?e.coordinateSystem:null}var jL={geoJSON:{aspectScale:.75,invertLongitute:true},geoSVG:{aspectScale:1,invertLongitute:false}};var qL=["lng","lat"];var KL=function(t){r(e,t);function e(e,r,i){var a=t.call(this,e)||this;a.dimensions=qL;a.type="geo";a._nameCoordMap=ct();a.map=r;var n=rb.load(r,i.nameMap,i.nameProperty);var o=rb.getGeoResource(r);a.resourceType=o?o.type:null;var s=jL[o.type];a._regionsMap=n.regionsMap;a._invertLongitute=s.invertLongitute;a.regions=n.regions;a.aspectScale=it(i.aspectScale,s.aspectScale);var l=n.boundingRect;a.setBoundingRect(l.x,l.y,l.width,l.height);return a}e.prototype._transformTo=function(t,e,r,i){var a=this.getBoundingRect();var n=this._invertLongitute;a=a.clone();if(n){a.y=-a.y-a.height}var o=this._rawTransformable;o.transform=a.calculateTransform(new Yi(t,e,r,i));var s=o.parent;o.parent=null;o.decomposeTransform();o.parent=s;if(n){o.scaleY=-o.scaleY}this._updateTransform()};e.prototype.getRegion=function(t){return this._regionsMap.get(t)};e.prototype.getRegionByCoord=function(t){var e=this.regions;for(var r=0;r<e.length;r++){var i=e[r];if(i.type==="geoJSON"&&i.contain(t)){return e[r]}}};e.prototype.addGeoCoord=function(t,e){this._nameCoordMap.set(t,e)};e.prototype.getGeoCoord=function(t){var e=this._regionsMap.get(t);return this._nameCoordMap.get(t)||e&&e.getCenter()};e.prototype.dataToPoint=function(t,e,r){if(typeof t==="string"){t=this.getGeoCoord(t)}if(t){return XL.prototype.dataToPoint.call(this,t,e,r)}};e.prototype.convertToPixel=function(t,e,r){var i=$L(e);return i===this?i.dataToPoint(r):null};e.prototype.convertFromPixel=function(t,e,r){var i=$L(e);return i===this?i.pointToData(r):null};return e}(XL);P(KL,XL);function $L(t){var e=t.geoModel;var r=t.seriesModel;return e?e.coordinateSystem:r?r.coordinateSystem||(r.getReferringComponents("geo",Yn).models[0]||{}).coordinateSystem:null}function JL(t,e){var r=t.get("boundingCoords");if(r!=null){var i=r[0];var a=r[1];if(isNaN(i[0])||isNaN(i[1])||isNaN(a[0])||isNaN(a[1])){if("development"!=="production"){console.error("Invalid boundingCoords")}}else{this.setBoundingRect(i[0],i[1],a[0]-i[0],a[1]-i[1])}}var n=this.getBoundingRect();var o=t.get("layoutCenter");var s=t.get("layoutSize");var l=e.getWidth();var u=e.getHeight();var f=n.width/n.height*this.aspectScale;var h=false;var v;var c;if(o&&s){v=[Na(o[0],l),Na(o[1],u)];c=Na(s,Math.min(l,u));if(!isNaN(v[0])&&!isNaN(v[1])&&!isNaN(c)){h=true}else{if("development"!=="production"){console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead.")}}}var p;if(h){p={};if(f>1){p.width=c;p.height=c/f}else{p.height=c;p.width=c*f}p.y=v[1]-p.height/2;p.x=v[0]-p.width/2}else{var d=t.getBoxLayoutParams();d.aspect=f;p=hp(d,{width:l,height:u})}this.setViewRect(p.x,p.y,p.width,p.height);this.setCenter(t.get("center"));this.setZoom(t.get("zoom"))}function QL(t,e){R(e.get("geoCoord"),function(e,r){t.addGeoCoord(r,e)})}var tP=function(){function t(){this.dimensions=qL}t.prototype.create=function(t,e){var r=[];t.eachComponent("geo",function(t,i){var a=t.get("map");var n=new KL(a+i,a,{nameMap:t.get("nameMap"),nameProperty:t.get("nameProperty"),aspectScale:t.get("aspectScale")});n.zoomLimit=t.get("scaleLimit");r.push(n);t.coordinateSystem=n;n.model=t;n.resize=JL;n.resize(t,e)});t.eachSeries(function(t){var e=t.get("coordinateSystem");if(e==="geo"){var i=t.get("geoIndex")||0;t.coordinateSystem=r[i]}});var i={};t.eachSeriesByType("map",function(t){if(!t.getHostGeoModel()){var e=t.getMapType();i[e]=i[e]||[];i[e].push(t)}});R(i,function(t,i){var a=N(t,function(t){return t.get("nameMap")});var n=new KL(i,i,{nameMap:T(a),nameProperty:t[0].get("nameProperty"),aspectScale:t[0].get("aspectScale")});n.zoomLimit=rt.apply(null,N(t,function(t){return t.get("scaleLimit")}));r.push(n);n.resize=JL;n.resize(t[0],e);R(t,function(t){t.coordinateSystem=n;QL(n,t)})});return r};t.prototype.getFilledRegions=function(t,e,r,i){var a=(t||[]).slice();var n=ct();for(var o=0;o<a.length;o++){n.set(a[o].name,a[o])}var s=rb.load(e,r,i);R(s.regions,function(t){var e=t.name;!n.get(e)&&a.push({name:e})});return a};return t}();var eP=new tP;var rP=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(t,e,r){var i=rb.getGeoResource(t.map);if(i&&i.type==="geoJSON"){var a=t.itemStyle=t.itemStyle||{};if(!("color"in a)){a.color="#eee"}}this.mergeDefaultAndTheme(t,r);mn(t,"label",["show"])};e.prototype.optionUpdated=function(){var t=this;var e=this.option;e.regions=eP.getFilledRegions(e.regions,e.map,e.nameMap,e.nameProperty);var r={};this._optionModelMap=E(e.regions||[],function(e,i){var a=i.name;if(a){e.set(a,new Uv(i,t,t.ecModel));if(i.selected){r[a]=true}}return e},ct());if(!e.selectedMap){e.selectedMap=r}};e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new Uv(null,this,this.ecModel)};e.prototype.getFormattedLabel=function(t,e){var r=this.getRegionModel(t);var i=e==="normal"?r.get(["label","formatter"]):r.get(["emphasis","label","formatter"]);var a={name:t};if(typeof i==="function"){a.status=e;return i(a)}else if(typeof i==="string"){return i.replace("{a}",t!=null?t:"")}};e.prototype.setZoom=function(t){this.option.zoom=t};e.prototype.setCenter=function(t){this.option.center=t};e.prototype.select=function(t){var e=this.option;var r=e.selectedMode;if(!r){return}if(r!=="multiple"){e.selectedMap=null}var i=e.selectedMap||(e.selectedMap={});i[t]=true};e.prototype.unSelect=function(t){var e=this.option.selectedMap;if(e){e[t]=false}};e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)};e.prototype.isSelected=function(t){var e=this.option.selectedMap;return!!(e&&e[t])};e.type="geo";e.layoutMode="box";e.defaultOption={zlevel:0,z:0,show:true,left:"center",top:"center",aspectScale:null,silent:false,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:false,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]};return e}(xp);function iP(t,e,r){var i=t.getZoom();var a=t.getCenter();var n=e.zoom;var o=t.dataToPoint(a);if(e.dx!=null&&e.dy!=null){o[0]-=e.dx;o[1]-=e.dy;t.setCenter(t.pointToData(o))}if(n!=null){if(r){var s=r.min||0;var l=r.max||Infinity;n=Math.max(Math.min(i*n,l),s)/i}t.scaleX*=n;t.scaleY*=n;var u=(e.originX-t.x)*(n-1);var f=(e.originY-t.y)*(n-1);t.x-=u;t.y-=f;t.updateTransform();t.setCenter(t.pointToData(o));t.setZoom(n*i)}return{center:t.getCenter(),zoom:t.getZoom()}}var aP=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.focusBlurEnabled=true;return r}e.prototype.init=function(t,e){this._api=e};e.prototype.render=function(t,e,r,i){this._model=t;if(!t.get("show")){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;return}if(!this._mapDraw){this._mapDraw=new RL(r)}var a=this._mapDraw;a.draw(t,e,r,this,i);a.group.on("click",this._handleRegionClick,this);a.group.silent=t.get("silent");this.group.add(a.group);this.updateSelectStatus(t,e,r)};e.prototype._handleRegionClick=function(t){var e;Xm(t.target,function(t){return(e=$l(t).eventData)!=null},true);if(e){this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:e.name})}};e.prototype.updateSelectStatus=function(t,e,r){var i=this;this._mapDraw.group.traverse(function(t){var e=$l(t).eventData;if(e){i._model.isSelected(e.name)?r.enterSelect(t):r.leaveSelect(t);return true}})};e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)};e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()};e.type="geo";return e}(Hy);function nP(t){t.registerCoordinateSystem("geo",eP);t.registerComponentModel(rP);t.registerComponentView(aP);function e(e,r){r.update="geo:updateSelectStatus";t.registerAction(r,function(t,r){var i={};var a=[];r.eachComponent({mainType:"geo",query:t},function(r){r[e](t.name);var n=r.coordinateSystem;R(n.regions,function(t){i[t.name]=r.isSelected(t.name)||false});var o=[];R(i,function(t,e){i[e]&&o.push(e)});a.push({geoIndex:r.componentIndex,name:o})});return{selected:i,allSelected:a,name:t.name}})}e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});e("select",{type:"geoSelect",event:"geoselected"});e("unSelect",{type:"geoUnSelect",event:"geounselected"});t.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,e){var r=t.componentType||"series";e.eachComponent({mainType:r,query:t},function(e){var i=e.coordinateSystem;if(i.type!=="geo"){return}var a=iP(i,t,e.get("scaleLimit"));e.setCenter&&e.setCenter(a.center);e.setZoom&&e.setZoom(a.zoom);if(r==="series"){R(e.seriesGroup,function(t){t.setCenter(a.center);t.setZoom(a.zoom)})}})})}function oP(t){Xw(nP);t.registerChartView(GL);t.registerSeriesModel(FL);t.registerLayout(UL);t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,WL);Wm("map",t.registerAction)}function sP(t){var e=t;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var r=[e];var i;var a;while(i=r.pop()){a=i.children;if(i.isExpand&&a.length){var n=a.length;for(var o=n-1;o>=0;o--){var s=a[o];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null};r.push(s)}}}}function lP(t,e){var r=t.isExpand?t.children:[];var i=t.parentNode.children;var a=t.hierNode.i?i[t.hierNode.i-1]:null;if(r.length){cP(t);var n=(r[0].hierNode.prelim+r[r.length-1].hierNode.prelim)/2;if(a){t.hierNode.prelim=a.hierNode.prelim+e(t,a);t.hierNode.modifier=t.hierNode.prelim-n}else{t.hierNode.prelim=n}}else if(a){t.hierNode.prelim=a.hierNode.prelim+e(t,a)}t.parentNode.hierNode.defaultAncestor=pP(t,a,t.parentNode.hierNode.defaultAncestor||i[0],e)}function uP(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},true);t.hierNode.modifier+=t.parentNode.hierNode.modifier}function fP(t){return arguments.length?t:xP}function hP(t,e){t-=Math.PI/2;return{x:e*Math.cos(t),y:e*Math.sin(t)}}function vP(t,e){return hp(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function cP(t){var e=t.children;var r=e.length;var i=0;var a=0;while(--r>=0){var n=e[r];n.hierNode.prelim+=i;n.hierNode.modifier+=i;a+=n.hierNode.change;i+=n.hierNode.shift+a}}function pP(t,e,r,i){if(e){var a=t;var n=t;var o=n.parentNode.children[0];var s=e;var l=a.hierNode.modifier;var u=n.hierNode.modifier;var f=o.hierNode.modifier;var h=s.hierNode.modifier;while(s=dP(s),n=gP(n),s&&n){a=dP(a);o=gP(o);a.hierNode.ancestor=t;var v=s.hierNode.prelim+h-n.hierNode.prelim-u+i(s,n);if(v>0){mP(yP(s,t,r),t,v);u+=v;l+=v}h+=s.hierNode.modifier;u+=n.hierNode.modifier;l+=a.hierNode.modifier;f+=o.hierNode.modifier}if(s&&!dP(a)){a.hierNode.thread=s;a.hierNode.modifier+=h-l}if(n&&!gP(o)){o.hierNode.thread=n;o.hierNode.modifier+=u-f;r=t}}return r}function dP(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function gP(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function yP(t,e,r){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:r}function mP(t,e,r){var i=r/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=i;e.hierNode.shift+=r;e.hierNode.modifier+=r;e.hierNode.prelim+=r;t.hierNode.change+=i}function xP(t,e){return t.parentNode===e.parentNode?1:2}var _P=function(){function t(){this.parentPoint=[];this.childPoints=[]}return t}();var bP=function(t){r(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new _P};e.prototype.buildPath=function(t,e){var r=e.childPoints;var i=r.length;var a=e.parentPoint;var n=r[0];var o=r[i-1];if(i===1){t.moveTo(a[0],a[1]);t.lineTo(n[0],n[1]);return}var s=e.orient;var l=s==="TB"||s==="BT"?0:1;var u=1-l;var f=Na(e.forkPosition,1);var h=[];h[l]=a[l];h[u]=a[u]+(o[u]-a[u])*f;t.moveTo(a[0],a[1]);t.lineTo(h[0],h[1]);t.moveTo(n[0],n[1]);h[l]=n[l];t.lineTo(h[0],h[1]);h[l]=o[l];t.lineTo(h[0],h[1]);t.lineTo(o[0],o[1]);for(var v=1;v<i-1;v++){var c=r[v];t.moveTo(c[0],c[1]);h[l]=c[l];t.lineTo(h[0],h[1])}};return e}(Sl);var wP=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._mainGroup=new ya;return r}e.prototype.init=function(t,e){this._controller=new _L(e.getZr());this._controllerHost={target:this.group};this.group.add(this._mainGroup)};e.prototype.render=function(t,e,r){var i=t.getData();var a=t.layoutInfo;var n=this._mainGroup;var o=t.get("layout");if(o==="radial"){n.x=a.x+a.width/2;n.y=a.y+a.height/2}else{n.x=a.x;n.y=a.y}this._updateViewCoordSys(t);this._updateController(t,e,r);var s=this._data;i.diff(s).add(function(e){if(SP(i,e)){MP(i,e,null,n,t)}}).update(function(e,r){var a=s.getItemGraphicEl(r);if(!SP(i,e)){a&&DP(s,r,a,n,t);return}MP(i,e,a,n,t)}).remove(function(e){var r=s.getItemGraphicEl(e);if(r){DP(s,e,r,n,t)}}).execute();this._nodeScaleRatio=t.get("nodeScaleRatio");this._updateNodeAndLinkScale(t);if(t.get("expandAndCollapse")===true){i.eachItemGraphicEl(function(e,i){e.off("click").on("click",function(){r.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:i})})})}this._data=i};e.prototype._updateViewCoordSys=function(t){var e=t.getData();var r=[];e.each(function(t){var i=e.getItemLayout(t);if(i&&!isNaN(i.x)&&!isNaN(i.y)){r.push([+i.x,+i.y])}});var i=[];var a=[];Ts(r,i,a);var n=this._min;var o=this._max;if(a[0]-i[0]===0){i[0]=n?n[0]:i[0]-1;a[0]=o?o[0]:a[0]+1}if(a[1]-i[1]===0){i[1]=n?n[1]:i[1]-1;a[1]=o?o[1]:a[1]+1}var s=t.coordinateSystem=new XL;s.zoomLimit=t.get("scaleLimit");s.setBoundingRect(i[0],i[1],a[0]-i[0],a[1]-i[1]);s.setCenter(t.get("center"));s.setZoom(t.get("zoom"));this.group.attr({x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY});this._min=i;this._max=a};e.prototype._updateController=function(t,e,r){var i=this;var a=this._controller;var n=this._controllerHost;var o=this.group;a.setPointerChecker(function(e,i,a){var n=o.getBoundingRect();n.applyTransform(o.transform);return n.contain(i,a)&&!CL(e,r,t)});a.enable(t.get("roam"));n.zoomLimit=t.get("scaleLimit");n.zoom=t.coordinateSystem.getZoom();a.off("pan").off("zoom").on("pan",function(e){ML(n,e.dx,e.dy);r.dispatchAction({seriesId:t.id,type:"treeRoam",dx:e.dx,dy:e.dy})}).on("zoom",function(e){IL(n,e.scale,e.originX,e.originY);r.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:e.scale,originX:e.originX,originY:e.originY});i._updateNodeAndLinkScale(t);r.updateLabelLayout()})};e.prototype._updateNodeAndLinkScale=function(t){var e=t.getData();var r=this._getNodeGlobalScale(t);e.eachItemGraphicEl(function(t,e){t.setSymbolScale(r)})};e.prototype._getNodeGlobalScale=function(t){var e=t.coordinateSystem;if(e.type!=="view"){return 1}var r=this._nodeScaleRatio;var i=e.scaleX||1;var a=e.getZoom();var n=(a-1)*r+1;return n/i};e.prototype.dispose=function(){this._controller&&this._controller.dispose();this._controllerHost=null};e.prototype.remove=function(){this._mainGroup.removeAll();this._data=null};e.type="tree";return e}(Xy);function SP(t,e){var r=t.getItemLayout(e);return r&&!isNaN(r.x)&&!isNaN(r.y)}function MP(t,e,r,i,a){var n=!r;var o=t.tree.getNodeByDataIndex(e);var s=o.getModel();var l=o.getVisual("style").fill;var u=o.isExpand===false&&o.children.length!==0?l:"#fff";var f=t.tree.root;var h=o.parentNode===f?o:o.parentNode||o;var v=t.getItemGraphicEl(h.dataIndex);var c=h.getLayout();var p=v?{x:v.__oldX,y:v.__oldY,rawX:v.__radialOldRawX,rawY:v.__radialOldRawY}:c;var d=o.getLayout();if(n){r=new YC(t,e,null,{symbolInnerColor:u,useNameLabel:true});r.x=p.x;r.y=p.y}else{r.updateData(t,e,null,{symbolInnerColor:u,useNameLabel:true})}r.__radialOldRawX=r.__radialRawX;r.__radialOldRawY=r.__radialRawY;r.__radialRawX=d.rawX;r.__radialRawY=d.rawY;i.add(r);t.setItemGraphicEl(e,r);r.__oldX=r.x;r.__oldY=r.y;Oh(r,{x:d.x,y:d.y},a);var g=r.getSymbolPath();if(a.get("layout")==="radial"){var y=f.children[0];var m=y.getLayout();var x=y.children.length;var _=void 0;var b=void 0;if(d.x===m.x&&o.isExpand===true){var w={x:(y.children[0].getLayout().x+y.children[x-1].getLayout().x)/2,y:(y.children[0].getLayout().y+y.children[x-1].getLayout().y)/2};_=Math.atan2(w.y-m.y,w.x-m.x);if(_<0){_=Math.PI*2+_}b=w.x<m.x;if(b){_=_-Math.PI}}else{_=Math.atan2(d.y-m.y,d.x-m.x);if(_<0){_=Math.PI*2+_}if(o.children.length===0||o.children.length!==0&&o.isExpand===false){b=d.x<m.x;if(b){_=_-Math.PI}}else{b=d.x>m.x;if(!b){_=_-Math.PI}}}var S=b?"left":"right";var M=s.getModel("label");var I=M.get("rotate");var T=I*(Math.PI/180);var C=g.getTextContent();if(C){g.setTextConfig({position:M.get("position")||S,rotation:I==null?-_:T,origin:"center"});C.setStyle("verticalAlign","middle")}}var D=s.get(["emphasis","focus"]);var A=D==="ancestor"?o.getAncestorsIndices():D==="descendant"?o.getDescendantIndices():null;if(A){$l(r).focus=A}IP(a,o,f,r,p,c,d,i);if(r.__edge){r.onHoverStateChange=function(e){if(e!=="blur"){var i=o.parentNode&&t.getItemGraphicEl(o.parentNode.dataIndex);if(!(i&&i.hoverState===iu)){Tu(r.__edge,e)}}}}}function IP(t,e,r,i,a,n,o,s){var l=e.getModel();var u=t.get("edgeShape");var f=t.get("layout");var h=t.getOrient();var v=t.get(["lineStyle","curveness"]);var c=t.get("edgeForkPosition");var p=l.getModel("lineStyle").getLineStyle();var d=i.__edge;if(u==="curve"){if(e.parentNode&&e.parentNode!==r){if(!d){d=i.__edge=new gh({shape:AP(f,h,v,a,a)})}Oh(d,{shape:AP(f,h,v,n,o)},t)}}else if(u==="polyline"){if(f==="orthogonal"){if(e!==r&&e.children&&e.children.length!==0&&e.isExpand===true){var g=e.children;var y=[];for(var m=0;m<g.length;m++){var x=g[m].getLayout();y.push([x.x,x.y])}if(!d){d=i.__edge=new bP({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:h,forkPosition:c}})}Oh(d,{shape:{parentPoint:[o.x,o.y],childPoints:y}},t)}}else{if("development"!=="production"){throw new Error("The polyline edgeShape can only be used in orthogonal layout")}}}if(d){d.useStyle(D({strokeNoScale:true,fill:null},p));rf(d,l,"lineStyle");Pu(d);s.add(d)}}function TP(t,e,r,i,a){var n=e.tree.root;var o=CP(n,t),s=o.source,l=o.sourceLayout;var u=e.getItemGraphicEl(t.dataIndex);if(!u){return}var f=e.getItemGraphicEl(s.dataIndex);var h=f.__edge;var v=u.__edge||(s.isExpand===false||s.children.length===1?h:undefined);var c=i.get("edgeShape");var p=i.get("layout");var d=i.get("orient");var g=i.get(["lineStyle","curveness"]);if(v){if(c==="curve"){Eh(v,{shape:AP(p,d,g,l,l),style:{opacity:0}},i,{cb:function(){r.remove(v)},removeOpt:a})}else if(c==="polyline"&&i.get("layout")==="orthogonal"){Eh(v,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},i,{cb:function(){r.remove(v)},removeOpt:a})}}}function CP(t,e){var r=e.parentNode===t?e:e.parentNode||e;var i;while(i=r.getLayout(),i==null){r=r.parentNode===t?r:r.parentNode||r}return{source:r,sourceLayout:i}}function DP(t,e,r,i,a){var n=t.tree.getNodeByDataIndex(e);var o=t.tree.root;var s=CP(o,n).sourceLayout;var l={duration:a.get("animationDurationUpdate"),easing:a.get("animationEasingUpdate")};Eh(r,{x:s.x+1,y:s.y+1},a,{cb:function(){i.remove(r);t.setItemGraphicEl(e,null)},removeOpt:l});r.fadeOut(null,{fadeLabel:true,animation:l});n.children.forEach(function(e){TP(e,t,i,a,l)});TP(n,t,i,a,l)}function AP(t,e,r,i,a){var n;var o;var s;var l;var u;var f;var h;var v;if(t==="radial"){u=i.rawX;h=i.rawY;f=a.rawX;v=a.rawY;var c=hP(u,h);var p=hP(u,h+(v-h)*r);var d=hP(f,v+(h-v)*r);var g=hP(f,v);return{x1:c.x||0,y1:c.y||0,x2:g.x||0,y2:g.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:d.x||0,cpy2:d.y||0}}else{u=i.x;h=i.y;f=a.x;v=a.y;if(e==="LR"||e==="RL"){n=u+(f-u)*r;o=h;s=f+(u-f)*r;l=v}if(e==="TB"||e==="BT"){n=u;o=h+(v-h)*r;s=f;l=v+(h-v)*r}}return{x1:u,y1:h,x2:f,y2:v,cpx1:n,cpy1:o,cpx2:s,cpy2:l}}var kP=Fn();function LP(t){var e=t.mainData;var r=t.datas;if(!r){r={main:e};t.datasAttr={main:"data"}}t.datas=t.mainData=null;BP(e,r,t);R(r,function(r){R(e.TRANSFERABLE_METHODS,function(e){r.wrapMethod(e,H(PP,t))})});e.wrapMethod("cloneShallow",H(RP,t));R(e.CHANGABLE_METHODS,function(r){e.wrapMethod(r,H(OP,t))});st(r[e.dataType]===e)}function PP(t,e){if(zP(this)){var r=C({},kP(this).datas);r[this.dataType]=e;BP(e,r,t)}else{VP(e,this.dataType,kP(this).mainData,t)}return e}function OP(t,e){t.struct&&t.struct.update();return e}function RP(t,e){R(kP(e).datas,function(r,i){r!==e&&VP(r.cloneShallow(),i,e,t)});return e}function NP(t){var e=kP(this).mainData;return t==null||e==null?e:kP(e).datas[t]}function EP(){var t=kP(this).mainData;return t==null?[{data:t}]:N(V(kP(t).datas),function(e){return{type:e,data:kP(t).datas[e]}})}function zP(t){return kP(t).mainData===t}function BP(t,e,r){kP(t).datas={};R(e,function(e,i){VP(e,i,t,r)})}function VP(t,e,r,i){kP(r).datas[e]=t;kP(t).mainData=r;t.dataType=e;if(i.struct){t[i.structAttr]=i.struct;i.struct[i.datasAttr[e]]=t}t.getLinkedData=NP;t.getLinkedDataAll=EP}var GP=function(){function t(t,e){this.depth=0;this.height=0;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.isExpand=false;this.name=t||"";this.hostTree=e}t.prototype.isRemoved=function(){return this.dataIndex<0};t.prototype.eachNode=function(t,e,r){if(typeof t==="function"){r=e;e=t;t=null}t=t||{};if(Y(t)){t={order:t}}var i=t.order||"preorder";var a=this[t.attr||"children"];var n;i==="preorder"&&(n=e.call(r,this));for(var o=0;!n&&o<a.length;o++){a[o].eachNode(t,e,r)}i==="postorder"&&e.call(r,this)};t.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var r=0;r<this.children.length;r++){var i=this.children[r];i.updateDepthAndHeight(t+1);if(i.height>e){e=i.height}}this.height=e+1};t.prototype.getNodeById=function(t){if(this.getId()===t){return this}for(var e=0,r=this.children,i=r.length;e<i;e++){var a=r[e].getNodeById(t);if(a){return a}}};t.prototype.contains=function(t){if(t===this){return true}for(var e=0,r=this.children,i=r.length;e<i;e++){var a=r[e].contains(t);if(a){return a}}};t.prototype.getAncestors=function(t){var e=[];var r=t?this:this.parentNode;while(r){e.push(r);r=r.parentNode}e.reverse();return e};t.prototype.getAncestorsIndices=function(){var t=[];var e=this;while(e){t.push(e.dataIndex);e=e.parentNode}t.reverse();return t};t.prototype.getDescendantIndices=function(){var t=[];this.eachNode(function(e){t.push(e.dataIndex)});return t};t.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)};t.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)};t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)};t.prototype.getModel=function(t){if(this.dataIndex<0){return}var e=this.hostTree;var r=e.data.getItemModel(this.dataIndex);return r.getModel(t)};t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]};t.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)};t.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)};t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)};t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)};t.prototype.getChildIndex=function(){if(this.parentNode){var t=this.parentNode.children;for(var e=0;e<t.length;++e){if(t[e]===this){return e}}return-1}return-1};t.prototype.isAncestorOf=function(t){var e=t.parentNode;while(e){if(e===this){return true}e=e.parentNode}return false};t.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)};return t}();var FP=function(){function t(t){this.type="tree";this._nodes=[];this.hostModel=t}t.prototype.eachNode=function(t,e,r){this.root.eachNode(t,e,r)};t.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]};t.prototype.getNodeById=function(t){return this.root.getNodeById(t)};t.prototype.update=function(){var t=this.data;var e=this._nodes;for(var r=0,i=e.length;r<i;r++){e[r].dataIndex=-1}for(var r=0,i=t.count();r<i;r++){e[t.getRawIndex(r)].dataIndex=r}};t.prototype.clearLayouts=function(){this.data.clearItemLayouts()};t.createTree=function(e,r,i){var a=new t(r);var n=[];var o=1;s(e);function s(t,e){var r=t.value;o=Math.max(o,W(r)?r.length:1);n.push(t);var i=new GP(Ln(t.name,""),a);e?HP(i,e):a.root=i;a._nodes.push(i);var l=t.children;if(l){for(var u=0;u<l.length;u++){s(l[u],i)}}}a.root.updateDepthAndHeight(0);var l=IS(n,{coordDimensions:["value"],dimensionsCount:o}).dimensions;var u=new SS(l,r);u.initData(n);i&&i(u);LP({mainData:u,struct:a,structAttr:"tree"});a.update();return a};return t}();function HP(t,e){var r=e.children;if(t.parentNode===e){return}r.push(t);t.parentNode=e}function WP(t,e,r){if(t&&k(e,t.type)>=0){var i=r.getData().tree.root;var a=t.targetNode;if(typeof a==="string"){a=i.getNodeById(a)}if(a&&i.contains(a)){return{node:a}}var n=t.targetNodeId;if(n!=null&&(a=i.getNodeById(n))){return{node:a}}}}function UP(t){var e=[];while(t){t=t.parentNode;t&&e.push(t)}return e.reverse()}function YP(t,e){var r=UP(t);return k(r,e)>=0}function XP(t,e){var r=[];while(t){var i=t.dataIndex;r.push({name:t.name,dataIndex:i,value:e.getRawValue(i)});t=t.parentNode}r.reverse();return r}var ZP=function(t){r(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.hasSymbolVisual=true;e.ignoreStyleOnData=true;return e}e.prototype.getInitialData=function(t){var e={name:t.name,children:t.data};var r=t.leaves||{};var i=new Uv(r,this,this.ecModel);var a=FP.createTree(e,this,n);function n(t){t.wrapMethod("getItemModel",function(t,e){var r=a.getNodeByDataIndex(e);if(!(r&&r.children.length&&r.isExpand)){t.parentModel=i}return t})}var o=0;a.eachNode("preorder",function(t){if(t.depth>o){o=t.depth}});var s=t.expandAndCollapse;var l=s&&t.initialTreeDepth>=0?t.initialTreeDepth:o;a.root.eachNode("preorder",function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&e.collapsed!=null?!e.collapsed:t.depth<=l});return a.data};e.prototype.getOrient=function(){var t=this.get("orient");if(t==="horizontal"){t="LR"}else if(t==="vertical"){t="TB"}return t};e.prototype.setZoom=function(t){this.option.zoom=t};e.prototype.setCenter=function(t){this.option.center=t};e.prototype.formatTooltip=function(t,e,r){var i=this.getData().tree;var a=i.root.children[0];var n=i.getNodeByDataIndex(t);var o=n.getValue();var s=n.name;while(n&&n!==a){s=n.parentNode.name+"."+s;n=n.parentNode}return py("nameValue",{name:s,value:o,noValue:isNaN(o)||o==null})};e.prototype.getDataParams=function(e){var r=t.prototype.getDataParams.apply(this,arguments);var i=this.getData().tree.getNodeByDataIndex(e);r.treeAncestors=XP(i,this);return r};e.type="series.tree";e.layoutMode="box";e.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:false,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:true,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:true},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500};return e}(Oy);function jP(t,e,r){var i=[t];var a=[];var n;while(n=i.pop()){a.push(n);if(n.isExpand){var o=n.children;if(o.length){for(var s=0;s<o.length;s++){i.push(o[s])}}}}while(n=a.pop()){e(n,r)}}function qP(t,e){var r=[t];var i;while(i=r.pop()){e(i);if(i.isExpand){var a=i.children;if(a.length){for(var n=a.length-1;n>=0;n--){r.push(a[n])}}}}}function KP(t,e){t.eachSeriesByType("tree",function(t){$P(t,e)})}function $P(t,e){var r=vP(t,e);t.layoutInfo=r;var i=t.get("layout");var a=0;var n=0;var o=null;if(i==="radial"){a=2*Math.PI;n=Math.min(r.height,r.width)/2;o=fP(function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth})}else{a=r.width;n=r.height;o=fP()}var s=t.getData().tree.root;var l=s.children[0];if(l){sP(s);jP(l,lP,o);s.hierNode.modifier=-l.hierNode.prelim;qP(l,uP);var u=l;var f=l;var h=l;qP(l,function(t){var e=t.getLayout().x;if(e<u.getLayout().x){u=t}if(e>f.getLayout().x){f=t}if(t.depth>h.depth){h=t}});var v=u===f?1:o(u,f)/2;var c=v-u.getLayout().x;var p=0;var d=0;var g=0;var y=0;if(i==="radial"){p=a/(f.getLayout().x+v+c);d=n/(h.depth-1||1);qP(l,function(t){g=(t.getLayout().x+c)*p;y=(t.depth-1)*d;var e=hP(g,y);t.setLayout({x:e.x,y:e.y,rawX:g,rawY:y},true)})}else{var m=t.getOrient();if(m==="RL"||m==="LR"){d=n/(f.getLayout().x+v+c);p=a/(h.depth-1||1);qP(l,function(t){y=(t.getLayout().x+c)*d;g=m==="LR"?(t.depth-1)*p:a-(t.depth-1)*p;t.setLayout({x:g,y:y},true)})}else if(m==="TB"||m==="BT"){p=a/(f.getLayout().x+v+c);d=n/(h.depth-1||1);qP(l,function(t){g=(t.getLayout().x+c)*p;y=m==="TB"?(t.depth-1)*d:n-(t.depth-1)*d;t.setLayout({x:g,y:y},true)})}}}}function JP(t){t.eachSeriesByType("tree",function(t){var e=t.getData();var r=e.tree;r.eachNode(function(t){var r=t.getModel();var i=r.getModel("itemStyle").getItemStyle();var a=e.ensureUniqueItemVisual(t.dataIndex,"style");C(a,i)})})}function QP(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(e){var r=t.dataIndex;var i=e.getData().tree;var a=i.getNodeByDataIndex(r);a.isExpand=!a.isExpand})});t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(e){var r=e.coordinateSystem;var i=iP(r,t);e.setCenter&&e.setCenter(i.center);e.setZoom&&e.setZoom(i.zoom)})})}function tO(t){t.registerChartView(wP);t.registerSeriesModel(ZP);t.registerLayout(KP);t.registerVisual(JP);QP(t)}var eO=function(){};var rO=["treemapZoomToNode","treemapRender","treemapMove"];function iO(t){for(var e=0;e<rO.length;e++){t.registerAction({type:rO[e],update:"updateView"},eO)}t.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"treemap",query:t},r);function r(e,r){var i=["treemapZoomToNode","treemapRootToNode"];var a=WP(t,i,e);if(a){var n=e.getViewRoot();if(n){t.direction=YP(n,a.node)?"rollUp":"drillDown"}e.resetViewRoot(a.node)}}})}function aO(t){var e=t.getData();var r=e.tree;var i={};r.eachNode(function(e){var r=e;while(r&&r.depth>1){r=r.parentNode}var a=jp(t.ecModel,r.name||r.dataIndex+"",i);e.setVisual("decal",a)})}var nO=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.preventUsingHoverLayer=true;return r}e.prototype.getInitialData=function(t,e){var r={name:t.name,children:t.data};oO(r);var i=t.levels||[];var a=this.designatedVisualItemStyle={};var n=new Uv({itemStyle:a},this,e);i=t.levels=sO(i,e);var o=N(i||[],function(t){return new Uv(t,n,e)},this);var s=FP.createTree(r,this,l);function l(t){t.wrapMethod("getItemModel",function(t,e){var r=s.getNodeByDataIndex(e);var i=r?o[r.depth]:null;t.parentModel=i||n;return t})}return s.data};e.prototype.optionUpdated=function(){this.resetViewRoot()};e.prototype.formatTooltip=function(t,e,r){var i=this.getData();var a=this.getRawValue(t);var n=i.getName(t);return py("nameValue",{name:n,value:a})};e.prototype.getDataParams=function(e){var r=t.prototype.getDataParams.apply(this,arguments);var i=this.getData().tree.getNodeByDataIndex(e);r.treeAncestors=XP(i,this);r.treePathInfo=r.treeAncestors;return r};e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{};C(this.layoutInfo,t)};e.prototype.mapIdToIndex=function(t){var e=this._idIndexMap;if(!e){e=this._idIndexMap=ct();this._idIndexMapCount=0}var r=e.get(t);if(r==null){e.set(t,r=this._idIndexMapCount++)}return r};e.prototype.getViewRoot=function(){return this._viewRoot};e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;if(!t||t!==e&&!e.contains(t)){this._viewRoot=e}};e.prototype.enableAriaDecal=function(){aO(this)};e.type="series.treemap";e.layoutMode="box";e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:true,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,roam:true,nodeClick:"zoomToNode",animation:true,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:true,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:true,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:false,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:true,position:[0,"50%"],ellipsis:true,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]};return e}(Oy);function oO(t){var e=0;R(t.children,function(t){oO(t);var r=t.value;W(r)&&(r=r[0]);e+=r});var r=t.value;if(W(r)){r=r[0]}if(r==null||isNaN(r)){r=e}if(r<0){r=0}W(t.value)?t.value[0]=r:t.value=r}function sO(t,e){var r=yn(e.get("color"));var i=yn(e.get(["aria","decal","decals"]));if(!r){return}t=t||[];var a;var n;R(t,function(t){var e=new Uv(t);var r=e.get("color");var i=e.get("decal");if(e.get(["itemStyle","color"])||r&&r!=="none"){a=true}if(e.get(["itemStyle","decal"])||i&&i!=="none"){n=true}});var o=t[0]||(t[0]={});if(!a){o.color=r.slice()}if(!n&&i){o.decal=i.slice()}return t}var lO=8;var uO=8;var fO=5;var hO=function(){function t(t){this.group=new ya;t.add(this.group)}t.prototype.render=function(t,e,r,i){var a=t.getModel("breadcrumb");var n=this.group;n.removeAll();if(!a.get("show")||!r){return}var o=a.getModel("itemStyle");var s=o.getModel("textStyle");var l={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(r,l,s);this._renderContent(t,l,o,s,i);vp(n,l.pos,l.box)};t.prototype._prepare=function(t,e,r){for(var i=t;i;i=i.parentNode){var a=Ln(i.getModel().get("name"),"");var n=r.getTextRect(a);var o=Math.max(n.width+lO*2,e.emptyItemWidth);e.totalWidth+=o+uO;e.renderList.push({node:i,text:a,width:o})}};t.prototype._renderContent=function(t,e,r,i,a){var n=0;var o=e.emptyItemWidth;var s=t.get(["breadcrumb","height"]);var l=fp(e.pos,e.box);var u=e.totalWidth;var f=e.renderList;for(var h=f.length-1;h>=0;h--){var v=f[h];var c=v.node;var p=v.width;var d=v.text;if(u>l.width){u-=p-o;p=o;d=null}var g=new sh({shape:{points:vO(n,0,p,s,h===f.length-1,h===0)},style:D(r.getItemStyle(),{lineJoin:"bevel"}),textContent:new Fl({style:{text:d,fill:i.getTextColor(),font:i.getFont()}}),textConfig:{position:"inside"},z2:su*1e4,onclick:H(a,c)});g.disableLabelAnimation=true;this.group.add(g);cO(g,t,c);n+=p+uO}};t.prototype.remove=function(){this.group.removeAll()};return t}();function vO(t,e,r,i,a,n){var o=[[a?t:t-fO,e],[t+r,e],[t+r,e+i],[a?t:t-fO,e+i]];!n&&o.splice(2,0,[t+r+fO,e+i/2]);!a&&o.push([t,e+i/2]);return o}function cO(t,e,r){$l(t).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.componentIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&XP(r,e)}}var pO=function(){function t(){this._storage=[];this._elExistsMap={}}t.prototype.add=function(t,e,r,i,a){if(this._elExistsMap[t.id]){return false}this._elExistsMap[t.id]=true;this._storage.push({el:t,target:e,duration:r,delay:i,easing:a});return true};t.prototype.finished=function(t){this._finishedCallback=t;return this};t.prototype.start=function(){var t=this;var e=this._storage.length;var r=function(){e--;if(e<=0){t._storage.length=0;t._elExistsMap={};t._finishedCallback&&t._finishedCallback()}};for(var i=0,a=this._storage.length;i<a;i++){var n=this._storage[i];n.el.animateTo(n.target,{duration:n.duration,delay:n.delay,easing:n.easing,setToFinal:true,done:r,aborted:r})}return this};return t}();function dO(){return new pO}var gO=ya;var yO=zl;var mO=3;var xO="label";var _O="upperLabel";var bO=su*10;var wO=su*2;var SO=su*3;var MO=co([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var IO=function(t){var e=MO(t);e.stroke=e.fill=e.lineWidth=null;return e};var TO=Fn();var CO=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._state="ready";r._storage=DO();return r}e.prototype.render=function(t,e,r,i){var a=e.findComponents({mainType:"series",subType:"treemap",query:i});if(k(a,t)<0){return}this.seriesModel=t;this.api=r;this.ecModel=e;var n=["treemapZoomToNode","treemapRootToNode"];var o=WP(i,n,t);var s=i&&i.type;var l=t.layoutInfo;var u=!this._oldTree;var f=this._storage;var h=s==="treemapRootToNode"&&o&&f?{rootNodeGroup:f.nodeGroup[o.node.getRawIndex()],direction:i.direction}:null;var v=this._giveContainerGroup(l);var c=t.get("animation");var p=this._doRender(v,t,h);c&&!u&&(!s||s==="treemapZoomToNode"||s==="treemapRootToNode")?this._doAnimation(v,p,t,h):p.renderFinally();this._resetController(r);this._renderBreadcrumb(t,r,o)};e.prototype._giveContainerGroup=function(t){var e=this._containerGroup;if(!e){e=this._containerGroup=new gO;this._initEvents(e);this.group.add(e)}e.x=t.x;e.y=t.y;return e};e.prototype._doRender=function(t,e,r){var i=e.getData().tree;var a=this._oldTree;var n=DO();var o=DO();var s=this._storage;var l=[];function u(t,i,a,u){return AO(e,o,s,r,n,l,t,i,a,u)}h(i.root?[i.root]:[],a&&a.root?[a.root]:[],t,i===a||!a,0);var f=v(s);this._oldTree=i;this._storage=o;return{lastsForAnimation:n,willDeleteEls:f,renderFinally:c};function h(t,e,r,i,a){if(i){e=t;R(t,function(t,e){!t.isRemoved()&&o(e,e)})}else{new qw(e,t,n,n).add(o).update(o).remove(H(o,null)).execute()}function n(t){return t.getId()}function o(n,o){var s=n!=null?t[n]:null;var l=o!=null?e[o]:null;var f=u(s,l,r,a);f&&h(s&&s.viewChildren||[],l&&l.viewChildren||[],f,i,a+1)}}function v(t){var e=DO();t&&R(t,function(t,r){var i=e[r];R(t,function(t){t&&(i.push(t),TO(t).willDelete=true)})});return e}function c(){R(f,function(t){R(t,function(t){t.parent&&t.parent.remove(t)})});R(l,function(t){t.invisible=true;t.dirty()})}};e.prototype._doAnimation=function(t,e,r,i){var a=r.get("animationDurationUpdate");var n=r.get("animationEasing");var o=(U(a)?0:a)||0;var s=(U(n)?null:n)||"cubicOut";var l=dO();R(e.willDeleteEls,function(t,e){R(t,function(t,r){if(t.invisible){return}var a=t.parent;var n;var u=TO(a);if(i&&i.direction==="drillDown"){n=a===i.rootNodeGroup?{shape:{x:0,y:0,width:u.nodeWidth,height:u.nodeHeight},style:{opacity:0}}:{style:{opacity:0}}}else{var f=0;var h=0;if(!u.willDelete){f=u.nodeWidth/2;h=u.nodeHeight/2}n=e==="nodeGroup"?{x:f,y:h,style:{opacity:0}}:{shape:{x:f,y:h,width:0,height:0},style:{opacity:0}}}n&&l.add(t,n,o,0,s)})});R(this._storage,function(t,r){R(t,function(t,i){var a=e.lastsForAnimation[r][i];var n={};if(!a){return}if(t instanceof ya){if(a.oldX!=null){n.x=t.x;n.y=t.y;t.x=a.oldX;t.y=a.oldY}}else{if(a.oldShape){n.shape=C({},t.shape);t.setShape(a.oldShape)}if(a.fadein){t.setStyle("opacity",0);n.style={opacity:1}}else if(t.style.opacity!==1){n.style={opacity:1}}}l.add(t,n,o,0,s)})},this);this._state="animating";l.finished(F(function(){this._state="ready";e.renderFinally()},this)).start()};e.prototype._resetController=function(t){var e=this._controller;if(!e){e=this._controller=new _L(t.getZr());e.enable(this.seriesModel.get("roam"));e.on("pan",F(this._onPan,this));e.on("zoom",F(this._onZoom,this))}var r=new Yi(0,0,t.getWidth(),t.getHeight());e.setPointerChecker(function(t,e,i){return r.contain(e,i)})};e.prototype._clearController=function(){var t=this._controller;if(t){t.dispose();t=null}};e.prototype._onPan=function(t){if(this._state!=="animating"&&(Math.abs(t.dx)>mO||Math.abs(t.dy)>mO)){var e=this.seriesModel.getData().tree.root;if(!e){return}var r=e.getLayout();if(!r){return}this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+t.dx,y:r.y+t.dy,width:r.width,height:r.height}})}};e.prototype._onZoom=function(t){var e=t.originX;var r=t.originY;if(this._state!=="animating"){var i=this.seriesModel.getData().tree.root;if(!i){return}var a=i.getLayout();if(!a){return}var n=new Yi(a.x,a.y,a.width,a.height);var o=this.seriesModel.layoutInfo;e-=o.x;r-=o.y;var s=yi();bi(s,s,[-e,-r]);Si(s,s,[t.scale,t.scale]);bi(s,s,[e,r]);n.applyTransform(s);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x,y:n.y,width:n.width,height:n.height}})}};e.prototype._initEvents=function(t){var e=this;t.on("click",function(t){if(e._state!=="ready"){return}var r=e.seriesModel.get("nodeClick",true);if(!r){return}var i=e.findTarget(t.offsetX,t.offsetY);if(!i){return}var a=i.node;if(a.getLayout().isLeafRoot){e._rootToNode(i)}else{if(r==="zoomToNode"){e._zoomToNode(i)}else if(r==="link"){var n=a.hostTree.data.getItemModel(a.dataIndex);var o=n.get("link",true);var s=n.get("target",true)||"blank";o&&rp(o,s)}}},this)};e.prototype._renderBreadcrumb=function(t,e,r){var i=this;if(!r){r=t.get("leafDepth",true)!=null?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2);if(!r){r={node:t.getData().tree.root}}}(this._breadcrumb||(this._breadcrumb=new hO(this.group))).render(t,e,r.node,function(e){if(i._state!=="animating"){YP(t.getViewRoot(),e)?i._rootToNode({node:e}):i._zoomToNode({node:e})}})};e.prototype.remove=function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage=DO();this._state="ready";this._breadcrumb&&this._breadcrumb.remove()};e.prototype.dispose=function(){this._clearController()};e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})};e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})};e.prototype.findTarget=function(t,e){var r;var i=this.seriesModel.getViewRoot();i.eachNode({attr:"viewChildren",order:"preorder"},function(i){var a=this._storage.background[i.getRawIndex()];if(a){var n=a.transformCoordToLocal(t,e);var o=a.shape;if(o.x<=n[0]&&n[0]<=o.x+o.width&&o.y<=n[1]&&n[1]<=o.y+o.height){r={node:i,offsetX:n[0],offsetY:n[1]}}else{return false}}},this);return r};e.type="treemap";return e}(Xy);function DO(){return{nodeGroup:[],background:[],content:[]}}function AO(t,e,r,i,a,n,o,s,l,u){if(!o){return}var f=o.getLayout();var h=t.getData();var v=o.getModel();h.setItemGraphicEl(o.dataIndex,null);if(!f||!f.isInView){return}var c=f.width;var p=f.height;var d=f.borderWidth;var g=f.invisible;var y=o.getRawIndex();var m=s&&s.getRawIndex();var x=o.viewChildren;var _=f.upperHeight;var b=x&&x.length;var w=v.getModel("itemStyle");var S=v.getModel(["emphasis","itemStyle"]);var M=v.getModel(["blur","itemStyle"]);var I=v.getModel(["select","itemStyle"]);var T=w.get("borderRadius")||0;var D=V("nodeGroup",gO);if(!D){return}l.add(D);D.x=f.x||0;D.y=f.y||0;D.markRedraw();TO(D).nodeWidth=c;TO(D).nodeHeight=p;if(f.isAboveViewRoot){return D}var A=V("background",yO,u,wO);A&&R(D,A,b&&f.upperLabelHeight);var k=v.get(["emphasis","focus"]);var L=v.get(["emphasis","blurScope"]);var P=k==="ancestor"?o.getAncestorsIndices():k==="descendant"?o.getDescendantIndices():k;if(b){if(nf(D)){af(D,false)}if(A){af(A,true);h.setItemGraphicEl(o.dataIndex,A);Qu(A,P,L)}}else{var O=V("content",yO,u,SO);O&&N(D,O);A.disableMorphing=true;if(A&&nf(A)){af(A,false)}af(D,true);h.setItemGraphicEl(o.dataIndex,D);Qu(D,P,L)}return D;function R(e,r,i){var a=$l(r);a.dataIndex=o.dataIndex;a.seriesIndex=t.seriesIndex;r.setShape({x:0,y:0,width:c,height:p,r:T});if(g){E(r)}else{r.invisible=false;var n=o.getVisual("style");var s=n.stroke;var l=IO(w);l.fill=s;var u=MO(S);u.fill=S.get("borderColor");var f=MO(M);f.fill=M.get("borderColor");var h=MO(I);h.fill=I.get("borderColor");if(i){var v=c-2*d;z(r,s,n.opacity,{x:d,y:0,width:v,height:_})}else{r.removeTextContent()}r.setStyle(l);r.ensureState("emphasis").style=u;r.ensureState("blur").style=f;r.ensureState("select").style=h;Pu(r)}e.add(r)}function N(e,r){var i=$l(r);i.dataIndex=o.dataIndex;i.seriesIndex=t.seriesIndex;var a=Math.max(c-2*d,0);var n=Math.max(p-2*d,0);r.culling=true;r.setShape({x:d,y:d,width:a,height:n,r:T});if(g){E(r)}else{r.invisible=false;var s=o.getVisual("style");var l=s.fill;var u=IO(w);u.fill=l;u.decal=s.decal;var f=MO(S);var h=MO(M);var v=MO(I);z(r,l,s.opacity,null);r.setStyle(u);r.ensureState("emphasis").style=f;r.ensureState("blur").style=h;r.ensureState("select").style=v;Pu(r)}e.add(r)}function E(t){!t.invisible&&n.push(t)}function z(e,r,i,a){var n=v.getModel(a?_O:xO);var s=Ln(v.get("name"),null);var l=n.getShallow("show");bv(e,wv(v,a?_O:xO),{defaultText:l?s:null,inheritColor:r,defaultOpacity:i,labelFetcher:t,labelDataIndex:o.dataIndex});var u=e.getTextContent();if(!u){return}var h=u.style;var c=ot(h.padding||0);if(a){e.setTextConfig({layoutRect:a});u.disableLabelLayout=true}u.beforeUpdate=function(){var t=Math.max((a?a.width:e.shape.width)-c[1]-c[3],0);var r=Math.max((a?a.height:e.shape.height)-c[0]-c[2],0);if(h.width!==t||h.height!==r){u.setStyle({width:t,height:r})}};h.truncateMinChar=2;h.lineOverflow="truncate";B(h,a,f);var p=u.getState("emphasis");B(p?p.style:null,a,f)}function B(e,r,i){var a=e?e.text:null;if(!r&&i.isLeafRoot&&a!=null){var n=t.get("drillDownIcon",true);e.text=n?n+" "+a:a}}function V(t,i,n,o){var s=m!=null&&r[t][m];var l=a[t];if(s){r[t][m]=null;G(l,s)}else if(!g){s=new i;if(s instanceof Wo){s.z2=kO(n,o)}F(l,s)}return e[t][y]=s}function G(t,e){var r=t[y]={};if(e instanceof gO){r.oldX=e.x;r.oldY=e.y}else{r.oldShape=C({},e.shape)}}function F(t,e){var r=t[y]={};var n=o.parentNode;var s=e instanceof ya;if(n&&(!i||i.direction==="drillDown")){var l=0;var u=0;var f=a.background[n.getRawIndex()];if(!i&&f&&f.oldShape){l=f.oldShape.width;u=f.oldShape.height}if(s){r.oldX=0;r.oldY=u}else{r.oldShape={x:l,y:u,width:0,height:0}}}r.fadein=!s}}function kO(t,e){return t*bO+e}var LO=R;var PO=j;var OO=-1;var RO=function(){function t(e){var r=e.mappingMethod;var i=e.type;var a=this.option=M(e);this.type=i;this.mappingMethod=r;this._normalizeData=XO[r];var n=t.visualHandlers[i];this.applyVisual=n.applyVisual;this.getColorMapper=n.getColorMapper;this._normalizedToVisual=n._normalizedToVisual[r];if(r==="piecewise"){zO(a);NO(a)}else if(r==="category"){a.categories?EO(a):zO(a,true)}else{st(r!=="linear"||a.dataExtent);zO(a)}}t.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)};t.prototype.getNormalizer=function(){return F(this._normalizeData,this)};t.listVisualTypes=function(){return V(t.visualHandlers)};t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)};t.eachVisual=function(t,e,r){if(j(t)){R(t,e,r)}else{e.call(r,t)}};t.mapVisual=function(e,r,i){var a;var n=W(e)?[]:j(e)?{}:(a=true,null);t.eachVisual(e,function(t,e){var o=r.call(i,t,e);a?n=o:n[e]=o});return n};t.retrieveVisuals=function(e){var r={};var i;e&&LO(t.visualHandlers,function(t,a){if(e.hasOwnProperty(a)){r[a]=e[a];i=true}});return i?r:null};t.prepareVisualTypes=function(t){if(W(t)){t=t.slice()}else if(PO(t)){var e=[];LO(t,function(t,r){e.push(r)});t=e}else{return[]}t.sort(function(t,e){return e==="color"&&t!=="color"&&t.indexOf("color")===0?1:-1});return t};t.dependsOn=function(t,e){return e==="color"?!!(t&&t.indexOf(e)===0):t===e};t.findPieceIndex=function(t,e,r){var i;var a=Infinity;for(var n=0,o=e.length;n<o;n++){var s=e[n].value;if(s!=null){if(s===t||typeof s==="string"&&s===t+""){return n}r&&h(s,n)}}for(var n=0,o=e.length;n<o;n++){var l=e[n];var u=l.interval;var f=l.close;if(u){if(u[0]===-Infinity){if(ZO(f[1],t,u[1])){return n}}else if(u[1]===Infinity){if(ZO(f[0],u[0],t)){return n}}else if(ZO(f[0],u[0],t)&&ZO(f[1],t,u[1])){return n}r&&h(u[0],n);r&&h(u[1],n)}}if(r){return t===Infinity?e.length-1:t===-Infinity?0:i}function h(e,r){var n=Math.abs(e-t);if(n<a){a=n;i=r}}};t.visualHandlers={color:{applyVisual:GO("color"),getColorMapper:function(){var t=this.option;return F(t.mappingMethod==="category"?function(t,e){!e&&(t=this._normalizeData(t));return FO.call(this,t)}:function(e,r,i){var a=!!i;!r&&(e=this._normalizeData(e));i=yr(e,t.parsedVisual,i);return a?i:Sr(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return Sr(yr(t,this.option.parsedVisual),"rgba")},category:FO,piecewise:function(t,e){var r=UO.call(this,e);if(r==null){r=Sr(yr(t,this.option.parsedVisual),"rgba")}return r},fixed:HO}},colorHue:BO(function(t,e){return br(t,e)}),colorSaturation:BO(function(t,e){return br(t,null,e)}),colorLightness:BO(function(t,e){return br(t,null,null,e)}),colorAlpha:BO(function(t,e){return wr(t,e)}),decal:{applyVisual:GO("decal"),_normalizedToVisual:{linear:null,category:FO,piecewise:null,fixed:null}},opacity:{applyVisual:GO("opacity"),_normalizedToVisual:WO([0,1])},liftZ:{applyVisual:GO("liftZ"),_normalizedToVisual:{linear:HO,category:HO,piecewise:HO,fixed:HO}},symbol:{applyVisual:function(t,e,r){var i=this.mapValueToVisual(t);r("symbol",i)},_normalizedToVisual:{linear:VO,category:FO,piecewise:function(t,e){var r=UO.call(this,e);if(r==null){r=VO.call(this,t)}return r},fixed:HO}},symbolSize:{applyVisual:GO("symbolSize"),_normalizedToVisual:WO([0,1])}};return t}();function NO(t){var e=t.pieceList;t.hasSpecialVisual=false;R(e,function(e,r){e.originIndex=r;if(e.visual!=null){t.hasSpecialVisual=true}})}function EO(t){var e=t.categories;var r=t.categoryMap={};var i=t.visual;LO(e,function(t,e){r[t]=e});if(!W(i)){var a=[];if(j(i)){LO(i,function(t,e){var i=r[e];a[i!=null?i:OO]=t})}else{a[OO]=i}i=YO(t,a)}for(var n=e.length-1;n>=0;n--){if(i[n]==null){delete r[e[n]];e.pop()}}}function zO(t,e){var r=t.visual;var i=[];if(j(r)){LO(r,function(t){i.push(t)})}else if(r!=null){i.push(r)}var a={color:1,symbol:1};if(!e&&i.length===1&&!a.hasOwnProperty(t.type)){i[1]=i[0]}YO(t,i)}function BO(t){return{applyVisual:function(e,r,i){var a=this.mapValueToVisual(e);i("color",t(r("color"),a))},_normalizedToVisual:WO([0,1])}}function VO(t){var e=this.option.visual;return e[Math.round(Ra(t,[0,1],[0,e.length-1],true))]||{}}function GO(t){return function(e,r,i){i(t,this.mapValueToVisual(e))}}function FO(t){var e=this.option.visual;return e[this.option.loop&&t!==OO?t%e.length:t]}function HO(){return this.option.visual[0]}function WO(t){return{linear:function(e){return Ra(e,t,this.option.visual,true)},category:FO,piecewise:function(e,r){var i=UO.call(this,r);if(i==null){i=Ra(e,t,this.option.visual,true)}return i},fixed:HO}}function UO(t){var e=this.option;var r=e.pieceList;if(e.hasSpecialVisual){var i=RO.findPieceIndex(t,r);var a=r[i];if(a&&a.visual){return a.visual[this.type]}}}function YO(t,e){t.visual=e;if(t.type==="color"){t.parsedVisual=N(e,function(t){return vr(t)})}return e}var XO={linear:function(t){return Ra(t,this.option.dataExtent,[0,1],true)},piecewise:function(t){var e=this.option.pieceList;var r=RO.findPieceIndex(t,e,true);if(r!=null){return Ra(r,[0,e.length-1],[0,1],true)}},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return e==null?OO:e},fixed:yt};function ZO(t,e,r){return t?e<=r:e<r}var jO="itemStyle";var qO=Fn();var KO={seriesType:"treemap",reset:function(t){var e=t.getData().tree;var r=e.root;if(r.isRemoved()){return}$O(r,{},t.getViewRoot().getAncestors(),t)}};function $O(t,e,r,i){var a=t.getModel();var n=t.getLayout();var o=t.hostTree.data;if(!n||n.invisible||!n.isInView){return}var s=a.getModel(jO);var l=JO(s,e,i);var u=o.ensureUniqueItemVisual(t.dataIndex,"style");var f=s.get("borderColor");var h=s.get("borderColorSaturation");var v;if(h!=null){v=QO(l);f=tR(h,v)}u.stroke=f;var c=t.viewChildren;if(!c||!c.length){v=QO(l);u.fill=v}else{var p=rR(t,a,n,s,l,c);R(c,function(t,e){if(t.depth>=r.length||t===r[t.depth]){var n=aR(a,l,t,e,p,i);$O(t,n,r,i)}})}}function JO(t,e,r){var i=C({},e);var a=r.designatedVisualItemStyle;R(["color","colorAlpha","colorSaturation"],function(r){a[r]=e[r];var n=t.get(r);a[r]=null;n!=null&&(i[r]=n)});return i}function QO(t){var e=eR(t,"color");if(e){var r=eR(t,"colorAlpha");var i=eR(t,"colorSaturation");if(i){e=br(e,null,null,i)}if(r){e=wr(e,r)}return e}}function tR(t,e){return e!=null?br(e,null,null,t):null}function eR(t,e){var r=t[e];if(r!=null&&r!=="none"){return r}}function rR(t,e,r,i,a,n){if(!n||!n.length){return}var o=iR(e,"color")||a.color!=null&&a.color!=="none"&&(iR(e,"colorAlpha")||iR(e,"colorSaturation"));if(!o){return}var s=e.get("visualMin");var l=e.get("visualMax");var u=r.dataExtent.slice();s!=null&&s<u[0]&&(u[0]=s);l!=null&&l>u[1]&&(u[1]=l);var f=e.get("colorMappingBy");var h={type:o.name,dataExtent:u,visual:o.range};if(h.type==="color"&&(f==="index"||f==="id")){h.mappingMethod="category";h.loop=true}else{h.mappingMethod="linear"}var v=new RO(h);qO(v).drColorMappingBy=f;return v}function iR(t,e){var r=t.get(e);return W(r)&&r.length?{name:e,range:r}:null}function aR(t,e,r,i,a,n){var o=C({},e);if(a){var s=a.type;var l=s==="color"&&qO(a).drColorMappingBy;var u=l==="index"?i:l==="id"?n.mapIdToIndex(r.getId()):r.getValue(t.get("visualDimension"));o[s]=a.mapValueToVisual(u)}return o}var nR=Math.max;var oR=Math.min;var sR=rt;var lR=R;var uR=["itemStyle","borderWidth"];var fR=["itemStyle","gapWidth"];var hR=["upperLabel","show"];var vR=["upperLabel","height"];var cR={seriesType:"treemap",reset:function(t,e,r,i){var a=r.getWidth();var n=r.getHeight();var o=t.option;var s=hp(t.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()});var l=o.size||[];var u=Na(sR(s.width,l[0]),a);var f=Na(sR(s.height,l[1]),n);var h=i&&i.type;var v=["treemapZoomToNode","treemapRootToNode"];var c=WP(i,v,t);var p=h==="treemapRender"||h==="treemapMove"?i.rootRect:null;var d=t.getViewRoot();var g=UP(d);if(h!=="treemapMove"){var y=h==="treemapZoomToNode"?bR(t,c,d,u,f):p?[p.width,p.height]:[u,f];var m=o.sort;if(m&&m!=="asc"&&m!=="desc"){m="desc"}var x={squareRatio:o.squareRatio,sort:m,leafDepth:o.leafDepth};d.hostTree.clearLayouts();var _={x:0,y:0,width:y[0],height:y[1],area:y[0]*y[1]};d.setLayout(_);pR(d,x,false,0);_=d.getLayout();lR(g,function(t,e){var r=(g[e+1]||d).getValue();t.setLayout(C({dataExtent:[r,r],borderWidth:0,upperHeight:0},_))})}var b=t.getData().tree.root;b.setLayout(wR(s,p,c),true);t.setLayoutInfo(s);SR(b,new Yi(-s.x,-s.y,a,n),g,d,0)}};function pR(t,e,r,i){var a;var n;if(t.isRemoved()){return}var o=t.getLayout();a=o.width;n=o.height;var s=t.getModel();var l=s.get(uR);var u=s.get(fR)/2;var f=MR(s);var h=Math.max(l,f);var v=l-u;var c=h-u;t.setLayout({borderWidth:l,upperHeight:h,upperLabelHeight:f},true);a=nR(a-2*v,0);n=nR(n-v-c,0);var p=a*n;var d=dR(t,s,p,e,r,i);if(!d.length){return}var g={x:v,y:c,width:a,height:n};var y=oR(a,n);var m=Infinity;var x=[];x.area=0;for(var _=0,b=d.length;_<b;){var w=d[_];x.push(w);x.area+=w.getLayout().area;var S=xR(x,y,e.squareRatio);if(S<=m){_++;m=S}else{x.area-=x.pop().getLayout().area;_R(x,y,g,u,false);y=oR(g.width,g.height);x.length=x.area=0;m=Infinity}}if(x.length){_R(x,y,g,u,true)}if(!r){var M=s.get("childrenVisibleMin");if(M!=null&&p<M){r=true}}for(var _=0,b=d.length;_<b;_++){pR(d[_],e,r,i+1)}}function dR(t,e,r,i,a,n){var o=t.children||[];var s=i.sort;s!=="asc"&&s!=="desc"&&(s=null);var l=i.leafDepth!=null&&i.leafDepth<=n;if(a&&!l){return t.viewChildren=[]}o=z(o,function(t){return!t.isRemoved()});yR(o,s);var u=mR(e,o,s);if(u.sum===0){return t.viewChildren=[]}u.sum=gR(e,r,u.sum,s,o);if(u.sum===0){return t.viewChildren=[]}for(var f=0,h=o.length;f<h;f++){var v=o[f].getValue()/u.sum*r;o[f].setLayout({area:v})}if(l){o.length&&t.setLayout({isLeafRoot:true},true);o.length=0}t.viewChildren=o;t.setLayout({dataExtent:u.dataExtent},true);return o}function gR(t,e,r,i,a){if(!i){return r}var n=t.get("visibleMin");var o=a.length;var s=o;for(var l=o-1;l>=0;l--){var u=a[i==="asc"?o-l-1:l].getValue();if(u/r*e<n){s=l;r-=u}}i==="asc"?a.splice(0,o-s):a.splice(s,o-s);return r}function yR(t,e){if(e){t.sort(function(t,r){var i=e==="asc"?t.getValue()-r.getValue():r.getValue()-t.getValue();return i===0?e==="asc"?t.dataIndex-r.dataIndex:r.dataIndex-t.dataIndex:i})}return t}function mR(t,e,r){var i=0;for(var a=0,n=e.length;a<n;a++){i+=e[a].getValue()}var o=t.get("visualDimension");var s;if(!e||!e.length){s=[NaN,NaN]}else if(o==="value"&&r){s=[e[e.length-1].getValue(),e[0].getValue()];r==="asc"&&s.reverse()}else{s=[Infinity,-Infinity];lR(e,function(t){var e=t.getValue(o);e<s[0]&&(s[0]=e);e>s[1]&&(s[1]=e)})}return{sum:i,dataExtent:s}}function xR(t,e,r){var i=0;var a=Infinity;for(var n=0,o=void 0,s=t.length;n<s;n++){o=t[n].getLayout().area;if(o){o<a&&(a=o);o>i&&(i=o)}}var l=t.area*t.area;var u=e*e*r;return l?nR(u*i/l,l/(u*a)):Infinity}function _R(t,e,r,i,a){var n=e===r.width?0:1;var o=1-n;var s=["x","y"];var l=["width","height"];var u=r[s[n]];var f=e?t.area/e:0;if(a||f>r[l[o]]){f=r[l[o]]}for(var h=0,v=t.length;h<v;h++){var c=t[h];var p={};var d=f?c.getLayout().area/f:0;var g=p[l[o]]=nR(f-2*i,0);var y=r[s[n]]+r[l[n]]-u;var m=h===v-1||y<d?y:d;var x=p[l[n]]=nR(m-2*i,0);p[s[o]]=r[s[o]]+oR(i,g/2);p[s[n]]=u+oR(i,x/2);u+=m;c.setLayout(p,true)}r[s[o]]+=f;r[l[o]]-=f}function bR(t,e,r,i,a){var n=(e||{}).node;var o=[i,a];if(!n||n===r){return o}var s;var l=i*a;var u=l*t.option.zoomToNodeRatio;while(s=n.parentNode){var f=0;var h=s.children;for(var v=0,c=h.length;v<c;v++){f+=h[v].getValue()}var p=n.getValue();if(p===0){return o}u*=f/p;var d=s.getModel();var g=d.get(uR);var y=Math.max(g,MR(d));u+=4*g*g+(3*g+y)*Math.pow(u,.5);u>Wa&&(u=Wa);n=s}u<l&&(u=l);var m=Math.pow(u/l,.5);return[i*m,a*m]}function wR(t,e,r){if(e){return{x:e.x,y:e.y}}var i={x:0,y:0};if(!r){return i}var a=r.node;var n=a.getLayout();if(!n){return i}var o=[n.width/2,n.height/2];var s=a;while(s){var l=s.getLayout();o[0]+=l.x;o[1]+=l.y;s=s.parentNode}return{x:t.width/2-o[0],y:t.height/2-o[1]}}function SR(t,e,r,i,a){var n=t.getLayout();var o=r[a];var s=o&&o===t;if(o&&!s||a===r.length&&t!==i){return}t.setLayout({isInView:true,invisible:!s&&!e.intersect(n),isAboveViewRoot:s},true);var l=new Yi(e.x-n.x,e.y-n.y,e.width,e.height);lR(t.viewChildren||[],function(t){SR(t,l,r,i,a+1)})}function MR(t){return t.get(hR)?t.get(vR):0}function IR(t){t.registerSeriesModel(nO);t.registerChartView(CO);t.registerVisual(KO);t.registerLayout(cR);iO(t)}function TR(t){var e=t.findComponents({mainType:"legend"});if(!e||!e.length){return}t.eachSeriesByType("graph",function(t){var r=t.getCategoriesData();var i=t.getGraph();var a=i.data;var n=r.mapArray(r.getName);a.filterSelf(function(t){var r=a.getItemModel(t);var i=r.getShallow("category");if(i!=null){if(typeof i==="number"){i=n[i]}for(var o=0;o<e.length;o++){if(!e[o].isSelected(i)){return false}}}return true})})}function CR(t){var e={};t.eachSeriesByType("graph",function(t){var r=t.getCategoriesData();var i=t.getData();var a={};r.each(function(i){var n=r.getName(i);a["ec-"+n]=i;var o=r.getItemModel(i);var s=o.getModel("itemStyle").getItemStyle();if(!s.fill){s.fill=t.getColorFromPalette(n,e)}r.setItemVisual(i,"style",s);var l=["symbol","symbolSize","symbolKeepAspect"];for(var u=0;u<l.length;u++){var f=o.getShallow(l[u],true);if(f!=null){r.setItemVisual(i,l[u],f)}}});if(r.count()){i.each(function(t){var e=i.getItemModel(t);var n=e.getShallow("category");if(n!=null){if(typeof n==="string"){n=a["ec-"+n]}var o=r.getItemVisual(n,"style");var s=i.ensureUniqueItemVisual(t,"style");C(s,o);var l=["symbol","symbolSize","symbolKeepAspect"];for(var u=0;u<l.length;u++){i.setItemVisual(t,l[u],r.getItemVisual(n,l[u]))}}})}})}function DR(t){if(!(t instanceof Array)){t=[t,t]}return t}function AR(t){t.eachSeriesByType("graph",function(t){var e=t.getGraph();var r=t.getEdgeData();var i=DR(t.get("edgeSymbol"));var a=DR(t.get("edgeSymbolSize"));r.setVisual("fromSymbol",i&&i[0]);r.setVisual("toSymbol",i&&i[1]);r.setVisual("fromSymbolSize",a&&a[0]);r.setVisual("toSymbolSize",a&&a[1]);r.setVisual("style",t.getModel("lineStyle").getLineStyle());r.each(function(t){var i=r.getItemModel(t);var a=e.getEdgeByIndex(t);var n=DR(i.getShallow("symbol",true));var o=DR(i.getShallow("symbolSize",true));var s=i.getModel("lineStyle").getLineStyle();var l=r.ensureUniqueItemVisual(t,"style");C(l,s);switch(l.stroke){case"source":{var u=a.node1.getVisual("style");l.stroke=u&&u.fill;break}case"target":{var u=a.node2.getVisual("style");l.stroke=u&&u.fill;break}}n[0]&&a.setVisual("fromSymbol",n[0]);n[1]&&a.setVisual("toSymbol",n[1]);o[0]&&a.setVisual("fromSymbolSize",o[0]);o[1]&&a.setVisual("toSymbolSize",o[1])})})}var kR="--\x3e";var LR=function(t){return t.get("autoCurveness")||null};var PR=function(t,e){var r=LR(t);var i=20;var a=[];if(typeof r==="number"){i=r}else if(W(r)){t.__curvenessList=r;return}if(e>i){i=e}var n=i%2?i+2:i+3;a=[];for(var o=0;o<n;o++){a.push((o%2?o+1:o)/10*(o%2?-1:1))}t.__curvenessList=a};var OR=function(t,e,r){var i=[t.id,t.dataIndex].join(".");var a=[e.id,e.dataIndex].join(".");return[r.uid,i,a].join(kR)};var RR=function(t){var e=t.split(kR);return[e[0],e[2],e[1]].join(kR)};var NR=function(t,e){var r=OR(t.node1,t.node2,e);return e.__edgeMap[r]};var ER=function(t,e){var r=zR(OR(t.node1,t.node2,e),e);var i=zR(OR(t.node2,t.node1,e),e);return r+i};var zR=function(t,e){var r=e.__edgeMap;return r[t]?r[t].length:0};function BR(t){if(!LR(t)){return}t.__curvenessList=[];t.__edgeMap={};PR(t)}function VR(t,e,r,i){if(!LR(r)){return}var a=OR(t,e,r);var n=r.__edgeMap;var o=n[RR(a)];if(n[a]&&!o){n[a].isForward=true}else if(o&&n[a]){o.isForward=true;n[a].isForward=false}n[a]=n[a]||[];n[a].push(i)}function GR(t,e,r,i){var a=LR(e);var n=W(a);if(!a){return null}var o=NR(t,e);if(!o){return null}var s=-1;for(var l=0;l<o.length;l++){if(o[l]===r){s=l;break}}var u=ER(t,e);PR(e,u);t.lineStyle=t.lineStyle||{};var f=OR(t.node1,t.node2,e);var h=e.__curvenessList;var v=n?0:u%2?0:1;if(!o.isForward){var c=RR(f);var p=zR(c,e);var d=h[s+p+v];if(i){if(n){if(a&&a[0]===0){return(p+v)%2?d:-d}else{return((p%2?0:1)+v)%2?d:-d}}else{return(p+v)%2?d:-d}}else{return h[s+p+v]}}else{return h[v+s]}}function FR(t){var e=t.coordinateSystem;if(e&&e.type!=="view"){return}var r=t.getGraph();r.eachNode(function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])});HR(r,t)}function HR(t,e){t.eachEdge(function(t,r){var i=at(t.getModel().get(["lineStyle","curveness"]),-GR(t,e,r,true),0);var a=bt(t.node1.getLayout());var n=bt(t.node2.getLayout());var o=[a,n];if(+i){o.push([(a[0]+n[0])/2-(a[1]-n[1])*i,(a[1]+n[1])/2-(n[0]-a[0])*i])}t.setLayout(o)})}function WR(t,e){t.eachSeriesByType("graph",function(t){var e=t.get("layout");var r=t.coordinateSystem;if(r&&r.type!=="view"){var i=t.getData();var a=[];R(r.dimensions,function(t){a=a.concat(i.mapDimensionsAll(t))});for(var n=0;n<i.count();n++){var o=[];var s=false;for(var l=0;l<a.length;l++){var u=i.get(a[l],n);if(!isNaN(u)){s=true}o.push(u)}if(s){i.setItemLayout(n,r.dataToPoint(o))}else{i.setItemLayout(n,[NaN,NaN])}}HR(i.graph,t)}else if(!e||e==="none"){FR(t)}})}function UR(t){var e=t.coordinateSystem;if(e.type!=="view"){return 1}var r=t.option.nodeScaleRatio;var i=e.scaleX;var a=e.getZoom();var n=(a-1)*r+1;return n/i}function YR(t){var e=t.getVisual("symbolSize");if(e instanceof Array){e=(e[0]+e[1])/2}return+e}var XR=Math.PI;var ZR=[];function jR(t,e){var r=t.coordinateSystem;if(r&&r.type!=="view"){return}var i=r.getBoundingRect();var a=t.getData();var n=a.graph;var o=i.width/2+i.x;var s=i.height/2+i.y;var l=Math.min(i.width,i.height)/2;var u=a.count();a.setLayout({cx:o,cy:s});if(!u){return}qR[e](t,n,a,l,o,s,u);n.eachEdge(function(e,r){var i=at(e.getModel().get(["lineStyle","curveness"]),GR(e,t,r),0);var a=bt(e.node1.getLayout());var n=bt(e.node2.getLayout());var l;var u=(a[0]+n[0])/2;var f=(a[1]+n[1])/2;if(+i){i*=3;l=[o*i+u*(1-i),s*i+f*(1-i)]}e.setLayout([a,n,l])})}var qR={value:function(t,e,r,i,a,n,o){var s=0;var l=r.getSum("value");var u=Math.PI*2/(l||o);e.eachNode(function(t){var e=t.getValue("value");var r=u*(l?e:1)/2;s+=r;t.setLayout([i*Math.cos(s)+a,i*Math.sin(s)+n]);s+=r})},symbolSize:function(t,e,r,i,a,n,o){var s=0;ZR.length=o;var l=UR(t);e.eachNode(function(t){var e=YR(t);isNaN(e)&&(e=2);e<0&&(e=0);e*=l;var r=Math.asin(e/2/i);isNaN(r)&&(r=XR/2);ZR[t.dataIndex]=r;s+=r*2});var u=(2*XR-s)/o/2;var f=0;e.eachNode(function(t){var e=u+ZR[t.dataIndex];f+=e;t.setLayout([i*Math.cos(f)+a,i*Math.sin(f)+n]);f+=e})}};function KR(t){t.eachSeriesByType("graph",function(t){if(t.get("layout")==="circular"){jR(t,"symbolSize")}})}var $R=Mt;function JR(t,e,r){var i=t;var a=e;var n=r.rect;var o=n.width;var s=n.height;var l=[n.x+o/2,n.y+s/2];var u=r.gravity==null?.1:r.gravity;for(var f=0;f<i.length;f++){var h=i[f];if(!h.p){h.p=xt(o*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])}h.pp=bt(h.p);h.edges=null}var v=r.friction==null?.6:r.friction;var c=v;var p;var d;return{warmUp:function(){c=v*.8},setFixed:function(t){i[t].fixed=true},setUnfixed:function(t){i[t].fixed=false},beforeStep:function(t){p=t},afterStep:function(t){d=t},step:function(t){p&&p(i,a);var e=[];var r=i.length;for(var n=0;n<a.length;n++){var o=a[n];if(o.ignoreForceLayout){continue}var s=o.n1;var f=o.n2;It(e,f.p,s.p);var h=Tt(e)-o.d;var v=f.w/(s.w+f.w);if(isNaN(v)){v=0}Rt(e,e);!s.fixed&&$R(s.p,s.p,e,v*h*c);!f.fixed&&$R(f.p,f.p,e,-(1-v)*h*c)}for(var n=0;n<r;n++){var g=i[n];if(!g.fixed){It(e,l,g.p);$R(g.p,g.p,e,u*c)}}for(var n=0;n<r;n++){var s=i[n];for(var y=n+1;y<r;y++){var f=i[y];It(e,f.p,s.p);var h=Tt(e);if(h===0){wt(e,Math.random()-.5,Math.random()-.5);h=1}var m=(s.rep+f.rep)/h/h;!s.fixed&&$R(s.pp,s.pp,e,m);!f.fixed&&$R(f.pp,f.pp,e,-m)}}var x=[];for(var n=0;n<r;n++){var g=i[n];if(!g.fixed){It(x,g.p,g.pp);$R(g.p,g.p,x,c);_t(g.pp,g.p)}}c=c*.992;var _=c<.01;d&&d(i,a,_);t&&t(_)}}}function QR(t){t.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(e&&e.type!=="view"){return}if(t.get("layout")==="force"){var r=t.preservedPoints||{};var i=t.getGraph();var a=i.data;var n=i.edgeData;var o=t.getModel("force");var s=o.get("initLayout");if(t.preservedPoints){a.each(function(t){var e=a.getId(t);a.setItemLayout(t,r[e]||[NaN,NaN])})}else if(!s||s==="none"){FR(t)}else if(s==="circular"){jR(t,"value")}var l=a.getDataExtent("value");var u=n.getDataExtent("value");var f=o.get("repulsion");var h=o.get("edgeLength");var v=W(f)?f:[f,f];var c=W(h)?h:[h,h];c=[c[1],c[0]];var p=a.mapArray("value",function(t,e){var r=a.getItemLayout(e);var i=Ra(t,l,v);if(isNaN(i)){i=(v[0]+v[1])/2}return{w:i,rep:i,fixed:a.getItemModel(e).get("fixed"),p:!r||isNaN(r[0])||isNaN(r[1])?null:r}});var d=n.mapArray("value",function(e,r){var a=i.getEdgeByIndex(r);var n=Ra(e,u,c);if(isNaN(n)){n=(c[0]+c[1])/2}var o=a.getModel();var s=at(a.getModel().get(["lineStyle","curveness"]),-GR(a,t,r,true),0);return{n1:p[a.node1.dataIndex],n2:p[a.node2.dataIndex],d:n,curveness:s,ignoreForceLayout:o.get("ignoreForceLayout")}});var g=e.getBoundingRect();var y=JR(p,d,{rect:g,gravity:o.get("gravity"),friction:o.get("friction")});y.beforeStep(function(t,e){for(var r=0,a=t.length;r<a;r++){if(t[r].fixed){_t(t[r].p,i.getNodeByIndex(r).getLayout())}}});y.afterStep(function(t,e,n){for(var o=0,s=t.length;o<s;o++){if(!t[o].fixed){i.getNodeByIndex(o).setLayout(t[o].p)}r[a.getId(o)]=t[o].p}for(var o=0,s=e.length;o<s;o++){var l=e[o];var u=i.getEdgeByIndex(o);var f=l.n1.p;var h=l.n2.p;var v=u.getLayout();v=v?v.slice():[];v[0]=v[0]||[];v[1]=v[1]||[];_t(v[0],f);_t(v[1],h);if(+l.curveness){v[2]=[(f[0]+h[0])/2-(f[1]-h[1])*l.curveness,(f[1]+h[1])/2-(h[0]-f[0])*l.curveness]}u.setLayout(v)}});t.forceLayout=y;t.preservedPoints=r;y.step()}else{t.forceLayout=null}})}function tN(t,e,r){var i=C(t.getBoxLayoutParams(),{aspect:r});return hp(i,{width:e.getWidth(),height:e.getHeight()})}function eN(t,e){var r=[];t.eachSeriesByType("graph",function(t){var i=t.get("coordinateSystem");if(!i||i==="view"){var a=t.getData();var n=a.mapArray(function(t){var e=a.getItemModel(t);return[+e.get("x"),+e.get("y")]});var o=[];var s=[];Ts(n,o,s);if(s[0]-o[0]===0){s[0]+=1;o[0]-=1}if(s[1]-o[1]===0){s[1]+=1;o[1]-=1}var l=(s[0]-o[0])/(s[1]-o[1]);var u=tN(t,e,l);if(isNaN(l)){o=[u.x,u.y];s=[u.x+u.width,u.y+u.height]}var f=s[0]-o[0];var h=s[1]-o[1];var v=u.width;var c=u.height;var p=t.coordinateSystem=new XL;p.zoomLimit=t.get("scaleLimit");p.setBoundingRect(o[0],o[1],f,h);p.setViewRect(u.x,u.y,v,c);p.setCenter(t.get("center"));p.setZoom(t.get("zoom"));r.push(p)}});return r}var rN=vh.prototype;var iN=gh.prototype;var aN=function(){function t(){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.percent=1}return t}();var nN=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(aN);function oN(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var sN=function(t){r(e,t);function e(e){var r=t.call(this,e)||this;r.type="ec-line";return r}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new aN};e.prototype.buildPath=function(t,e){if(oN(e)){rN.buildPath.call(this,t,e)}else{iN.buildPath.call(this,t,e)}};e.prototype.pointAt=function(t){if(oN(this.shape)){return rN.pointAt.call(this,t)}else{return iN.pointAt.call(this,t)}};e.prototype.tangentAt=function(t){var e=this.shape;var r=oN(e)?[e.x2-e.x1,e.y2-e.y1]:iN.tangentAt.call(this,t);return Rt(r,r)};return e}(Sl);var lN=["fromSymbol","toSymbol"];function uN(t){return"_"+t+"Type"}function fN(t,e,r){var i=e.getItemVisual(r,t);if(!i||i==="none"){return}var a=e.getItemVisual(r,t+"Size");var n=e.getItemVisual(r,t+"Rotate");var o=e.getItemVisual(r,t+"Offset");var s=e.getItemVisual(r,t+"KeepAspect");var l=ox(a);var u=sx(o||0,l);var f=nx(i,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);f.__specifiedRotation=n==null||isNaN(n)?void 0:+n*Math.PI/180||0;f.name=t;return f}function hN(t){var e=new sN({name:"line",subPixelOptimize:true});vN(e.shape,t);return e}function vN(t,e){t.x1=e[0][0];t.y1=e[0][1];t.x2=e[1][0];t.y2=e[1][1];t.percent=1;var r=e[2];if(r){t.cpx1=r[0];t.cpy1=r[1]}else{t.cpx1=NaN;t.cpy1=NaN}}var cN=function(t){r(e,t);function e(e,r,i){var a=t.call(this)||this;a._createLine(e,r,i);return a}e.prototype._createLine=function(t,e,r){var i=t.hostModel;var a=t.getItemLayout(e);var n=hN(a);n.shape.percent=0;Rh(n,{shape:{percent:1}},i,e);this.add(n);R(lN,function(r){var i=fN(r,t,e);this.add(i);this[uN(r)]=t.getItemVisual(e,r)},this);this._updateCommonStl(t,e,r)};e.prototype.updateData=function(t,e,r){var i=t.hostModel;var a=this.childOfName("line");var n=t.getItemLayout(e);var o={shape:{}};vN(o.shape,n);Oh(a,o,i,e);R(lN,function(r){var i=t.getItemVisual(e,r);var a=uN(r);if(this[a]!==i){this.remove(this.childOfName(r));var n=fN(r,t,e);this.add(n)}this[a]=i},this);this._updateCommonStl(t,e,r)};e.prototype.getLinePath=function(){return this.childAt(0)};e.prototype._updateCommonStl=function(t,e,r){var i=t.hostModel;var a=this.childOfName("line");var n=r&&r.emphasisLineStyle;var o=r&&r.blurLineStyle;var s=r&&r.selectLineStyle;var l=r&&r.labelStatesModels;if(!r||t.hasItemOption){var u=t.getItemModel(e);n=u.getModel(["emphasis","lineStyle"]).getLineStyle();o=u.getModel(["blur","lineStyle"]).getLineStyle();s=u.getModel(["select","lineStyle"]).getLineStyle();l=wv(u)}var f=t.getItemVisual(e,"style");var h=f.stroke;a.useStyle(f);a.style.fill=null;a.style.strokeNoScale=true;a.ensureState("emphasis").style=n;a.ensureState("blur").style=o;a.ensureState("select").style=s;R(lN,function(t){var e=this.childOfName(t);if(e){e.setColor(h);e.style.opacity=f.opacity;for(var r=0;r<nu.length;r++){var i=nu[r];var n=a.getState(i);if(n){var o=n.style||{};var s=e.ensureState(i);var l=s.style||(s.style={});if(o.stroke!=null){l[e.__isEmptyBrush?"stroke":"fill"]=o.stroke}if(o.opacity!=null){l.opacity=o.opacity}}}e.markRedraw()}},this);var v=i.getRawValue(e);bv(this,l,{labelDataIndex:e,labelFetcher:{getFormattedLabel:function(e,r){return i.getFormattedLabel(e,r,t.dataType)}},inheritColor:h||"#000",defaultOpacity:f.opacity,defaultText:(v==null?t.getName(e):isFinite(v)?Ea(v):v)+""});var c=this.getTextContent();if(c){var p=l.normal;c.__align=c.style.align;c.__verticalAlign=c.style.verticalAlign;c.__position=p.get("position")||"middle";var d=p.get("distance");if(!W(d)){d=[d,d]}c.__labelDistance=d}this.setTextConfig({position:null,local:true,inside:false});Ju(this)};e.prototype.highlight=function(){Nu(this)};e.prototype.downplay=function(){Eu(this)};e.prototype.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))};e.prototype.setLinePoints=function(t){var e=this.childOfName("line");vN(e.shape,t);e.dirty()};e.prototype.beforeUpdate=function(){var t=this;var e=t.childOfName("fromSymbol");var r=t.childOfName("toSymbol");var i=t.getTextContent();if(!e&&!r&&(!i||i.ignore)){return}var a=1;var n=this.parent;while(n){if(n.scaleX){a/=n.scaleX}n=n.parent}var o=t.childOfName("line");if(!this.__dirty&&!o.__dirty){return}var s=o.shape.percent;var l=o.pointAt(0);var u=o.pointAt(s);var f=It([],u,l);Rt(f,f);function h(t,e){var r=t.__specifiedRotation;if(r==null){var i=o.tangentAt(e);t.attr("rotation",(e===1?-1:1)*Math.PI/2-Math.atan2(i[1],i[0]))}else{t.attr("rotation",r)}}if(e){e.setPosition(l);h(e,0);e.scaleX=e.scaleY=a*s;e.markRedraw()}if(r){r.setPosition(u);h(r,1);r.scaleX=r.scaleY=a*s;r.markRedraw()}if(i&&!i.ignore){i.x=i.y=0;i.originX=i.originY=0;var v=void 0;var c=void 0;var p=i.__labelDistance;var d=p[0]*a;var g=p[1]*a;var y=s/2;var m=o.tangentAt(y);var x=[m[1],-m[0]];var _=o.pointAt(y);if(x[1]>0){x[0]=-x[0];x[1]=-x[1]}var b=m[0]<0?-1:1;if(i.__position!=="start"&&i.__position!=="end"){var w=-Math.atan2(m[1],m[0]);if(u[0]<l[0]){w=Math.PI+w}i.rotation=w}var S=void 0;switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":S=-g;c="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":S=g;c="top";break;default:S=0;c="middle"}switch(i.__position){case"end":i.x=f[0]*d+u[0];i.y=f[1]*g+u[1];v=f[0]>.8?"left":f[0]<-.8?"right":"center";c=f[1]>.8?"top":f[1]<-.8?"bottom":"middle";break;case"start":i.x=-f[0]*d+l[0];i.y=-f[1]*g+l[1];v=f[0]>.8?"right":f[0]<-.8?"left":"center";c=f[1]>.8?"bottom":f[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":i.x=d*b+l[0];i.y=l[1]+S;v=m[0]<0?"right":"left";i.originX=-d*b;i.originY=-S;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":i.x=_[0];i.y=_[1]+S;v="center";i.originY=-S;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":i.x=-d*b+u[0];i.y=u[1]+S;v=m[0]>=0?"right":"left";i.originX=d*b;i.originY=-S;break}i.scaleX=i.scaleY=a;i.setStyle({verticalAlign:i.__verticalAlign||c,align:i.__align||v})}};return e}(ya);var pN=function(){function t(t){this.group=new ya;this._LineCtor=t||cN}t.prototype.isPersistent=function(){return true};t.prototype.updateData=function(t){var e=this;var r=this;var i=r.group;var a=r._lineData;r._lineData=t;if(!a){i.removeAll()}var n=gN(t);t.diff(a).add(function(r){e._doAdd(t,r,n)}).update(function(r,i){e._doUpdate(a,t,i,r,n)}).remove(function(t){i.remove(a.getItemGraphicEl(t))}).execute()};t.prototype.updateLayout=function(){var t=this._lineData;if(!t){return}t.eachItemGraphicEl(function(e,r){e.updateLayout(t,r)},this)};t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=gN(t);this._lineData=null;this.group.removeAll()};t.prototype.incrementalUpdate=function(t,e){function r(t){if(!t.isGroup&&!dN(t)){t.incremental=true;t.ensureState("emphasis").hoverLayer=true}}for(var i=t.start;i<t.end;i++){var a=e.getItemLayout(i);if(mN(a)){var n=new this._LineCtor(e,i,this._seriesScope);n.traverse(r);this.group.add(n);e.setItemGraphicEl(i,n)}}};t.prototype.remove=function(){this.group.removeAll()};t.prototype._doAdd=function(t,e,r){var i=t.getItemLayout(e);if(!mN(i)){return}var a=new this._LineCtor(t,e,r);t.setItemGraphicEl(e,a);this.group.add(a)};t.prototype._doUpdate=function(t,e,r,i,a){var n=t.getItemGraphicEl(r);if(!mN(e.getItemLayout(i))){this.group.remove(n);return}if(!n){n=new this._LineCtor(e,i,a)}else{n.updateData(e,i,a)}e.setItemGraphicEl(i,n);this.group.add(n)};return t}();function dN(t){return t.animators&&t.animators.length>0}function gN(t){var e=t.hostModel;return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["emphasis","lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),labelStatesModels:wv(e)}}function yN(t){return isNaN(t[0])||isNaN(t[1])}function mN(t){return!yN(t[0])&&!yN(t[1])}var xN=[];var _N=[];var bN=[];var wN=hs;var SN=Bt;var MN=Math.abs;function IN(t,e,r){var i=t[0];var a=t[1];var n=t[2];var o=Infinity;var s;var l=r*r;var u=.1;for(var f=.1;f<=.9;f+=.1){xN[0]=wN(i[0],a[0],n[0],f);xN[1]=wN(i[1],a[1],n[1],f);var h=MN(SN(xN,e)-l);if(h<o){o=h;s=f}}for(var v=0;v<32;v++){var c=s+u;_N[0]=wN(i[0],a[0],n[0],s);_N[1]=wN(i[1],a[1],n[1],s);bN[0]=wN(i[0],a[0],n[0],c);bN[1]=wN(i[1],a[1],n[1],c);var h=SN(_N,e)-l;if(MN(h)<.01){break}var p=SN(bN,e)-l;u/=2;if(h<0){if(p>=0){s=s+u}else{s=s-u}}else{if(p>=0){s=s-u}else{s=s+u}}}return s}function TN(t,e){var r=[];var i=ds;var a=[[],[],[]];var n=[[],[]];var o=[];e/=2;t.eachEdge(function(t,s){var l=t.getLayout();var u=t.getVisual("fromSymbol");var f=t.getVisual("toSymbol");if(!l.__original){l.__original=[bt(l[0]),bt(l[1])];if(l[2]){l.__original.push(bt(l[2]))}}var h=l.__original;if(l[2]!=null){_t(a[0],h[0]);_t(a[1],h[2]);_t(a[2],h[1]);if(u&&u!=="none"){var v=YR(t.node1);var c=IN(a,h[0],v*e);i(a[0][0],a[1][0],a[2][0],c,r);a[0][0]=r[3];a[1][0]=r[4];i(a[0][1],a[1][1],a[2][1],c,r);a[0][1]=r[3];a[1][1]=r[4]}if(f&&f!=="none"){var v=YR(t.node2);var c=IN(a,h[1],v*e);i(a[0][0],a[1][0],a[2][0],c,r);a[1][0]=r[1];a[2][0]=r[2];i(a[0][1],a[1][1],a[2][1],c,r);a[1][1]=r[1];a[2][1]=r[2]}_t(l[0],a[0]);_t(l[1],a[2]);_t(l[2],a[1])}else{_t(n[0],h[0]);_t(n[1],h[1]);It(o,n[1],n[0]);Rt(o,o);if(u&&u!=="none"){var v=YR(t.node1);Mt(n[0],n[0],o,v*e)}if(f&&f!=="none"){var v=YR(t.node2);Mt(n[1],n[1],o,-v*e)}_t(l[0],n[0]);_t(l[1],n[1])}})}function CN(t){return t.type==="view"}var DN=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(t,e){var r=new KC;var i=new pN;var a=this.group;this._controller=new _L(e.getZr());this._controllerHost={target:a};a.add(r.group);a.add(i.group);this._symbolDraw=r;this._lineDraw=i;this._firstRender=true};e.prototype.render=function(t,e,r){var i=this;var a=t.coordinateSystem;this._model=t;var n=this._symbolDraw;var o=this._lineDraw;var s=this.group;if(CN(a)){var l={x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY};if(this._firstRender){s.attr(l)}else{Oh(s,l,t)}}TN(t.getGraph(),UR(t));var u=t.getData();n.updateData(u);var f=t.getEdgeData();o.updateData(f);this._updateNodeAndLinkScale();this._updateController(t,e,r);clearTimeout(this._layoutTimeout);var h=t.forceLayout;var v=t.get(["force","layoutAnimation"]);if(h){this._startForceLayoutIteration(h,v)}u.graph.eachNode(function(t){var e=t.dataIndex;var r=t.getGraphicEl();var a=t.getModel();r.off("drag").off("dragend");var n=a.get("draggable");if(n){r.on("drag",function(){if(h){h.warmUp();!i._layouting&&i._startForceLayoutIteration(h,v);h.setFixed(e);u.setItemLayout(e,[r.x,r.y])}}).on("dragend",function(){if(h){h.setUnfixed(e)}})}r.setDraggable(n&&!!h);var o=a.get(["emphasis","focus"]);if(o==="adjacency"){$l(r).focus=t.getAdjacentDataIndices()}});u.graph.eachEdge(function(t){var e=t.getGraphicEl();var r=t.getModel().get(["emphasis","focus"]);if(r==="adjacency"){$l(e).focus={edge:[t.dataIndex],node:[t.node1.dataIndex,t.node2.dataIndex]}}});var c=t.get("layout")==="circular"&&t.get(["circular","rotateLabel"]);var p=u.getLayout("cx");var d=u.getLayout("cy");u.eachItemGraphicEl(function(t,e){var r=u.getItemModel(e);var i=r.get(["label","rotate"])||0;var a=t.getSymbolPath();if(c){var n=u.getItemLayout(e);var o=Math.atan2(n[1]-d,n[0]-p);if(o<0){o=Math.PI*2+o}var s=n[0]<p;if(s){o=o-Math.PI}var l=s?"left":"right";a.setTextConfig({rotation:-o,position:l,origin:"center"});var f=a.ensureState("emphasis");C(f.textConfig||(f.textConfig={}),{position:l})}else{a.setTextConfig({rotation:i*=Math.PI/180})}});this._firstRender=false};e.prototype.dispose=function(){this._controller&&this._controller.dispose();this._controllerHost=null};e.prototype._startForceLayoutIteration=function(t,e){var r=this;(function i(){t.step(function(t){r.updateLayout(r._model);(r._layouting=!t)&&(e?r._layoutTimeout=setTimeout(i,16):i())})})()};e.prototype._updateController=function(t,e,r){var i=this;var a=this._controller;var n=this._controllerHost;var o=this.group;a.setPointerChecker(function(e,i,a){var n=o.getBoundingRect();n.applyTransform(o.transform);return n.contain(i,a)&&!CL(e,r,t)});if(!CN(t.coordinateSystem)){a.disable();return}a.enable(t.get("roam"));n.zoomLimit=t.get("scaleLimit");n.zoom=t.coordinateSystem.getZoom();a.off("pan").off("zoom").on("pan",function(e){ML(n,e.dx,e.dy);r.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e.dx,dy:e.dy})}).on("zoom",function(e){IL(n,e.scale,e.originX,e.originY);r.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY});i._updateNodeAndLinkScale();TN(t.getGraph(),UR(t));i._lineDraw.updateLayout();r.updateLabelLayout()})};e.prototype._updateNodeAndLinkScale=function(){var t=this._model;var e=t.getData();var r=UR(t);e.eachItemGraphicEl(function(t,e){t.setSymbolScale(r)})};e.prototype.updateLayout=function(t){TN(t.getGraph(),UR(t));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()};e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()};e.type="graph";return e}(Xy);function AN(t){return"_EC_"+t}var kN=function(){function t(t){this.type="graph";this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={};this._directed=t||false}t.prototype.isDirected=function(){return this._directed};t.prototype.addNode=function(t,e){t=t==null?""+e:""+t;var r=this._nodesMap;if(r[AN(t)]){if("development"!=="production"){console.error("Graph nodes have duplicate name or id")}return}var i=new LN(t,e);i.hostGraph=this;this.nodes.push(i);r[AN(t)]=i;return i};t.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]};t.prototype.getNodeById=function(t){return this._nodesMap[AN(t)]};t.prototype.addEdge=function(t,e,r){var i=this._nodesMap;var a=this._edgesMap;if(typeof t==="number"){t=this.nodes[t]}if(typeof e==="number"){e=this.nodes[e]}if(!(t instanceof LN)){t=i[AN(t)]}if(!(e instanceof LN)){e=i[AN(e)]}if(!t||!e){return}var n=t.id+"-"+e.id;var o=new PN(t,e,r);o.hostGraph=this;if(this._directed){t.outEdges.push(o);e.inEdges.push(o)}t.edges.push(o);if(t!==e){e.edges.push(o)}this.edges.push(o);a[n]=o;return o};t.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]};t.prototype.getEdge=function(t,e){if(t instanceof LN){t=t.id}if(e instanceof LN){e=e.id}var r=this._edgesMap;if(this._directed){return r[t+"-"+e]}else{return r[t+"-"+e]||r[e+"-"+t]}};t.prototype.eachNode=function(t,e){var r=this.nodes;var i=r.length;for(var a=0;a<i;a++){if(r[a].dataIndex>=0){t.call(e,r[a],a)}}};t.prototype.eachEdge=function(t,e){var r=this.edges;var i=r.length;for(var a=0;a<i;a++){if(r[a].dataIndex>=0&&r[a].node1.dataIndex>=0&&r[a].node2.dataIndex>=0){t.call(e,r[a],a)}}};t.prototype.breadthFirstTraverse=function(t,e,r,i){if(!(e instanceof LN)){e=this._nodesMap[AN(e)]}if(!e){return}var a=r==="out"?"outEdges":r==="in"?"inEdges":"edges";for(var n=0;n<this.nodes.length;n++){this.nodes[n].__visited=false}if(t.call(i,e,null)){return}var o=[e];while(o.length){var s=o.shift();var l=s[a];for(var n=0;n<l.length;n++){var u=l[n];var f=u.node1===s?u.node2:u.node1;if(!f.__visited){if(t.call(i,f,s)){return}o.push(f);f.__visited=true}}}};t.prototype.update=function(){var t=this.data;var e=this.edgeData;var r=this.nodes;var i=this.edges;for(var a=0,n=r.length;a<n;a++){r[a].dataIndex=-1}for(var a=0,n=t.count();a<n;a++){r[t.getRawIndex(a)].dataIndex=a}e.filterSelf(function(t){var r=i[e.getRawIndex(t)];return r.node1.dataIndex>=0&&r.node2.dataIndex>=0});for(var a=0,n=i.length;a<n;a++){i[a].dataIndex=-1}for(var a=0,n=e.count();a<n;a++){i[e.getRawIndex(a)].dataIndex=a}};t.prototype.clone=function(){var e=new t(this._directed);var r=this.nodes;var i=this.edges;for(var a=0;a<r.length;a++){e.addNode(r[a].id,r[a].dataIndex)}for(var a=0;a<i.length;a++){var n=i[a];e.addEdge(n.node1.id,n.node2.id,n.dataIndex)}return e};return t}();var LN=function(){function t(t,e){this.inEdges=[];this.outEdges=[];this.edges=[];this.dataIndex=-1;this.id=t==null?"":t;this.dataIndex=e==null?-1:e}t.prototype.degree=function(){return this.edges.length};t.prototype.inDegree=function(){return this.inEdges.length};t.prototype.outDegree=function(){return this.outEdges.length};t.prototype.getModel=function(t){if(this.dataIndex<0){return}var e=this.hostGraph;var r=e.data.getItemModel(this.dataIndex);return r.getModel(t)};t.prototype.getAdjacentDataIndices=function(){var t={edge:[],node:[]};for(var e=0;e<this.edges.length;e++){var r=this.edges[e];if(r.dataIndex<0){continue}t.edge.push(r.dataIndex);t.node.push(r.node1.dataIndex,r.node2.dataIndex)}return t};return t}();var PN=function(){function t(t,e,r){this.dataIndex=-1;this.node1=t;this.node2=e;this.dataIndex=r==null?-1:r}t.prototype.getModel=function(t){if(this.dataIndex<0){return}var e=this.hostGraph;var r=e.edgeData.getItemModel(this.dataIndex);return r.getModel(t)};t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}};return t}();function ON(t,e){return{getValue:function(r){var i=this[t][e];return i.getStore().get(i.getDimensionIndex(r||"value"),this.dataIndex)},setVisual:function(r,i){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,r,i)},getVisual:function(r){return this[t][e].getItemVisual(this.dataIndex,r)},setLayout:function(r,i){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,r,i)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}P(LN,ON("hostGraph","data"));P(PN,ON("hostGraph","edgeData"));function RN(t,e,r,i,a){var n=new kN(i);for(var o=0;o<t.length;o++){n.addNode(rt(t[o].id,t[o].name,o),o)}var s=[];var l=[];var u=0;for(var o=0;o<e.length;o++){var f=e[o];var h=f.source;var v=f.target;if(n.addEdge(h,v,u)){l.push(f);s.push(rt(Ln(f.id,null),h+" > "+v));u++}}var c=r.get("coordinateSystem");var p;if(c==="cartesian2d"||c==="polar"){p=VS(t,r)}else{var d=gd.get(c);var g=d?d.dimensions||[]:[];if(k(g,"value")<0){g.concat(["value"])}var y=IS(t,{coordDimensions:g,encodeDefine:r.getEncode()}).dimensions;p=new SS(y,r);p.initData(t)}var m=new SS(["value"],r);m.initData(l,s);a&&a(p,m);LP({mainData:p,struct:n,structAttr:"graph",datas:{node:p,edge:m},datasAttr:{node:"data",edge:"edgeData"}});n.update();return n}var NN=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.hasSymbolVisual=true;return r}e.prototype.init=function(e){t.prototype.init.apply(this,arguments);var r=this;function i(){return r._categoriesData}this.legendVisualProvider=new EA(i,i);this.fillDataTextStyle(e.edges||e.links);this._updateCategoriesData()};e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments);this.fillDataTextStyle(e.edges||e.links);this._updateCategoriesData()};e.prototype.mergeDefaultAndTheme=function(e){t.prototype.mergeDefaultAndTheme.apply(this,arguments);mn(e,"edgeLabel",["show"])};e.prototype.getInitialData=function(t,e){var r=t.edges||t.links||[];var i=t.data||t.nodes||[];var a=this;if(i&&r){BR(this);var n=RN(i,r,this,true,o);R(n.edges,function(t){VR(t.node1,t.node2,this,t.dataIndex)},this);return n.data}function o(t,e){t.wrapMethod("getItemModel",function(t){var e=a._categoriesModels;var r=t.getShallow("category");var i=e[r];if(i){i.parentModel=t.parentModel;t.parentModel=i}return t});var r=Uv.prototype.getModel;function i(t,e){var i=r.call(this,t,e);i.resolveParentPath=n;return i}e.wrapMethod("getItemModel",function(t){t.resolveParentPath=n;t.getModel=i;return t});function n(t){if(t&&(t[0]==="label"||t[1]==="label")){var e=t.slice();if(t[0]==="label"){e[0]="edgeLabel"}else if(t[1]==="label"){e[1]="edgeLabel"}return e}return t}}};e.prototype.getGraph=function(){return this.getData().graph};e.prototype.getEdgeData=function(){return this.getGraph().edgeData};e.prototype.getCategoriesData=function(){return this._categoriesData};e.prototype.formatTooltip=function(t,e,r){if(r==="edge"){var i=this.getData();var a=this.getDataParams(t,r);var n=i.graph.getEdgeByIndex(t);var o=i.getName(n.node1.dataIndex);var s=i.getName(n.node2.dataIndex);var l=[];o!=null&&l.push(o);s!=null&&l.push(s);return py("nameValue",{name:l.join(" > "),value:a.value,noValue:a.value==null})}var u=Dy({series:this,dataIndex:t,multipleSeries:e});return u};e.prototype._updateCategoriesData=function(){var t=N(this.option.categories||[],function(t){return t.value!=null?t:C({value:0},t)});var e=new SS(["value"],this);e.initData(t);this._categoriesData=e;this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t)})};e.prototype.setZoom=function(t){this.option.zoom=t};e.prototype.setCenter=function(t){this.option.center=t};e.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))};e.type="series.graph";e.dependencies=["grid","polar","geo","singleAxis","calendar"];e.defaultOption={zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:true,layout:null,circular:{rotateLabel:false},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:true},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:false,roam:false,center:null,zoom:1,nodeScaleRatio:.6,label:{show:false,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:true,label:{show:true}},select:{itemStyle:{borderColor:"#212121"}}};return e}(Oy);var EN={type:"graphRoam",event:"graphRoam",update:"none"};function zN(t){t.registerChartView(DN);t.registerSeriesModel(NN);t.registerProcessor(TR);t.registerVisual(CR);t.registerVisual(AR);t.registerLayout(WR);t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,KR);t.registerLayout(QR);t.registerCoordinateSystem("graphView",{dimensions:XL.dimensions,create:eN});t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){});t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){});t.registerAction(EN,function(t,e){e.eachComponent({mainType:"series",query:t},function(e){var r=e.coordinateSystem;var i=iP(r,t);e.setCenter&&e.setCenter(i.center);e.setZoom&&e.setZoom(i.zoom)})})}var BN=function(){function t(){this.angle=0;this.width=10;this.r=10;this.x=0;this.y=0}return t}();var VN=function(t){r(e,t);function e(e){var r=t.call(this,e)||this;r.type="pointer";return r}e.prototype.getDefaultShape=function(){return new BN};e.prototype.buildPath=function(t,e){var r=Math.cos;var i=Math.sin;var a=e.r;var n=e.width;var o=e.angle;var s=e.x-r(o)*n*(n>=a/3?1:2);var l=e.y-i(o)*n*(n>=a/3?1:2);o=e.angle-Math.PI/2;t.moveTo(s,l);t.lineTo(e.x+r(o)*n,e.y+i(o)*n);t.lineTo(e.x+r(e.angle)*a,e.y+i(e.angle)*a);t.lineTo(e.x-r(o)*n,e.y-i(o)*n);t.lineTo(s,l)};return e}(Sl);function GN(t,e){var r=t.get("center");var i=e.getWidth();var a=e.getHeight();var n=Math.min(i,a);var o=Na(r[0],e.getWidth());var s=Na(r[1],e.getHeight());var l=Na(t.get("radius"),n/2);return{cx:o,cy:s,r:l}}function FN(t,e){var r=t==null?"":t+"";if(e){if(typeof e==="string"){r=e.replace("{value}",r)}else if(typeof e==="function"){r=e(t)}}return r}var HN=Math.PI*2;var WN=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){this.group.removeAll();var i=t.get(["axisLine","lineStyle","color"]);var a=GN(t,r);this._renderMain(t,e,r,i,a);this._data=t.getData()};e.prototype.dispose=function(){};e.prototype._renderMain=function(t,e,r,i,a){var n=this.group;var o=t.get("clockwise");var s=-t.get("startAngle")/180*Math.PI;var l=-t.get("endAngle")/180*Math.PI;var u=t.getModel("axisLine");var f=u.get("roundCap");var h=f?HD:Qf;var v=u.get("show");var c=u.getModel("lineStyle");var p=c.get("width");var d=!((l-s)%HN)&&l!==s?HN:(l-s)%HN;var g=s;for(var y=0;v&&y<i.length;y++){var m=Math.min(Math.max(i[y][0],0),1);l=s+d*m;var x=new h({shape:{startAngle:g,endAngle:l,cx:a.cx,cy:a.cy,clockwise:o,r0:a.r-p,r:a.r},silent:true});x.setStyle({fill:i[y][1]});x.setStyle(c.getLineStyle(["color","width"]));n.add(x);g=l}var _=function(t){if(t<=0){return i[0][1]}var e;for(e=0;e<i.length;e++){if(i[e][0]>=t&&(e===0?0:i[e-1][0])<t){return i[e][1]}}return i[e-1][1]};if(!o){var b=s;s=l;l=b}this._renderTicks(t,e,r,_,a,s,l,o,p);this._renderTitleAndDetail(t,e,r,_,a);this._renderAnchor(t,a);this._renderPointer(t,e,r,_,a,s,l,o,p)};e.prototype._renderTicks=function(t,e,r,i,a,n,o,s,l){var u=this.group;var f=a.cx;var h=a.cy;var v=a.r;var c=+t.get("min");var p=+t.get("max");var d=t.getModel("splitLine");var g=t.getModel("axisTick");var y=t.getModel("axisLabel");var m=t.get("splitNumber");var x=g.get("splitNumber");var _=Na(d.get("length"),v);var b=Na(g.get("length"),v);var w=n;var S=(o-n)/m;var M=S/x;var I=d.getModel("lineStyle").getLineStyle();var T=g.getModel("lineStyle").getLineStyle();var C=d.get("distance");var D;var A;for(var k=0;k<=m;k++){D=Math.cos(w);A=Math.sin(w);if(d.get("show")){var L=C?C+l:l;var P=new vh({shape:{x1:D*(v-L)+f,y1:A*(v-L)+h,x2:D*(v-_-L)+f,y2:A*(v-_-L)+h},style:I,silent:true});if(I.stroke==="auto"){P.setStyle({stroke:i(k/m)})}u.add(P)}if(y.get("show")){var L=y.get("distance")+C;var O=FN(Ea(k/m*(p-c)+c),y.get("formatter"));var R=i(k/m);u.add(new Fl({style:Sv(y,{text:O,x:D*(v-_-L)+f,y:A*(v-_-L)+h,verticalAlign:A<-.8?"top":A>.8?"bottom":"middle",align:D<-.4?"left":D>.4?"right":"center"},{inheritColor:R}),silent:true}))}if(g.get("show")&&k!==m){var L=g.get("distance");L=L?L+l:l;for(var N=0;N<=x;N++){D=Math.cos(w);A=Math.sin(w);var E=new vh({shape:{x1:D*(v-L)+f,y1:A*(v-L)+h,x2:D*(v-b-L)+f,y2:A*(v-b-L)+h},silent:true,style:T});if(T.stroke==="auto"){E.setStyle({stroke:i((k+N/x)/m)})}u.add(E);w+=M}w-=M}else{w+=S}}};e.prototype._renderPointer=function(t,e,r,i,a,n,o,s,l){var u=this.group;var f=this._data;var h=this._progressEls;var v=[];var c=t.get(["pointer","show"]);var p=t.getModel("progress");var d=p.get("show");var g=t.getData();var y=g.mapDimension("value");var m=+t.get("min");var x=+t.get("max");var _=[m,x];var b=[n,o];function w(e,r){var i=g.getItemModel(e);var n=i.getModel("pointer");var o=Na(n.get("width"),a.r);var s=Na(n.get("length"),a.r);var l=t.get(["pointer","icon"]);var u=n.get("offsetCenter");var f=Na(u[0],a.r);var h=Na(u[1],a.r);var v=n.get("keepAspect");var c;if(l){c=nx(l,f-o/2,h-s,o,s,null,v)}else{c=new VN({shape:{angle:-Math.PI/2,width:o,r:s,x:f,y:h}})}c.rotation=-(r+Math.PI/2);c.x=a.cx;c.y=a.cy;return c}function S(t,e){var r=p.get("roundCap");var i=r?HD:Qf;var o=p.get("overlap");var u=o?p.get("width"):l/g.count();var f=o?a.r-u:a.r-(t+1)*u;var h=o?a.r:a.r-t*u;var v=new i({shape:{startAngle:n,endAngle:e,cx:a.cx,cy:a.cy,clockwise:s,r0:f,r:h}});o&&(v.z2=x-g.get(y,t)%x);return v}if(d||c){g.diff(f).add(function(e){if(c){var r=w(e,n);Rh(r,{rotation:-(Ra(g.get(y,e),_,b,true)+Math.PI/2)},t);u.add(r);g.setItemGraphicEl(e,r)}if(d){var i=S(e,n);var a=p.get("clip");Rh(i,{shape:{endAngle:Ra(g.get(y,e),_,b,a)}},t);u.add(i);Jl(t.seriesIndex,g.dataType,e,i);v[e]=i}}).update(function(e,r){if(c){var i=f.getItemGraphicEl(r);var a=i?i.rotation:n;var o=w(e,a);o.rotation=a;Oh(o,{rotation:-(Ra(g.get(y,e),_,b,true)+Math.PI/2)},t);u.add(o);g.setItemGraphicEl(e,o)}if(d){var s=h[r];var l=s?s.shape.endAngle:n;var m=S(e,l);var x=p.get("clip");Oh(m,{shape:{endAngle:Ra(g.get(y,e),_,b,x)}},t);u.add(m);Jl(t.seriesIndex,g.dataType,e,m);v[e]=m}}).execute();g.each(function(t){var e=g.getItemModel(t);var r=e.getModel("emphasis");if(c){var a=g.getItemGraphicEl(t);var n=g.getItemVisual(t,"style");var o=n.fill;if(a instanceof Al){var s=a.style;a.useStyle(C({image:s.image,x:s.x,y:s.y,width:s.width,height:s.height},n))}else{a.useStyle(n);a.type!=="pointer"&&a.setColor(o)}a.setStyle(e.getModel(["pointer","itemStyle"]).getItemStyle());if(a.style.fill==="auto"){a.setStyle("fill",i(Ra(g.get(y,t),_,[0,1],true)))}a.z2EmphasisLift=0;rf(a,e);Ju(a,r.get("focus"),r.get("blurScope"))}if(d){var l=v[t];l.useStyle(g.getItemVisual(t,"style"));l.setStyle(e.getModel(["progress","itemStyle"]).getItemStyle());l.z2EmphasisLift=0;rf(l,e);Ju(l,r.get("focus"),r.get("blurScope"))}});this._progressEls=v}};e.prototype._renderAnchor=function(t,e){var r=t.getModel("anchor");var i=r.get("show");if(i){var a=r.get("size");var n=r.get("icon");var o=r.get("offsetCenter");var s=r.get("keepAspect");var l=nx(n,e.cx-a/2+Na(o[0],e.r),e.cy-a/2+Na(o[1],e.r),a,a,null,s);l.z2=r.get("showAbove")?1:0;l.setStyle(r.getModel("itemStyle").getItemStyle());this.group.add(l)}};e.prototype._renderTitleAndDetail=function(t,e,r,i,a){var n=this;var o=t.getData();var s=o.mapDimension("value");var l=+t.get("min");var u=+t.get("max");var f=new ya;var h=[];var v=[];var c=t.isAnimationEnabled();var p=t.get(["pointer","showAbove"]);o.diff(this._data).add(function(t){h[t]=new Fl({silent:true});v[t]=new Fl({silent:true})}).update(function(t,e){h[t]=n._titleEls[e];v[t]=n._detailEls[e]}).execute();o.each(function(e){var r=o.getItemModel(e);var n=o.get(s,e);var d=new ya;var g=i(Ra(n,[l,u],[0,1],true));var y=r.getModel("title");if(y.get("show")){var m=y.get("offsetCenter");var x=a.cx+Na(m[0],a.r);var _=a.cy+Na(m[1],a.r);var b=h[e];b.attr({z2:p?0:2,style:Sv(y,{x:x,y:_,text:o.getName(e),align:"center",verticalAlign:"middle"},{inheritColor:g})});d.add(b)}var w=r.getModel("detail");if(w.get("show")){var S=w.get("offsetCenter");var M=a.cx+Na(S[0],a.r);var I=a.cy+Na(S[1],a.r);var T=Na(w.get("width"),a.r);var C=Na(w.get("height"),a.r);var D=t.get(["progress","show"])?o.getItemVisual(e,"style").fill:g;var b=v[e];var A=w.get("formatter");b.attr({z2:p?0:2,style:Sv(w,{x:M,y:I,text:FN(n,A),width:isNaN(T)?null:T,height:isNaN(C)?null:C,align:"center",verticalAlign:"middle"},{inheritColor:D})});Ov(b,{normal:w},n,function(t){return FN(t,A)});c&&Rv(b,e,o,t,{getFormattedLabel:function(t,e,r,i,a,o){return FN(o?o.interpolatedValue:n,A)}});d.add(b)}f.add(d)});this.group.add(f);this._titleEls=h;this._detailEls=v};e.type="gauge";return e}(Xy);var UN=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.visualStyleAccessPath="itemStyle";return r}e.prototype.getInitialData=function(t,e){return NA(this,["value"])};e.type="series.gauge";e.defaultOption={zlevel:0,z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:true,radius:"75%",startAngle:225,endAngle:-45,clockwise:true,min:0,max:100,splitNumber:10,axisLine:{show:true,roundCap:false,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:false,overlap:true,width:10,roundCap:false,clip:true},splitLine:{show:true,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:true,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:true,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:true,showAbove:true,length:"60%",width:6,keepAspect:false},anchor:{show:false,showAbove:false,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:false,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:true,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:false},detail:{show:true,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:false}};return e}(Oy);function YN(t){t.registerChartView(WN);t.registerSeriesModel(UN)}var XN=["itemStyle","opacity"];var ZN=function(t){r(e,t);function e(e,r){var i=t.call(this)||this;var a=i;var n=new uh;var o=new Fl;a.setTextContent(o);i.setTextGuideLine(n);i.updateData(e,r,true);return i}e.prototype.updateData=function(t,e,r){var i=this;var a=t.hostModel;var n=t.getItemModel(e);var o=t.getItemLayout(e);var s=n.getModel("emphasis");var l=n.get(XN);l=l==null?1:l;if(!r){Vh(i)}i.useStyle(t.getItemVisual(e,"style"));i.style.lineJoin="round";if(r){i.setShape({points:o.points});i.style.opacity=0;Rh(i,{style:{opacity:l}},a,e)}else{Oh(i,{style:{opacity:l},shape:{points:o.points}},a,e)}rf(i,n);this._updateLabel(t,e);Ju(this,s.get("focus"),s.get("blurScope"))};e.prototype._updateLabel=function(t,e){var r=this;var i=this.getTextGuideLine();var a=r.getTextContent();var n=t.hostModel;var o=t.getItemModel(e);var s=t.getItemLayout(e);var l=s.label;var u=t.getItemVisual(e,"style");var f=u.fill;bv(a,wv(o),{labelFetcher:t.hostModel,labelDataIndex:e,defaultOpacity:u.opacity,defaultText:t.getName(e)},{normal:{align:l.textAlign,verticalAlign:l.verticalAlign}});r.setTextConfig({local:true,inside:!!l.inside,insideStroke:f,outsideFill:f});var h=l.linePoints;i.setShape({points:h});r.textGuideLineConfig={anchor:h?new Ei(h[0][0],h[0][1]):null};Oh(a,{style:{x:l.x,y:l.y}},n,e);a.attr({rotation:l.rotation,originX:l.x,originY:l.y,z2:10});sT(r,lT(o),{stroke:f})};return e}(sh);var jN=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.ignoreLabelLineUpdate=true;return r}e.prototype.render=function(t,e,r){var i=t.getData();var a=this._data;var n=this.group;i.diff(a).add(function(t){var e=new ZN(i,t);i.setItemGraphicEl(t,e);n.add(e)}).update(function(t,e){var r=a.getItemGraphicEl(e);r.updateData(i,t);n.add(r);i.setItemGraphicEl(t,r)}).remove(function(e){var r=a.getItemGraphicEl(e);Bh(r,t,e)}).execute();this._data=i};e.prototype.remove=function(){this.group.removeAll();this._data=null};e.prototype.dispose=function(){};e.type="funnel";return e}(Xy);var qN=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(e){t.prototype.init.apply(this,arguments);this.legendVisualProvider=new EA(F(this.getData,this),F(this.getRawData,this));this._defaultLabelLine(e)};e.prototype.getInitialData=function(t,e){return NA(this,{coordDimensions:["value"],encodeDefaulter:H(zp,this)})};e.prototype._defaultLabelLine=function(t){mn(t,"labelLine",["show"]);var e=t.labelLine;var r=t.emphasis.labelLine;e.show=e.show&&t.label.show;r.show=r.show&&t.emphasis.label.show};e.prototype.getDataParams=function(e){var r=this.getData();var i=t.prototype.getDataParams.call(this,e);var a=r.mapDimension("value");var n=r.getSum(a);i.percent=!n?0:+(r.get(a,e)/n*100).toFixed(2);i.$vars.push("percent");return i};e.type="series.funnel";e.defaultOption={zlevel:0,z:2,legendHoverLink:true,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:true,position:"outer"},labelLine:{show:true,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:true}},select:{itemStyle:{borderColor:"#212121"}}};return e}(Oy);function KN(t,e){return hp(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function $N(t,e){var r=t.mapDimension("value");var i=t.mapArray(r,function(t){return t});var a=[];var n=e==="ascending";for(var o=0,s=t.count();o<s;o++){a[o]=o}if(typeof e==="function"){a.sort(e)}else if(e!=="none"){a.sort(function(t,e){return n?i[t]-i[e]:i[e]-i[t]})}return a}function JN(t){var e=t.hostModel;var r=e.get("orient");t.each(function(e){var i=t.getItemModel(e);var a=i.getModel("label");var n=a.get("position");var o=i.getModel("labelLine");var s=t.getItemLayout(e);var l=s.points;var u=n==="inner"||n==="inside"||n==="center"||n==="insideLeft"||n==="insideRight";var f;var h;var v;var c;if(u){if(n==="insideLeft"){h=(l[0][0]+l[3][0])/2+5;v=(l[0][1]+l[3][1])/2;f="left"}else if(n==="insideRight"){h=(l[1][0]+l[2][0])/2-5;v=(l[1][1]+l[2][1])/2;f="right"}else{h=(l[0][0]+l[1][0]+l[2][0]+l[3][0])/4;v=(l[0][1]+l[1][1]+l[2][1]+l[3][1])/4;f="center"}c=[[h,v],[h,v]]}else{var p=void 0;var d=void 0;var g=void 0;var y=void 0;var m=o.get("length");if("development"!=="production"){if(r==="vertical"&&["top","bottom"].indexOf(n)>-1){n="left";console.warn("Position error: Funnel chart on vertical orient dose not support top and bottom.")}if(r==="horizontal"&&["left","right"].indexOf(n)>-1){n="bottom";console.warn("Position error: Funnel chart on horizontal orient dose not support left and right.")}}if(n==="left"){p=(l[3][0]+l[0][0])/2;d=(l[3][1]+l[0][1])/2;g=p-m;h=g-5;f="right"}else if(n==="right"){p=(l[1][0]+l[2][0])/2;d=(l[1][1]+l[2][1])/2;g=p+m;h=g+5;f="left"}else if(n==="top"){p=(l[3][0]+l[0][0])/2;d=(l[3][1]+l[0][1])/2;y=d-m;v=y-5;f="center"}else if(n==="bottom"){p=(l[1][0]+l[2][0])/2;d=(l[1][1]+l[2][1])/2;y=d+m;v=y+5;f="center"}else if(n==="rightTop"){p=r==="horizontal"?l[3][0]:l[1][0];d=r==="horizontal"?l[3][1]:l[1][1];if(r==="horizontal"){y=d-m;v=y-5;f="center"}else{g=p+m;h=g+5;f="top"}}else if(n==="rightBottom"){p=l[2][0];d=l[2][1];if(r==="horizontal"){y=d+m;v=y+5;f="center"}else{g=p+m;h=g+5;f="bottom"}}else if(n==="leftTop"){p=l[0][0];d=r==="horizontal"?l[0][1]:l[1][1];if(r==="horizontal"){y=d-m;v=y-5;f="center"}else{g=p-m;h=g-5;f="right"}}else if(n==="leftBottom"){p=r==="horizontal"?l[1][0]:l[3][0];d=r==="horizontal"?l[1][1]:l[2][1];if(r==="horizontal"){y=d+m;v=y+5;f="center"}else{g=p-m;h=g-5;f="right"}}else{p=(l[1][0]+l[2][0])/2;d=(l[1][1]+l[2][1])/2;if(r==="horizontal"){y=d+m;v=y+5;f="center"}else{g=p+m;h=g+5;f="left"}}if(r==="horizontal"){g=p;h=g}else{y=d;v=y}c=[[p,d],[g,y]]}s.label={linePoints:c,x:h,y:v,verticalAlign:"middle",textAlign:f,inside:u}})}function QN(t,e){t.eachSeriesByType("funnel",function(t){var r=t.getData();var i=r.mapDimension("value");var a=t.get("sort");var n=KN(t,e);var o=t.get("orient");var s=n.width;var l=n.height;var u=$N(r,a);var f=n.x;var h=n.y;var v=o==="horizontal"?[Na(t.get("minSize"),l),Na(t.get("maxSize"),l)]:[Na(t.get("minSize"),s),Na(t.get("maxSize"),s)];var c=r.getDataExtent(i);var p=t.get("min");var d=t.get("max");if(p==null){p=Math.min(c[0],0)}if(d==null){d=c[1]}var g=t.get("funnelAlign");var y=t.get("gap");var m=o==="horizontal"?s:l;var x=(m-y*(r.count()-1))/r.count();var _=function(t,e){if(o==="horizontal"){var a=r.get(i,t)||0;var n=Ra(a,[p,d],v,true);var u=void 0;switch(g){case"top":u=h;break;case"center":u=h+(l-n)/2;break;case"bottom":u=h+(l-n);break}return[[e,u],[e,u+n]]}var c=r.get(i,t)||0;var y=Ra(c,[p,d],v,true);var m;switch(g){case"left":m=f;break;case"center":m=f+(s-y)/2;break;case"right":m=f+s-y;break}return[[m,e],[m+y,e]]};if(a==="ascending"){x=-x;y=-y;if(o==="horizontal"){f+=s}else{h+=l}u=u.reverse()}for(var b=0;b<u.length;b++){var w=u[b];var S=u[b+1];var M=r.getItemModel(w);if(o==="horizontal"){var I=M.get(["itemStyle","width"]);if(I==null){I=x}else{I=Na(I,s);if(a==="ascending"){I=-I}}var T=_(w,f);var C=_(S,f+I);f+=I+y;r.setItemLayout(w,{points:T.concat(C.slice().reverse())})}else{var D=M.get(["itemStyle","height"]);if(D==null){D=x}else{D=Na(D,l);if(a==="ascending"){D=-D}}var T=_(w,h);var C=_(S,h+D);h+=D+y;r.setItemLayout(w,{points:T.concat(C.slice().reverse())})}}JN(r)})}function tE(t){t.registerChartView(jN);t.registerSeriesModel(qN);t.registerLayout(QN);t.registerProcessor(TA("funnel"))}var eE=.3;var rE=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._dataGroup=new ya;r._initialized=false;return r}e.prototype.init=function(){this.group.add(this._dataGroup)};e.prototype.render=function(t,e,r,i){var a=this._dataGroup;var n=t.getData();var o=this._data;var s=t.coordinateSystem;var l=s.dimensions;var u=oE(t);n.diff(o).add(f).update(h).remove(v).execute();function f(t){var e=nE(n,a,t,l,s);sE(e,n,t,u)}function h(e,r){var i=o.getItemGraphicEl(r);var a=aE(n,e,l,s);n.setItemGraphicEl(e,i);Oh(i,{shape:{points:a}},t,e);Vh(i);sE(i,n,e,u)}function v(t){var e=o.getItemGraphicEl(t);a.remove(e)}if(!this._initialized){this._initialized=true;var c=iE(s,t,function(){setTimeout(function(){a.removeClipPath()})});a.setClipPath(c)}this._data=n};e.prototype.incrementalPrepareRender=function(t,e,r){this._initialized=true;this._data=null;this._dataGroup.removeAll()};e.prototype.incrementalRender=function(t,e,r){var i=e.getData();var a=e.coordinateSystem;var n=a.dimensions;var o=oE(e);for(var s=t.start;s<t.end;s++){var l=nE(i,this._dataGroup,s,n,a);l.incremental=true;sE(l,i,s,o)}};e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null};e.type="parallel";return e}(Xy);function iE(t,e,r){var i=t.model;var a=t.getRect();var n=new zl({shape:{x:a.x,y:a.y,width:a.width,height:a.height}});var o=i.get("layout")==="horizontal"?"width":"height";n.setShape(o,0);Rh(n,{shape:{width:a.width,height:a.height}},e,r);return n}function aE(t,e,r,i){var a=[];for(var n=0;n<r.length;n++){var o=r[n];var s=t.get(t.mapDimension(o),e);if(!lE(s,i.getAxis(o).type)){a.push(i.dataToPoint(s,o))}}return a}function nE(t,e,r,i,a){var n=aE(t,r,i,a);var o=new uh({shape:{points:n},z2:10});e.add(o);t.setItemGraphicEl(r,o);return o}function oE(t){var e=t.get("smooth",true);e===true&&(e=eE);e=Qa(e);et(e)&&(e=0);return{smooth:e}}function sE(t,e,r,i){t.useStyle(e.getItemVisual(r,"style"));t.style.fill=null;t.setShape("smooth",i.smooth);var a=e.getItemModel(r);var n=a.getModel("emphasis");rf(t,a,"lineStyle");Ju(t,n.get("focus"),n.get("blurScope"))}function lE(t,e){return e==="category"?t==null:t==null||isNaN(t)}var uE=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.visualStyleAccessPath="lineStyle";r.visualDrawType="stroke";return r}e.prototype.getInitialData=function(t,e){return VS(null,this,{useEncodeDefaulter:F(fE,null,this)})};e.prototype.getRawIndicesByActiveState=function(t){var e=this.coordinateSystem;var r=this.getData();var i=[];e.eachActiveState(r,function(e,a){if(t===e){i.push(r.getRawIndex(a))}});return i};e.type="series.parallel";e.dependencies=["parallel"];e.defaultOption={zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:false},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:false}},progressive:500,smooth:false,animationEasing:"linear"};return e}(Oy);function fE(t){var e=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(!e){return}var r={};R(e.dimensions,function(t){var e=hE(t);r[t]=e});return r}function hE(t){return+t.replace("dim","")}var vE=["lineStyle","opacity"];var cE={seriesType:"parallel",reset:function(t,e){var r=t.coordinateSystem;var i={normal:t.get(["lineStyle","opacity"]),active:t.get("activeOpacity"),inactive:t.get("inactiveOpacity")};return{progress:function(t,e){r.eachActiveState(e,function(t,r){var a=i[t];if(t==="normal"&&e.hasItemOption){var n=e.getItemModel(r).get(vE,true);n!=null&&(a=n)}var o=e.ensureUniqueItemVisual(r,"style");o.opacity=a},t.start,t.end)}}}};function pE(t){dE(t);gE(t)}function dE(t){if(t.parallel){return}var e=false;R(t.series,function(t){if(t&&t.type==="parallel"){e=true}});if(e){t.parallel=[{}]}}function gE(t){var e=yn(t.parallelAxis);R(e,function(e){if(!j(e)){return}var r=e.parallelIndex||0;var i=yn(t.parallel)[r];if(i&&i.parallelAxisDefault){I(e,i.parallelAxisDefault,false)}})}var yE=5;var mE=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){this._model=t;this._api=r;if(!this._handlers){this._handlers={};R(xE,function(t,e){r.getZr().on(e,this._handlers[e]=F(t,this))},this)}rm(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")};e.prototype.dispose=function(t,e){R(this._handlers,function(t,r){e.getZr().off(r,t)});this._handlers=null};e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)};e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(C({type:"parallelAxisExpand"},t))};e.type="parallel";return e}(Hy);var xE={mousedown:function(t){if(_E(this,"click")){this._mouseDownPoint=[t.offsetX,t.offsetY]}},mouseup:function(t){var e=this._mouseDownPoint;if(_E(this,"click")&&e){var r=[t.offsetX,t.offsetY];var i=Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2);if(i>yE){return}var a=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);a.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:a.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(this._mouseDownPoint||!_E(this,"mousemove")){return}var e=this._model;var r=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);var i=r.behavior;i==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce"));this._throttledDispatchExpand(i==="none"?null:{axisExpandWindow:r.axisExpandWindow,animation:i==="jump"?null:{duration:0}})}};function _E(t,e){var r=t._model;return r.get("axisExpandable")&&r.get("axisExpandTriggerOn")===e}var bE=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(){t.prototype.init.apply(this,arguments);this.mergeOption({})};e.prototype.mergeOption=function(t){var e=this.option;t&&I(e,t,true);this._initDimensions()};e.prototype.contains=function(t,e){var r=t.get("parallelIndex");return r!=null&&e.getComponent("parallel",r)===this};e.prototype.setAxisExpand=function(t){R(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(e){if(t.hasOwnProperty(e)){this.option[e]=t[e]}},this)};e.prototype._initDimensions=function(){var t=this.dimensions=[];var e=this.parallelAxisIndex=[];var r=z(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(t){return(t.get("parallelIndex")||0)===this.componentIndex},this);R(r,function(r){t.push("dim"+r.get("dim"));e.push(r.componentIndex)})};e.type="parallel";e.dependencies=["parallelAxis"];e.layoutMode="box";e.defaultOption={zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:false,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null};return e}(xp);var wE=function(t){r(e,t);function e(e,r,i,a,n){var o=t.call(this,e,r,i)||this;o.type=a||"value";o.axisIndex=n;return o}e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"};return e}(PI);function SE(t,e,r,i,a,n){t=t||0;var o=r[1]-r[0];if(a!=null){a=IE(a,[0,o])}if(n!=null){n=Math.max(n,a!=null?a:0)}if(i==="all"){var s=Math.abs(e[1]-e[0]);s=IE(s,[0,o]);a=n=IE(s,[a,n]);i=0}e[0]=IE(e[0],r);e[1]=IE(e[1],r);var l=ME(e,i);e[i]+=t;var u=a||0;var f=r.slice();l.sign<0?f[0]+=u:f[1]-=u;e[i]=IE(e[i],f);var h;h=ME(e,i);if(a!=null&&(h.sign!==l.sign||h.span<a)){e[1-i]=e[i]+l.sign*a}h=ME(e,i);if(n!=null&&h.span>n){e[1-i]=e[i]+h.sign*n}return e}function ME(t,e){var r=t[e]-t[1-e];return{span:Math.abs(r),sign:r>0?-1:r<0?1:e?-1:1}}function IE(t,e){return Math.min(e[1]!=null?e[1]:Infinity,Math.max(e[0]!=null?e[0]:-Infinity,t))}var TE=R;var CE=Math.min;var DE=Math.max;var AE=Math.floor;var kE=Math.ceil;var LE=Ea;var PE=Math.PI;var OE=function(){function t(t,e,r){this.type="parallel";this._axesMap=ct();this._axesLayout={};this.dimensions=t.dimensions;this._model=t;this._init(t,e,r)}t.prototype._init=function(t,e,r){var i=t.dimensions;var a=t.parallelAxisIndex;TE(i,function(t,r){var i=a[r];var n=e.getComponent("parallelAxis",i);var o=this._axesMap.set(t,new wE(t,jM(n),[0,0],n.get("type"),i));var s=o.type==="category";o.onBand=s&&n.get("boundaryGap");o.inverse=n.get("inverse");n.axis=o;o.model=n;o.coordinateSystem=n.coordinateSystem=this},this)};t.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)};t.prototype.containPoint=function(t){var e=this._makeLayoutInfo();var r=e.axisBase;var i=e.layoutBase;var a=e.pixelDimIndex;var n=t[1-a];var o=t[a];return n>=r&&n<=r+e.axisLength&&o>=i&&o<=i+e.layoutLength};t.prototype.getModel=function(){return this._model};t.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(r){if(!t.contains(r,e)){return}var i=r.getData();TE(this.dimensions,function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(i,i.mapDimension(t));ZM(e.scale,e.model)},this)},this)};t.prototype.resize=function(t,e){this._rect=hp(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._layoutAxes()};t.prototype.getRect=function(){return this._rect};t.prototype._makeLayoutInfo=function(){var t=this._model;var e=this._rect;var r=["x","y"];var i=["width","height"];var a=t.get("layout");var n=a==="horizontal"?0:1;var o=e[i[n]];var s=[0,o];var l=this.dimensions.length;var u=RE(t.get("axisExpandWidth"),s);var f=RE(t.get("axisExpandCount")||0,[0,l]);var h=t.get("axisExpandable")&&l>3&&l>f&&f>1&&u>0&&o>0;var v=t.get("axisExpandWindow");var c;if(!v){c=RE(u*(f-1),s);var p=t.get("axisExpandCenter")||AE(l/2);v=[u*p-c/2];v[1]=v[0]+c}else{c=RE(v[1]-v[0],s);v[1]=v[0]+c}var d=(o-c)/(l-f);d<3&&(d=0);var g=[AE(LE(v[0]/u,1))+1,kE(LE(v[1]/u,1))-1];var y=d/u*v[0];return{layout:a,pixelDimIndex:n,layoutBase:e[r[n]],layoutLength:o,axisBase:e[r[1-n]],axisLength:e[i[1-n]],axisExpandable:h,axisExpandWidth:u,axisCollapseWidth:d,axisExpandWindow:v,axisCount:l,winInnerIndices:g,axisExpandWindow0Pos:y}};t.prototype._layoutAxes=function(){var t=this._rect;var e=this._axesMap;var r=this.dimensions;var i=this._makeLayoutInfo();var a=i.layout;e.each(function(t){var e=[0,i.axisLength];var r=t.inverse?1:0;t.setExtent(e[r],e[1-r])});TE(r,function(e,r){var n=(i.axisExpandable?EE:NE)(r,i);var o={horizontal:{x:n.position,y:i.axisLength},vertical:{x:0,y:n.position}};var s={horizontal:PE/2,vertical:0};var l=[o[a].x+t.x,o[a].y+t.y];var u=s[a];var f=yi();wi(f,f,u);bi(f,f,l);this._axesLayout[e]={position:l,rotation:u,transform:f,axisNameAvailableWidth:n.axisNameAvailableWidth,axisLabelShow:n.axisLabelShow,nameTruncateMaxWidth:n.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)};t.prototype.getAxis=function(t){return this._axesMap.get(t)};t.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)};t.prototype.eachActiveState=function(t,e,r,i){r==null&&(r=0);i==null&&(i=t.count());var a=this._axesMap;var n=this.dimensions;var o=[];var s=[];R(n,function(e){o.push(t.mapDimension(e));s.push(a.get(e).model)});var l=this.hasAxisBrushed();for(var u=r;u<i;u++){var f=void 0;if(!l){f="normal"}else{f="active";var h=t.getValues(o,u);for(var v=0,c=n.length;v<c;v++){var p=s[v].getActiveState(h[v]);if(p==="inactive"){f="inactive";break}}}e(f,u)}};t.prototype.hasAxisBrushed=function(){var t=this.dimensions;var e=this._axesMap;var r=false;for(var i=0,a=t.length;i<a;i++){if(e.get(t[i]).model.getActiveState()!=="normal"){r=true}}return r};t.prototype.axisCoordToPoint=function(t,e){var r=this._axesLayout[e];return av([t,0],r.transform)};t.prototype.getAxisLayout=function(t){return M(this._axesLayout[t])};t.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo();var r=e.pixelDimIndex;var i=e.axisExpandWindow.slice();var a=i[1]-i[0];var n=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t)){return{behavior:"none",axisExpandWindow:i}}var o=t[r]-e.layoutBase-e.axisExpandWindow0Pos;var s;var l="slide";var u=e.axisCollapseWidth;var f=this._model.get("axisExpandSlideTriggerArea");var h=f[0]!=null;if(u){if(h&&u&&o<a*f[0]){l="jump";s=o-a*f[2]}else if(h&&u&&o>a*(1-f[0])){l="jump";s=o-a*(1-f[2])}else{(s=o-a*f[1])>=0&&(s=o-a*(1-f[1]))<=0&&(s=0)}s*=e.axisExpandWidth/u;s?SE(s,i,n,"all"):l="none"}else{var v=i[1]-i[0];var c=n[1]*o/v;i=[DE(0,c-v/2)];i[1]=CE(n[1],i[0]+v);i[0]=i[1]-v}return{axisExpandWindow:i,behavior:l}};return t}();function RE(t,e){return CE(DE(t,e[0]),e[1])}function NE(t,e){var r=e.layoutLength/(e.axisCount-1);return{position:r*t,axisNameAvailableWidth:r,axisLabelShow:true}}function EE(t,e){var r=e.layoutLength;var i=e.axisExpandWidth;var a=e.axisCount;var n=e.axisCollapseWidth;var o=e.winInnerIndices;var s;var l=n;var u=false;var f;if(t<o[0]){s=t*n;f=n}else if(t<=o[1]){s=e.axisExpandWindow0Pos+t*i-e.axisExpandWindow[0];l=i;u=true}else{s=r-(a-1-t)*n;f=n}return{position:s,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:f}}function zE(t,e){var r=[];t.eachComponent("parallel",function(i,a){var n=new OE(i,t,e);n.name="parallel_"+a;n.resize(i,e);i.coordinateSystem=n;n.model=i;r.push(n)});t.eachSeries(function(t){if(t.get("coordinateSystem")==="parallel"){var e=t.getReferringComponents("parallel",Yn).models[0];t.coordinateSystem=e.coordinateSystem}});return r}var BE={create:zE};var VE=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.activeIntervals=[];return r}e.prototype.getAreaSelectStyle=function(){return co([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))};e.prototype.setActiveIntervals=function(t){var e=this.activeIntervals=M(t);if(e){for(var r=e.length-1;r>=0;r--){za(e[r])}}};e.prototype.getActiveState=function(t){var e=this.activeIntervals;if(!e.length){return"normal"}if(t==null||isNaN(+t)){return"inactive"}if(e.length===1){var r=e[0];if(r[0]<=t&&t<=r[1]){return"active"}}else{for(var i=0,a=e.length;i<a;i++){if(e[i][0]<=t&&t<=e[i][1]){return"active"}}}return"inactive"};return e}(xp);P(VE,aI);var GE=true;var FE=Math.min;var HE=Math.max;var WE=Math.pow;var UE=1e4;var YE=6;var XE=6;var ZE="globalPan";var jE={w:[0,0],e:[0,1],n:[1,0],s:[1,1]};var qE={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"};var KE={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:true,brushMode:"single",removeOnClick:false};var $E=0;var JE=function(t){r(e,t);function e(e){var r=t.call(this)||this;r._track=[];r._covers=[];r._handlers={};if("development"!=="production"){st(e)}r._zr=e;r.group=new ya;r._uid="brushController_"+$E++;R(kz,function(t,e){this._handlers[e]=F(t,this)},r);return r}e.prototype.enableBrush=function(t){if("development"!=="production"){st(this._mounted)}this._brushType&&this._doDisableBrush();t.brushType&&this._doEnableBrush(t);return this};e.prototype._doEnableBrush=function(t){var e=this._zr;if(!this._enableGlobalPan){gL(e,ZE,this._uid)}R(this._handlers,function(t,r){e.on(r,t)});this._brushType=t.brushType;this._brushOption=I(M(KE),t,true)};e.prototype._doDisableBrush=function(){var t=this._zr;yL(t,ZE,this._uid);R(this._handlers,function(e,r){t.off(r,e)});this._brushType=this._brushOption=null};e.prototype.setPanels=function(t){if(t&&t.length){var e=this._panels={};R(t,function(t){e[t.panelId]=M(t)})}else{this._panels=null}return this};e.prototype.mount=function(t){t=t||{};if("development"!=="production"){this._mounted=true}this._enableGlobalPan=t.enableGlobalPan;var e=this.group;this._zr.add(e);e.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1});this._transform=e.getLocalTransform();return this};e.prototype.updateCovers=function(t){if("development"!=="production"){st(this._mounted)}t=N(t,function(t){return I(M(KE),t,true)});var e="\0-brush-index-";var r=this._covers;var i=this._covers=[];var a=this;var n=this._creatingCover;new qw(r,t,s,o).add(l).update(l).remove(u).execute();return this;function o(t,r){return(t.id!=null?t.id:e+r)+"-"+t.brushType}function s(t,e){return o(t.__brushOption,e)}function l(e,o){var s=t[e];if(o!=null&&r[o]===n){i[e]=r[o]}else{var l=i[e]=o!=null?(r[o].__brushOption=s,r[o]):tz(a,QE(a,s));iz(a,l)}}function u(t){if(r[t]!==n){a.group.remove(r[t])}}};e.prototype.unmount=function(){if("development"!=="production"){if(!this._mounted){return}}this.enableBrush(false);sz(this);this._zr.remove(this.group);if("development"!=="production"){this._mounted=false}return this};e.prototype.dispose=function(){this.unmount();this.off()};return e}(Zt);function QE(t,e){var r=Oz[e.brushType].createCover(t,e);r.__brushOption=e;rz(r,e);t.group.add(r);return r}function tz(t,e){var r=az(e);if(r.endCreating){r.endCreating(t,e);rz(e,e.__brushOption)}return e}function ez(t,e){var r=e.__brushOption;az(e).updateCoverShape(t,e,r.range,r)}function rz(t,e){var r=e.z;r==null&&(r=UE);t.traverse(function(t){t.z=r;t.z2=r})}function iz(t,e){az(e).updateCommon(t,e);ez(t,e)}function az(t){return Oz[t.__brushOption.brushType]}function nz(t,e,r){var i=t._panels;if(!i){return GE}var a;var n=t._transform;R(i,function(t){t.isTargetByCursor(e,r,n)&&(a=t)});return a}function oz(t,e){var r=t._panels;if(!r){return GE}var i=e.__brushOption.panelId;return i!=null?r[i]:GE}function sz(t){var e=t._covers;var r=e.length;R(e,function(e){t.group.remove(e)},t);e.length=0;return!!r}function lz(t,e){var r=N(t._covers,function(t){var e=t.__brushOption;var r=M(e.range);return{brushType:e.brushType,panelId:e.panelId,range:r}});t.trigger("brush",{areas:r,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function uz(t){var e=t._track;if(!e.length){return false}var r=e[e.length-1];var i=e[0];var a=r[0]-i[0];var n=r[1]-i[1];var o=WE(a*a+n*n,.5);return o>YE}function fz(t){var e=t.length-1;e<0&&(e=0);return[t[0],t[e]]}function hz(t,e,r,i){var a=new ya;a.add(new zl({name:"main",style:dz(r),silent:true,draggable:true,cursor:"move",drift:H(_z,t,e,a,["n","s","w","e"]),ondragend:H(lz,e,{isEnd:true})}));R(i,function(r){a.add(new zl({name:r.join(""),style:{opacity:0},draggable:true,silent:true,invisible:true,drift:H(_z,t,e,a,r),ondragend:H(lz,e,{isEnd:true})}))});return a}function vz(t,e,r,i){var a=i.brushStyle.lineWidth||0;var n=HE(a,XE);var o=r[0][0];var s=r[1][0];var l=o-a/2;var u=s-a/2;var f=r[0][1];var h=r[1][1];var v=f-n+a/2;var c=h-n+a/2;var p=f-o;var d=h-s;var g=p+a;var y=d+a;pz(t,e,"main",o,s,p,d);if(i.transformable){pz(t,e,"w",l,u,n,y);pz(t,e,"e",v,u,n,y);pz(t,e,"n",l,u,g,n);pz(t,e,"s",l,c,g,n);pz(t,e,"nw",l,u,n,n);pz(t,e,"ne",v,u,n,n);pz(t,e,"sw",l,c,n,n);pz(t,e,"se",v,c,n,n)}}function cz(t,e){var r=e.__brushOption;var i=r.transformable;var a=e.childAt(0);a.useStyle(dz(r));a.attr({silent:!i,cursor:i?"move":"default"});R([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(r){var a=e.childOfName(r.join(""));var n=r.length===1?mz(t,r[0]):xz(t,r);a&&a.attr({silent:!i,invisible:!i,cursor:i?qE[n]+"-resize":null})})}function pz(t,e,r,i,a,n,o){var s=e.childOfName(r);s&&s.setShape(Mz(Sz(t,e,[[i,a],[i+n,a+o]])))}function dz(t){return D({strokeNoScale:true},t.brushStyle)}function gz(t,e,r,i){var a=[FE(t,r),FE(e,i)];var n=[HE(t,r),HE(e,i)];return[[a[0],n[0]],[a[1],n[1]]]}function yz(t){return iv(t.group)}function mz(t,e){var r={w:"left",e:"right",n:"top",s:"bottom"};var i={left:"w",right:"e",top:"n",bottom:"s"};var a=nv(r[e],yz(t));return i[a]}function xz(t,e){var r=[mz(t,e[0]),mz(t,e[1])];(r[0]==="e"||r[0]==="w")&&r.reverse();return r.join("")}function _z(t,e,r,i,a,n){var o=r.__brushOption;var s=t.toRectRange(o.range);var l=wz(e,a,n);R(i,function(t){var e=jE[t];s[e[0]][e[1]]+=l[e[0]]});o.range=t.fromRectRange(gz(s[0][0],s[1][0],s[0][1],s[1][1]));iz(e,r);lz(e,{isEnd:false})}function bz(t,e,r,i){var a=e.__brushOption.range;var n=wz(t,r,i);R(a,function(t){t[0]+=n[0];t[1]+=n[1]});iz(t,e);lz(t,{isEnd:false})}function wz(t,e,r){var i=t.group;var a=i.transformCoordToLocal(e,r);var n=i.transformCoordToLocal(0,0);return[a[0]-n[0],a[1]-n[1]]}function Sz(t,e,r){var i=oz(t,e);return i&&i!==GE?i.clipPath(r,t._transform):M(r)}function Mz(t){var e=FE(t[0][0],t[1][0]);var r=FE(t[0][1],t[1][1]);var i=HE(t[0][0],t[1][0]);var a=HE(t[0][1],t[1][1]);return{x:e,y:r,width:i-e,height:a-r}}function Iz(t,e,r){if(!t._brushType||Pz(t,e.offsetX,e.offsetY)){return}var i=t._zr;var a=t._covers;var n=nz(t,e,r);if(!t._dragging){for(var o=0;o<a.length;o++){var s=a[o].__brushOption;if(n&&(n===GE||s.panelId===n.panelId)&&Oz[s.brushType].contain(a[o],r[0],r[1])){return}}}n&&i.setCursorStyle("crosshair")}function Tz(t){var e=t.event;e.preventDefault&&e.preventDefault()}function Cz(t,e,r){return t.childOfName("main").contain(e,r)}function Dz(t,e,r,i){var a=t._creatingCover;var n=t._creatingPanel;var o=t._brushOption;var s;t._track.push(r.slice());if(uz(t)||a){if(n&&!a){o.brushMode==="single"&&sz(t);var l=M(o);l.brushType=Az(l.brushType,n);l.panelId=n===GE?null:n.panelId;a=t._creatingCover=QE(t,l);t._covers.push(a)}if(a){var u=Oz[Az(t._brushType,n)];var f=a.__brushOption;f.range=u.getCreatingRange(Sz(t,a,t._track));if(i){tz(t,a);u.updateCommon(t,a)}ez(t,a);s={isEnd:i}}}else if(i&&o.brushMode==="single"&&o.removeOnClick){if(nz(t,e,r)&&sz(t)){s={isEnd:i,removeOnClick:true}}}return s}function Az(t,e){if(t==="auto"){if("development"!=="production"){st(e&&e.defaultBrushType,'MUST have defaultBrushType when brushType is "atuo"')}return e.defaultBrushType}return t}var kz={mousedown:function(t){if(this._dragging){Lz(this,t)}else if(!t.target||!t.target.draggable){Tz(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null;var r=this._creatingPanel=nz(this,t,e);if(r){this._dragging=true;this._track=[e.slice()]}}},mousemove:function(t){var e=t.offsetX;var r=t.offsetY;var i=this.group.transformCoordToLocal(e,r);Iz(this,t,i);if(this._dragging){Tz(t);var a=Dz(this,t,i,false);a&&lz(this,a)}},mouseup:function(t){Lz(this,t)}};function Lz(t,e){if(t._dragging){Tz(e);var r=e.offsetX;var i=e.offsetY;var a=t.group.transformCoordToLocal(r,i);var n=Dz(t,e,a,true);t._dragging=false;t._track=[];t._creatingCover=null;n&&lz(t,n)}}function Pz(t,e,r){var i=t._zr;return e<0||e>i.getWidth()||r<0||r>i.getHeight()}var Oz={lineX:Rz(0),lineY:Rz(1),rect:{createCover:function(t,e){function r(t){return t}return hz({toRectRange:r,fromRectRange:r},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=fz(t);return gz(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,r,i){vz(t,e,r,i)},updateCommon:cz,contain:Cz},polygon:{createCover:function(t,e){var r=new ya;r.add(new uh({name:"main",style:dz(e),silent:true}));return r},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0));e.add(new sh({name:"main",draggable:true,drift:H(bz,t,e),ondragend:H(lz,t,{isEnd:true})}))},updateCoverShape:function(t,e,r,i){e.childAt(0).setShape({points:Sz(t,e,r)})},updateCommon:cz,contain:Cz}};function Rz(t){return{createCover:function(e,r){return hz({toRectRange:function(e){var r=[e,[0,100]];t&&r.reverse();return r},fromRectRange:function(e){return e[t]}},e,r,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var r=fz(e);var i=FE(r[0][t],r[1][t]);var a=HE(r[0][t],r[1][t]);return[i,a]},updateCoverShape:function(e,r,i,a){var n;var o=oz(e,r);if(o!==GE&&o.getLinearBrushOtherExtent){n=o.getLinearBrushOtherExtent(t)}else{var s=e._zr;n=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[i,n];t&&l.reverse();vz(e,r,l,a)},updateCommon:cz,contain:Cz}}function Nz(t){t=Bz(t);return function(e){return uv(e,t)}}function Ez(t,e){t=Bz(t);return function(r){var i=e!=null?e:r;var a=i?t.width:t.height;var n=i?t.x:t.y;return[n,n+(a||0)]}}function zz(t,e,r){var i=Bz(t);return function(t,a){return i.contain(a[0],a[1])&&!CL(t,e,r)}}function Bz(t){return Yi.create(t)}var Vz=["axisLine","axisTickLabel","axisName"];var Gz=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(e,r){t.prototype.init.apply(this,arguments);(this._brushController=new JE(r.getZr())).on("brush",F(this._onBrush,this))};e.prototype.render=function(t,e,r,i){if(Fz(t,e,i)){return}this.axisModel=t;this.api=r;this.group.removeAll();var a=this._axisGroup;this._axisGroup=new ya;this.group.add(this._axisGroup);if(!t.get("show")){return}var n=Wz(t,e);var o=n.coordinateSystem;var s=t.getAreaSelectStyle();var l=s.width;var u=t.axis.dim;var f=o.getAxisLayout(u);var h=C({strokeContainThreshold:l},f);var v=new yk(t,h);R(Vz,v.add,v);this._axisGroup.add(v.getGroup());this._refreshBrushController(h,s,t,n,l,r);lv(a,this._axisGroup,t)};e.prototype._refreshBrushController=function(t,e,r,i,a,n){var o=r.axis.getExtent();var s=o[1]-o[0];var l=Math.min(30,Math.abs(s)*.1);var u=Yi.create({x:o[0],y:-a/2,width:s,height:a});u.x-=l;u.width+=2*l;this._brushController.mount({enableGlobalPan:true,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:Nz(u),isTargetByCursor:zz(u,n,i),getLinearBrushOtherExtent:Ez(u,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:true}).updateCovers(Hz(r))};e.prototype._onBrush=function(t){var e=t.areas;var r=this.axisModel;var i=r.axis;var a=N(e,function(t){return[i.coordToData(t.range[0],true),i.coordToData(t.range[1],true)]});if(!r.option.realtime===t.isEnd||t.removeOnClick){this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:r.id,intervals:a})}};e.prototype.dispose=function(){this._brushController.dispose()};e.type="parallelAxis";return e}(Hy);function Fz(t,e,r){return r&&r.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:r})[0]===t}function Hz(t){var e=t.axis;return N(t.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],true),e.dataToCoord(t[1],true)]}})}function Wz(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}var Uz={type:"axisAreaSelect",event:"axisAreaSelected"};function Yz(t){t.registerAction(Uz,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(e){e.axis.model.setActiveIntervals(t.intervals)})});t.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(e){e.setAxisExpand(t)})})}var Xz={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:true,z:10};function Zz(t){t.registerComponentView(mE);t.registerComponentModel(bE);t.registerCoordinateSystem("parallel",BE);t.registerPreprocessor(pE);t.registerComponentModel(VE);t.registerComponentView(Gz);ek(t,"parallel",VE,Xz);Yz(t)}function jz(t){Xw(Zz);t.registerChartView(rE);t.registerSeriesModel(uE);t.registerVisual(t.PRIORITY.VISUAL.BRUSH,cE)}var qz=function(){function t(){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.cpx1=0;this.cpy1=0;this.cpx2=0;this.cpy2=0;this.extent=0}return t}();var Kz=function(t){r(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new qz};e.prototype.buildPath=function(t,e){var r=e.extent;t.moveTo(e.x1,e.y1);t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2);if(e.orient==="vertical"){t.lineTo(e.x2+r,e.y2);t.bezierCurveTo(e.cpx2+r,e.cpy2,e.cpx1+r,e.cpy1,e.x1+r,e.y1)}else{t.lineTo(e.x2,e.y2+r);t.bezierCurveTo(e.cpx2,e.cpy2+r,e.cpx1,e.cpy1+r,e.x1,e.y1+r)}t.closePath()};e.prototype.highlight=function(){Nu(this)};e.prototype.downplay=function(){Eu(this)};return e}(Sl);var $z=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._focusAdjacencyDisabled=false;return r}e.prototype.render=function(t,e,r){var i=this;var a=t.getGraph();var n=this.group;var o=t.layoutInfo;var s=o.width;var l=o.height;var u=t.getData();var f=t.getData("edge");var h=t.get("orient");this._model=t;n.removeAll();n.x=o.x;n.y=o.y;a.eachEdge(function(e){var r=new Kz;var i=$l(r);i.dataIndex=e.dataIndex;i.seriesIndex=t.seriesIndex;i.dataType="edge";var a=e.getModel();var o=a.getModel("lineStyle");var u=o.get("curveness");var v=e.node1.getLayout();var c=e.node1.getModel();var p=c.get("localX");var d=c.get("localY");var g=e.node2.getLayout();var y=e.node2.getModel();var m=y.get("localX");var x=y.get("localY");var _=e.getLayout();var b;var w;var S;var M;var I;var T;var C;var D;r.shape.extent=Math.max(1,_.dy);r.shape.orient=h;if(h==="vertical"){b=(p!=null?p*s:v.x)+_.sy;w=(d!=null?d*l:v.y)+v.dy;S=(m!=null?m*s:g.x)+_.ty;M=x!=null?x*l:g.y;I=b;T=w*(1-u)+M*u;C=S;D=w*u+M*(1-u)}else{b=(p!=null?p*s:v.x)+v.dx;w=(d!=null?d*l:v.y)+_.sy;S=m!=null?m*s:g.x;M=(x!=null?x*l:g.y)+_.ty;I=b*(1-u)+S*u;T=w;C=b*u+S*(1-u);D=M}r.setShape({x1:b,y1:w,x2:S,y2:M,cpx1:I,cpy1:T,cpx2:C,cpy2:D});r.useStyle(o.getItemStyle());switch(r.style.fill){case"source":r.style.fill=e.node1.getVisual("color");r.style.decal=e.node1.getVisual("style").decal;break;case"target":r.style.fill=e.node2.getVisual("color");r.style.decal=e.node2.getVisual("style").decal;break;case"gradient":var A=e.node1.getVisual("color");var k=e.node2.getVisual("color");if(typeof A==="string"&&typeof k==="string"){r.style.fill=new bh(0,0,+(h==="horizontal"),+(h==="vertical"),[{color:A,offset:0},{color:k,offset:1}])}}var L=a.getModel("emphasis");rf(r,a,"lineStyle",function(t){return t.getItemStyle()});n.add(r);f.setItemGraphicEl(e.dataIndex,r);var P=L.get("focus");Ju(r,P==="adjacency"?e.getAdjacentDataIndices():P,L.get("blurScope"));$l(r).dataType="edge"});a.eachNode(function(e){var r=e.getLayout();var i=e.getModel();var a=i.get("localX");var o=i.get("localY");var f=i.getModel("emphasis");var h=new zl({shape:{x:a!=null?a*s:r.x,y:o!=null?o*l:r.y,width:r.dx,height:r.dy},style:i.getModel("itemStyle").getItemStyle(),z2:10});bv(h,wv(i),{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:e.id});h.disableLabelAnimation=true;h.setStyle("fill",e.getVisual("color"));h.setStyle("decal",e.getVisual("style").decal);rf(h,i);n.add(h);u.setItemGraphicEl(e.dataIndex,h);$l(h).dataType="node";var v=f.get("focus");Ju(h,v==="adjacency"?e.getAdjacentDataIndices():v,f.get("blurScope"))});u.eachItemGraphicEl(function(e,a){var n=u.getItemModel(a);if(n.get("draggable")){e.drift=function(e,n){i._focusAdjacencyDisabled=true;this.shape.x+=e;this.shape.y+=n;this.dirty();r.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:u.getRawIndex(a),localX:this.shape.x/s,localY:this.shape.y/l})};e.ondragend=function(){i._focusAdjacencyDisabled=false};e.draggable=true;e.cursor="move"}});if(!this._data&&t.isAnimationEnabled()){n.setClipPath(Jz(n.getBoundingRect(),t,function(){n.removeClipPath()}))}this._data=t.getData()};e.prototype.dispose=function(){};e.type="sankey";return e}(Xy);function Jz(t,e,r){var i=new zl({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});Rh(i,{shape:{width:t.width+20}},e,r);return i}var Qz=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.getInitialData=function(t,e){var r=t.edges||t.links;var i=t.data||t.nodes;var a=t.levels;this.levelModels=[];var n=this.levelModels;for(var o=0;o<a.length;o++){if(a[o].depth!=null&&a[o].depth>=0){n[a[o].depth]=new Uv(a[o],this,e)}else{if("development"!=="production"){throw new Error("levels[i].depth is mandatory and should be natural number")}}}if(i&&r){var s=RN(i,r,this,true,l);return s.data}function l(t,e){t.wrapMethod("getItemModel",function(t,e){var r=t.parentModel;var i=r.getData().getItemLayout(e);if(i){var a=i.depth;var n=r.levelModels[a];if(n){t.parentModel=n}}return t});e.wrapMethod("getItemModel",function(t,e){var r=t.parentModel;var i=r.getGraph().getEdgeByIndex(e);var a=i.node1.getLayout();if(a){var n=a.depth;var o=r.levelModels[n];if(o){t.parentModel=o}}return t})}};e.prototype.setNodePosition=function(t,e){var r=this.option.data||this.option.nodes;var i=r[t];i.localX=e[0];i.localY=e[1]};e.prototype.getGraph=function(){return this.getData().graph};e.prototype.getEdgeData=function(){return this.getGraph().edgeData};e.prototype.formatTooltip=function(t,e,r){function i(t){return isNaN(t)||t==null}if(r==="edge"){var a=this.getDataParams(t,r);var n=a.data;var o=a.value;var s=n.source+" -- "+n.target;return py("nameValue",{name:s,value:o,noValue:i(o)})}else{var l=this.getGraph().getNodeByIndex(t);var u=l.getLayout().value;var f=this.getDataParams(t,r).data.name;return py("nameValue",{name:f!=null?f+"":null,value:u,noValue:i(u)})}};e.prototype.optionUpdated=function(){};e.prototype.getDataParams=function(e,r){var i=t.prototype.getDataParams.call(this,e,r);if(i.value==null&&r==="node"){var a=this.getGraph().getNodeByIndex(e);var n=a.getLayout().value;i.value=n}return i};e.type="series.sankey";e.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:true,layoutIterations:32,label:{show:true,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:true},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3};return e}(Oy);function tB(t,e){t.eachSeriesByType("sankey",function(t){var r=t.get("nodeWidth");var i=t.get("nodeGap");var a=eB(t,e);t.layoutInfo=a;var n=a.width;var o=a.height;var s=t.getGraph();var l=s.nodes;var u=s.edges;iB(l);var f=z(l,function(t){return t.getLayout().value===0});var h=f.length!==0?0:t.get("layoutIterations");var v=t.get("orient");var c=t.get("nodeAlign");rB(l,u,r,i,n,o,h,v,c)})}function eB(t,e){return hp(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function rB(t,e,r,i,a,n,o,s,l){aB(t,e,r,a,n,s,l);uB(t,e,n,a,i,o,s);wB(t,s)}function iB(t){R(t,function(t){var e=_B(t.outEdges,xB);var r=_B(t.inEdges,xB);var i=t.getValue()||0;var a=Math.max(e,r,i);t.setLayout({value:a},true)})}function aB(t,e,r,i,a,n,o){var s=[];var l=[];var u=[];var f=[];var h=0;for(var v=0;v<e.length;v++){s[v]=1}for(var v=0;v<t.length;v++){l[v]=t[v].inEdges.length;if(l[v]===0){u.push(t[v])}}var c=-1;while(u.length){for(var p=0;p<u.length;p++){var d=u[p];var g=d.hostGraph.data.getRawDataItem(d.dataIndex);var y=g.depth!=null&&g.depth>=0;if(y&&g.depth>c){c=g.depth}d.setLayout({depth:y?g.depth:h},true);n==="vertical"?d.setLayout({dy:r},true):d.setLayout({dx:r},true);for(var m=0;m<d.outEdges.length;m++){var x=d.outEdges[m];var _=e.indexOf(x);s[_]=0;var b=x.node2;var w=t.indexOf(b);if(--l[w]===0&&f.indexOf(b)<0){f.push(b)}}}++h;u=f;f=[]}for(var v=0;v<s.length;v++){if(s[v]===1){throw new Error("Sankey is a DAG, the original data has cycle!")}}var S=c>h-1?c:h-1;if(o&&o!=="left"){oB(t,o,n,S)}var M=n==="vertical"?(a-r)/S:(i-r)/S;lB(t,M,n)}function nB(t){var e=t.hostGraph.data.getRawDataItem(t.dataIndex);return e.depth!=null&&e.depth>=0}function oB(t,e,r,i){if(e==="right"){var a=[];var n=t;var o=0;while(n.length){for(var s=0;s<n.length;s++){var l=n[s];l.setLayout({skNodeHeight:o},true);for(var u=0;u<l.inEdges.length;u++){var f=l.inEdges[u];if(a.indexOf(f.node1)<0){a.push(f.node1)}}}n=a;a=[];++o}R(t,function(t){if(!nB(t)){t.setLayout({depth:Math.max(0,i-t.getLayout().skNodeHeight)},true)}})}else if(e==="justify"){sB(t,i)}}function sB(t,e){R(t,function(t){if(!nB(t)&&!t.outEdges.length){t.setLayout({depth:e},true)}})}function lB(t,e,r){R(t,function(t){var i=t.getLayout().depth*e;r==="vertical"?t.setLayout({y:i},true):t.setLayout({x:i},true)})}function uB(t,e,r,i,a,n,o){var s=fB(t,o);hB(s,e,r,i,a,o);vB(s,a,r,i,o);for(var l=1;n>0;n--){l*=.99;cB(s,l,o);vB(s,a,r,i,o);bB(s,l,o);vB(s,a,r,i,o)}}function fB(t,e){var r=[];var i=e==="vertical"?"y":"x";var a=$n(t,function(t){return t.getLayout()[i]});a.keys.sort(function(t,e){return t-e});R(a.keys,function(t){r.push(a.buckets.get(t))});return r}function hB(t,e,r,i,a,n){var o=Infinity;R(t,function(t){var e=t.length;var s=0;R(t,function(t){s+=t.getLayout().value});var l=n==="vertical"?(i-(e-1)*a)/s:(r-(e-1)*a)/s;if(l<o){o=l}});R(t,function(t){R(t,function(t,e){var r=t.getLayout().value*o;if(n==="vertical"){t.setLayout({x:e},true);t.setLayout({dx:r},true)}else{t.setLayout({y:e},true);t.setLayout({dy:r},true)}})});R(e,function(t){var e=+t.getValue()*o;t.setLayout({dy:e},true)})}function vB(t,e,r,i,a){var n=a==="vertical"?"x":"y";R(t,function(t){t.sort(function(t,e){return t.getLayout()[n]-e.getLayout()[n]});var o;var s;var l;var u=0;var f=t.length;var h=a==="vertical"?"dx":"dy";for(var v=0;v<f;v++){s=t[v];l=u-s.getLayout()[n];if(l>0){o=s.getLayout()[n]+l;a==="vertical"?s.setLayout({x:o},true):s.setLayout({y:o},true)}u=s.getLayout()[n]+s.getLayout()[h]+e}var c=a==="vertical"?i:r;l=u-e-c;if(l>0){o=s.getLayout()[n]-l;a==="vertical"?s.setLayout({x:o},true):s.setLayout({y:o},true);u=o;for(var v=f-2;v>=0;--v){s=t[v];l=s.getLayout()[n]+s.getLayout()[h]+e-u;if(l>0){o=s.getLayout()[n]-l;a==="vertical"?s.setLayout({x:o},true):s.setLayout({y:o},true)}u=s.getLayout()[n]}}})}function cB(t,e,r){R(t.slice().reverse(),function(t){R(t,function(t){if(t.outEdges.length){var i=_B(t.outEdges,pB,r)/_B(t.outEdges,xB);if(isNaN(i)){var a=t.outEdges.length;i=a?_B(t.outEdges,dB,r)/a:0}if(r==="vertical"){var n=t.getLayout().x+(i-mB(t,r))*e;t.setLayout({x:n},true)}else{var o=t.getLayout().y+(i-mB(t,r))*e;t.setLayout({y:o},true)}}})})}function pB(t,e){return mB(t.node2,e)*t.getValue()}function dB(t,e){return mB(t.node2,e)}function gB(t,e){return mB(t.node1,e)*t.getValue()}function yB(t,e){return mB(t.node1,e)}function mB(t,e){return e==="vertical"?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function xB(t){return t.getValue()}function _B(t,e,r){var i=0;var a=t.length;var n=-1;while(++n<a){var o=+e(t[n],r);if(!isNaN(o)){i+=o}}return i}function bB(t,e,r){R(t,function(t){R(t,function(t){if(t.inEdges.length){var i=_B(t.inEdges,gB,r)/_B(t.inEdges,xB);if(isNaN(i)){var a=t.inEdges.length;i=a?_B(t.inEdges,yB,r)/a:0}if(r==="vertical"){var n=t.getLayout().x+(i-mB(t,r))*e;t.setLayout({x:n},true)}else{var o=t.getLayout().y+(i-mB(t,r))*e;t.setLayout({y:o},true)}}})})}function wB(t,e){var r=e==="vertical"?"x":"y";R(t,function(t){t.outEdges.sort(function(t,e){return t.node2.getLayout()[r]-e.node2.getLayout()[r]});t.inEdges.sort(function(t,e){return t.node1.getLayout()[r]-e.node1.getLayout()[r]})});R(t,function(t){var e=0;var r=0;R(t.outEdges,function(t){t.setLayout({sy:e},true);e+=t.getLayout().dy});R(t.inEdges,function(t){t.setLayout({ty:r},true);r+=t.getLayout().dy})})}function SB(t){t.eachSeriesByType("sankey",function(t){var e=t.getGraph();var r=e.nodes;if(r.length){var i=Infinity;var a=-Infinity;R(r,function(t){var e=t.getLayout().value;if(e<i){i=e}if(e>a){a=e}});R(r,function(e){var r=new RO({type:"color",mappingMethod:"linear",dataExtent:[i,a],visual:t.get("color")});var n=r.mapValueToVisual(e.getLayout().value);var o=e.getModel().get(["itemStyle","color"]);if(o!=null){e.setVisual("color",o);e.setVisual("style",{fill:o})}else{e.setVisual("color",n);e.setVisual("style",{fill:n})}})}})}function MB(t){t.registerChartView($z);t.registerSeriesModel(Qz);t.registerLayout(tB);t.registerVisual(SB);t.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])})})}var IB=function(){function t(){}t.prototype.getInitialData=function(t,e){var r;var i=e.getComponent("xAxis",this.get("xAxisIndex"));var a=e.getComponent("yAxis",this.get("yAxisIndex"));var n=i.get("type");var o=a.get("type");var s;if(n==="category"){t.layout="horizontal";r=i.getOrdinalMeta();s=true}else if(o==="category"){t.layout="vertical";r=a.getOrdinalMeta();s=true}else{t.layout=t.layout||"horizontal"}var l=["x","y"];var u=t.layout==="horizontal"?0:1;var f=this._baseAxisDim=l[u];var h=l[1-u];var v=[i,a];var c=v[u].get("type");var p=v[1-u].get("type");var d=t.data;if(d&&s){var g=[];R(d,function(t,e){var r;if(W(t)){r=t.slice();t.unshift(e)}else if(W(t.value)){r=C({},t);r.value=r.value.slice();t.value.unshift(e)}else{r=t}g.push(r)});t.data=g}var y=this.defaultValueDimensions;var m=[{name:f,type:Qw(c),ordinalMeta:r,otherDims:{tooltip:false,itemName:0},dimsDef:["base"]},{name:h,type:Qw(p),dimsDef:y.slice()}];return NA(this,{coordDimensions:m,dimensionsCount:y.length+1,encodeDefaulter:H(Ep,m,this)})};t.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis};return t}();var TB=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.defaultValueDimensions=[{name:"min",defaultTooltip:true},{name:"Q1",defaultTooltip:true},{name:"median",defaultTooltip:true},{name:"Q3",defaultTooltip:true},{name:"max",defaultTooltip:true}];r.visualDrawType="stroke";return r}e.type="series.boxplot";e.dependencies=["xAxis","yAxis","grid"];e.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:true,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800};return e}(Oy);P(TB,IB,true);var CB=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=t.getData();var a=this.group;var n=this._data;if(!this._data){a.removeAll()}var o=t.get("layout")==="horizontal"?1:0;i.diff(n).add(function(t){if(i.hasValue(t)){var e=i.getItemLayout(t);var r=kB(e,i,t,o,true);i.setItemGraphicEl(t,r);a.add(r)}}).update(function(t,e){var r=n.getItemGraphicEl(e);if(!i.hasValue(t)){a.remove(r);return}var s=i.getItemLayout(t);if(!r){r=kB(s,i,t,o)}else{Vh(r);LB(s,r,i,t)}a.add(r);i.setItemGraphicEl(t,r)}).remove(function(t){var e=n.getItemGraphicEl(t);e&&a.remove(e)}).execute();this._data=i};e.prototype.remove=function(t){var e=this.group;var r=this._data;this._data=null;r&&r.eachItemGraphicEl(function(t){t&&e.remove(t)})};e.type="boxplot";return e}(Xy);var DB=function(){function t(){}return t}();var AB=function(t){r(e,t);function e(e){var r=t.call(this,e)||this;r.type="boxplotBoxPath";return r}e.prototype.getDefaultShape=function(){return new DB};e.prototype.buildPath=function(t,e){var r=e.points;var i=0;t.moveTo(r[i][0],r[i][1]);i++;for(;i<4;i++){t.lineTo(r[i][0],r[i][1])}t.closePath();for(;i<r.length;i++){t.moveTo(r[i][0],r[i][1]);i++;t.lineTo(r[i][0],r[i][1])}};return e}(Sl);function kB(t,e,r,i,a){var n=t.ends;var o=new AB({shape:{points:a?PB(n,i,t):n}});LB(t,o,e,r,a);return o}function LB(t,e,r,i,a){var n=r.hostModel;var o=yv[a?"initProps":"updateProps"];o(e,{shape:{points:t.ends}},n,i);e.useStyle(r.getItemVisual(i,"style"));e.style.strokeNoScale=true;e.z2=100;var s=r.getItemModel(i);rf(e,s);Ju(e,s.get(["emphasis","focus"]),s.get(["emphasis","blurScope"]))}function PB(t,e,r){return N(t,function(t){t=t.slice();t[e]=r.initBaseline;return t})}function OB(t,e){}var RB=R;function NB(t){var e=EB(t);RB(e,function(t){var e=t.seriesModels;if(!e.length){return}zB(t);RB(e,function(e,r){BB(e,t.boxOffsetList[r],t.boxWidthList[r])})})}function EB(t){var e=[];var r=[];t.eachSeriesByType("boxplot",function(t){var i=t.getBaseAxis();var a=k(r,i);if(a<0){a=r.length;r[a]=i;e[a]={axis:i,seriesModels:[]}}e[a].seriesModels.push(t)});return e}function zB(t){var e;var r=t.axis;var i=t.seriesModels;var a=i.length;var n=t.boxWidthList=[];var o=t.boxOffsetList=[];var s=[];var l;if(r.type==="category"){l=r.getBandWidth()}else{var u=0;RB(i,function(t){u=Math.max(u,t.getData().count())});e=r.getExtent(),Math.abs(e[1]-e[0])/u}RB(i,function(t){var e=t.get("boxWidth");if(!W(e)){e=[e,e]}s.push([Na(e[0],l)||0,Na(e[1],l)||0])});var f=l*.8-2;var h=f/a*.3;var v=(f-h*(a-1))/a;var c=v/2-f/2;RB(i,function(t,e){o.push(c);c+=h+v;n.push(Math.min(Math.max(v,s[e][0]),s[e][1]))})}function BB(t,e,r){var i=t.coordinateSystem;var a=t.getData();var n=r/2;var o=t.get("layout")==="horizontal"?0:1;var s=1-o;var l=["x","y"];var u=a.mapDimension(l[o]);var f=a.mapDimensionsAll(l[s]);if(u==null||f.length<5){return}for(var h=0;h<a.count();h++){var v=a.get(u,h);var c=x(v,f[2],h);var p=x(v,f[0],h);var d=x(v,f[1],h);var g=x(v,f[3],h);var y=x(v,f[4],h);var m=[];_(m,d,false);_(m,g,true);m.push(p,d,y,g);b(m,p);b(m,y);b(m,c);a.setItemLayout(h,{initBaseline:c[s],ends:m})}function x(t,r,n){var l=a.get(r,n);var u=[];u[o]=t;u[s]=l;var f;if(isNaN(t)||isNaN(l)){f=[NaN,NaN]}else{f=i.dataToPoint(u);f[o]+=e}return f}function _(t,e,r){var i=e.slice();var a=e.slice();i[o]+=n;a[o]-=n;r?t.push(i,a):t.push(a,i)}function b(t,e){var r=e.slice();var i=e.slice();r[o]-=n;i[o]+=n;t.push(r,i)}}function VB(t,e){e=e||{};var r=[];var i=[];var a=e.boundIQR;var n=a==="none"||a===0;for(var o=0;o<t.length;o++){var s=za(t[o].slice());var l=$a(s,.25);var u=$a(s,.5);var f=$a(s,.75);var h=s[0];var v=s[s.length-1];var c=(a==null?1.5:a)*(f-l);var p=n?h:Math.max(h,l-c);var d=n?v:Math.min(v,f+c);var g=e.itemNameFormatter;var y=U(g)?g({value:o}):Y(g)?g.replace("{value}",o+""):o+"";r.push([y,p,l,u,f,d]);for(var m=0;m<s.length;m++){var x=s[m];if(x<p||x>d){var _=[y,x];i.push(_)}}}return{boxData:r,outliers:i}}var GB={type:"echarts:boxplot",transform:function t(e){var r=e.upstream;if(r.sourceFormat!==Tp){var i="";if("development"!=="production"){i=cn("source data is not applicable for this boxplot transform. Expect number[][].")}pn(i)}var a=VB(r.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:a.boxData},{data:a.outliers}]}};function FB(t){t.registerSeriesModel(TB);t.registerChartView(CB);t.registerVisual(OB);t.registerLayout(NB);t.registerTransform(GB)}var HB=["color","borderColor"];var WB=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){this.group.removeClipPath();this._updateDrawMode(t);this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)};e.prototype.incrementalPrepareRender=function(t,e,r){this._clear();this._updateDrawMode(t)};e.prototype.incrementalRender=function(t,e,r,i){this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)};e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;if(this._isLargeDraw==null||e!==this._isLargeDraw){this._isLargeDraw=e;this._clear()}};e.prototype._renderNormal=function(t){var e=t.getData();var r=this._data;var i=this.group;var a=e.getLayout("isSimpleBox");var n=t.get("clip",true);var o=t.coordinateSystem;var s=o.getArea&&o.getArea();if(!this._data){i.removeAll()}e.diff(r).add(function(r){if(e.hasValue(r)){var o=e.getItemLayout(r);if(n&&ZB(s,o)){return}var l=XB(o,r,true);Rh(l,{shape:{points:o.ends}},t,r);jB(l,e,r,a);i.add(l);e.setItemGraphicEl(r,l)}}).update(function(o,l){var u=r.getItemGraphicEl(l);if(!e.hasValue(o)){i.remove(u);return}var f=e.getItemLayout(o);if(n&&ZB(s,f)){i.remove(u);return}if(!u){u=XB(f)}else{Oh(u,{shape:{points:f.ends}},t,o);Vh(u)}jB(u,e,o,a);i.add(u);e.setItemGraphicEl(o,u)}).remove(function(t){var e=r.getItemGraphicEl(t);e&&i.remove(e)}).execute();this._data=e};e.prototype._renderLarge=function(t){this._clear();JB(t,this.group);var e=t.get("clip",true)?dD(t.coordinateSystem,false,t):null;if(e){this.group.setClipPath(e)}else{this.group.removeClipPath()}};e.prototype._incrementalRenderNormal=function(t,e){var r=e.getData();var i=r.getLayout("isSimpleBox");var a;while((a=t.next())!=null){var n=r.getItemLayout(a);var o=XB(n);jB(o,r,a,i);o.incremental=true;this.group.add(o)}};e.prototype._incrementalRenderLarge=function(t,e){JB(e,this.group,true)};e.prototype.remove=function(t){this._clear()};e.prototype._clear=function(){this.group.removeAll();this._data=null};e.type="candlestick";return e}(Xy);var UB=function(){function t(){}return t}();var YB=function(t){r(e,t);function e(e){var r=t.call(this,e)||this;r.type="normalCandlestickBox";return r}e.prototype.getDefaultShape=function(){return new UB};e.prototype.buildPath=function(t,e){var r=e.points;if(this.__simpleBox){t.moveTo(r[4][0],r[4][1]);t.lineTo(r[6][0],r[6][1])}else{t.moveTo(r[0][0],r[0][1]);t.lineTo(r[1][0],r[1][1]);t.lineTo(r[2][0],r[2][1]);t.lineTo(r[3][0],r[3][1]);t.closePath();t.moveTo(r[4][0],r[4][1]);t.lineTo(r[5][0],r[5][1]);t.moveTo(r[6][0],r[6][1]);t.lineTo(r[7][0],r[7][1])}};return e}(Sl);function XB(t,e,r){var i=t.ends;return new YB({shape:{points:r?qB(i,t):i},z2:100})}function ZB(t,e){var r=true;for(var i=0;i<e.ends.length;i++){if(t.contain(e.ends[i][0],e.ends[i][1])){r=false;break}}return r}function jB(t,e,r,i){var a=e.getItemModel(r);t.useStyle(e.getItemVisual(r,"style"));t.style.strokeNoScale=true;t.__simpleBox=i;rf(t,a)}function qB(t,e){return N(t,function(t){t=t.slice();t[1]=e.initBaseline;return t})}var KB=function(){function t(){}return t}();var $B=function(t){r(e,t);function e(e){var r=t.call(this,e)||this;r.type="largeCandlestickBox";return r}e.prototype.getDefaultShape=function(){return new KB};e.prototype.buildPath=function(t,e){var r=e.points;for(var i=0;i<r.length;){if(this.__sign===r[i++]){var a=r[i++];t.moveTo(a,r[i++]);t.lineTo(a,r[i++])}else{i+=3}}};return e}(Sl);function JB(t,e,r){var i=t.getData();var a=i.getLayout("largePoints");var n=new $B({shape:{points:a},__sign:1});e.add(n);var o=new $B({shape:{points:a},__sign:-1});e.add(o);QB(1,n,t);QB(-1,o,t);if(r){n.incremental=true;o.incremental=true}}function QB(t,e,r,i){var a=r.get(["itemStyle",t>0?"borderColor":"borderColor0"])||r.get(["itemStyle",t>0?"color":"color0"]);var n=r.getModel("itemStyle").getItemStyle(HB);e.useStyle(n);e.style.fill=null;e.style.stroke=a}var tV=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.defaultValueDimensions=[{name:"open",defaultTooltip:true},{name:"close",defaultTooltip:true},{name:"lowest",defaultTooltip:true},{name:"highest",defaultTooltip:true}];return r}e.prototype.getShadowDim=function(){return"open"};e.prototype.brushSelector=function(t,e,r){var i=e.getItemLayout(t);return i&&r.rect(i.brushRect)};e.type="series.candlestick";e.dependencies=["xAxis","yAxis","grid"];e.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,layout:null,clip:true,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:true,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:true,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300};return e}(Oy);P(tV,IB,true);function eV(t){if(!t||!W(t.series)){return}R(t.series,function(t){if(j(t)&&t.type==="k"){t.type="candlestick"}})}var rV=["itemStyle","borderColor"];var iV=["itemStyle","borderColor0"];var aV=["itemStyle","color"];var nV=["itemStyle","color0"];var oV={seriesType:"candlestick",plan:Wy(),performRawSeries:true,reset:function(t,e){function r(t,e){return e.get(t>0?aV:nV)}function i(t,e){return e.get(t>0?rV:iV)}if(e.isSeriesFiltered(t)){return}var a=t.pipelineContext.large;return!a&&{progress:function(t,e){var a;while((a=t.next())!=null){var n=e.getItemModel(a);var o=e.getItemLayout(a).sign;var s=n.getItemStyle();s.fill=r(o,n);s.stroke=i(o,n)||s.fill;var l=e.ensureUniqueItemVisual(a,"style");C(l,s)}}}}};var sV=typeof Float32Array!=="undefined"?Float32Array:Array;var lV={seriesType:"candlestick",plan:Wy(),reset:function(t){var e=t.coordinateSystem;var r=t.getData();var i=fV(t,r);var a=0;var n=1;var o=["x","y"];var s=r.getDimensionIndex(r.mapDimension(o[a]));var l=N(r.mapDimensionsAll(o[n]),r.getDimensionIndex,r);var u=l[0];var f=l[1];var h=l[2];var v=l[3];r.setLayout({candleWidth:i,isSimpleBox:i<=1.3});if(s<0||l.length<4){return}return{progress:t.pipelineContext.large?p:c};function c(t,r){var o;var l=r.getStore();while((o=t.next())!=null){var c=l.get(s,o);var p=l.get(u,o);var d=l.get(f,o);var g=l.get(h,o);var y=l.get(v,o);var m=Math.min(p,d);var x=Math.max(p,d);var _=I(m,c);var b=I(x,c);var w=I(g,c);var S=I(y,c);var M=[];T(M,b,0);T(M,_,1);M.push(D(S),D(b),D(w),D(_));r.setItemLayout(o,{sign:uV(l,o,p,d,f),initBaseline:p>d?b[n]:_[n],ends:M,brushRect:C(g,y,c)})}function I(t,r){var i=[];i[a]=r;i[n]=t;return isNaN(r)||isNaN(t)?[NaN,NaN]:e.dataToPoint(i)}function T(t,e,r){var n=e.slice();var o=e.slice();n[a]=rv(n[a]+i/2,1,false);o[a]=rv(o[a]-i/2,1,true);r?t.push(n,o):t.push(o,n)}function C(t,e,r){var n=I(t,r);var o=I(e,r);n[a]-=i/2;o[a]-=i/2;return{x:n[0],y:n[1],width:i,height:o[1]-n[1]}}function D(t){t[a]=rv(t[a],1);return t}}function p(t,r){var i=new sV(t.count*4);var o=0;var l;var c=[];var p=[];var d;var g=r.getStore();while((d=t.next())!=null){var y=g.get(s,d);var m=g.get(u,d);var x=g.get(f,d);var _=g.get(h,d);var b=g.get(v,d);if(isNaN(y)||isNaN(_)||isNaN(b)){i[o++]=NaN;o+=3;continue}i[o++]=uV(g,d,m,x,f);c[a]=y;c[n]=_;l=e.dataToPoint(c,null,p);i[o++]=l?l[0]:NaN;i[o++]=l?l[1]:NaN;c[n]=b;l=e.dataToPoint(c,null,p);i[o++]=l?l[1]:NaN}r.setLayout("largePoints",i)}}};function uV(t,e,r,i,a){var n;if(r>i){n=-1}else if(r<i){n=1}else{n=e>0?t.get(a,e-1)<=i?1:-1:1}return n}function fV(t,e){var r=t.getBaseAxis();var i;var a=r.type==="category"?r.getBandWidth():(i=r.getExtent(),Math.abs(i[1]-i[0])/e.count());var n=Na(it(t.get("barMaxWidth"),a),a);var o=Na(it(t.get("barMinWidth"),1),a);var s=t.get("barWidth");return s!=null?Na(s,a):Math.max(Math.min(a/2,n),o)}function hV(t){t.registerChartView(WB);t.registerSeriesModel(tV);t.registerPreprocessor(eV);t.registerVisual(oV);t.registerLayout(lV)}function vV(t,e){var r=e.rippleEffectColor||e.color;t.eachChild(function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:e.brushType==="stroke"?r:null,fill:e.brushType==="fill"?r:null}})})}var cV=function(t){r(e,t);function e(e,r){var i=t.call(this)||this;var a=new YC(e,r);var n=new ya;i.add(a);i.add(n);i.updateData(e,r);return i}e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()};e.prototype.startEffectAnimation=function(t){var e=t.symbolType;var r=t.color;var i=t.rippleNumber;var a=this.childAt(1);for(var n=0;n<i;n++){var o=nx(e,-1,-1,2,2,r);o.attr({style:{strokeNoScale:true},z2:99,silent:true,scaleX:.5,scaleY:.5});var s=-n/i*t.period+t.effectOffset;o.animate("",true).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(s).start();o.animateStyle(true).when(t.period,{opacity:0}).delay(s).start();a.add(o)}vV(a,t)};e.prototype.updateEffectAnimation=function(t){var e=this._effectCfg;var r=this.childAt(1);var i=["symbolType","period","rippleScale","rippleNumber"];for(var a=0;a<i.length;a++){var n=i[a];if(e[n]!==t[n]){this.stopEffectAnimation();this.startEffectAnimation(t);return}}vV(r,t)};e.prototype.highlight=function(){Nu(this)};e.prototype.downplay=function(){Eu(this)};e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()};e.prototype.updateData=function(t,e){var r=this;var i=t.hostModel;this.childAt(0).updateData(t,e);var a=this.childAt(1);var n=t.getItemModel(e);var o=t.getItemVisual(e,"symbol");var s=ox(t.getItemVisual(e,"symbolSize"));var l=t.getItemVisual(e,"style");var u=l&&l.fill;a.setScale(s);a.traverse(function(t){t.setStyle("fill",u)});var f=sx(t.getItemVisual(e,"symbolOffset"),s);if(f){a.x=f[0];a.y=f[1]}var h=t.getItemVisual(e,"symbolRotate");a.rotation=(h||0)*Math.PI/180||0;var v={};v.showEffectOn=i.get("showEffectOn");v.rippleScale=n.get(["rippleEffect","scale"]);v.brushType=n.get(["rippleEffect","brushType"]);v.period=n.get(["rippleEffect","period"])*1e3;v.effectOffset=e/t.count();v.z=i.getShallow("z")||0;v.zlevel=i.getShallow("zlevel")||0;v.symbolType=o;v.color=u;v.rippleEffectColor=n.get(["rippleEffect","color"]);v.rippleNumber=n.get(["rippleEffect","number"]);this.off("mouseover").off("mouseout").off("emphasis").off("normal");if(v.showEffectOn==="render"){this._effectCfg?this.updateEffectAnimation(v):this.startEffectAnimation(v);this._effectCfg=v}else{this._effectCfg=null;this.stopEffectAnimation();this.onHoverStateChange=function(t){if(t==="emphasis"){if(v.showEffectOn!=="render"){r.startEffectAnimation(v)}}else if(t==="normal"){if(v.showEffectOn!=="render"){r.stopEffectAnimation()}}}}this._effectCfg=v;Ju(this)};e.prototype.fadeOut=function(t){this.off("mouseover").off("mouseout");t&&t()};return e}(ya);var pV=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(){this._symbolDraw=new KC(cV)};e.prototype.render=function(t,e,r){var i=t.getData();var a=this._symbolDraw;a.updateData(i,{clipShape:this._getClipShape(t)});this.group.add(a.group)};e.prototype._getClipShape=function(t){var e=t.coordinateSystem;var r=e&&e.getArea&&e.getArea();return t.get("clip",true)?r:null};e.prototype.updateTransform=function(t,e,r){var i=t.getData();this.group.dirty();var a=RD("").reset(t,e,r);if(a.progress){a.progress({start:0,end:i.count(),count:i.count()},i)}this._symbolDraw.updateLayout()};e.prototype._updateGroupTransform=function(t){var e=t.coordinateSystem;if(e&&e.getRoamTransform){this.group.transform=Ii(e.getRoamTransform());this.group.decomposeTransform()}};e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(true)};e.type="effectScatter";return e}(Xy);var dV=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.hasSymbolVisual=true;return r}e.prototype.getInitialData=function(t,e){return VS(null,this,{useEncodeDefaulter:true})};e.prototype.brushSelector=function(t,e,r){return r.point(e.getItemLayout(t))};e.type="series.effectScatter";e.dependencies=["grid","polar"];e.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true,effectType:"ripple",progressive:0,showEffectOn:"render",clip:true,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10};return e}(Oy);function gV(t){t.registerChartView(pV);t.registerSeriesModel(dV);t.registerLayout(RD("effectScatter"))}var yV=function(t){r(e,t);function e(e,r,i){var a=t.call(this)||this;a.add(a.createLine(e,r,i));a._updateEffectSymbol(e,r);return a}e.prototype.createLine=function(t,e,r){return new cN(t,e,r)};e.prototype._updateEffectSymbol=function(t,e){var r=t.getItemModel(e);var i=r.getModel("effect");var a=i.get("symbolSize");var n=i.get("symbol");if(!W(a)){a=[a,a]}var o=t.getItemVisual(e,"style");var s=i.get("color")||o&&o.stroke;var l=this.childAt(1);if(this._symbolType!==n){this.remove(l);l=nx(n,-.5,-.5,1,1,s);l.z2=100;l.culling=true;this.add(l)}if(!l){return}l.setStyle("shadowColor",s);l.setStyle(i.getItemStyle(["color"]));l.scaleX=a[0];l.scaleY=a[1];l.setColor(s);this._symbolType=n;this._symbolScale=a;this._updateEffectAnimation(t,i,e)};e.prototype._updateEffectAnimation=function(t,e,r){var i=this.childAt(1);if(!i){return}var a=this;var n=t.getItemLayout(r);var o=e.get("period")*1e3;var s=e.get("loop");var l=e.get("constantSpeed");var u=rt(e.get("delay"),function(e){return e/t.count()*o/3});i.ignore=true;this._updateAnimationPoints(i,n);if(l>0){o=this._getLineLength(i)/l*1e3}if(o!==this._period||s!==this._loop){i.stopAnimation();if(o>0){var f=void 0;if(typeof u==="function"){f=u(r)}else{f=u}if(i.__t>0){f=-o*i.__t}i.__t=0;var h=i.animate("",s).when(o,{__t:1}).delay(f).during(function(){a._updateSymbolPosition(i)});if(!s){h.done(function(){a.remove(i)})}h.start()}}this._period=o;this._loop=s};e.prototype._getLineLength=function(t){return Et(t.__p1,t.__cp1)+Et(t.__cp1,t.__p2)};e.prototype._updateAnimationPoints=function(t,e){t.__p1=e[0];t.__p2=e[1];t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]};e.prototype.updateData=function(t,e,r){this.childAt(0).updateData(t,e,r);this._updateEffectSymbol(t,e)};e.prototype._updateSymbolPosition=function(t){var e=t.__p1;var r=t.__p2;var i=t.__cp1;var a=t.__t;var n=[t.x,t.y];var o=n.slice();var s=hs;var l=vs;n[0]=s(e[0],i[0],r[0],a);n[1]=s(e[1],i[1],r[1],a);var u=l(e[0],i[0],r[0],a);var f=l(e[1],i[1],r[1],a);t.rotation=-Math.atan2(f,u)-Math.PI/2;if(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect"){if(t.__lastT!==undefined&&t.__lastT<t.__t){t.scaleY=Et(o,n)*1.05;if(a===1){n[0]=o[0]+(n[0]-o[0])/2;n[1]=o[1]+(n[1]-o[1])/2}}else if(t.__lastT===1){t.scaleY=2*Et(e,n)}else{t.scaleY=this._symbolScale[1]}}t.__lastT=t.__t;t.ignore=false;t.x=n[0];t.y=n[1]};e.prototype.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var r=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,r,e)};return e}(ya);var mV=function(t){r(e,t);function e(e,r,i){var a=t.call(this)||this;a._createPolyline(e,r,i);return a}e.prototype._createPolyline=function(t,e,r){var i=t.getItemLayout(e);var a=new uh({shape:{points:i}});this.add(a);this._updateCommonStl(t,e,r)};e.prototype.updateData=function(t,e,r){var i=t.hostModel;var a=this.childAt(0);var n={shape:{points:t.getItemLayout(e)}};Oh(a,n,i,e);this._updateCommonStl(t,e,r)};e.prototype._updateCommonStl=function(t,e,r){var i=this.childAt(0);var a=t.getItemModel(e);var n=r&&r.emphasisLineStyle;if(!r||t.hasItemOption){n=a.getModel(["emphasis","lineStyle"]).getLineStyle()}i.useStyle(t.getItemVisual(e,"style"));i.style.fill=null;i.style.strokeNoScale=true;var o=i.ensureState("emphasis");o.style=n;Ju(this)};e.prototype.updateLayout=function(t,e){var r=this.childAt(0);r.setShape("points",t.getItemLayout(e))};return e}(ya);var xV=function(t){r(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e._lastFrame=0;e._lastFramePercent=0;return e}e.prototype.createLine=function(t,e,r){return new mV(t,e,r)};e.prototype._updateAnimationPoints=function(t,e){this._points=e;var r=[0];var i=0;for(var a=1;a<e.length;a++){var n=e[a-1];var o=e[a];i+=Et(n,o);r.push(i)}if(i===0){this._length=0;return}for(var a=0;a<r.length;a++){r[a]/=i}this._offsets=r;this._length=i};e.prototype._getLineLength=function(){return this._length};e.prototype._updateSymbolPosition=function(t){var e=t.__t;var r=this._points;var i=this._offsets;var a=r.length;if(!i){return}var n=this._lastFrame;var o;if(e<this._lastFramePercent){var s=Math.min(n+1,a-1);for(o=s;o>=0;o--){if(i[o]<=e){break}}o=Math.min(o,a-2)}else{for(o=n;o<a;o++){if(i[o]>e){break}}o=Math.min(o-1,a-2)}var l=(e-i[o])/(i[o+1]-i[o]);var u=r[o];var f=r[o+1];t.x=u[0]*(1-l)+l*f[0];t.y=u[1]*(1-l)+l*f[1];var h=f[0]-u[0];var v=f[1]-u[1];t.rotation=-Math.atan2(v,h)-Math.PI/2;this._lastFrame=o;this._lastFramePercent=e;t.ignore=false};return e}(yV);var _V=function(){function t(){this.polyline=false;this.curveness=0;this.segs=[]}return t}();var bV=function(t){r(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new _V};e.prototype.buildPath=function(t,e){var r=e.segs;var i=e.curveness;if(e.polyline){for(var a=0;a<r.length;){var n=r[a++];if(n>0){t.moveTo(r[a++],r[a++]);for(var o=1;o<n;o++){t.lineTo(r[a++],r[a++])}}}}else{for(var a=0;a<r.length;){var s=r[a++];var l=r[a++];var u=r[a++];var f=r[a++];t.moveTo(s,l);if(i>0){var h=(s+u)/2-(l-f)*i;var v=(l+f)/2-(u-s)*i;t.quadraticCurveTo(h,v,u,f)}else{t.lineTo(u,f)}}}};e.prototype.findDataIndex=function(t,e){var r=this.shape;var i=r.segs;var a=r.curveness;var n=this.style.lineWidth;if(r.polyline){var o=0;for(var s=0;s<i.length;){var l=i[s++];if(l>0){var u=i[s++];var f=i[s++];for(var h=1;h<l;h++){var v=i[s++];var c=i[s++];if(Qs(u,f,v,c,n,t,e)){return o}}}o++}}else{var o=0;for(var s=0;s<i.length;){var u=i[s++];var f=i[s++];var v=i[s++];var c=i[s++];if(a>0){var p=(u+v)/2-(f-c)*a;var d=(f+c)/2-(v-u)*a;if(el(u,f,p,d,v,c,n,t,e)){return o}}else{if(Qs(u,f,v,c,n,t,e)){return o}}o++}}return-1};return e}(Sl);var wV=function(){function t(){this.group=new ya}t.prototype.isPersistent=function(){return!this._incremental};t.prototype.updateData=function(t){this.group.removeAll();var e=new bV({rectHover:true,cursor:"default"});e.setShape({segs:t.getLayout("linesPoints")});this._setCommon(e,t);this.group.add(e);this._incremental=null};t.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll();this._clearIncremental();if(t.count()>5e5){if(!this._incremental){this._incremental=new Ah({silent:true})}this.group.add(this._incremental)}else{this._incremental=null}};t.prototype.incrementalUpdate=function(t,e){var r=new bV;r.setShape({segs:e.getLayout("linesPoints")});this._setCommon(r,e,!!this._incremental);if(!this._incremental){r.rectHover=true;r.cursor="default";r.__startIndex=t.start;this.group.add(r)}else{this._incremental.addDisplayable(r,true)}};t.prototype.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};t.prototype._setCommon=function(t,e,r){var i=e.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])});t.useStyle(i.getModel("lineStyle").getLineStyle());t.style.strokeNoScale=true;var a=e.getVisual("style");if(a&&a.stroke){t.setStyle("stroke",a.stroke)}t.setStyle("fill",null);if(!r){var n=$l(t);n.seriesIndex=i.seriesIndex;t.on("mousemove",function(e){n.dataIndex=null;var r=t.findDataIndex(e.offsetX,e.offsetY);if(r>0){n.dataIndex=r+t.__startIndex}})}};t.prototype._clearIncremental=function(){var t=this._incremental;if(t){t.clearDisplaybles()}};return t}();var SV={seriesType:"lines",plan:Wy(),reset:function(t){var e=t.coordinateSystem;var r=t.get("polyline");var i=t.pipelineContext.large;return{progress:function(a,n){var o=[];if(i){var s=void 0;var l=a.end-a.start;if(r){var u=0;for(var f=a.start;f<a.end;f++){u+=t.getLineCoordsCount(f)}s=new Float32Array(l+u*2)}else{s=new Float32Array(l*4)}var h=0;var v=[];for(var f=a.start;f<a.end;f++){var c=t.getLineCoords(f,o);if(r){s[h++]=c}for(var p=0;p<c;p++){v=e.dataToPoint(o[p],false,v);s[h++]=v[0];s[h++]=v[1]}}n.setLayout("linesPoints",s)}else{for(var f=a.start;f<a.end;f++){var d=n.getItemModel(f);var c=t.getLineCoords(f,o);var g=[];if(r){for(var y=0;y<c;y++){g.push(e.dataToPoint(o[y]))}}else{g[0]=e.dataToPoint(o[0]);g[1]=e.dataToPoint(o[1]);var m=d.get(["lineStyle","curveness"]);if(+m){g[2]=[(g[0][0]+g[1][0])/2-(g[0][1]-g[1][1])*m,(g[0][1]+g[1][1])/2-(g[1][0]-g[0][0])*m]}}n.setItemLayout(f,g)}}}}}};var MV=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=t.getData();var a=this._updateLineDraw(i,t);var n=t.get("zlevel");var o=t.get(["effect","trailLength"]);var s=r.getZr();var l=s.painter.getType()==="svg";if(!l){s.painter.getLayer(n).clear(true)}if(this._lastZlevel!=null&&!l){s.configLayer(this._lastZlevel,{motionBlur:false})}if(this._showEffect(t)&&o){if("development"!=="production"){var u=false;e.eachSeries(function(e){if(e!==t&&e.get("zlevel")===n){u=true}});u&&console.warn("Lines with trail effect should have an individual zlevel")}if(!l){s.configLayer(n,{motionBlur:true,lastFrameAlpha:Math.max(Math.min(o/10+.9,1),0)})}}a.updateData(i);var f=t.get("clip",true)&&dD(t.coordinateSystem,false,t);if(f){this.group.setClipPath(f)}else{this.group.removeClipPath()}this._lastZlevel=n;this._finished=true};e.prototype.incrementalPrepareRender=function(t,e,r){var i=t.getData();var a=this._updateLineDraw(i,t);a.incrementalPrepareUpdate(i);this._clearLayer(r);this._finished=false};e.prototype.incrementalRender=function(t,e,r){this._lineDraw.incrementalUpdate(t,e.getData());this._finished=t.end===e.getData().count()};e.prototype.updateTransform=function(t,e,r){var i=t.getData();var a=t.pipelineContext;if(!this._finished||a.large||a.progressiveRender){return{update:true}}else{var n=SV.reset(t,e,r);if(n.progress){n.progress({start:0,end:i.count(),count:i.count()},i)}this._lineDraw.updateLayout();this._clearLayer(r)}};e.prototype._updateLineDraw=function(t,e){var r=this._lineDraw;var i=this._showEffect(e);var a=!!e.get("polyline");var n=e.pipelineContext;var o=n.large;if("development"!=="production"){if(i&&o){console.warn("Large lines not support effect")}}if(!r||i!==this._hasEffet||a!==this._isPolyline||o!==this._isLargeDraw){if(r){r.remove()}r=this._lineDraw=o?new wV:new pN(a?i?xV:mV:i?yV:cN);this._hasEffet=i;this._isPolyline=a;this._isLargeDraw=o}this.group.add(r.group);return r};e.prototype._showEffect=function(t){return!!t.get(["effect","show"])};e.prototype._clearLayer=function(t){var e=t.getZr();var r=e.painter.getType()==="svg";if(!r&&this._lastZlevel!=null){e.painter.getLayer(this._lastZlevel).clear(true)}};e.prototype.remove=function(t,e){this._lineDraw&&this._lineDraw.remove();this._lineDraw=null;this._clearLayer(e)};e.prototype.dispose=function(t,e){this.remove(t,e)};e.type="lines";return e}(Xy);var IV=typeof Uint32Array==="undefined"?Array:Uint32Array;var TV=typeof Float64Array==="undefined"?Array:Float64Array;function CV(t){var e=t.data;if(e&&e[0]&&e[0][0]&&e[0][0].coord){if("development"!=="production"){console.warn("Lines data configuration has been changed to"+" { coords:[[1,2],[2,3]] }")}t.data=N(e,function(t){var e=[t[0].coord,t[1].coord];var r={coords:e};if(t[0].name){r.fromName=t[0].name}if(t[1].name){r.toName=t[1].name}return T([r,t[0],t[1]])})}}var DV=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.visualStyleAccessPath="lineStyle";r.visualDrawType="stroke";return r}e.prototype.init=function(e){e.data=e.data||[];CV(e);var r=this._processFlatCoordsArray(e.data);this._flatCoords=r.flatCoords;this._flatCoordsOffset=r.flatCoordsOffset;if(r.flatCoords){e.data=new Float32Array(r.count)}t.prototype.init.apply(this,arguments)};e.prototype.mergeOption=function(e){CV(e);if(e.data){var r=this._processFlatCoordsArray(e.data);this._flatCoords=r.flatCoords;this._flatCoordsOffset=r.flatCoordsOffset;if(r.flatCoords){e.data=new Float32Array(r.count)}}t.prototype.mergeOption.apply(this,arguments)};e.prototype.appendData=function(t){var e=this._processFlatCoordsArray(t.data);if(e.flatCoords){if(!this._flatCoords){this._flatCoords=e.flatCoords;this._flatCoordsOffset=e.flatCoordsOffset}else{this._flatCoords=pt(this._flatCoords,e.flatCoords);this._flatCoordsOffset=pt(this._flatCoordsOffset,e.flatCoordsOffset)}t.data=new Float32Array(e.count)}this.getRawData().appendData(t.data)};e.prototype._getCoordsFromItemModel=function(t){var e=this.getData().getItemModel(t);var r=e.option instanceof Array?e.option:e.getShallow("coords");if("development"!=="production"){if(!(r instanceof Array&&r.length>0&&r[0]instanceof Array)){throw new Error("Invalid coords "+JSON.stringify(r)+". Lines must have 2d coords array in data item.")}}return r};e.prototype.getLineCoordsCount=function(t){if(this._flatCoordsOffset){return this._flatCoordsOffset[t*2+1]}else{return this._getCoordsFromItemModel(t).length}};e.prototype.getLineCoords=function(t,e){if(this._flatCoordsOffset){var r=this._flatCoordsOffset[t*2];var i=this._flatCoordsOffset[t*2+1];for(var a=0;a<i;a++){e[a]=e[a]||[];e[a][0]=this._flatCoords[r+a*2];e[a][1]=this._flatCoords[r+a*2+1]}return i}else{var n=this._getCoordsFromItemModel(t);for(var a=0;a<n.length;a++){e[a]=e[a]||[];e[a][0]=n[a][0];e[a][1]=n[a][1]}return n.length}};e.prototype._processFlatCoordsArray=function(t){var e=0;if(this._flatCoords){e=this._flatCoords.length}if(typeof t[0]==="number"){var r=t.length;var i=new IV(r);var a=new TV(r);var n=0;var o=0;var s=0;for(var l=0;l<r;){s++;var u=t[l++];i[o++]=n+e;i[o++]=u;for(var f=0;f<u;f++){var h=t[l++];var v=t[l++];a[n++]=h;a[n++]=v;if(l>r){if("development"!=="production"){throw new Error("Invalid data format.")}}}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,o),flatCoords:a,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}};e.prototype.getInitialData=function(t,e){if("development"!=="production"){var r=gd.get(t.coordinateSystem);if(!r){throw new Error("Unkown coordinate system "+t.coordinateSystem)}}var i=new SS(["value"],this);i.hasItemOption=false;i.initData(t.data,[],function(t,e,r,a){if(t instanceof Array){return NaN}else{i.hasItemOption=true;var n=t.value;if(n!=null){return n instanceof Array?n[a]:n}}});return i};e.prototype.formatTooltip=function(t,e,r){var i=this.getData();var a=i.getItemModel(t);var n=a.get("name");if(n){return n}var o=a.get("fromName");var s=a.get("toName");var l=[];o!=null&&l.push(o);s!=null&&l.push(s);return py("nameValue",{name:l.join(" > ")})};e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])};e.prototype.getProgressive=function(){var t=this.option.progressive;if(t==null){return this.option.large?1e4:this.get("progressive")}return t};e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;if(t==null){return this.option.large?2e4:this.get("progressiveThreshold")}return t};e.type="series.lines";e.dependencies=["grid","polar","geo","calendar"];e.defaultOption={coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:true,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:false,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:true,trailLength:.2},large:false,largeThreshold:2e3,polyline:false,clip:true,label:{show:false,position:"end"},lineStyle:{opacity:.5}};return e}(Oy);function AV(t){if(!(t instanceof Array)){t=[t,t]}return t}var kV={seriesType:"lines",reset:function(t){var e=AV(t.get("symbol"));var r=AV(t.get("symbolSize"));var i=t.getData();i.setVisual("fromSymbol",e&&e[0]);i.setVisual("toSymbol",e&&e[1]);i.setVisual("fromSymbolSize",r&&r[0]);i.setVisual("toSymbolSize",r&&r[1]);function a(t,e){var r=t.getItemModel(e);var i=AV(r.getShallow("symbol",true));var a=AV(r.getShallow("symbolSize",true));i[0]&&t.setItemVisual(e,"fromSymbol",i[0]);i[1]&&t.setItemVisual(e,"toSymbol",i[1]);a[0]&&t.setItemVisual(e,"fromSymbolSize",a[0]);a[1]&&t.setItemVisual(e,"toSymbolSize",a[1])}return{dataEach:i.hasItemOption?a:null}}};function LV(t){t.registerChartView(MV);t.registerSeriesModel(DV);t.registerLayout(SV);t.registerVisual(kV)}var PV=256;var OV=function(){function t(){this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={inRange:null,outOfRange:null};var t=A();this.canvas=t}t.prototype.update=function(t,e,r,i,a,n){var o=this._getBrush();var s=this._getGradient(a,"inRange");var l=this._getGradient(a,"outOfRange");var u=this.pointSize+this.blurSize;var f=this.canvas;var h=f.getContext("2d");var v=t.length;f.width=e;f.height=r;for(var c=0;c<v;++c){var p=t[c];var d=p[0];var g=p[1];var y=p[2];var m=i(y);h.globalAlpha=m;h.drawImage(o,d-u,g-u)}if(!f.width||!f.height){return f}var x=h.getImageData(0,0,f.width,f.height);var _=x.data;var b=0;var w=_.length;var S=this.minOpacity;var M=this.maxOpacity;var I=M-S;while(b<w){var m=_[b+3]/256;var T=Math.floor(m*(PV-1))*4;if(m>0){var C=n(m)?s:l;m>0&&(m=m*I+S);_[b++]=C[T];_[b++]=C[T+1];_[b++]=C[T+2];_[b++]=C[T+3]*m*256}else{b+=4}}h.putImageData(x,0,0);return f};t.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=A());var e=this.pointSize+this.blurSize;var r=e*2;t.width=r;t.height=r;var i=t.getContext("2d");i.clearRect(0,0,r,r);i.shadowOffsetX=r;i.shadowBlur=this.blurSize;i.shadowColor="#000";i.beginPath();i.arc(-e,e,this.pointSize,0,Math.PI*2,true);i.closePath();i.fill();return t};t.prototype._getGradient=function(t,e){var r=this._gradientPixels;var i=r[e]||(r[e]=new Uint8ClampedArray(256*4));var a=[0,0,0,0];var n=0;for(var o=0;o<256;o++){t[e](o/255,true,a);i[n++]=a[0];i[n++]=a[1];i[n++]=a[2];i[n++]=a[3]}return i};return t}();function RV(t,e,r){var i=t[1]-t[0];e=N(e,function(e){return{interval:[(e.interval[0]-t[0])/i,(e.interval[1]-t[0])/i]}});var a=e.length;var n=0;return function(t){var i;for(i=n;i<a;i++){var o=e[i].interval;if(o[0]<=t&&t<=o[1]){n=i;break}}if(i===a){for(i=n-1;i>=0;i--){var o=e[i].interval;if(o[0]<=t&&t<=o[1]){n=i;break}}}return i>=0&&i<a&&r[i]}}function NV(t,e){var r=t[1]-t[0];e=[(e[0]-t[0])/r,(e[1]-t[0])/r];return function(t){return t>=e[0]&&t<=e[1]}}function EV(t){var e=t.dimensions;return e[0]==="lng"&&e[1]==="lat"}var zV=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i;e.eachComponent("visualMap",function(e){e.eachTargetSeries(function(r){if(r===t){i=e}})});if("development"!=="production"){if(!i){throw new Error("Heatmap must use with visualMap")}}this.group.removeAll();this._incrementalDisplayable=null;var a=t.coordinateSystem;if(a.type==="cartesian2d"||a.type==="calendar"){this._renderOnCartesianAndCalendar(t,r,0,t.getData().count())}else if(EV(a)){this._renderOnGeo(a,t,i,r)}};e.prototype.incrementalPrepareRender=function(t,e,r){this.group.removeAll()};e.prototype.incrementalRender=function(t,e,r,i){var a=e.coordinateSystem;if(a){if(EV(a)){this.render(e,r,i)}else{this._renderOnCartesianAndCalendar(e,i,t.start,t.end,true)}}};e.prototype._renderOnCartesianAndCalendar=function(t,e,r,i,a){var n=t.coordinateSystem;var o;var s;var l;var u;if(gD(n,"cartesian2d")){var f=n.getAxis("x");var h=n.getAxis("y");if("development"!=="production"){if(!(f.type==="category"&&h.type==="category")){throw new Error("Heatmap on cartesian must have two category axes")}if(!(f.onBand&&h.onBand)){throw new Error("Heatmap on cartesian must have two axes with boundaryGap true")}}o=f.getBandWidth();s=h.getBandWidth();l=f.scale.getExtent();u=h.scale.getExtent()}var v=this.group;var c=t.getData();var p=t.getModel(["emphasis","itemStyle"]).getItemStyle();var d=t.getModel(["blur","itemStyle"]).getItemStyle();var g=t.getModel(["select","itemStyle"]).getItemStyle();var y=wv(t);var m=t.get(["emphasis","focus"]);var x=t.get(["emphasis","blurScope"]);var _=gD(n,"cartesian2d")?[c.mapDimension("x"),c.mapDimension("y"),c.mapDimension("value")]:[c.mapDimension("time"),c.mapDimension("value")];for(var b=r;b<i;b++){var w=void 0;var S=c.getItemVisual(b,"style");if(gD(n,"cartesian2d")){var M=c.get(_[0],b);var I=c.get(_[1],b);if(isNaN(c.get(_[2],b))||M<l[0]||M>l[1]||I<u[0]||I>u[1]){continue}var T=n.dataToPoint([M,I]);w=new zl({shape:{x:Math.floor(Math.round(T[0])-o/2),y:Math.floor(Math.round(T[1])-s/2),width:Math.ceil(o),height:Math.ceil(s)},style:S})}else{if(isNaN(c.get(_[1],b))){continue}w=new zl({z2:1,shape:n.dataToRect([c.get(_[0],b)]).contentShape,style:S})}var C=c.getItemModel(b);if(c.hasItemOption){var D=C.getModel("emphasis");p=D.getModel("itemStyle").getItemStyle();d=C.getModel(["blur","itemStyle"]).getItemStyle();g=C.getModel(["select","itemStyle"]).getItemStyle();m=D.get("focus");x=D.get("blurScope");y=wv(C)}var A=t.getRawValue(b);var k="-";if(A&&A[2]!=null){k=A[2]+""}bv(w,y,{labelFetcher:t,labelDataIndex:b,defaultOpacity:S.opacity,defaultText:k});w.ensureState("emphasis").style=p;w.ensureState("blur").style=d;w.ensureState("select").style=g;Ju(w,m,x);w.incremental=a;if(a){w.states.emphasis.hoverLayer=true}v.add(w);c.setItemGraphicEl(b,w)}};e.prototype._renderOnGeo=function(t,e,r,i){var a=r.targetVisuals.inRange;var n=r.targetVisuals.outOfRange;var o=e.getData();var s=this._hmLayer||this._hmLayer||new OV;s.blurSize=e.get("blurSize");s.pointSize=e.get("pointSize");s.minOpacity=e.get("minOpacity");s.maxOpacity=e.get("maxOpacity");var l=t.getViewRect().clone();var u=t.getRoamTransform();l.applyTransform(u);var f=Math.max(l.x,0);var h=Math.max(l.y,0);var v=Math.min(l.width+l.x,i.getWidth());var c=Math.min(l.height+l.y,i.getHeight());var p=v-f;var d=c-h;var g=[o.mapDimension("lng"),o.mapDimension("lat"),o.mapDimension("value")];var y=o.mapArray(g,function(e,r,i){var a=t.dataToPoint([e,r]);a[0]-=f;a[1]-=h;a.push(i);return a});var m=r.getExtent();var x=r.type==="visualMap.continuous"?NV(m,r.option.range):RV(m,r.getPieceList(),r.option.selected);s.update(y,p,d,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:n.color.getColorMapper()},x);var _=new Al({style:{width:p,height:d,x:f,y:h,image:s.canvas},silent:true});this.group.add(_)};e.type="heatmap";return e}(Xy);var BV=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.getInitialData=function(t,e){return VS(null,this,{generateCoord:"value"})};e.prototype.preventIncremental=function(){var t=gd.get(this.get("coordinateSystem"));if(t&&t.dimensions){return t.dimensions[0]==="lng"&&t.dimensions[1]==="lat"}};e.type="series.heatmap";e.dependencies=["grid","geo","calendar"];e.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}};return e}(Oy);function VV(t){t.registerChartView(zV);t.registerSeriesModel(BV)}var GV=["itemStyle","borderWidth"];var FV=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}];var HV=new Nf;var WV=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=this.group;var a=t.getData();var n=this._data;var o=t.coordinateSystem;var s=o.getBaseAxis();var l=s.isHorizontal();var u=o.master.getRect();var f={ecSize:{width:r.getWidth(),height:r.getHeight()},seriesModel:t,coordSys:o,coordSysExtent:[[u.x,u.x+u.width],[u.y,u.y+u.height]],isHorizontal:l,valueDim:FV[+l],categoryDim:FV[1-+l]};a.diff(n).add(function(t){if(!a.hasValue(t)){return}var e=eG(a,t);var r=UV(a,t,e,f);var n=aG(a,f,r);a.setItemGraphicEl(t,n);i.add(n);fG(n,f,r)}).update(function(t,e){var r=n.getItemGraphicEl(e);if(!a.hasValue(t)){i.remove(r);return}var o=eG(a,t);var s=UV(a,t,o,f);var l=sG(a,s);if(r&&l!==r.__pictorialShapeStr){i.remove(r);a.setItemGraphicEl(t,null);r=null}if(r){nG(r,f,s)}else{r=aG(a,f,s,true)}a.setItemGraphicEl(t,r);r.__pictorialSymbolMeta=s;i.add(r);fG(r,f,s)}).remove(function(t){var e=n.getItemGraphicEl(t);e&&oG(n,t,e.__pictorialSymbolMeta.animationModel,e)}).execute();this._data=a;return this.group};e.prototype.remove=function(t,e){var r=this.group;var i=this._data;if(t.get("animation")){if(i){i.eachItemGraphicEl(function(e){oG(i,$l(e).dataIndex,t,e)})}}else{r.removeAll()}};e.type="pictorialBar";return e}(Xy);function UV(t,e,r,i){var a=t.getItemLayout(e);var n=r.get("symbolRepeat");var o=r.get("symbolClip");var s=r.get("symbolPosition")||"start";var l=r.get("symbolRotate");var u=(l||0)*Math.PI/180||0;var f=r.get("symbolPatternSize")||2;var h=r.isAnimationEnabled();var v={dataIndex:e,layout:a,itemModel:r,symbolType:t.getItemVisual(e,"symbol")||"circle",style:t.getItemVisual(e,"style"),symbolClip:o,symbolRepeat:n,symbolRepeatDirection:r.get("symbolRepeatDirection"),symbolPatternSize:f,rotation:u,animationModel:h?r:null,hoverScale:h&&r.get(["emphasis","scale"]),z2:r.getShallow("z",true)||0};YV(r,n,a,i,v);ZV(t,e,a,n,o,v.boundingLength,v.pxSign,f,i,v);jV(r,v.symbolScale,u,i,v);var c=v.symbolSize;var p=sx(r.get("symbolOffset"),c);qV(r,c,a,n,o,p,s,v.valueLineWidth,v.boundingLength,v.repeatCutLength,i,v);return v}function YV(t,e,r,i,a){var n=i.valueDim;var o=t.get("symbolBoundingData");var s=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis());var l=s.toGlobalCoord(s.dataToCoord(0));var u=1-+(r[n.wh]<=0);var f;if(W(o)){var h=[XV(s,o[0])-l,XV(s,o[1])-l];h[1]<h[0]&&h.reverse();f=h[u]}else if(o!=null){f=XV(s,o)-l}else if(e){f=i.coordSysExtent[n.index][u]-l}else{f=r[n.wh]}a.boundingLength=f;if(e){a.repeatCutLength=r[n.wh]}a.pxSign=f>0?1:f<0?-1:0}function XV(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function ZV(t,e,r,i,a,n,o,s,l,u){var f=l.valueDim;var h=l.categoryDim;var v=Math.abs(r[h.wh]);var c=t.getItemVisual(e,"symbolSize");var p;if(W(c)){p=c.slice()}else{if(c==null){p=["100%","100%"]}else{p=[c,c]}}p[h.index]=Na(p[h.index],v);p[f.index]=Na(p[f.index],i?v:Math.abs(n));u.symbolSize=p;var d=u.symbolScale=[p[0]/s,p[1]/s];d[f.index]*=(l.isHorizontal?-1:1)*o}function jV(t,e,r,i,a){var n=t.get(GV)||0;if(n){HV.attr({scaleX:e[0],scaleY:e[1],rotation:r});HV.updateTransform();n/=HV.getLineScale();n*=e[i.valueDim.index]}a.valueLineWidth=n}function qV(t,e,r,i,a,n,o,s,l,u,f,h){var v=f.categoryDim;var c=f.valueDim;var p=h.pxSign;var d=Math.max(e[c.index]+s,0);var g=d;if(i){var y=Math.abs(l);var m=rt(t.get("symbolMargin"),"15%")+"";var x=false;if(m.lastIndexOf("!")===m.length-1){x=true;m=m.slice(0,m.length-1)}var _=Na(m,e[c.index]);var b=Math.max(d+_*2,0);var w=x?0:_*2;var S=tn(i);var M=S?i:hG((y+w)/b);var I=y-M*d;_=I/2/(x?M:Math.max(M-1,1));b=d+_*2;w=x?0:_*2;if(!S&&i!=="fixed"){M=u?hG((Math.abs(u)+w)/b):0}g=M*b-w;h.repeatTimes=M;h.symbolMargin=_}var T=p*(g/2);var D=h.pathPosition=[];D[v.index]=r[v.wh]/2;D[c.index]=o==="start"?T:o==="end"?l-T:l/2;if(n){D[0]+=n[0];D[1]+=n[1]}var A=h.bundlePosition=[];A[v.index]=r[v.xy];A[c.index]=r[c.xy];var k=h.barRectShape=C({},r);k[c.wh]=p*Math.max(Math.abs(r[c.wh]),Math.abs(D[c.index]+T));k[v.wh]=r[v.wh];var L=h.clipShape={};L[v.xy]=-r[v.xy];L[v.wh]=f.ecSize[v.wh];L[c.xy]=0;L[c.wh]=r[c.wh]}function KV(t){var e=t.symbolPatternSize;var r=nx(t.symbolType,-e/2,-e/2,e,e);r.attr({culling:true});r.type!=="image"&&r.setStyle({strokeNoScale:true});return r}function $V(t,e,r,i){var a=t.__pictorialBundle;var n=r.symbolSize;var o=r.valueLineWidth;var s=r.pathPosition;var l=e.valueDim;var u=r.repeatTimes||0;var f=0;var h=n[e.valueDim.index]+o+r.symbolMargin*2;lG(t,function(t){t.__pictorialAnimationIndex=f;t.__pictorialRepeatTimes=u;if(f<u){uG(t,null,p(f),r,i)}else{uG(t,null,{scaleX:0,scaleY:0},r,i,function(){a.remove(t)})}f++});for(;f<u;f++){var v=KV(r);v.__pictorialAnimationIndex=f;v.__pictorialRepeatTimes=u;a.add(v);var c=p(f);uG(v,{x:c.x,y:c.y,scaleX:0,scaleY:0},{scaleX:c.scaleX,scaleY:c.scaleY,rotation:c.rotation},r,i)}function p(t){var e=s.slice();var i=r.pxSign;var a=t;if(r.symbolRepeatDirection==="start"?i>0:i<0){a=u-1-t}e[l.index]=h*(a-u/2+.5)+s[l.index];return{x:e[0],y:e[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation}}}function JV(t,e,r,i){var a=t.__pictorialBundle;var n=t.__pictorialMainPath;if(!n){n=t.__pictorialMainPath=KV(r);a.add(n);uG(n,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:0,scaleY:0,rotation:r.rotation},{scaleX:r.symbolScale[0],scaleY:r.symbolScale[1]},r,i)}else{uG(n,null,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation},r,i)}}function QV(t,e,r){var i=C({},e.barRectShape);var a=t.__pictorialBarRect;if(!a){a=t.__pictorialBarRect=new zl({z2:2,shape:i,silent:true,style:{stroke:"transparent",fill:"transparent",lineWidth:0}});a.disableMorphing=true;t.add(a)}else{uG(a,null,{shape:i},e,r)}}function tG(t,e,r,i){if(r.symbolClip){var a=t.__pictorialClipPath;var n=C({},r.clipShape);var o=e.valueDim;var s=r.animationModel;var l=r.dataIndex;if(a){Oh(a,{shape:n},s,l)}else{n[o.wh]=0;a=new zl({shape:n});t.__pictorialBundle.setClipPath(a);t.__pictorialClipPath=a;var u={};u[o.wh]=r.clipShape[o.wh];yv[i?"updateProps":"initProps"](a,{shape:u},s,l)}}}function eG(t,e){var r=t.getItemModel(e);r.getAnimationDelayParams=rG;r.isAnimationEnabled=iG;return r}function rG(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function iG(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function aG(t,e,r,i){var a=new ya;var n=new ya;a.add(n);a.__pictorialBundle=n;n.x=r.bundlePosition[0];n.y=r.bundlePosition[1];if(r.symbolRepeat){$V(a,e,r)}else{JV(a,e,r)}QV(a,r,i);tG(a,e,r,i);a.__pictorialShapeStr=sG(t,r);a.__pictorialSymbolMeta=r;return a}function nG(t,e,r){var i=r.animationModel;var a=r.dataIndex;var n=t.__pictorialBundle;Oh(n,{x:r.bundlePosition[0],y:r.bundlePosition[1]},i,a);if(r.symbolRepeat){$V(t,e,r,true)}else{JV(t,e,r,true)}QV(t,r,true);tG(t,e,r,true)}function oG(t,e,r,i){var a=i.__pictorialBarRect;a&&a.removeTextContent();var n=[];lG(i,function(t){n.push(t)});i.__pictorialMainPath&&n.push(i.__pictorialMainPath);i.__pictorialClipPath&&(r=null);R(n,function(t){Eh(t,{scaleX:0,scaleY:0},r,e,function(){i.parent&&i.parent.remove(i)})});t.setItemGraphicEl(e,null)}function sG(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function lG(t,e,r){R(t.__pictorialBundle.children(),function(i){i!==t.__pictorialBarRect&&e.call(r,i)})}function uG(t,e,r,i,a,n){e&&t.attr(e);if(i.symbolClip&&!a){r&&t.attr(r)}else{r&&yv[a?"updateProps":"initProps"](t,r,i.animationModel,i.dataIndex,n)}}function fG(t,e,r){var i=r.dataIndex;var a=r.itemModel;var n=a.getModel("emphasis");var o=n.getModel("itemStyle").getItemStyle();var s=a.getModel(["blur","itemStyle"]).getItemStyle();var l=a.getModel(["select","itemStyle"]).getItemStyle();var u=a.getShallow("cursor");var f=n.get("focus");var h=n.get("blurScope");var v=n.get("scale");lG(t,function(t){if(t instanceof Al){var e=t.style;t.useStyle(C({image:e.image,x:e.x,y:e.y,width:e.width,height:e.height},r.style))}else{t.useStyle(r.style)}var i=t.ensureState("emphasis");i.style=o;if(v){i.scaleX=t.scaleX*1.1;i.scaleY=t.scaleY*1.1}t.ensureState("blur").style=s;t.ensureState("select").style=l;u&&(t.cursor=u);t.z2=r.z2});var c=e.valueDim.posDesc[+(r.boundingLength>0)];var p=t.__pictorialBarRect;bv(p,wv(a),{labelFetcher:e.seriesModel,labelDataIndex:i,defaultText:WC(e.seriesModel.getData(),i),inheritColor:r.style.fill,defaultOpacity:r.style.opacity,defaultOutsidePosition:c});Ju(t,f,h)}function hG(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}var vG=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.hasSymbolVisual=true;r.defaultSymbol="roundRect";return r}e.prototype.getInitialData=function(e){e.stack=null;return t.prototype.getInitialData.apply(this,arguments)};e.type="series.pictorialBar";e.dependencies=["grid"];e.defaultOption=qv(VD.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:false,symbolRepeatDirection:"end",symbolClip:false,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:false},select:{itemStyle:{borderColor:"#212121"}}});return e}(VD);function cG(t){t.registerChartView(WV);t.registerSeriesModel(vG);t.registerLayout(H(pM,"pictorialBar"))}var pG=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._layers=[];return r}e.prototype.render=function(t,e,r){var i=t.getData();var a=this;var n=this.group;var o=t.getLayerSeries();var s=i.getLayout("layoutInfo");var l=s.rect;var u=s.boundaryGap;n.x=0;n.y=l.y+u[0];function f(t){return t.name}var h=new qw(this._layersSeries||[],o,f,f);var v=[];h.add(F(c,this,"add")).update(F(c,this,"update")).remove(F(c,this,"remove")).execute();function c(e,r,s){var l=a._layers;if(e==="remove"){n.remove(l[r]);return}var u=[];var f=[];var h;var c=o[r].indices;var p=0;for(;p<c.length;p++){var d=i.getItemLayout(c[p]);var g=d.x;var y=d.y0;var m=d.y;u.push(g,y);f.push(g,y+m);h=i.getItemVisual(c[p],"style")}var x;var _=i.getItemLayout(c[0]);var b=t.getModel("label");var w=b.get("margin");var S=t.getModel("emphasis");if(e==="add"){var M=v[r]=new ya;x=new vD({shape:{points:u,stackedOnPoints:f,smooth:.4,stackedOnSmooth:.4,smoothConstraint:false},z2:0});M.add(x);n.add(M);if(t.isAnimationEnabled()){x.setClipPath(dG(x.getBoundingRect(),t,function(){x.removeClipPath()}))}}else{var M=l[s];x=M.childAt(0);n.add(M);v[r]=M;Oh(x,{shape:{points:u,stackedOnPoints:f}},t);Vh(x)}bv(x,wv(t),{labelDataIndex:c[p-1],defaultText:i.getName(c[p-1]),inheritColor:h.fill},{normal:{verticalAlign:"middle"}});x.setTextConfig({position:null,local:true});var I=x.getTextContent();if(I){I.x=_.x-w;I.y=_.y0+_.y/2}x.useStyle(h);i.setItemGraphicEl(r,x);rf(x,t);Ju(x,S.get("focus"),S.get("blurScope"))}this._layersSeries=o;this._layers=v};e.type="themeRiver";return e}(Xy);function dG(t,e,r){var i=new zl({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});Rh(i,{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},e,r);return i}var gG=2;var yG=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(e){t.prototype.init.apply(this,arguments);this.legendVisualProvider=new EA(F(this.getData,this),F(this.getRawData,this))};e.prototype.fixData=function(t){var e=t.length;var r={};var i=$n(t,function(t){if(!r.hasOwnProperty(t[0]+"")){r[t[0]+""]=-1}return t[2]});var a=[];i.buckets.each(function(t,e){a.push({name:e,dataList:t})});var n=a.length;for(var o=0;o<n;++o){var s=a[o].name;for(var l=0;l<a[o].dataList.length;++l){var u=a[o].dataList[l][0]+"";r[u]=o}for(var u in r){if(r.hasOwnProperty(u)&&r[u]!==o){r[u]=o;t[e]=[u,0,s];e++}}}return t};e.prototype.getInitialData=function(t,e){var r=this.getReferringComponents("singleAxis",Yn).models[0];var i=r.get("type");var a=z(t.data,function(t){return t[2]!==undefined});var n=this.fixData(a||[]);var o=[];var s=this.nameMap=ct();var l=0;for(var u=0;u<n.length;++u){o.push(n[u][gG]);if(!s.get(n[u][gG])){s.set(n[u][gG],l);l++}}var f=IS(n,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Qw(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions;var h=new SS(f,this);h.initData(n);return h};e.prototype.getLayerSeries=function(){var t=this.getData();var e=t.count();var r=[];for(var i=0;i<e;++i){r[i]=i}var a=t.mapDimension("single");var n=$n(r,function(e){return t.get("name",e)});var o=[];n.buckets.each(function(e,r){e.sort(function(e,r){return t.get(a,e)-t.get(a,r)});o.push({name:r,indices:e})});return o};e.prototype.getAxisTooltipData=function(t,e,r){if(!W(t)){t=t?[t]:[]}var i=this.getData();var a=this.getLayerSeries();var n=[];var o=a.length;var s;for(var l=0;l<o;++l){var u=Number.MAX_VALUE;var f=-1;var h=a[l].indices.length;for(var v=0;v<h;++v){var c=i.get(t[0],a[l].indices[v]);var p=Math.abs(c-e);if(p<=u){s=c;u=p;f=a[l].indices[v]}}n.push(f)}return{dataIndices:n,nestestValue:s}};e.prototype.formatTooltip=function(t,e,r){var i=this.getData();var a=i.getName(t);var n=i.get(i.mapDimension("value"),t);return py("nameValue",{name:a,value:n})};e.type="series.themeRiver";e.dependencies=["singleAxis"];e.defaultOption={zlevel:0,z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:true,position:"left",fontSize:11},emphasis:{label:{show:true}}};return e}(Oy);function mG(t,e){t.eachSeriesByType("themeRiver",function(t){var e=t.getData();var r=t.coordinateSystem;var i={};var a=r.getRect();i.rect=a;var n=t.get("boundaryGap");var o=r.getAxis();i.boundaryGap=n;if(o.orient==="horizontal"){n[0]=Na(n[0],a.height);n[1]=Na(n[1],a.height);var s=a.height-n[0]-n[1];xG(e,t,s)}else{n[0]=Na(n[0],a.width);n[1]=Na(n[1],a.width);var l=a.width-n[0]-n[1];xG(e,t,l)}e.setLayout("layoutInfo",i)})}function xG(t,e,r){if(!t.count()){return}var i=e.coordinateSystem;var a=e.getLayerSeries();var n=t.mapDimension("single");var o=t.mapDimension("value");var s=N(a,function(e){return N(e.indices,function(e){var r=i.dataToPoint(t.get(n,e));r[1]=t.get(o,e);return r})});var l=_G(s);var u=l.y0;var f=r/l.max;var h=a.length;var v=a[0].indices.length;var c;for(var p=0;p<v;++p){c=u[p]*f;t.setItemLayout(a[0].indices[p],{layerIndex:0,x:s[0][p][0],y0:c,y:s[0][p][1]*f});for(var d=1;d<h;++d){c+=s[d-1][p][1]*f;t.setItemLayout(a[d].indices[p],{layerIndex:d,x:s[d][p][0],y0:c,y:s[d][p][1]*f})}}}function _G(t){var e=t.length;var r=t[0].length;var i=[];var a=[];var n=0;for(var o=0;o<r;++o){var s=0;for(var l=0;l<e;++l){s+=t[l][o][1]}if(s>n){n=s}i.push(s)}for(var u=0;u<r;++u){a[u]=(n-i[u])/2}n=0;for(var f=0;f<r;++f){var h=i[f]+a[f];if(h>n){n=h}}return{y0:a,max:n}}function bG(t){t.registerChartView(pG);t.registerSeriesModel(yG);t.registerLayout(mG);t.registerProcessor(TA("themeRiver"))}var wG=2;var SG=4;var MG=function(t){r(e,t);function e(e,r,i,a){var n=t.call(this)||this;n.z2=wG;n.textConfig={inside:true};$l(n).seriesIndex=r.seriesIndex;var o=new Fl({z2:SG,silent:e.getModel().get(["label","silent"])});n.setTextContent(o);n.updateData(true,e,r,i,a);return n}e.prototype.updateData=function(t,e,r,i,a){this.node=e;e.piece=this;r=r||this._seriesModel;i=i||this._ecModel;var n=this;$l(n).dataIndex=e.dataIndex;var o=e.getModel();var s=o.getModel("emphasis");var l=e.getLayout();var u=C({},l);u.label=null;var f=e.getVisual("style");f.lineJoin="bevel";var h=e.getVisual("decal");if(h){f.decal=Yx(h,a)}var v=PA(o.getModel("itemStyle"),u,true);C(u,v);R(nu,function(t){var e=n.ensureState(t);var r=o.getModel([t,"itemStyle"]);e.style=r.getItemStyle();var i=PA(r,u);if(i){e.shape=i}});if(t){n.setShape(u);n.shape.r=l.r0;Oh(n,{shape:{r:l.r}},r,e.dataIndex)}else{Oh(n,{shape:u},r);Vh(n)}n.useStyle(f);this._updateLabel(r);var c=o.getShallow("cursor");c&&n.attr("cursor",c);this._seriesModel=r||this._seriesModel;this._ecModel=i||this._ecModel;var p=s.get("focus");var d=p==="ancestor"?e.getAncestorsIndices():p==="descendant"?e.getDescendantIndices():p;Ju(this,d,s.get("blurScope"))};e.prototype._updateLabel=function(t){var e=this;var r=this.node.getModel();var i=r.getModel("label");var a=this.node.getLayout();var n=a.endAngle-a.startAngle;var o=(a.startAngle+a.endAngle)/2;var s=Math.cos(o);var l=Math.sin(o);var u=this;var f=u.getTextContent();var h=this.node.dataIndex;var v=i.get("minAngle")/180*Math.PI;var c=i.get("show")&&!(v!=null&&Math.abs(n)<v);f.ignore=!c;R(ou,function(i){var n=i==="normal"?r.getModel("label"):r.getModel([i,"label"]);var v=i==="normal";var c=v?f:f.ensureState(i);var d=t.getFormattedLabel(h,i);if(v){d=d||e.node.name}c.style=Sv(n,{},null,i!=="normal",true);if(d){c.style.text=d}var g=n.get("show");if(g!=null&&!v){c.ignore=!g}var y=p(n,"position");var m=v?u:u.states[i];var x=m.style.fill;m.textConfig={outsideFill:n.get("color")==="inherit"?x:null,inside:y!=="outside"};var _;var b=p(n,"distance")||0;var w=p(n,"align");if(y==="outside"){_=a.r+b;w=o>Math.PI/2?"right":"left"}else{if(!w||w==="center"){_=(a.r+a.r0)/2;w="center"}else if(w==="left"){_=a.r0+b;if(o>Math.PI/2){w="right"}}else if(w==="right"){_=a.r-b;if(o>Math.PI/2){w="left"}}}c.style.align=w;c.style.verticalAlign=p(n,"verticalAlign")||"middle";c.x=_*s+a.cx;c.y=_*l+a.cy;var S=p(n,"rotate");var M=0;if(S==="radial"){M=-o;if(M<-Math.PI/2){M+=Math.PI}}else if(S==="tangential"){M=Math.PI/2-o;if(M>Math.PI/2){M-=Math.PI}else if(M<-Math.PI/2){M+=Math.PI}}else if(typeof S==="number"){M=S*Math.PI/180}c.rotation=M});function p(t,e){var r=t.get(e);if(r==null){return i.get(e)}return r}f.dirtyStyle()};return e}(Qf);var IG="sunburstRootToNode";var TG="sunburstHighlight";var CG="sunburstUnhighlight";function DG(t){t.registerAction({type:IG,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},r);function r(e,r){var i=WP(t,[IG],e);if(i){var a=e.getViewRoot();if(a){t.direction=YP(a,i.node)?"rollUp":"drillDown"}e.resetViewRoot(i.node)}}});t.registerAction({type:TG,update:"none"},function(t,e,r){t=C({},t);e.eachComponent({mainType:"series",subType:"sunburst",query:t},i);function i(e){var r=WP(t,[TG],e);if(r){t.dataIndex=r.node.dataIndex}}if("development"!=="production"){hn("highlight","sunburstHighlight")}r.dispatchAction(C(t,{type:"highlight"}))});t.registerAction({type:CG,update:"updateView"},function(t,e,r){t=C({},t);if("development"!=="production"){hn("downplay","sunburstUnhighlight")}r.dispatchAction(C(t,{type:"downplay"}))})}var AG=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r,i){var a=this;this.seriesModel=t;this.api=r;this.ecModel=e;var n=t.getData();var o=n.tree.root;var s=t.getViewRoot();var l=this.group;var u=t.get("renderLabelForZeroData");var f=[];s.eachNode(function(t){f.push(t)});var h=this._oldChildren||[];v(f,h);d(o,s);this._initEvents();this._oldChildren=f;function v(t,e){if(t.length===0&&e.length===0){return}new qw(e,t,r,r).add(i).update(i).remove(H(i,null)).execute();function r(t){return t.getId()}function i(r,i){var a=r==null?null:t[r];var n=i==null?null:e[i];c(a,n)}}function c(i,a){if(!u&&i&&!i.getValue()){i=null}if(i!==o&&a!==o){if(a&&a.piece){if(i){a.piece.updateData(false,i,t,e,r);n.setItemGraphicEl(i.dataIndex,a.piece)}else{p(a)}}else if(i){var s=new MG(i,t,e,r);l.add(s);n.setItemGraphicEl(i.dataIndex,s)}}}function p(t){if(!t){return}if(t.piece){l.remove(t.piece);t.piece=null}}function d(i,n){if(n.depth>0){if(a.virtualPiece){a.virtualPiece.updateData(false,i,t,e,r)}else{a.virtualPiece=new MG(i,t,e,r);l.add(a.virtualPiece)}n.piece.off("click");a.virtualPiece.on("click",function(t){a._rootToNode(n.parentNode)})}else if(a.virtualPiece){l.remove(a.virtualPiece);a.virtualPiece=null}}};e.prototype._initEvents=function(){var t=this;this.group.off("click");this.group.on("click",function(e){var r=false;var i=t.seriesModel.getViewRoot();i.eachNode(function(i){if(!r&&i.piece&&i.piece===e.target){var a=i.getModel().get("nodeClick");if(a==="rootToNode"){t._rootToNode(i)}else if(a==="link"){var n=i.getModel();var o=n.get("link");if(o){var s=n.get("target",true)||"_blank";rp(o,s)}}r=true}})})};e.prototype._rootToNode=function(t){if(t!==this.seriesModel.getViewRoot()){this.api.dispatchAction({type:IG,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})}};e.prototype.containPoint=function(t,e){var r=e.getData();var i=r.getItemLayout(0);if(i){var a=t[0]-i.cx;var n=t[1]-i.cy;var o=Math.sqrt(a*a+n*n);return o<=i.r&&o>=i.r0}};e.type="sunburst";return e}(Xy);var kG=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.ignoreStyleOnData=true;return r}e.prototype.getInitialData=function(t,e){var r={name:t.name,children:t.data};LG(r);var i=N(t.levels||[],function(t){return new Uv(t,this,e)},this);var a=FP.createTree(r,this,n);function n(t){t.wrapMethod("getItemModel",function(t,e){var r=a.getNodeByDataIndex(e);var n=i[r.depth];n&&(t.parentModel=n);return t})}return a.data};e.prototype.optionUpdated=function(){this.resetViewRoot()};e.prototype.getDataParams=function(e){var r=t.prototype.getDataParams.apply(this,arguments);var i=this.getData().tree.getNodeByDataIndex(e);r.treePathInfo=XP(i,this);return r};e.prototype.getViewRoot=function(){return this._viewRoot};e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;if(!t||t!==e&&!e.contains(t)){this._viewRoot=e}};e.prototype.enableAriaDecal=function(){aO(this)};e.type="series.sunburst";e.defaultOption={zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:true,startAngle:90,minAngle:0,stillShowZeroSum:true,nodeClick:"rootToNode",renderLabelForZeroData:false,label:{rotate:"radial",show:true,opacity:1,align:"center",position:"inside",distance:5,silent:true},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"};return e}(Oy);function LG(t){var e=0;R(t.children,function(t){LG(t);var r=t.value;W(r)&&(r=r[0]);e+=r});var r=t.value;if(W(r)){r=r[0]}if(r==null||isNaN(r)){r=e}if(r<0){r=0}W(t.value)?t.value[0]=r:t.value=r}var PG=Math.PI/180;function OG(t,e,r){e.eachSeriesByType(t,function(t){var e=t.get("center");var i=t.get("radius");if(!W(i)){i=[0,i]}if(!W(e)){e=[e,e]}var a=r.getWidth();var n=r.getHeight();var o=Math.min(a,n);var s=Na(e[0],a);var l=Na(e[1],n);var u=Na(i[0],o/2);var f=Na(i[1],o/2);var h=-t.get("startAngle")*PG;var v=t.get("minAngle")*PG;var c=t.getData().tree.root;var p=t.getViewRoot();var d=p.depth;var g=t.get("sort");if(g!=null){RG(p,g)}var y=0;R(p.children,function(t){!isNaN(t.getValue())&&y++});var m=p.getValue();var x=Math.PI/(m||y)*2;var _=p.depth>0;var b=p.height-(_?-1:1);var w=(f-u)/(b||1);var S=t.get("clockwise");var M=t.get("stillShowZeroSum");var I=S?1:-1;var T=function(t,e){if(!t){return}var r=e;if(t!==c){var i=t.getValue();var a=m===0&&M?x:i*x;if(a<v){a=v}r=e+I*a;var n=t.depth-d-(_?-1:1);var f=u+w*n;var h=u+w*(n+1);var p=t.getModel();if(p.get("r0")!=null){f=Na(p.get("r0"),o/2)}if(p.get("r")!=null){h=Na(p.get("r"),o/2)}t.setLayout({angle:a,startAngle:e,endAngle:r,clockwise:S,cx:s,cy:l,r0:f,r:h})}if(t.children&&t.children.length){var g=0;R(t.children,function(t){g+=T(t,e+g)})}return r-e};if(_){var C=u;var D=u+w;var A=Math.PI*2;c.setLayout({angle:A,startAngle:h,endAngle:h+A,clockwise:S,cx:s,cy:l,r0:C,r:D})}T(p,h)})}function RG(t,e){var r=t.children||[];t.children=NG(r,e);if(r.length){R(t.children,function(t){RG(t,e)})}}function NG(t,e){if(typeof e==="function"){var r=N(t,function(t,e){var r=t.getValue();return{params:{depth:t.depth,height:t.height,dataIndex:t.dataIndex,getValue:function(){return r}},index:e}});r.sort(function(t,r){return e(t.params,r.params)});return N(r,function(e){return t[e.index]})}else{var i=e==="asc";return t.sort(function(t,e){var r=(t.getValue()-e.getValue())*(i?1:-1);return r===0?(t.dataIndex-e.dataIndex)*(i?-1:1):r})}}function EG(t){var e={};function r(t,r,i){var a=t;while(a&&a.depth>1){a=a.parentNode}var n=r.getColorFromPalette(a.name||a.dataIndex+"",e);if(t.depth>1&&typeof n==="string"){n=dr(n,(t.depth-1)/(i-1)*.5)}return n}t.eachSeriesByType("sunburst",function(t){var e=t.getData();var i=e.tree;i.eachNode(function(a){var n=a.getModel();var o=n.getModel("itemStyle").getItemStyle();if(!o.fill){o.fill=r(a,t,i.root.height)}var s=e.ensureUniqueItemVisual(a.dataIndex,"style");C(s,o)})})}function zG(t){t.registerChartView(AG);t.registerSeriesModel(kG);t.registerLayout(H(OG,"sunburst"));t.registerProcessor(H(TA,"sunburst"));t.registerVisual(EG);DG(t)}var BG={x:1,y:1,scaleX:1,scaleY:1,originX:1,originY:1,rotation:1};var VG={color:"fill",borderColor:"stroke"};var GG={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1};var FG=Fn();var HG=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",true);this.currentZ=this.get("z",true)};e.prototype.getInitialData=function(t,e){return VS(null,this)};e.prototype.getDataParams=function(e,r,i){var a=t.prototype.getDataParams.call(this,e,r);i&&(a.info=FG(i).info);return a};e.type="series.custom";e.dependencies=["grid","polar","geo","singleAxis","calendar"];e.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true,clip:false};return e}(Oy);function WG(t,e){e=e||[0,0];return N(["x","y"],function(r,i){var a=this.getAxis(r);var n=e[i];var o=t[i]/2;return a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(n-o)-a.dataToCoord(n+o))},this)}function UG(t){var e=t.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:F(WG,t)}}}function YG(t,e){e=e||[0,0];return N([0,1],function(r){var i=e[r];var a=t[r]/2;var n=[];var o=[];n[r]=i-a;o[r]=i+a;n[1-r]=o[1-r]=e[1-r];return Math.abs(this.dataToPoint(n)[r]-this.dataToPoint(o)[r])},this)}function XG(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(e){return t.dataToPoint(e)},size:F(YG,t)}}}function ZG(t,e){var r=this.getAxis();var i=e instanceof Array?e[0]:e;var a=(t instanceof Array?t[0]:t)/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(i-a)-r.dataToCoord(i+a))}function jG(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:F(ZG,t)}}}function qG(t,e){e=e||[0,0];return N(["Radius","Angle"],function(r,i){var a="get"+r+"Axis";var n=this[a]();var o=e[i];var s=t[i]/2;var l=n.type==="category"?n.getBandWidth():Math.abs(n.dataToCoord(o-s)-n.dataToCoord(o+s));if(r==="Angle"){l=l*Math.PI/180}return l},this)}function KG(t){var e=t.getRadiusAxis();var r=t.getAngleAxis();var i=e.getExtent();i[0]>i[1]&&i.reverse();return{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:i[1],r0:i[0]},api:{coord:function(i){var a=e.dataToRadius(i[0]);var n=r.dataToAngle(i[1]);var o=t.coordToPoint([a,n]);o.push(a,n*Math.PI/180);return o},size:F(qG,t)}}}function $G(t){var e=t.getRect();var r=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:r.start,end:r.end,weeks:r.weeks,dayCount:r.allDay}},api:{coord:function(e,r){return t.dataToPoint(e,r)}}}}var JG={};function QG(t,e,r,i){return t&&(t.legacy||t.legacy!==false&&!r&&!i&&e!=="tspan"&&(e==="text"||gt(t,"text")))}function tF(t,e,r){var i=t;var a;var n;var o;if(e==="text"){o=i}else{o={};gt(i,"text")&&(o.text=i.text);gt(i,"rich")&&(o.rich=i.rich);gt(i,"textFill")&&(o.fill=i.textFill);gt(i,"textStroke")&&(o.stroke=i.textStroke);gt(i,"fontFamily")&&(o.fontFamily=i.fontFamily);gt(i,"fontSize")&&(o.fontSize=i.fontSize);gt(i,"fontStyle")&&(o.fontStyle=i.fontStyle);gt(i,"fontWeight")&&(o.fontWeight=i.fontWeight);n={type:"text",style:o,silent:true};a={};var s=gt(i,"textPosition");if(r){a.position=s?i.textPosition:"inside"}else{s&&(a.position=i.textPosition)}gt(i,"textPosition")&&(a.position=i.textPosition);gt(i,"textOffset")&&(a.offset=i.textOffset);gt(i,"textRotation")&&(a.rotation=i.textRotation);gt(i,"textDistance")&&(a.distance=i.textDistance)}eF(o,t);R(o.rich,function(t){eF(t,t)});return{textConfig:a,textContent:n}}function eF(t,e){if(!e){return}e.font=e.textFont||e.font;gt(e,"textStrokeWidth")&&(t.lineWidth=e.textStrokeWidth);gt(e,"textAlign")&&(t.align=e.textAlign);gt(e,"textVerticalAlign")&&(t.verticalAlign=e.textVerticalAlign);gt(e,"textLineHeight")&&(t.lineHeight=e.textLineHeight);gt(e,"textWidth")&&(t.width=e.textWidth);gt(e,"textHeight")&&(t.height=e.textHeight);gt(e,"textBackgroundColor")&&(t.backgroundColor=e.textBackgroundColor);gt(e,"textPadding")&&(t.padding=e.textPadding);gt(e,"textBorderColor")&&(t.borderColor=e.textBorderColor);gt(e,"textBorderWidth")&&(t.borderWidth=e.textBorderWidth);gt(e,"textBorderRadius")&&(t.borderRadius=e.textBorderRadius);gt(e,"textBoxShadowColor")&&(t.shadowColor=e.textBoxShadowColor);gt(e,"textBoxShadowBlur")&&(t.shadowBlur=e.textBoxShadowBlur);gt(e,"textBoxShadowOffsetX")&&(t.shadowOffsetX=e.textBoxShadowOffsetX);gt(e,"textBoxShadowOffsetY")&&(t.shadowOffsetY=e.textBoxShadowOffsetY)}function rF(t,e,r){var i=t;i.textPosition=i.textPosition||r.position||"inside";r.offset!=null&&(i.textOffset=r.offset);r.rotation!=null&&(i.textRotation=r.rotation);r.distance!=null&&(i.textDistance=r.distance);var a=i.textPosition.indexOf("inside")>=0;var n=t.fill||"#000";iF(i,e);var o=i.textFill==null;if(a){if(o){i.textFill=r.insideFill||"#fff";!i.textStroke&&r.insideStroke&&(i.textStroke=r.insideStroke);!i.textStroke&&(i.textStroke=n);i.textStrokeWidth==null&&(i.textStrokeWidth=2)}}else{if(o){i.textFill=t.fill||r.outsideFill||"#000"}!i.textStroke&&r.outsideStroke&&(i.textStroke=r.outsideStroke)}i.text=e.text;i.rich=e.rich;R(e.rich,function(t){iF(t,t)});return i}function iF(t,e){if(!e){return}gt(e,"fill")&&(t.textFill=e.fill);gt(e,"stroke")&&(t.textStroke=e.fill);gt(e,"lineWidth")&&(t.textStrokeWidth=e.lineWidth);gt(e,"font")&&(t.font=e.font);gt(e,"fontStyle")&&(t.fontStyle=e.fontStyle);gt(e,"fontWeight")&&(t.fontWeight=e.fontWeight);gt(e,"fontSize")&&(t.fontSize=e.fontSize);gt(e,"fontFamily")&&(t.fontFamily=e.fontFamily);gt(e,"align")&&(t.textAlign=e.align);gt(e,"verticalAlign")&&(t.textVerticalAlign=e.verticalAlign);gt(e,"lineHeight")&&(t.textLineHeight=e.lineHeight);gt(e,"width")&&(t.textWidth=e.width);gt(e,"height")&&(t.textHeight=e.height);gt(e,"backgroundColor")&&(t.textBackgroundColor=e.backgroundColor);gt(e,"padding")&&(t.textPadding=e.padding);gt(e,"borderColor")&&(t.textBorderColor=e.borderColor);gt(e,"borderWidth")&&(t.textBorderWidth=e.borderWidth);gt(e,"borderRadius")&&(t.textBorderRadius=e.borderRadius);gt(e,"shadowColor")&&(t.textBoxShadowColor=e.shadowColor);gt(e,"shadowBlur")&&(t.textBoxShadowBlur=e.shadowBlur);gt(e,"shadowOffsetX")&&(t.textBoxShadowOffsetX=e.shadowOffsetX);gt(e,"shadowOffsetY")&&(t.textBoxShadowOffsetY=e.shadowOffsetY);gt(e,"textShadowColor")&&(t.textShadowColor=e.textShadowColor);gt(e,"textShadowBlur")&&(t.textShadowBlur=e.textShadowBlur);gt(e,"textShadowOffsetX")&&(t.textShadowOffsetX=e.textShadowOffsetX);gt(e,"textShadowOffsetY")&&(t.textShadowOffsetY=e.textShadowOffsetY)}function aF(t,e){if("development"!=="production"){var r=t+"^_^"+e;if(!JG[r]){console.warn('[ECharts] DEPRECATED: "'+t+'" has been deprecated. '+e);JG[r]=true}}}var nF={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]};function oF(t,e,r){var i=t[r];var a=nF[r];if(i){e[a[0]]=i[0];e[a[1]]=i[1]}}function sF(t,e,r){if(t[r]!=null){e[r]=t[r]}}function lF(t,e,r){if(r){t[e]=r[e]}}function uF(t,e,r,i,a){var n=r[t];if(!n){return}var o=e[t];var s;var l=n.enterFrom;if(a&&l){!s&&(s=i[t]={});var u=V(l);for(var f=0;f<u.length;f++){var h=u[f];s[h]=l[h]}}if(!a&&o){if(n.transition){!s&&(s=i[t]={});var v=yn(n.transition);for(var f=0;f<v.length;f++){var h=v[f];var c=o[h];if("development"!=="production"){pF(h,n[h],c)}s[h]=c}}else if(k(r.transition,t)>=0){!s&&(s=i[t]={});var p=V(o);for(var f=0;f<p.length;f++){var h=p[f];var c=o[h];if(dF(n[h],c)){s[h]=c}}}}var d=n.leaveTo;if(d){var g=yF(e);var y=g[t]||(g[t]={});var m=V(d);for(var f=0;f<m.length;f++){var h=m[f];y[h]=d[h]}}}function fF(t,e,r){var i=e[t];if(!i){return}var a=r[t]={};var n=V(i);for(var o=0;o<n.length;o++){var s=n[o];a[s]=Vr(i[s])}}function hF(t,e,r,i){var a=e.enterFrom;if(i&&a){var n=V(a);for(var o=0;o<n.length;o++){var s=n[o];if("development"!=="production"){gF(s,"el.enterFrom")}r[s]=a[s]}}if(!i){if(e.transition){var l=yn(e.transition);for(var o=0;o<l.length;o++){var s=l[o];if(s==="style"||s==="shape"||s==="extra"){continue}var u=t[s];if("development"!=="production"){gF(s,"el.transition");pF(s,e[s],u)}r[s]=u}}else{lF(r,"x",t);lF(r,"y",t)}}var f=e.leaveTo;if(f){var h=yF(t);var v=V(f);for(var o=0;o<v.length;o++){var s=v[o];if("development"!=="production"){gF(s,"el.leaveTo")}h[s]=f[s]}}}function vF(t,e,r){oF(e,r,"position");oF(e,r,"scale");oF(e,r,"origin");sF(e,r,"x");sF(e,r,"y");sF(e,r,"scaleX");sF(e,r,"scaleY");sF(e,r,"originX");sF(e,r,"originY");sF(e,r,"rotation")}function cF(t,e,r,i,a){if(!r){return}var n=t.style;var o;var s=r.enterFrom;if(a&&s){var l=V(s);!o&&(o=i.style={});for(var u=0;u<l.length;u++){var f=l[u];o[f]=s[f]}}if(!a&&n){if(r.transition){var h=yn(r.transition);!o&&(o=i.style={});for(var u=0;u<h.length;u++){var f=h[u];var v=n[f];o[f]=v}}else if(t.getAnimationStyleProps&&k(e.transition,"style")>=0){var c=t.getAnimationStyleProps();var p=c?c.style:null;if(p){!o&&(o=i.style={});var d=V(r);for(var u=0;u<d.length;u++){var f=d[u];if(p[f]){var v=n[f];o[f]=v}}}}}var g=r.leaveTo;if(g){var y=V(g);var m=yF(t);var x=m.style||(m.style={});for(var u=0;u<y.length;u++){var f=y[u];x[f]=g[f]}}}var pF;if("development"!=="production"){pF=function(t,e,r){if(!O(e)){st(e!=null&&isFinite(e),"Prop `"+t+"` must refer to a finite number or ArrayLike for transition.")}else{st(e!==r,"Prop `"+t+"` must use different Array object each time for transition.")}}}function dF(t,e){return!O(t)?t!=null&&isFinite(t):t!==e}var gF;if("development"!=="production"){gF=function(t,e){st(gt(BG,t),"Prop `"+t+"` is not a permitted in `"+e+"`. "+"Only `"+V(BG).join("`, `")+"` are permitted.")}}function yF(t){var e=FG(t);return e.leaveToProps||(e.leaveToProps={})}var mF=V(BG).join(", ");var xF="emphasis";var _F="normal";var bF="blur";var wF="select";var SF=[_F,xF,bF,wF];var MF={normal:["itemStyle"],emphasis:[xF,"itemStyle"],blur:[bF,"itemStyle"],select:[wF,"itemStyle"]};var IF={normal:["label"],emphasis:[xF,"label"],blur:[bF,"label"],select:[wF,"label"]};var TF="e\0\0";var CF={normal:{},emphasis:{},blur:{},select:{}};var DF={cartesian2d:UG,geo:XG,singleAxis:jG,polar:KG,calendar:$G};function AF(t){return t instanceof Sl}function kF(t){return t instanceof Wo}function LF(t,e){e.copyTransform(t);if(kF(e)&&kF(t)){e.setStyle(t.style);e.z=t.z;e.z2=t.z2;e.zlevel=t.zlevel;e.invisible=t.invisible;e.ignore=t.ignore;if(AF(e)&&AF(t)){e.setShape(t.shape)}}}var PF=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r,i){var a=this._data;var n=t.getData();var o=this.group;var s=YF(t,n,e,r);if(!a){o.removeAll()}n.diff(a).add(function(e){ZF(r,null,e,s(e,i),t,o,n)}).remove(function(e){oH(a.getItemGraphicEl(e),t,o)}).update(function(e,l){var u=a.getItemGraphicEl(l);ZF(r,u,e,s(e,i),t,o,n)}).execute();var l=t.get("clip",true)?dD(t.coordinateSystem,false,t):null;if(l){o.setClipPath(l)}else{o.removeClipPath()}this._data=n};e.prototype.incrementalPrepareRender=function(t,e,r){this.group.removeAll();this._data=null};e.prototype.incrementalRender=function(t,e,r,i,a){var n=e.getData();var o=YF(e,n,r,i);function s(t){if(!t.isGroup){t.incremental=true;t.ensureState("emphasis").hoverLayer=true}}for(var l=t.start;l<t.end;l++){var u=ZF(null,null,l,o(l,a),e,this.group,n);u&&u.traverse(s)}};e.prototype.filterForExposedEvent=function(t,e,r,i){var a=e.element;if(a==null||r.name===a){return true}while((r=r.__hostTarget||r.parent)&&r!==this.group){if(r.name===a){return true}}return false};e.type="custom";return e}(Xy);function OF(t){var e=t.type;var r;if(e==="path"){var i=t.shape;var a=i.width!=null&&i.height!=null?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null;var n=sH(i);r=qh(n,null,a,i.layout||"center");FG(r).customPathData=n}else if(e==="image"){r=new Al({});FG(r).customImagePath=t.style.image}else if(e==="text"){r=new Fl({})}else if(e==="group"){r=new ya}else if(e==="compoundPath"){throw new Error('"compoundPath" is not supported yet.')}else{var o=jh(e);if(!o){var s="";if("development"!=="production"){s='graphic type "'+e+'" can not be found.'}pn(s)}r=new o}FG(r).customGraphicType=e;r.name=t.name;r.z2EmphasisLift=1;r.z2SelectLift=1;return r}function RF(t,e,r,i,a,n,o,s){var l=a&&a.normal.cfg;if(l){e.setTextConfig(l)}var u=i&&i.style;if(u){if(e.type==="text"){var f=u;gt(f,"textFill")&&(f.fill=f.textFill);gt(f,"textStroke")&&(f.stroke=f.textStroke)}var h=void 0;var v=AF(e)?u.decal:null;if(t&&v){v.dirty=true;h=Yx(v,t)}u.__decalPattern=h}var c=FG(e);c.userDuring=i.during;var p={};var d={};uF("shape",e,i,p,o);fF("shape",i,d);hF(e,i,p,o);vF(e,i,d);uF("extra",e,i,p,o);fF("extra",i,d);cF(e,i,u,p,o);d.style=u;EF(e,d);zF(e,r,n,p,o);NF(e,i,s);u?e.dirty():e.markRedraw()}function NF(t,e,r){gt(e,"silent")&&(t.silent=e.silent);gt(e,"ignore")&&(t.ignore=e.ignore);if(kF(t)){gt(e,"invisible")&&(t.invisible=e.invisible)}if(AF(t)){gt(e,"autoBatch")&&(t.autoBatch=e.autoBatch)}if(!r){gt(e,"info")&&(FG(t).info=e.info)}}function EF(t,e){var r=t.isGroup?null:t;var i=e.style;if(r&&i){r.useStyle(i);var a=i.__decalPattern;if(a){r.style.decal=a}var n=r.animators;for(var o=0;o<n.length;o++){var s=n[o];if(s.targetName==="style"){s.changeTarget(r.style)}}}if(e){e.style=null;e&&t.attr(e);e.style=i}}function zF(t,e,r,i,a){if(i){var n=FG(t).userDuring;var o=n?F(FF,{el:t,userDuring:n}):null;var s={dataIndex:e,isFrom:true,during:o};a?Rh(t,i,r,s):Oh(t,i,r,s)}}var BF={};var VF={setTransform:function(t,e){if("development"!=="production"){st(gt(BG,t),"Only "+mF+" available in `setTransform`.")}BF.el[t]=e;return this},getTransform:function(t){if("development"!=="production"){st(gt(BG,t),"Only "+mF+" available in `getTransform`.")}return BF.el[t]},setShape:function(t,e){if("development"!=="production"){GF(t)}var r=BF.el.shape||(BF.el.shape={});r[t]=e;BF.isShapeDirty=true;return this},getShape:function(t){if("development"!=="production"){GF(t)}var e=BF.el.shape;if(e){return e[t]}},setStyle:function(t,e){if("development"!=="production"){GF(t)}var r=BF.el.style;if(r){if("development"!=="production"){if(et(e)){ln("style."+t+" must not be assigned with NaN.")}}r[t]=e;BF.isStyleDirty=true}return this},getStyle:function(t){if("development"!=="production"){GF(t)}var e=BF.el.style;if(e){return e[t]}},setExtra:function(t,e){if("development"!=="production"){GF(t)}var r=BF.el.extra||(BF.el.extra={});r[t]=e;return this},getExtra:function(t){if("development"!=="production"){GF(t)}var e=BF.el.extra;if(e){return e[t]}}};function GF(t){if("development"!=="production"){if(t==="transition"||t==="enterFrom"||t==="leaveTo"){throw new Error('key must not be "'+t+'"')}}}function FF(){var t=this;var e=t.el;if(!e){return}var r=FG(e).userDuring;var i=t.userDuring;if(r!==i){t.el=t.userDuring=null;return}BF.el=e;BF.isShapeDirty=false;BF.isStyleDirty=false;i(VF);if(BF.isShapeDirty&&e.dirtyShape){e.dirtyShape()}if(BF.isStyleDirty&&e.dirtyStyle){e.dirtyStyle()}}function HF(t,e,r,i,a,n,o){var s=e.isGroup?null:e;var l=a&&a[t].cfg;if(s){var u=s.ensureState(t);if(i===false){var f=s.getState(t);if(f){f.style=null}}else{u.style=i||null}if(l){u.textConfig=l}Pu(s)}}function WF(t,e,r){if(t.isGroup){return}var i=t;var a=r.currentZ;var n=r.currentZLevel;i.z=a;i.zlevel=n;var o=e.z2;o!=null&&(i.z2=o||0);for(var s=0;s<SF.length;s++){UF(i,e,SF[s])}}function UF(t,e,r){var i=r===_F;var a=i?e:QF(e,r);var n=a?a.z2:null;var o;if(n!=null){o=i?t:t.ensureState(r);o.z2=n||0}}function YF(t,e,r,i){var a=t.get("renderItem");var n=t.coordinateSystem;var o={};if(n){if("development"!=="production"){st(a,"series.render is required.");st(n.prepareCustoms||DF[n.type],"This coordSys does not support custom series.")}o=n.prepareCustoms?n.prepareCustoms(n):DF[n.type](n)}var s=D({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:_,style:w,ordinalRawValue:b,styleEmphasis:S,visual:T,barLayout:C,currentSeriesIndices:A,font:k},o.api||{});var l={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:o.coordSys,dataInsideLength:e.count(),encode:XF(t.getData())};var u;var f;var h={};var v={};var c={};var p={};for(var d=0;d<SF.length;d++){var g=SF[d];c[g]=t.getModel(MF[g]);p[g]=t.getModel(IF[g])}function y(t){return t===u?f||(f=e.getItemModel(t)):e.getItemModel(t)}function m(t,r){return!e.hasItemOption?c[r]:t===u?h[r]||(h[r]=y(t).getModel(MF[r])):y(t).getModel(MF[r])}function x(t,r){return!e.hasItemOption?p[r]:t===u?v[r]||(v[r]=y(t).getModel(IF[r])):y(t).getModel(IF[r])}return function(t,r){u=t;f=null;h={};v={};return a&&a(D({dataIndexInside:t,dataIndex:e.getRawIndex(t),actionType:r?r.type:null},l),s)};function _(t,r){r==null&&(r=u);return e.getStore().get(e.getDimensionIndex(t||0),r)}function b(t,r){r==null&&(r=u);t=t||0;var i=e.getDimensionInfo(t);if(!i){var a=e.getDimensionIndex(t);return a>=0?e.getStore().get(a,r):undefined}var n=e.get(i.name,r);var o=i&&i.ordinalMeta;return o?o.categories[n]:n}function w(r,i){if("development"!=="production"){aF("api.style","Please write literal style directly instead.")}i==null&&(i=u);var a=e.getItemVisual(i,"style");var n=a&&a.fill;var o=a&&a.opacity;var s=m(i,_F).getItemStyle();n!=null&&(s.fill=n);o!=null&&(s.opacity=o);var l={inheritColor:Y(n)?n:"#000"};var f=x(i,_F);var h=Sv(f,null,l,false,true);h.text=f.getShallow("show")?it(t.getFormattedLabel(i,_F),WC(e,i)):null;var v=Mv(f,l,false);I(r,s);s=rF(s,h,v);r&&M(s,r);s.legacy=true;return s}function S(r,i){if("development"!=="production"){aF("api.styleEmphasis","Please write literal style directly instead.")}i==null&&(i=u);var a=m(i,xF).getItemStyle();var n=x(i,xF);var o=Sv(n,null,null,true,true);o.text=n.getShallow("show")?at(t.getFormattedLabel(i,xF),t.getFormattedLabel(i,_F),WC(e,i)):null;var s=Mv(n,null,true);I(r,a);a=rF(a,o,s);r&&M(a,r);a.legacy=true;return a}function M(t,e){for(var r in e){if(gt(e,r)){t[r]=e[r]}}}function I(t,e){if(t){t.textFill&&(e.textFill=t.textFill);t.textPosition&&(e.textPosition=t.textPosition)}}function T(t,r){r==null&&(r=u);if(gt(VG,t)){var i=e.getItemVisual(r,"style");return i?i[VG[t]]:null}if(gt(GG,t)){return e.getItemVisual(r,t)}}function C(t){if(n.type==="cartesian2d"){var e=n.getBaseAxis();return lM(D({axis:e},t))}}function A(){return r.getCurrentSeriesIndices()}function k(t){return Lv(t,r)}}function XF(t){var e={};R(t.dimensions,function(r){var i=t.getDimensionInfo(r);if(!i.isExtraCoord){var a=i.coordDim;var n=e[a]=e[a]||[];n[i.coordDimIndex]=t.getDimensionIndex(r)}});return e}function ZF(t,e,r,i,a,n,o){if(!i){n.remove(e);return}var s=jF(t,e,r,i,a,n);s&&o.setItemGraphicEl(r,s);s&&Ju(s,i.focus,i.blurScope);return s}function jF(t,e,r,i,a,n,o){if("development"!=="production"){st(i,"should not have an null/undefined element setting")}var s=-1;var l=e;if(e&&qF(e,i,a)){s=k(n.childrenRef(),e);e=null}var u=!e;var f=e;if(!f){f=OF(i);if(l){LF(l,f)}}else{f.clearStates()}if(i.morph===false){f.disableMorphing=true}else if(f.disableMorphing){f.disableMorphing=false}CF.normal.cfg=CF.normal.conOpt=CF.emphasis.cfg=CF.emphasis.conOpt=CF.blur.cfg=CF.blur.conOpt=CF.select.cfg=CF.select.conOpt=null;CF.isLegacy=false;$F(f,r,i,a,u,CF);KF(f,r,i,a,u);RF(t,f,r,i,CF,a,u,false);for(var h=0;h<SF.length;h++){var v=SF[h];if(v!==_F){var c=QF(i,v);var p=tH(i,c,v);HF(v,f,c,p,CF)}}WF(f,i,a);if(i.type==="group"){eH(t,f,r,i,a)}if(s>=0){n.replaceAt(f,s)}else{n.add(f)}return f}function qF(t,e,r){var i=FG(t);var a=e.type;var n=e.shape;var o=e.style;return r.isUniversalTransitionEnabled()||a!=null&&a!==i.customGraphicType||a==="path"&&lH(n)&&sH(n)!==i.customPathData||a==="image"&&gt(o,"image")&&o.image!==i.customImagePath}function KF(t,e,r,i,a){var n=r.clipPath;if(n===false){if(t&&t.getClipPath()){t.removeClipPath()}}else if(n){var o=t.getClipPath();if(o&&qF(o,n,i)){o=null}if(!o){o=OF(n);if("development"!=="production"){st(AF(o),"Only any type of `path` can be used in `clipPath`, rather than "+o.type+".")}t.setClipPath(o)}RF(null,o,e,n,null,i,a,false)}}function $F(t,e,r,i,a,n){if(t.isGroup){return}JF(r,null,n);JF(r,xF,n);var o=n.normal.conOpt;var s=n.emphasis.conOpt;var l=n.blur.conOpt;var u=n.select.conOpt;if(o!=null||s!=null||u!=null||l!=null){var f=t.getTextContent();if(o===false){f&&t.removeTextContent()}else{o=n.normal.conOpt=o||{type:"text"};if(!f){f=OF(o);t.setTextContent(f)}else{f.clearStates()}RF(null,f,e,o,null,i,a,true);var h=o&&o.style;for(var v=0;v<SF.length;v++){var c=SF[v];if(c!==_F){var p=n[c].conOpt;HF(c,f,p,tH(o,p,c),null)}}h?f.dirty():f.markRedraw()}}}function JF(t,e,r){var i=!e?t:QF(t,e);var a=!e?t.style:tH(t,i,xF);var n=t.type;var o=i?i.textConfig:null;var s=t.textContent;var l=!s?null:!e?s:QF(s,e);if(a&&(r.isLegacy||QG(a,n,!!o,!!l))){r.isLegacy=true;var u=tF(a,n,!e);if(!o&&u.textConfig){o=u.textConfig}if(!l&&u.textContent){l=u.textContent}}if(!e&&l){var f=l;!f.type&&(f.type="text");if("development"!=="production"){st(f.type==="text",'textContent.type must be "text"')}}var h=!e?r.normal:r[e];h.cfg=o;h.conOpt=l}function QF(t,e){return!e?t:t?t[e]:null}function tH(t,e,r){var i=e&&e.style;if(i==null&&r===xF&&t){i=t.styleEmphasis}return i}function eH(t,e,r,i,a){var n=i.children;var o=n?n.length:0;var s=i.$mergeChildren;var l=s==="byName"||i.diffChildrenByName;var u=s===false;if(!o&&!l&&!u){return}if(l){rH({api:t,oldChildren:e.children()||[],newChildren:n||[],dataIndex:r,seriesModel:a,group:e});return}u&&e.removeAll();var f=0;for(;f<o;f++){n[f]&&jF(t,e.childAt(f),r,n[f],a,e)}for(var h=e.childCount()-1;h>=f;h--){oH(e.childAt(h),a,e)}}function rH(t){new qw(t.oldChildren,t.newChildren,iH,iH,t).add(aH).update(aH).remove(nH).execute()}function iH(t,e){var r=t&&t.name;return r!=null?r:TF+e}function aH(t,e){var r=this.context;var i=t!=null?r.newChildren[t]:null;var a=e!=null?r.oldChildren[e]:null;jF(r.api,a,r.dataIndex,i,r.seriesModel,r.group)}function nH(t){var e=this.context;var r=e.oldChildren[t];oH(r,e.seriesModel,e.group)}function oH(t,e,r){if(t){var i=FG(t).leaveToProps;i?Oh(t,i,e,{cb:function(){r.remove(t)}}):r.remove(t)}}function sH(t){return t&&(t.pathData||t.d)}function lH(t){return t&&(gt(t,"pathData")||gt(t,"d"))}function uH(t){t.registerChartView(PF);t.registerSeriesModel(HG)}var fH=Fn();var hH=M;var vH=F;var cH=function(){function t(){this._dragging=false;this.animationThreshold=15}t.prototype.render=function(t,e,r,i){var a=e.get("value");var n=e.get("status");this._axisModel=t;this._axisPointerModel=e;this._api=r;if(!i&&this._lastValue===a&&this._lastStatus===n){return}this._lastValue=a;this._lastStatus=n;var o=this._group;var s=this._handle;if(!n||n==="hide"){o&&o.hide();s&&s.hide();return}o&&o.show();s&&s.show();var l={};this.makeElOption(l,a,t,e,r);var u=l.graphicKey;if(u!==this._lastGraphicKey){this.clear(r)}this._lastGraphicKey=u;var f=this._moveAnimation=this.determineAnimation(t,e);if(!o){o=this._group=new ya;this.createPointerEl(o,l,t,e);this.createLabelEl(o,l,t,e);r.getZr().add(o)}else{var h=H(pH,e,f);this.updatePointerEl(o,l,h);this.updateLabelEl(o,l,h,e)}mH(o,e,true);this._renderHandle(a)};t.prototype.remove=function(t){this.clear(t)};t.prototype.dispose=function(t){this.clear(t)};t.prototype.determineAnimation=function(t,e){var r=e.get("animation");var i=t.axis;var a=i.type==="category";var n=e.get("snap");if(!n&&!a){return false}if(r==="auto"||r==null){var o=this.animationThreshold;if(a&&i.getBandWidth()>o){return true}if(n){var s=Nk(t).seriesDataCount;var l=i.getExtent();return Math.abs(l[0]-l[1])/s>o}return false}return r===true};t.prototype.makeElOption=function(t,e,r,i,a){};t.prototype.createPointerEl=function(t,e,r,i){var a=e.pointer;if(a){var n=fH(t).pointerEl=new yv[a.type](hH(e.pointer));t.add(n)}};t.prototype.createLabelEl=function(t,e,r,i){if(e.label){var a=fH(t).labelEl=new Fl(hH(e.label));t.add(a);gH(a,i)}};t.prototype.updatePointerEl=function(t,e,r){var i=fH(t).pointerEl;if(i&&e.pointer){i.setStyle(e.pointer.style);r(i,{shape:e.pointer.shape})}};t.prototype.updateLabelEl=function(t,e,r,i){var a=fH(t).labelEl;if(a){a.setStyle(e.label.style);r(a,{x:e.label.x,y:e.label.y});gH(a,i)}};t.prototype._renderHandle=function(t){if(this._dragging||!this.updateHandleTransform){return}var e=this._axisPointerModel;var r=this._api.getZr();var i=this._handle;var a=e.getModel("handle");var n=e.get("status");if(!a.get("show")||!n||n==="hide"){i&&r.remove(i);this._handle=null;return}var o;if(!this._handle){o=true;i=this._handle=hv(a.get("icon"),{cursor:"move",draggable:true,onmousemove:function(t){pe(t.event)},onmousedown:vH(this._onHandleDragMove,this,0,0),drift:vH(this._onHandleDragMove,this),ondragend:vH(this._onHandleDragEnd,this)});r.add(i)}mH(i,e,false);i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=a.get("size");if(!W(s)){s=[s,s]}i.scaleX=s[0]/2;i.scaleY=s[1]/2;rm(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate");this._moveHandleToValue(t,o)};t.prototype._moveHandleToValue=function(t,e){pH(this._axisPointerModel,!e&&this._moveAnimation,this._handle,yH(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))};t.prototype._onHandleDragMove=function(t,e){var r=this._handle;if(!r){return}this._dragging=true;var i=this.updateHandleTransform(yH(r),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i;r.stopAnimation();r.attr(yH(i));fH(r).lastProp=null;this._doDispatchAxisPointer()};t.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(!t){return}var e=this._payloadInfo;var r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})};t.prototype._onHandleDragEnd=function(){this._dragging=false;var t=this._handle;if(!t){return}var e=this._axisPointerModel.get("value");this._moveHandleToValue(e);this._api.dispatchAction({type:"hideTip"})};t.prototype.clear=function(t){this._lastValue=null;this._lastStatus=null;var e=t.getZr();var r=this._group;var i=this._handle;if(e&&r){this._lastGraphicKey=null;r&&e.remove(r);i&&e.remove(i);this._group=null;this._handle=null;this._payloadInfo=null}};t.prototype.doClear=function(){};t.prototype.buildLabel=function(t,e,r){r=r||0;return{x:t[r],y:t[1-r],width:e[r],height:e[1-r]}};return t}();function pH(t,e,r,i){if(!dH(fH(r).lastProp,i)){fH(r).lastProp=i;e?Oh(r,i,t):(r.stopAnimation(),r.attr(i))}}function dH(t,e){if(j(t)&&j(e)){var r=true;R(e,function(e,i){r=r&&dH(t[i],e)});return!!r}else{return t===e}}function gH(t,e){t[e.get(["label","show"])?"show":"hide"]()}function yH(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function mH(t,e,r){var i=e.get("z");var a=e.get("zlevel");t&&t.traverse(function(t){if(t.type!=="group"){i!=null&&(t.z=i);a!=null&&(t.zlevel=a);t.silent=r}})}function xH(t){var e=t.get("type");var r=t.getModel(e+"Style");var i;if(e==="line"){i=r.getLineStyle();i.fill=null}else if(e==="shadow"){i=r.getAreaStyle();i.stroke=null}return i}function _H(t,e,r,i,a){var n=r.get("value");var o=wH(n,e.axis,e.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])});var s=r.getModel("label");var l=Wc(s.get("padding")||0);var u=s.getFont();var f=ta(o,u);var h=a.position;var v=f.width+l[1]+l[3];var c=f.height+l[0]+l[2];var p=a.align;p==="right"&&(h[0]-=v);p==="center"&&(h[0]-=v/2);var d=a.verticalAlign;d==="bottom"&&(h[1]-=c);d==="middle"&&(h[1]-=c/2);bH(h,v,c,i);var g=s.get("backgroundColor");if(!g||g==="auto"){g=e.get(["axisLine","lineStyle","color"])}t.label={x:h[0],y:h[1],style:Sv(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:g}),z2:10}}function bH(t,e,r,i){var a=i.getWidth();var n=i.getHeight();t[0]=Math.min(t[0]+e,a)-e;t[1]=Math.min(t[1]+r,n)-r;t[0]=Math.max(t[0],0);t[1]=Math.max(t[1],0)}function wH(t,e,r,i,a){t=e.scale.parse(t);var n=e.scale.getLabel({value:t},{precision:a.precision});var o=a.formatter;if(o){var s={value:$M(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};R(i,function(t){var e=r.getSeriesByIndex(t.seriesIndex);var i=t.dataIndexInside;var a=e&&e.getDataParams(i);a&&s.seriesData.push(a)});if(Y(o)){n=o.replace("{value}",n)}else if(U(o)){n=o(s)}}return n}function SH(t,e,r){var i=yi();wi(i,i,r.rotation);bi(i,i,r.position);return av([t.dataToCoord(e),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],i)}function MH(t,e,r,i,a,n){var o=yk.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=a.get(["label","margin"]);_H(e,i,a,n,{position:SH(i.axis,t,r),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function IH(t,e,r){r=r||0;return{x1:t[r],y1:t[1-r],x2:e[r],y2:e[1-r]}}function TH(t,e,r){r=r||0;return{x:t[r],y:t[1-r],width:e[r],height:e[1-r]}}function CH(t,e,r,i,a,n){return{cx:t,cy:e,r0:r,r:i,startAngle:a,endAngle:n,clockwise:true}}var DH=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.makeElOption=function(t,e,r,i,a){var n=r.axis;var o=n.grid;var s=i.get("type");var l=AH(o,n).getOtherAxis(n).getGlobalExtent();var u=n.toGlobalCoord(n.dataToCoord(e,true));if(s&&s!=="none"){var f=xH(i);var h=kH[s](n,u,l);h.style=f;t.graphicKey=h.type;t.pointer=h}var v=lk(o.model,r);MH(e,t,v,r,i,a)};e.prototype.getHandleTransform=function(t,e,r){var i=lk(e.axis.grid.model,e,{labelInside:false});i.labelMargin=r.get(["handle","margin"]);var a=SH(e.axis,t,i);return{x:a[0],y:a[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}};e.prototype.updateHandleTransform=function(t,e,r,i){var a=r.axis;var n=a.grid;var o=a.getGlobalExtent(true);var s=AH(n,a).getOtherAxis(a).getGlobalExtent();var l=a.dim==="x"?0:1;var u=[t.x,t.y];u[l]+=e[l];u[l]=Math.min(o[1],u[l]);u[l]=Math.max(o[0],u[l]);var f=(s[1]+s[0])/2;var h=[f,f];h[l]=u[l];var v=[{verticalAlign:"middle"},{align:"center"}];return{x:u[0],y:u[1],rotation:t.rotation,cursorPoint:h,tooltipOption:v[l]}};return e}(cH);function AH(t,e){var r={};r[e.dim+"AxisIndex"]=e.index;return t.getCartesian(r)}var kH={line:function(t,e,r){var i=IH([e,r[0]],[e,r[1]],LH(t));return{type:"Line",subPixelOptimize:true,shape:i}},shadow:function(t,e,r){var i=Math.max(1,t.getBandWidth());var a=r[1]-r[0];return{type:"Rect",shape:TH([e-i/2,r[0]],[i,a],LH(t))}}};function LH(t){return t.dim==="x"?0:1}var PH=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="axisPointer";e.defaultOption={show:"auto",zlevel:0,z:50,type:"line",snap:false,triggerTooltip:true,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:true,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:false,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}};return e}(xp);var OH=Fn();var RH=R;function NH(t,e,r){if(s.node){return}var i=e.getZr();OH(i).records||(OH(i).records={});EH(i,e);var a=OH(i).records[t]||(OH(i).records[t]={});a.handler=r}function EH(t,e){if(OH(t).initialized){return}OH(t).initialized=true;r("click",H(VH,"click"));r("mousemove",H(VH,"mousemove"));r("globalout",BH);function r(r,i){t.on(r,function(r){var a=GH(e);RH(OH(t).records,function(t){t&&i(t,r,a.dispatchAction)});zH(a.pendings,e)})}}function zH(t,e){var r=t.showTip.length;var i=t.hideTip.length;var a;if(r){a=t.showTip[r-1]}else if(i){a=t.hideTip[i-1]}if(a){a.dispatchAction=null;e.dispatchAction(a)}}function BH(t,e,r){t.handler("leave",null,r)}function VH(t,e,r,i){e.handler(t,r,i)}function GH(t){var e={showTip:[],hideTip:[]};var r=function(i){var a=e[i.type];if(a){a.push(i)}else{i.dispatchAction=r;t.dispatchAction(i)}};return{dispatchAction:r,pendings:e}}function FH(t,e){if(s.node){return}var r=e.getZr();var i=(OH(r).records||{})[t];if(i){OH(r).records[t]=null}}var HH=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=e.getComponent("tooltip");var a=t.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";NH("axisPointer",r,function(t,e,r){if(a!=="none"&&(t==="leave"||a.indexOf(t)>=0)){r({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}})};e.prototype.remove=function(t,e){FH("axisPointer",e)};e.prototype.dispose=function(t,e){FH("axisPointer",e)};e.type="axisPointer";return e}(Hy);function WH(t,e){var r=[];var i=t.seriesIndex;var a;if(i==null||!(a=e.getSeriesByIndex(i))){return{point:[]}}var n=a.getData();var o=Gn(n,t);if(o==null||o<0||W(o)){return{point:[]}}var s=n.getItemGraphicEl(o);var l=a.coordinateSystem;if(a.getTooltipPosition){r=a.getTooltipPosition(o)||[]}else if(l&&l.dataToPoint){if(t.isStacked){var u=l.getBaseAxis();var f=l.getOtherAxis(u);var h=f.dim;var v=u.dim;var c=h==="x"||h==="radius"?1:0;var p=n.mapDimension(v);var d=[];d[c]=n.get(p,o);d[1-c]=n.get(n.getCalculationInfo("stackResultDimension"),o);r=l.dataToPoint(d)||[]}else{r=l.dataToPoint(n.getValues(N(l.dimensions,function(t){return n.mapDimension(t)}),o))||[]}}else if(s){var g=s.getBoundingRect().clone();g.applyTransform(s.transform);r=[g.x+g.width/2,g.y+g.height/2]}return{point:r,el:s}}var UH=Fn();function YH(t,e,r){var i=t.currTrigger;var a=[t.x,t.y];var n=t;var o=t.dispatchAction||F(r.dispatchAction,r);var s=e.getComponent("axisPointer").coordSysAxesInfo;if(!s){return}if(eW(a)){a=WH({seriesIndex:n.seriesIndex,dataIndex:n.dataIndex},e).point}var l=eW(a);var u=n.axesInfo;var f=s.axesInfo;var h=i==="leave"||eW(a);var v={};var c={};var p={list:[],map:{}};var d={showPointer:H(jH,c),showTooltip:H(qH,p)};R(s.coordSysMap,function(t,e){var r=l||t.containPoint(a);R(s.coordSysAxesInfo[e],function(t,e){var i=t.axis;var n=QH(u,t);if(!h&&r&&(!u||n)){var o=n&&n.value;if(o==null&&!l){o=i.pointToData(a)}o!=null&&XH(t,o,d,false,v)}})});var g={};R(f,function(t,e){var r=t.linkGroup;if(r&&!c[e]){R(r.axesInfo,function(e,i){var a=c[i];if(e!==t&&a){var n=a.value;r.mapper&&(n=t.axis.scale.parse(r.mapper(n,tW(e),tW(t))));g[t.key]=n}})}});R(g,function(t,e){XH(f[e],t,d,true,v)});KH(c,f,v);$H(p,a,t,o);JH(f,o,r);return v}function XH(t,e,r,i,a){var n=t.axis;if(n.scale.isBlank()||!n.containData(e)){return}if(!t.involveSeries){r.showPointer(t,e);return}var o=ZH(e,t);var s=o.payloadBatch;var l=o.snapToValue;if(s[0]&&a.seriesIndex==null){C(a,s[0])}if(!i&&t.snap){if(n.containData(l)&&l!=null){e=l}}r.showPointer(t,e,s);r.showTooltip(t,o,l)}function ZH(t,e){var r=e.axis;var i=r.dim;var a=t;var n=[];var o=Number.MAX_VALUE;var s=-1;R(e.seriesModels,function(e,l){var u=e.getData().mapDimensionsAll(i);var f;var h;if(e.getAxisTooltipData){var v=e.getAxisTooltipData(u,t,r);h=v.dataIndices;f=v.nestestValue}else{h=e.getData().indicesOfNearest(u[0],t,r.type==="category"?.5:null);if(!h.length){return}f=e.getData().get(u[0],h[0])}if(f==null||!isFinite(f)){return}var c=t-f;var p=Math.abs(c);if(p<=o){if(p<o||c>=0&&s<0){o=p;s=c;a=f;n.length=0}R(h,function(t){n.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})}});return{payloadBatch:n,snapToValue:a}}function jH(t,e,r,i){t[e.key]={value:r,payloadBatch:i}}function qH(t,e,r,i){var a=r.payloadBatch;var n=e.axis;var o=n.model;var s=e.axisPointerModel;if(!e.triggerTooltip||!a.length){return}var l=e.coordSys.model;var u=Bk(l);var f=t.map[u];if(!f){f=t.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]};t.list.push(f)}f.dataByAxis.push({axisDim:n.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:i,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:a.slice()})}function KH(t,e,r){var i=r.axesInfo=[];R(e,function(e,r){var a=e.axisPointerModel.option;var n=t[r];if(n){!e.useHandle&&(a.status="show");a.value=n.value;a.seriesDataIndices=(n.payloadBatch||[]).slice()}else{!e.useHandle&&(a.status="hide")}a.status==="show"&&i.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:a.value})})}function $H(t,e,r,i){if(eW(e)||!t.list.length){i({type:"hideTip"});return}var a=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:true,x:e[0],y:e[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:t.list})}function JH(t,e,r){var i=r.getZr();var a="axisPointerLastHighlights";var n=UH(i)[a]||{};var o=UH(i)[a]={};R(t,function(t,e){var r=t.axisPointerModel.option;r.status==="show"&&R(r.seriesDataIndices,function(t){var e=t.seriesIndex+" | "+t.dataIndex;o[e]=t})});var s=[];var l=[];R(n,function(t,e){!o[e]&&l.push(t)});R(o,function(t,e){!n[e]&&s.push(t)});l.length&&r.dispatchAction({type:"downplay",escapeConnect:true,notBlur:true,batch:l});s.length&&r.dispatchAction({type:"highlight",escapeConnect:true,notBlur:true,batch:s})}function QH(t,e){for(var r=0;r<(t||[]).length;r++){var i=t[r];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex){return i}}}function tW(t){var e=t.axis.model;var r={};var i=r.axisDim=t.axis.dim;r.axisIndex=r[i+"AxisIndex"]=e.componentIndex;r.axisName=r[i+"AxisName"]=e.name;r.axisId=r[i+"AxisId"]=e.id;return r}function eW(t){return!t||t[0]==null||isNaN(t[0])||t[1]==null||isNaN(t[1])}function rW(t){Gk.registerAxisPointerClass("CartesianAxisPointer",DH);t.registerComponentModel(PH);t.registerComponentView(HH);t.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var e=t.axisPointer.link;if(e&&!W(e)){t.axisPointer.link=[e]}}});t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=Dk(t,e)});t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},YH)}function iW(t){Xw(Jk);Xw(rW)}var aW=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.makeElOption=function(t,e,r,i,a){var n=r.axis;if(n.dim==="angle"){this.animationThreshold=Math.PI/18}var o=n.polar;var s=o.getOtherAxis(n);var l=s.getExtent();var u=n.dataToCoord(e);var f=i.get("type");if(f&&f!=="none"){var h=xH(i);var v=oW[f](n,o,u,l);v.style=h;t.graphicKey=v.type;t.pointer=v}var c=i.get(["label","margin"]);var p=nW(e,r,i,o,c);_H(t,r,i,a,p)};return e}(cH);function nW(t,e,r,i,a){var n=e.axis;var o=n.dataToCoord(t);var s=i.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l=i.getRadiusAxis().getExtent();var u;var f;var h;if(n.dim==="radius"){var v=yi();wi(v,v,s);bi(v,v,[i.cx,i.cy]);u=av([o,-a],v);var c=e.getModel("axisLabel").get("rotate")||0;var p=yk.innerTextLayout(s,c*Math.PI/180,-1);f=p.textAlign;h=p.textVerticalAlign}else{var d=l[1];u=i.coordToPoint([d+a,o]);var g=i.cx;var y=i.cy;f=Math.abs(u[0]-g)/d<.3?"center":u[0]>g?"left":"right";h=Math.abs(u[1]-y)/d<.3?"middle":u[1]>y?"top":"bottom"}return{position:u,align:f,verticalAlign:h}}var oW={line:function(t,e,r,i){return t.dim==="angle"?{type:"Line",shape:IH(e.coordToPoint([i[0],r]),e.coordToPoint([i[1],r]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:r}}},shadow:function(t,e,r,i){var a=Math.max(1,t.getBandWidth());var n=Math.PI/180;return t.dim==="angle"?{type:"Sector",shape:CH(e.cx,e.cy,i[0],i[1],(-r-a/2)*n,(-r+a/2)*n)}:{type:"Sector",shape:CH(e.cx,e.cy,r-a/2,r+a/2,0,Math.PI*2)}}};var sW=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.findAxisModel=function(t){var e;var r=this.ecModel;r.eachComponent(t,function(t){if(t.getCoordSysModel()===this){e=t}},this);return e};e.type="polar";e.dependencies=["radiusAxis","angleAxis"];e.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"80%"};return e}(xp);var lW=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Yn).models[0]};e.type="polarAxis";return e}(xp);P(lW,aI);var uW=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="angleAxis";return e}(lW);var fW=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="radiusAxis";return e}(lW);var hW=function(t){r(e,t);function e(e,r){return t.call(this,"radius",e,r)||this}e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)[this.dim==="radius"?0:1]};return e}(PI);hW.prototype.dataToRadius=PI.prototype.dataToCoord;hW.prototype.radiusToData=PI.prototype.coordToData;var vW=Fn();var cW=function(t){r(e,t);function e(e,r){return t.call(this,"angle",e,r||[0,360])||this}e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)[this.dim==="radius"?0:1]};e.prototype.calculateCategoryInterval=function(){var t=this;var e=t.getLabelModel();var r=t.scale;var i=r.getExtent();var a=r.count();if(i[1]-i[0]<1){return 0}var n=i[0];var o=t.dataToCoord(n+1)-t.dataToCoord(n);var s=Math.abs(o);var l=ta(n==null?"":n+"",e.getFont(),"center","top");var u=Math.max(l.height,7);var f=u/s;isNaN(f)&&(f=Infinity);var h=Math.max(0,Math.floor(f));var v=vW(t.model);var c=v.lastAutoInterval;var p=v.lastTickCount;if(c!=null&&p!=null&&Math.abs(c-h)<=1&&Math.abs(p-a)<=1&&c>h){h=c}else{v.lastTickCount=a;v.lastAutoInterval=h}return h};return e}(PI);cW.prototype.dataToAngle=PI.prototype.dataToCoord;cW.prototype.angleToData=PI.prototype.coordToData;var pW=["radius","angle"];var dW=function(){function t(t){this.dimensions=pW;this.type="polar";this.cx=0;this.cy=0;this._radiusAxis=new hW;this._angleAxis=new cW;this.axisPointerEnabled=true;this.name=t||"";this._radiusAxis.polar=this._angleAxis.polar=this}t.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])};t.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])};t.prototype.getAxis=function(t){var e="_"+t+"Axis";return this[e]};t.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]};t.prototype.getAxesByScale=function(t){var e=[];var r=this._angleAxis;var i=this._radiusAxis;r.scale.type===t&&e.push(r);i.scale.type===t&&e.push(i);return e};t.prototype.getAngleAxis=function(){return this._angleAxis};t.prototype.getRadiusAxis=function(){return this._radiusAxis};t.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e};t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()};t.prototype.getTooltipAxes=function(t){var e=t!=null&&t!=="auto"?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}};t.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])};t.prototype.pointToData=function(t,e){var r=this.pointToCoord(t);return[this._radiusAxis.radiusToData(r[0],e),this._angleAxis.angleToData(r[1],e)]};t.prototype.pointToCoord=function(t){var e=t[0]-this.cx;var r=t[1]-this.cy;var i=this.getAngleAxis();var a=i.getExtent();var n=Math.min(a[0],a[1]);var o=Math.max(a[0],a[1]);i.inverse?n=o-360:o=n+360;var s=Math.sqrt(e*e+r*r);e/=s;r/=s;var l=Math.atan2(-r,e)/Math.PI*180;var u=l<n?1:-1;while(l<n||l>o){l+=u*360}return[s,l]};t.prototype.coordToPoint=function(t){var e=t[0];var r=t[1]/180*Math.PI;var i=Math.cos(r)*e+this.cx;var a=-Math.sin(r)*e+this.cy;return[i,a]};t.prototype.getArea=function(){var t=this.getAngleAxis();var e=this.getRadiusAxis();var r=e.getExtent().slice();r[0]>r[1]&&r.reverse();var i=t.getExtent();var a=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:t.inverse,contain:function(t,e){var r=t-this.cx;var i=e-this.cy;var a=r*r+i*i;var n=this.r;var o=this.r0;return a<=n*n&&a>=o*o}}};t.prototype.convertToPixel=function(t,e,r){var i=gW(e);return i===this?this.dataToPoint(r):null};t.prototype.convertFromPixel=function(t,e,r){var i=gW(e);return i===this?this.pointToData(r):null};return t}();function gW(t){var e=t.seriesModel;var r=t.polarModel;return r&&r.coordinateSystem||e&&e.coordinateSystem}function yW(t,e,r){var i=e.get("center");var a=r.getWidth();var n=r.getHeight();t.cx=Na(i[0],a);t.cy=Na(i[1],n);var o=t.getRadiusAxis();var s=Math.min(a,n)/2;var l=e.get("radius");if(l==null){l=[0,"100%"]}else if(!W(l)){l=[0,l]}var u=[Na(l[0],s),Na(l[1],s)];o.inverse?o.setExtent(u[1],u[0]):o.setExtent(u[0],u[1])}function mW(t,e){var r=this;var i=r.getAngleAxis();var a=r.getRadiusAxis();i.scale.setExtent(Infinity,-Infinity);a.scale.setExtent(Infinity,-Infinity);t.eachSeries(function(t){if(t.coordinateSystem===r){var e=t.getData();R(rI(e,"radius"),function(t){a.scale.unionExtentFromData(e,t)});R(rI(e,"angle"),function(t){i.scale.unionExtentFromData(e,t)})}});ZM(i.scale,i.model);ZM(a.scale,a.model);if(i.type==="category"&&!i.onBand){var n=i.getExtent();var o=360/i.scale.count();i.inverse?n[1]+=o:n[1]-=o;i.setExtent(n[0],n[1])}}function xW(t){return t.mainType==="angleAxis"}function _W(t,e){t.type=e.get("type");t.scale=jM(e);t.onBand=e.get("boundaryGap")&&t.type==="category";t.inverse=e.get("inverse");if(xW(e)){t.inverse=t.inverse!==e.get("clockwise");var r=e.get("startAngle");t.setExtent(r,r+(t.inverse?-360:360))}e.axis=t;t.model=e}var bW={dimensions:pW,create:function(t,e){var r=[];t.eachComponent("polar",function(t,i){var a=new dW(i+"");a.update=mW;var n=a.getRadiusAxis();var o=a.getAngleAxis();var s=t.findAxisModel("radiusAxis");var l=t.findAxisModel("angleAxis");_W(n,s);_W(o,l);yW(a,t,e);r.push(a);t.coordinateSystem=a;a.model=t});t.eachSeries(function(t){if(t.get("coordinateSystem")==="polar"){var e=t.getReferringComponents("polar",Yn).models[0];if("development"!=="production"){if(!e){throw new Error('Polar "'+rt(t.get("polarIndex"),t.get("polarId"),0)+'" not found')}}t.coordinateSystem=e.coordinateSystem}});return r}};var wW=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function SW(t,e,r){e[1]>e[0]&&(e=e.slice().reverse());var i=t.coordToPoint([e[0],r]);var a=t.coordToPoint([e[1],r]);return{x1:i[0],y1:i[1],x2:a[0],y2:a[1]}}function MW(t){var e=t.getRadiusAxis();return e.inverse?0:1}function IW(t){var e=t[0];var r=t[t.length-1];if(e&&r&&Math.abs(Math.abs(e.coord-r.coord)-360)<1e-4){t.pop()}}var TW=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.axisPointerClass="PolarAxisPointer";return r}e.prototype.render=function(t,e){this.group.removeAll();if(!t.get("show")){return}var r=t.axis;var i=r.polar;var a=i.getRadiusAxis().getExtent();var n=r.getTicksCoords();var o=r.getMinorTicksCoords();var s=N(r.getViewLabels(),function(t){t=M(t);var e=r.scale;var i=e.type==="ordinal"?e.getRawOrdinalNumber(t.tickValue):t.tickValue;t.coord=r.dataToCoord(i);return t});IW(s);IW(n);R(wW,function(e){if(t.get([e,"show"])&&(!r.scale.isBlank()||e==="axisLine")){CW[e](this.group,t,i,n,o,a,s)}},this)};e.type="angleAxis";return e}(Gk);var CW={axisLine:function(t,e,r,i,a,n){var o=e.getModel(["axisLine","lineStyle"]);var s=MW(r);var l=s?0:1;var u;if(n[l]===0){u=new Nf({shape:{cx:r.cx,cy:r.cy,r:n[s]},style:o.getLineStyle(),z2:1,silent:true})}else{u=new eh({shape:{cx:r.cx,cy:r.cy,r:n[s],r0:n[l]},style:o.getLineStyle(),z2:1,silent:true})}u.style.fill=null;t.add(u)},axisTick:function(t,e,r,i,a,n){var o=e.getModel("axisTick");var s=(o.get("inside")?-1:1)*o.get("length");var l=n[MW(r)];var u=N(i,function(t){return new vh({shape:SW(r,[l,l+s],t.coord)})});t.add(Jh(u,{style:D(o.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,e,r,i,a,n){if(!a.length){return}var o=e.getModel("axisTick");var s=e.getModel("minorTick");var l=(o.get("inside")?-1:1)*s.get("length");var u=n[MW(r)];var f=[];for(var h=0;h<a.length;h++){for(var v=0;v<a[h].length;v++){f.push(new vh({shape:SW(r,[u,u+l],a[h][v].coord)}))}}t.add(Jh(f,{style:D(s.getModel("lineStyle").getLineStyle(),D(o.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))},axisLabel:function(t,e,r,i,a,n,o){var s=e.getCategories(true);var l=e.getModel("axisLabel");var u=l.get("margin");var f=e.get("triggerEvent");R(o,function(i,a){var o=l;var h=i.tickValue;var v=n[MW(r)];var c=r.coordToPoint([v+u,i.coord]);var p=r.cx;var d=r.cy;var g=Math.abs(c[0]-p)/v<.3?"center":c[0]>p?"left":"right";var y=Math.abs(c[1]-d)/v<.3?"middle":c[1]>d?"top":"bottom";if(s&&s[h]){var m=s[h];if(j(m)&&m.textStyle){o=new Uv(m.textStyle,l,l.ecModel)}}var x=new Fl({silent:yk.isLabelSilent(e),style:Sv(o,{x:c[0],y:c[1],fill:o.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:i.formattedLabel,align:g,verticalAlign:y})});t.add(x);if(f){var _=yk.makeAxisEventDataBase(e);_.targetType="axisLabel";_.value=i.rawLabel;$l(x).eventData=_}},this)},splitLine:function(t,e,r,i,a,n){var o=e.getModel("splitLine");var s=o.getModel("lineStyle");var l=s.get("color");var u=0;l=l instanceof Array?l:[l];var f=[];for(var h=0;h<i.length;h++){var v=u++%l.length;f[v]=f[v]||[];f[v].push(new vh({shape:SW(r,n,i[h].coord)}))}for(var h=0;h<f.length;h++){t.add(Jh(f[h],{style:D({stroke:l[h%l.length]},s.getLineStyle()),silent:true,z:e.get("z")}))}},minorSplitLine:function(t,e,r,i,a,n){if(!a.length){return}var o=e.getModel("minorSplitLine");var s=o.getModel("lineStyle");var l=[];for(var u=0;u<a.length;u++){for(var f=0;f<a[u].length;f++){l.push(new vh({shape:SW(r,n,a[u][f].coord)}))}}t.add(Jh(l,{style:s.getLineStyle(),silent:true,z:e.get("z")}))},splitArea:function(t,e,r,i,a,n){if(!i.length){return}var o=e.getModel("splitArea");var s=o.getModel("areaStyle");var l=s.get("color");var u=0;l=l instanceof Array?l:[l];var f=[];var h=Math.PI/180;var v=-i[0].coord*h;var c=Math.min(n[0],n[1]);var p=Math.max(n[0],n[1]);var d=e.get("clockwise");for(var g=1,y=i.length;g<=y;g++){var m=g===y?i[0].coord:i[g].coord;var x=u++%l.length;f[x]=f[x]||[];f[x].push(new Qf({shape:{cx:r.cx,cy:r.cy,r0:c,r:p,startAngle:v,endAngle:-m*h,clockwise:d},silent:true}));v=-m*h}for(var g=0;g<f.length;g++){t.add(Jh(f[g],{style:D({fill:l[g%l.length]},s.getAreaStyle()),silent:true}))}}};var DW=["axisLine","axisTickLabel","axisName"];var AW=["splitLine","splitArea","minorSplitLine"];var kW=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.axisPointerClass="PolarAxisPointer";return r}e.prototype.render=function(t,e){this.group.removeAll();if(!t.get("show")){return}var r=this._axisGroup;var i=this._axisGroup=new ya;this.group.add(i);var a=t.axis;var n=a.polar;var o=n.getAngleAxis();var s=a.getTicksCoords();var l=a.getMinorTicksCoords();var u=o.getExtent()[0];var f=a.getExtent();var h=PW(n,t,u);var v=new yk(t,h);R(DW,v.add,v);i.add(v.getGroup());lv(r,i,t);R(AW,function(e){if(t.get([e,"show"])&&!a.scale.isBlank()){LW[e](this.group,t,n,u,f,s,l)}},this)};e.type="radiusAxis";return e}(Gk);var LW={splitLine:function(t,e,r,i,a,n){var o=e.getModel("splitLine");var s=o.getModel("lineStyle");var l=s.get("color");var u=0;l=l instanceof Array?l:[l];var f=[];for(var h=0;h<n.length;h++){var v=u++%l.length;f[v]=f[v]||[];f[v].push(new Nf({shape:{cx:r.cx,cy:r.cy,r:n[h].coord}}))}for(var h=0;h<f.length;h++){t.add(Jh(f[h],{style:D({stroke:l[h%l.length],fill:null},s.getLineStyle()),silent:true}))}},minorSplitLine:function(t,e,r,i,a,n,o){if(!o.length){return}var s=e.getModel("minorSplitLine");var l=s.getModel("lineStyle");var u=[];for(var f=0;f<o.length;f++){for(var h=0;h<o[f].length;h++){u.push(new Nf({shape:{cx:r.cx,cy:r.cy,r:o[f][h].coord}}))}}t.add(Jh(u,{style:D({fill:null},l.getLineStyle()),silent:true}))},splitArea:function(t,e,r,i,a,n){if(!n.length){return}var o=e.getModel("splitArea");var s=o.getModel("areaStyle");var l=s.get("color");var u=0;l=l instanceof Array?l:[l];var f=[];var h=n[0].coord;for(var v=1;v<n.length;v++){var c=u++%l.length;f[c]=f[c]||[];f[c].push(new Qf({shape:{cx:r.cx,cy:r.cy,r0:h,r:n[v].coord,startAngle:0,endAngle:Math.PI*2},silent:true}));h=n[v].coord}for(var v=0;v<f.length;v++){t.add(Jh(f[v],{style:D({fill:l[v%l.length]},s.getAreaStyle()),silent:true}))}}};function PW(t,e,r){return{position:[t.cx,t.cy],rotation:r/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}function OW(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function RW(t,e){return e.dim+t.model.componentIndex}function NW(t,e,r){var i={};var a=EW(z(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&t.coordinateSystem.type==="polar"}));e.eachSeriesByType(t,function(t){if(t.coordinateSystem.type!=="polar"){return}var e=t.getData();var r=t.coordinateSystem;var n=r.getBaseAxis();var o=RW(r,n);var s=OW(t);var l=a[o][s];var u=l.offset;var f=l.width;var h=r.getOtherAxis(n);var v=t.coordinateSystem.cx;var c=t.coordinateSystem.cy;var p=t.get("barMinHeight")||0;var d=t.get("barMinAngle")||0;i[s]=i[s]||[];var g=e.mapDimension(h.dim);var y=e.mapDimension(n.dim);var m=NS(e,g);var x=n.dim!=="radius"||!t.get("roundCap",true);var _=h.dataToCoord(0);for(var b=0,w=e.count();b<w;b++){var S=e.get(g,b);var M=e.get(y,b);var I=S>=0?"p":"n";var T=_;if(m){if(!i[s][M]){i[s][M]={p:_,n:_}}T=i[s][M][I]}var C=void 0;var D=void 0;var A=void 0;var k=void 0;if(h.dim==="radius"){var L=h.dataToCoord(S)-_;var P=n.dataToCoord(M);if(Math.abs(L)<p){L=(L<0?-1:1)*p}C=T;D=T+L;A=P-u;k=A-f;m&&(i[s][M][I]=D)}else{var O=h.dataToCoord(S,x)-_;var R=n.dataToCoord(M);if(Math.abs(O)<d){O=(O<0?-1:1)*d}C=R+u;D=C+f;A=T;k=T+O;m&&(i[s][M][I]=k)}e.setItemLayout(b,{cx:v,cy:c,r0:C,r:D,startAngle:-A*Math.PI/180,endAngle:-k*Math.PI/180})}})}function EW(t){var e={};R(t,function(t,r){var i=t.getData();var a=t.coordinateSystem;var n=a.getBaseAxis();var o=RW(a,n);var s=n.getExtent();var l=n.type==="category"?n.getBandWidth():Math.abs(s[1]-s[0])/i.count();var u=e[o]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};var f=u.stacks;e[o]=u;var h=OW(t);if(!f[h]){u.autoWidthCount++}f[h]=f[h]||{width:0,maxWidth:0};var v=Na(t.get("barWidth"),l);var c=Na(t.get("barMaxWidth"),l);var p=t.get("barGap");var d=t.get("barCategoryGap");if(v&&!f[h].width){v=Math.min(u.remainedWidth,v);f[h].width=v;u.remainedWidth-=v}c&&(f[h].maxWidth=c);p!=null&&(u.gap=p);d!=null&&(u.categoryGap=d)});var r={};R(e,function(t,e){r[e]={};var i=t.stacks;var a=t.bandWidth;var n=Na(t.categoryGap,a);var o=Na(t.gap,1);var s=t.remainedWidth;var l=t.autoWidthCount;var u=(s-n)/(l+(l-1)*o);u=Math.max(u,0);R(i,function(t,e){var r=t.maxWidth;if(r&&r<u){r=Math.min(r,s);if(t.width){r=Math.min(r,t.width)}s-=r;t.width=r;l--}});u=(s-n)/(l+(l-1)*o);u=Math.max(u,0);var f=0;var h;R(i,function(t,e){if(!t.width){t.width=u}h=t;f+=t.width*(1+o)});if(h){f-=h.width*o}var v=-f/2;R(i,function(t,i){r[e][i]=r[e][i]||{offset:v,width:t.width};v+=t.width*(1+o)})});return r}var zW={startAngle:90,clockwise:true,splitNumber:12,axisLabel:{rotate:0}};var BW={splitNumber:5};var VW=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="polar";return e}(Hy);function GW(t){Xw(rW);Gk.registerAxisPointerClass("PolarAxisPointer",aW);t.registerCoordinateSystem("polar",bW);t.registerComponentModel(sW);t.registerComponentView(VW);ek(t,"angle",uW,zW);ek(t,"radius",fW,BW);t.registerComponentView(TW);t.registerComponentView(kW);t.registerLayout(H(NW,"bar"))}function FW(t,e){e=e||{};var r=t.coordinateSystem;var i=t.axis;var a={};var n=i.position;var o=i.orient;var s=r.getRect();var l=[s.x,s.x+s.width,s.y,s.y+s.height];var u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};a.position=[o==="vertical"?u.vertical[n]:l[0],o==="horizontal"?u.horizontal[n]:l[3]];var f={horizontal:0,vertical:1};a.rotation=Math.PI/2*f[o];var h={top:-1,bottom:1,right:1,left:-1};a.labelDirection=a.tickDirection=a.nameDirection=h[n];if(t.get(["axisTick","inside"])){a.tickDirection=-a.tickDirection}if(rt(e.labelInside,t.get(["axisLabel","inside"]))){a.labelDirection=-a.labelDirection}var v=e.rotate;v==null&&(v=t.get(["axisLabel","rotate"]));a.labelRotation=n==="top"?-v:v;a.z2=1;return a}var HW=["axisLine","axisTickLabel","axisName"];var WW=["splitArea","splitLine"];var UW=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.axisPointerClass="SingleAxisPointer";return r}e.prototype.render=function(e,r,i,a){var n=this.group;n.removeAll();var o=this._axisGroup;this._axisGroup=new ya;var s=FW(e);var l=new yk(e,s);R(HW,l.add,l);n.add(this._axisGroup);n.add(l.getGroup());R(WW,function(t){if(e.get([t,"show"])){YW[t](this,this.group,this._axisGroup,e)}},this);lv(o,this._axisGroup,e);t.prototype.render.call(this,e,r,i,a)};e.prototype.remove=function(){Wk(this)};e.type="singleAxis";return e}(Gk);var YW={splitLine:function(t,e,r,i){var a=i.axis;if(a.scale.isBlank()){return}var n=i.getModel("splitLine");var o=n.getModel("lineStyle");var s=o.get("color");s=s instanceof Array?s:[s];var l=i.coordinateSystem.getRect();var u=a.isHorizontal();var f=[];var h=0;var v=a.getTicksCoords({tickModel:n});var c=[];var p=[];for(var d=0;d<v.length;++d){var g=a.toGlobalCoord(v[d].coord);if(u){c[0]=g;c[1]=l.y;p[0]=g;p[1]=l.y+l.height}else{c[0]=l.x;c[1]=g;p[0]=l.x+l.width;p[1]=g}var y=h++%s.length;f[y]=f[y]||[];f[y].push(new vh({subPixelOptimize:true,shape:{x1:c[0],y1:c[1],x2:p[0],y2:p[1]},silent:true}))}var m=o.getLineStyle(["color"]);for(var d=0;d<f.length;++d){e.add(Jh(f[d],{style:D({stroke:s[d%s.length]},m),silent:true}))}},splitArea:function(t,e,r,i){Hk(t,r,i,i)}};var XW=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.getCoordSysModel=function(){return this};e.type="singleAxis";e.layoutMode="box";e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:true,lineStyle:{width:1,type:"solid"}},tooltip:{show:true},axisTick:{show:true,length:6,lineStyle:{width:1}},axisLabel:{show:true,interval:"auto"},splitLine:{show:true,lineStyle:{type:"dashed",opacity:.2}}};return e}(xp);P(XW,aI.prototype);var ZW=function(t){r(e,t);function e(e,r,i,a,n){var o=t.call(this,e,r,i)||this;o.type=a||"value";o.position=n||"bottom";return o}e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"};e.prototype.pointToData=function(t,e){return this.coordinateSystem.pointToData(t)[0]};return e}(PI);var jW=["single"];var qW=function(){function t(t,e,r){this.type="single";this.dimension="single";this.dimensions=jW;this.axisPointerEnabled=true;this.model=t;this._init(t,e,r)}t.prototype._init=function(t,e,r){var i=this.dimension;var a=new ZW(i,jM(t),[0,0],t.get("type"),t.get("position"));var n=a.type==="category";a.onBand=n&&t.get("boundaryGap");a.inverse=t.get("inverse");a.orient=t.get("orient");t.axis=a;a.model=t;a.coordinateSystem=this;this._axis=a};t.prototype.update=function(t,e){t.eachSeries(function(t){if(t.coordinateSystem===this){var e=t.getData();R(e.mapDimensionsAll(this.dimension),function(t){this._axis.scale.unionExtentFromData(e,t)},this);ZM(this._axis.scale,this._axis.model)}},this)};t.prototype.resize=function(t,e){this._rect=hp({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()});this._adjustAxis()};t.prototype.getRect=function(){return this._rect};t.prototype._adjustAxis=function(){var t=this._rect;var e=this._axis;var r=e.isHorizontal();var i=r?[0,t.width]:[0,t.height];var a=e.reverse?1:0;e.setExtent(i[a],i[1-a]);this._updateAxisTransform(e,r?t.x:t.y)};t.prototype._updateAxisTransform=function(t,e){var r=t.getExtent();var i=r[0]+r[1];var a=t.isHorizontal();t.toGlobalCoord=a?function(t){return t+e}:function(t){return i-t+e};t.toLocalCoord=a?function(t){return t-e}:function(t){return i-t+e}};t.prototype.getAxis=function(){return this._axis};t.prototype.getBaseAxis=function(){return this._axis};t.prototype.getAxes=function(){return[this._axis]};t.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}};t.prototype.containPoint=function(t){var e=this.getRect();var r=this.getAxis();var i=r.orient;if(i==="horizontal"){return r.contain(r.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height}else{return r.contain(r.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height}};t.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t[e.orient==="horizontal"?0:1]))]};t.prototype.dataToPoint=function(t){var e=this.getAxis();var r=this.getRect();var i=[];var a=e.orient==="horizontal"?0:1;if(t instanceof Array){t=t[0]}i[a]=e.toGlobalCoord(e.dataToCoord(+t));i[1-a]=a===0?r.y+r.height/2:r.x+r.width/2;return i};t.prototype.convertToPixel=function(t,e,r){var i=KW(e);return i===this?this.dataToPoint(r):null};t.prototype.convertFromPixel=function(t,e,r){var i=KW(e);return i===this?this.pointToData(r):null};return t}();function KW(t){var e=t.seriesModel;var r=t.singleAxisModel;return r&&r.coordinateSystem||e&&e.coordinateSystem}function $W(t,e){var r=[];t.eachComponent("singleAxis",function(i,a){var n=new qW(i,t,e);n.name="single_"+a;n.resize(i,e);i.coordinateSystem=n;r.push(n)});t.eachSeries(function(t){if(t.get("coordinateSystem")==="singleAxis"){var e=t.getReferringComponents("singleAxis",Yn).models[0];t.coordinateSystem=e&&e.coordinateSystem}});return r}var JW={create:$W,dimensions:jW};var QW=["x","y"];var tU=["width","height"];var eU=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.makeElOption=function(t,e,r,i,a){var n=r.axis;var o=n.coordinateSystem;var s=aU(o,1-iU(n));var l=o.dataToPoint(e)[0];var u=i.get("type");if(u&&u!=="none"){var f=xH(i);var h=rU[u](n,l,s);h.style=f;t.graphicKey=h.type;t.pointer=h}var v=FW(r);MH(e,t,v,r,i,a)};e.prototype.getHandleTransform=function(t,e,r){var i=FW(e,{labelInside:false});i.labelMargin=r.get(["handle","margin"]);var a=SH(e.axis,t,i);return{x:a[0],y:a[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}};e.prototype.updateHandleTransform=function(t,e,r,i){var a=r.axis;var n=a.coordinateSystem;var o=iU(a);var s=aU(n,o);var l=[t.x,t.y];l[o]+=e[o];l[o]=Math.min(s[1],l[o]);l[o]=Math.max(s[0],l[o]);var u=aU(n,1-o);var f=(u[1]+u[0])/2;var h=[f,f];h[o]=l[o];return{x:l[0],y:l[1],rotation:t.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}};return e}(cH);var rU={line:function(t,e,r){var i=IH([e,r[0]],[e,r[1]],iU(t));return{type:"Line",subPixelOptimize:true,shape:i}},shadow:function(t,e,r){var i=t.getBandWidth();var a=r[1]-r[0];return{type:"Rect",shape:TH([e-i/2,r[0]],[i,a],iU(t))}}};function iU(t){return t.isHorizontal()?0:1}function aU(t,e){var r=t.getRect();return[r[QW[e]],r[QW[e]]+r[tU[e]]]}var nU=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="single";return e}(Hy);function oU(t){Xw(rW);Gk.registerAxisPointerClass("SingleAxisPointer",eU);t.registerComponentView(nU);t.registerComponentView(UW);t.registerComponentModel(XW);ek(t,"single",XW,XW.defaultOption);t.registerCoordinateSystem("single",JW)}var sU=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(e,r,i){var a=gp(e);t.prototype.init.apply(this,arguments);lU(e,a)};e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments);lU(this.option,e)};e.prototype.getCellSize=function(){return this.option.cellSize};e.type="calendar";e.defaultOption={zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:true,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:true,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:true,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:true,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}};return e}(xp);function lU(t,e){var r=t.cellSize;var i;if(!W(r)){i=t.cellSize=[r,r]}else{i=r}if(i.length===1){i[1]=i[0]}var a=N([0,1],function(t){if(cp(e,t)){i[t]="auto"}return i[t]!=null&&i[t]!=="auto"});dp(t,e,{type:"box",ignoreSize:a})}var uU={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["","","","","","","","","","","",""]};var fU={EN:["S","M","T","W","T","F","S"],CN:["","","","","","",""]};var hU=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=this.group;i.removeAll();var a=t.coordinateSystem;var n=a.getRangeInfo();var o=a.getOrient();this._renderDayRect(t,n,i);this._renderLines(t,n,o,i);this._renderYearText(t,n,o,i);this._renderMonthText(t,o,i);this._renderWeekText(t,n,o,i)};e.prototype._renderDayRect=function(t,e,r){var i=t.coordinateSystem;var a=t.getModel("itemStyle").getItemStyle();var n=i.getCellWidth();var o=i.getCellHeight();for(var s=e.start.time;s<=e.end.time;s=i.getNextNDay(s,1).time){var l=i.dataToRect([s],false).tl;var u=new zl({shape:{x:l[0],y:l[1],width:n,height:o},cursor:"default",style:a});r.add(u)}};e.prototype._renderLines=function(t,e,r,i){var a=this;var n=t.coordinateSystem;var o=t.getModel(["splitLine","lineStyle"]).getLineStyle();var s=t.get(["splitLine","show"]);var l=o.lineWidth;this._tlpoints=[];this._blpoints=[];this._firstDayOfMonth=[];this._firstDayPoints=[];var u=e.start;for(var f=0;u.time<=e.end.time;f++){v(u.formatedDate);if(f===0){u=n.getDateInfo(e.start.y+"-"+e.start.m)}var h=u.date;h.setMonth(h.getMonth()+1);u=n.getDateInfo(h)}v(n.getNextNDay(e.end.time,1).formatedDate);function v(e){a._firstDayOfMonth.push(n.getDateInfo(e));a._firstDayPoints.push(n.dataToRect([e],false).tl);var l=a._getLinePointsOfOneWeek(t,e,r);a._tlpoints.push(l[0]);a._blpoints.push(l[l.length-1]);s&&a._drawSplitline(l,o,i)}s&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,l,r),o,i);s&&this._drawSplitline(a._getEdgesPoints(a._blpoints,l,r),o,i)};e.prototype._getEdgesPoints=function(t,e,r){var i=[t[0].slice(),t[t.length-1].slice()];var a=r==="horizontal"?0:1;i[0][a]=i[0][a]-e/2;i[1][a]=i[1][a]+e/2;return i};e.prototype._drawSplitline=function(t,e,r){var i=new uh({z2:20,shape:{points:t},style:e});r.add(i)};e.prototype._getLinePointsOfOneWeek=function(t,e,r){var i=t.coordinateSystem;var a=i.getDateInfo(e);var n=[];for(var o=0;o<7;o++){var s=i.getNextNDay(a.time,o);var l=i.dataToRect([s.time],false);n[2*s.day]=l.tl;n[2*s.day+1]=l[r==="horizontal"?"bl":"tr"]}return n};e.prototype._formatterLabel=function(t,e){if(typeof t==="string"&&t){return $c(t,e)}if(typeof t==="function"){return t(e)}return e.nameMap};e.prototype._yearTextPositionControl=function(t,e,r,i,a){var n=e[0];var o=e[1];var s=["center","bottom"];if(i==="bottom"){o+=a;s=["center","top"]}else if(i==="left"){n-=a}else if(i==="right"){n+=a;s=["center","top"]}else{o-=a}var l=0;if(i==="left"||i==="right"){l=Math.PI/2}return{rotation:l,x:n,y:o,style:{align:s[0],verticalAlign:s[1]}}};e.prototype._renderYearText=function(t,e,r,i){var a=t.getModel("yearLabel");if(!a.get("show")){return}var n=a.get("margin");var o=a.get("position");if(!o){o=r!=="horizontal"?"top":"left"}var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]];var l=(s[0][0]+s[1][0])/2;var u=(s[0][1]+s[1][1])/2;var f=r==="horizontal"?0:1;var h={top:[l,s[f][1]],bottom:[l,s[1-f][1]],left:[s[1-f][0],u],right:[s[f][0],u]};var v=e.start.y;if(+e.end.y>+e.start.y){v=v+"-"+e.end.y}var c=a.get("formatter");var p={start:e.start.y,end:e.end.y,nameMap:v};var d=this._formatterLabel(c,p);var g=new Fl({z2:30,style:Sv(a,{text:d})});g.attr(this._yearTextPositionControl(g,h[o],r,o,n));i.add(g)};e.prototype._monthTextPositionControl=function(t,e,r,i,a){var n="left";var o="top";var s=t[0];var l=t[1];if(r==="horizontal"){l=l+a;if(e){n="center"}if(i==="start"){o="bottom"}}else{s=s+a;if(e){o="middle"}if(i==="start"){n="right"}}return{x:s,y:l,align:n,verticalAlign:o}};e.prototype._renderMonthText=function(t,e,r){var i=t.getModel("monthLabel");if(!i.get("show")){return}var a=i.get("nameMap");var n=i.get("margin");var o=i.get("position");var s=i.get("align");var l=[this._tlpoints,this._blpoints];if(Y(a)){a=uU[a.toUpperCase()]||[]}var u=o==="start"?0:1;var f=e==="horizontal"?0:1;n=o==="start"?-n:n;var h=s==="center";for(var v=0;v<l[u].length-1;v++){var c=l[u][v].slice();var p=this._firstDayOfMonth[v];if(h){var d=this._firstDayPoints[v];c[f]=(d[f]+l[0][v+1][f])/2}var g=i.get("formatter");var y=a[+p.m-1];var m={yyyy:p.y,yy:(p.y+"").slice(2),MM:p.m,M:+p.m,nameMap:y};var x=this._formatterLabel(g,m);var _=new Fl({z2:30,style:C(Sv(i,{text:x}),this._monthTextPositionControl(c,h,e,o,n))});r.add(_)}};e.prototype._weekTextPositionControl=function(t,e,r,i,a){var n="center";var o="middle";var s=t[0];var l=t[1];var u=r==="start";if(e==="horizontal"){s=s+i+(u?1:-1)*a[0]/2;n=u?"right":"left"}else{l=l+i+(u?1:-1)*a[1]/2;o=u?"bottom":"top"}return{x:s,y:l,align:n,verticalAlign:o}};e.prototype._renderWeekText=function(t,e,r,i){var a=t.getModel("dayLabel");if(!a.get("show")){return}var n=t.coordinateSystem;var o=a.get("position");var s=a.get("nameMap");var l=a.get("margin");var u=n.getFirstDayOfWeek();if(Y(s)){s=fU[s.toUpperCase()]||[]}var f=n.getNextNDay(e.end.time,7-e.lweek).time;var h=[n.getCellWidth(),n.getCellHeight()];l=Na(l,Math.min(h[1],h[0]));if(o==="start"){f=n.getNextNDay(e.start.time,-(7+e.fweek)).time;l=-l}for(var v=0;v<7;v++){var c=n.getNextNDay(f,v);var p=n.dataToRect([c.time],false).center;var d=v;d=Math.abs((v+u)%7);var g=new Fl({z2:30,style:C(Sv(a,{text:s[d]}),this._weekTextPositionControl(p,r,o,l,h))});i.add(g)}};e.type="calendar";return e}(Hy);var vU=864e5;var cU=function(){function t(e,r,i){this.type="calendar";this.dimensions=t.dimensions;this.getDimensionsInfo=t.getDimensionsInfo;this._model=e}t.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]};t.prototype.getRangeInfo=function(){return this._rangeInfo};t.prototype.getModel=function(){return this._model};t.prototype.getRect=function(){return this._rect};t.prototype.getCellWidth=function(){return this._sw};t.prototype.getCellHeight=function(){return this._sh};t.prototype.getOrient=function(){return this._orient};t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek};t.prototype.getDateInfo=function(t){t=Za(t);var e=t.getFullYear();var r=t.getMonth()+1;var i=r<10?"0"+r:""+r;var a=t.getDate();var n=a<10?"0"+a:""+a;var o=t.getDay();o=Math.abs((o+7-this.getFirstDayOfWeek())%7);return{y:e+"",m:i,d:n,day:o,time:t.getTime(),formatedDate:e+"-"+i+"-"+n,date:t}};t.prototype.getNextNDay=function(t,e){e=e||0;if(e===0){return this.getDateInfo(t)}t=new Date(this.getDateInfo(t).time);t.setDate(t.getDate()+e);return this.getDateInfo(t)};t.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay");this._orient=this._model.get("orient");this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0;this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1;var i=["width","height"];var a=this._model.getCellSize().slice();var n=this._model.getBoxLayoutParams();var o=this._orient==="horizontal"?[r,7]:[7,r];R([0,1],function(t){if(u(a,t)){n[i[t]]=a[t]*o[t]}});var s={width:e.getWidth(),height:e.getHeight()};var l=this._rect=hp(n,s);R([0,1],function(t){if(!u(a,t)){a[t]=l[i[t]]/o[t]}});function u(t,e){return t[e]!=null&&t[e]!=="auto"}this._sw=a[0];this._sh=a[1]};t.prototype.dataToPoint=function(t,e){W(t)&&(t=t[0]);e==null&&(e=true);var r=this.getDateInfo(t);var i=this._rangeInfo;var a=r.formatedDate;if(e&&!(r.time>=i.start.time&&r.time<i.end.time+vU)){return[NaN,NaN]}var n=r.day;var o=this._getRangeInfo([i.start.time,a]).nthWeek;if(this._orient==="vertical"){return[this._rect.x+n*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]}return[this._rect.x+o*this._sw+this._sw/2,this._rect.y+n*this._sh+this._sh/2]};t.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time};t.prototype.dataToRect=function(t,e){var r=this.dataToPoint(t,e);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}};t.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1;var r=Math.floor((t[1]-this._rect.y)/this._sh)+1;var i=this._rangeInfo.range;if(this._orient==="vertical"){return this._getDateByWeeksAndDay(r,e-1,i)}return this._getDateByWeeksAndDay(e,r-1,i)};t.prototype.convertToPixel=function(t,e,r){var i=pU(e);return i===this?i.dataToPoint(r):null};t.prototype.convertFromPixel=function(t,e,r){var i=pU(e);return i===this?i.pointToData(r):null};t.prototype.containPoint=function(t){console.warn("Not implemented.");return false};t.prototype._initRangeOption=function(){var t=this._model.get("range");var e;if(W(t)&&t.length===1){t=t[0]}if(!W(t)){var r=t.toString();if(/^\d{4}$/.test(r)){e=[r+"-01-01",r+"-12-31"]}if(/^\d{4}[\/|-]\d{1,2}$/.test(r)){var i=this.getDateInfo(r);var a=i.date;a.setMonth(a.getMonth()+1);var n=this.getNextNDay(a,-1);e=[i.formatedDate,n.formatedDate]}if(/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)){e=[r,r]}}else{e=t}if(!e){if("development"!=="production"){S("Invalid date range.")}return t}var o=this._getRangeInfo(e);if(o.start.time>o.end.time){e.reverse()}return e};t.prototype._getRangeInfo=function(t){var e=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];var r;if(e[0].time>e[1].time){r=true;e.reverse()}var i=Math.floor(e[1].time/vU)-Math.floor(e[0].time/vU)+1;var a=new Date(e[0].time);var n=a.getDate();var o=e[1].date.getDate();a.setDate(n+i-1);var s=a.getDate();if(s!==o){var l=a.getTime()-e[1].time>0?1:-1;while((s=a.getDate())!==o&&(a.getTime()-e[1].time)*l>0){i-=l;a.setDate(s-l)}}var u=Math.floor((i+e[0].day+6)/7);var f=r?-u+1:u-1;r&&e.reverse();return{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:i,weeks:u,nthWeek:f,fweek:e[0].day,lweek:e[1].day}};t.prototype._getDateByWeeksAndDay=function(t,e,r){var i=this._getRangeInfo(r);if(t>i.weeks||t===0&&e<i.fweek||t===i.weeks&&e>i.lweek){return null}var a=(t-1)*7-i.fweek+e;var n=new Date(i.start.time);n.setDate(+i.start.d+a);return this.getDateInfo(n)};t.create=function(e,r){var i=[];e.eachComponent("calendar",function(a){var n=new t(a,e,r);i.push(n);a.coordinateSystem=n});e.eachSeries(function(t){if(t.get("coordinateSystem")==="calendar"){t.coordinateSystem=i[t.get("calendarIndex")||0]}});return i};t.dimensions=["time","value"];return t}();function pU(t){var e=t.calendarModel;var r=t.seriesModel;var i=e?e.coordinateSystem:r?r.coordinateSystem:null;return i}function dU(t){t.registerComponentModel(sU);t.registerComponentView(hU);t.registerCoordinateSystem("calendar",cU)}var gU=Fn();var yU={path:null,compoundPath:null,group:ya,image:Al,text:Fl};var mU=function(t){var e=t.graphic;if(W(e)){if(!e[0]||!e[0].elements){t.graphic=[{elements:e}]}else{t.graphic=[t.graphic[0]]}}else if(e&&!e.elements){t.graphic=[{elements:[e]}]}};var xU=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.preventAutoZ=true;return r}e.prototype.mergeOption=function(e,r){var i=this.option.elements;this.option.elements=null;t.prototype.mergeOption.call(this,e,r);this.option.elements=i};e.prototype.optionUpdated=function(t,e){var r=this.option;var i=(e?r:t).elements;var a=r.elements=e?[]:r.elements;var n=[];this._flatten(i,n,null);var o=wn(a,n,"normalMerge");var s=this._elOptionsToUpdate=[];R(o,function(t,e){var r=t.newOption;if("development"!=="production"){st(j(r)||t.existing,"Empty graphic option definition")}if(!r){return}s.push(r);IU(t,r);TU(a,e,r);CU(a[e],r)},this);for(var l=a.length-1;l>=0;l--){if(a[l]==null){a.splice(l,1)}else{delete a[l].$action}}};e.prototype._flatten=function(t,e,r){R(t,function(t){if(!t){return}if(r){t.parentOption=r}e.push(t);var i=t.children;if(t.type==="group"&&i){this._flatten(i,e,t)}delete t.children},this)};e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;this._elOptionsToUpdate=null;return t};e.type="graphic";e.defaultOption={elements:[]};return e}(xp);var _U=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(){this._elMap=ct()};e.prototype.render=function(t,e,r){if(t!==this._lastGraphicModel){this._clear()}this._lastGraphicModel=t;this._updateElements(t);this._relocate(t,r)};e.prototype._updateElements=function(t){var e=t.useElOptionsToUpdate();if(!e){return}var r=this._elMap;var i=this.group;R(e,function(e){var a=Ln(e.id,null);var n=a!=null?r.get(a):null;var o=Ln(e.parentId,null);var s=o!=null?r.get(o):i;var l=e.type;var u=e.style;if(l==="text"&&u){if(e.hv&&e.hv[1]){u.textVerticalAlign=u.textBaseline=u.verticalAlign=u.align=null}}var f=e.textContent;var h=e.textConfig;if(u&&QG(u,l,!!h,!!f)){var v=tF(u,l,true);if(!h&&v.textConfig){h=e.textConfig=v.textConfig}if(!f&&v.textContent){f=v.textContent}}var c=SU(e);if("development"!=="production"){n&&st(s===n.parent,"Changing parent is not supported.")}var p=e.$action||"merge";if(p==="merge"){n?n.attr(c):bU(a,s,c,r)}else if(p==="replace"){wU(n,r);bU(a,s,c,r)}else if(p==="remove"){wU(n,r)}var d=r.get(a);if(d&&f){if(p==="merge"){var g=d.getTextContent();g?g.attr(f):d.setTextContent(new Fl(f))}else if(p==="replace"){d.setTextContent(new Fl(f))}}if(d){var y=gU(d);y.__ecGraphicWidthOption=e.width;y.__ecGraphicHeightOption=e.height;DU(d,t,e);gv({el:d,componentModel:t,itemName:d.name,itemTooltipOption:e.tooltip})}})};e.prototype._relocate=function(t,e){var r=t.option.elements;var i=this.group;var a=this._elMap;var n=e.getWidth();var o=e.getHeight();for(var s=0;s<r.length;s++){var l=r[s];var u=Ln(l.id,null);var f=u!=null?a.get(u):null;if(!f||!f.isGroup){continue}var h=f.parent;var v=h===i;var c=gU(f);var p=gU(h);c.__ecGraphicWidth=Na(c.__ecGraphicWidthOption,v?n:p.__ecGraphicWidth)||0;c.__ecGraphicHeight=Na(c.__ecGraphicHeightOption,v?o:p.__ecGraphicHeight)||0}for(var s=r.length-1;s>=0;s--){var l=r[s];var u=Ln(l.id,null);var f=u!=null?a.get(u):null;if(!f){continue}var h=f.parent;var p=gU(h);var d=h===i?{width:n,height:o}:{width:p.__ecGraphicWidth,height:p.__ecGraphicHeight};vp(f,l,d,null,{hv:l.hv,boundingMode:l.bounding})}};e.prototype._clear=function(){var t=this._elMap;t.each(function(e){wU(e,t)});this._elMap=ct()};e.prototype.dispose=function(){this._clear()};e.type="graphic";return e}(Hy);function bU(t,e,r,i){var a=r.type;if("development"!=="production"){st(a,"graphic type MUST be set")}var n=gt(yU,a)?yU[a]:jh(a);if("development"!=="production"){st(n,"graphic type can not be found")}var o=new n(r);e.add(o);i.set(t,o);gU(o).__ecGraphicId=t}function wU(t,e){var r=t&&t.parent;if(r){t.type==="group"&&t.traverse(function(t){wU(t,e)});e.removeKey(gU(t).__ecGraphicId);r.remove(t)}}function SU(t){t=C({},t);R(["id","parentId","$action","hv","bounding","textContent"].concat(ap),function(e){delete t[e]});return t}function MU(t,e){var r;R(e,function(e){t[e]!=null&&t[e]!=="auto"&&(r=true)});return r}function IU(t,e){var r=t.existing;e.id=t.keyInfo.id;!e.type&&r&&(e.type=r.type);if(e.parentId==null){var i=e.parentOption;if(i){e.parentId=i.id}else if(r){e.parentId=r.parentId}}e.parentOption=null}function TU(t,e,r){var i=C({},r);var a=t[e];var n=r.$action||"merge";if(n==="merge"){if(a){if("development"!=="production"){var o=r.type;st(!o||a.type===o,'Please set $action: "replace" to change `type`')}I(a,i,true);dp(a,i,{ignoreSize:true});yp(r,a)}else{t[e]=i}}else if(n==="replace"){t[e]=i}else if(n==="remove"){a&&(t[e]=null)}}function CU(t,e){if(!t){return}t.hv=e.hv=[MU(e,["left","right"]),MU(e,["top","bottom"])];if(t.type==="group"){var r=t;var i=e;r.width==null&&(r.width=i.width=0);r.height==null&&(r.height=i.height=0)}}function DU(t,e,r){var i=$l(t).eventData;if(!t.silent&&!t.ignore&&!i){i=$l(t).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name}}if(i){i.info=r.info}}function AU(t){t.registerComponentModel(xU);t.registerComponentView(_U);t.registerPreprocessor(mU)}var kU=["x","y","radius","angle","single"];var LU=["cartesian2d","polar","singleAxis"];function PU(t){var e=t.get("coordinateSystem");return k(LU,e)>=0}function OU(t){if("development"!=="production"){st(t)}return t+"Axis"}function RU(t,e){var r=ct();var i=[];var a=ct();t.eachComponent({mainType:"dataZoom",query:e},function(t){if(!a.get(t.uid)){s(t)}});var n;do{n=false;t.eachComponent("dataZoom",o)}while(n);function o(t){if(!a.get(t.uid)&&l(t)){s(t);n=true}}function s(t){a.set(t.uid,true);i.push(t);u(t)}function l(t){var e=false;t.eachTargetAxis(function(t,i){var a=r.get(t);if(a&&a[i]){e=true}});return e}function u(t){t.eachTargetAxis(function(t,e){(r.get(t)||r.set(t,[]))[e]=true})}return i}function NU(t){var e=t.ecModel;var r={infoList:[],infoMap:ct()};t.eachTargetAxis(function(t,i){var a=e.getComponent(OU(t),i);if(!a){return}var n=a.getCoordSysModel();if(!n){return}var o=n.uid;var s=r.infoMap.get(o);if(!s){s={model:n,axisModels:[]};r.infoList.push(s);r.infoMap.set(o,s)}s.axisModels.push(a)});return r}var EU=function(){function t(){this.indexList=[];this.indexMap=[]}t.prototype.add=function(t){if(!this.indexMap[t]){this.indexList.push(t);this.indexMap[t]=true}};return t}();var zU=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._autoThrottle=true;r._noTarget=true;r._rangePropMode=["percent","percent"];return r}e.prototype.init=function(t,e,r){var i=BU(t);this.settledOption=i;this.mergeDefaultAndTheme(t,r);this._doInit(i)};e.prototype.mergeOption=function(t){var e=BU(t);I(this.option,t,true);I(this.settledOption,e,true);this._doInit(e)};e.prototype._doInit=function(t){var e=this.option;this._setDefaultThrottle(t);this._updateRangeUse(t);var r=this.settledOption;R([["start","startValue"],["end","endValue"]],function(t,i){if(this._rangePropMode[i]==="value"){e[t[0]]=r[t[0]]=null}},this);this._resetTarget()};e.prototype._resetTarget=function(){var t=this.get("orient",true);var e=this._targetAxisInfoMap=ct();var r=this._fillSpecifiedTargetAxis(e);if(r){this._orient=t||this._makeAutoOrientByTargetAxis()}else{this._orient=t||"horizontal";this._fillAutoTargetAxisByOrient(e,this._orient)}this._noTarget=true;e.each(function(t){if(t.indexList.length){this._noTarget=false}},this)};e.prototype._fillSpecifiedTargetAxis=function(t){var e=false;R(kU,function(r){var i=this.getReferringComponents(OU(r),Xn);if(!i.specified){return}e=true;var a=new EU;R(i.models,function(t){a.add(t.componentIndex)});t.set(r,a)},this);return e};e.prototype._fillAutoTargetAxisByOrient=function(t,e){var r=this.ecModel;var i=true;if(i){var a=e==="vertical"?"y":"x";var n=r.findComponents({mainType:a+"Axis"});o(n,a)}if(i){var n=r.findComponents({mainType:"singleAxis",filter:function(t){return t.get("orient",true)===e}});o(n,"single")}function o(e,r){var a=e[0];if(!a){return}var n=new EU;n.add(a.componentIndex);t.set(r,n);i=false;if(r==="x"||r==="y"){var o=a.getReferringComponents("grid",Yn).models[0];o&&R(e,function(t){if(a.componentIndex!==t.componentIndex&&o===t.getReferringComponents("grid",Yn).models[0]){n.add(t.componentIndex)}})}}if(i){R(kU,function(e){if(!i){return}var a=r.findComponents({mainType:OU(e),filter:function(t){return t.get("type",true)==="category"}});if(a[0]){var n=new EU;n.add(a[0].componentIndex);t.set(e,n);i=false}},this)}};e.prototype._makeAutoOrientByTargetAxis=function(){var t;this.eachTargetAxis(function(e){!t&&(t=e)},this);return t==="y"?"vertical":"horizontal"};e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")){this._autoThrottle=false}if(this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}};e.prototype._updateRangeUse=function(t){var e=this._rangePropMode;var r=this.get("rangeMode");R([["start","startValue"],["end","endValue"]],function(i,a){var n=t[i[0]]!=null;var o=t[i[1]]!=null;if(n&&!o){e[a]="percent"}else if(!n&&o){e[a]="value"}else if(r){e[a]=r[a]}else if(n){e[a]="percent"}})};e.prototype.noTarget=function(){return this._noTarget};e.prototype.getFirstTargetAxisModel=function(){var t;this.eachTargetAxis(function(e,r){if(t==null){t=this.ecModel.getComponent(OU(e),r)}},this);return t};e.prototype.eachTargetAxis=function(t,e){this._targetAxisInfoMap.each(function(r,i){R(r.indexList,function(r){t.call(e,i,r)})})};e.prototype.getAxisProxy=function(t,e){var r=this.getAxisModel(t,e);if(r){return r.__dzAxisProxy}};e.prototype.getAxisModel=function(t,e){if("development"!=="production"){st(t&&e!=null)}var r=this._targetAxisInfoMap.get(t);if(r&&r.indexMap[e]){return this.ecModel.getComponent(OU(t),e)}};e.prototype.setRawRange=function(t){var e=this.option;var r=this.settledOption;R([["start","startValue"],["end","endValue"]],function(i){if(t[i[0]]!=null||t[i[1]]!=null){e[i[0]]=r[i[0]]=t[i[0]];e[i[1]]=r[i[1]]=t[i[1]]}},this);this._updateRangeUse(t)};e.prototype.setCalculatedRange=function(t){var e=this.option;R(["start","startValue","end","endValue"],function(r){e[r]=t[r]})};e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t){return t.getDataPercentWindow()}};e.prototype.getValueRange=function(t,e){if(t==null&&e==null){var r=this.findRepresentativeAxisProxy();if(r){return r.getDataValueWindow()}}else{return this.getAxisProxy(t,e).getDataValueWindow()}};e.prototype.findRepresentativeAxisProxy=function(t){if(t){return t.__dzAxisProxy}var e;var r=this._targetAxisInfoMap.keys();for(var i=0;i<r.length;i++){var a=r[i];var n=this._targetAxisInfoMap.get(a);for(var o=0;o<n.indexList.length;o++){var s=this.getAxisProxy(a,n.indexList[o]);if(s.hostedBy(this)){return s}if(!e){e=s}}}return e};e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()};e.prototype.getOrient=function(){if("development"!=="production"){st(this._orient)}return this._orient};e.type="dataZoom";e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"];e.defaultOption={zlevel:0,z:4,filterMode:"filter",start:0,end:100};return e}(xp);function BU(t){var e={};R(["start","end","startValue","endValue","throttle"],function(r){t.hasOwnProperty(r)&&(e[r]=t[r])});return e}var VU=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="dataZoom.select";return e}(zU);var GU=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r,i){this.dataZoomModel=t;this.ecModel=e;this.api=r};e.type="dataZoom";return e}(Hy);var FU=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="dataZoom.select";return e}(GU);var HU=R;var WU=za;var UU=function(){function t(t,e,r,i){this._dimName=t;this._axisIndex=e;this.ecModel=i;this._dataZoomModel=r}t.prototype.hostedBy=function(t){return this._dataZoomModel===t};t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()};t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()};t.prototype.getTargetSeriesModels=function(){var t=[];this.ecModel.eachSeries(function(e){if(PU(e)){var r=OU(this._dimName);var i=e.getReferringComponents(r,Yn).models[0];if(i&&this._axisIndex===i.componentIndex){t.push(e)}}},this);return t};t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)};t.prototype.getMinMaxSpan=function(){return M(this._minMaxSpan)};t.prototype.calculateDataWindow=function(t){var e=this._dataExtent;var r=this.getAxisModel();var i=r.axis.scale;var a=this._dataZoomModel.getRangePropMode();var n=[0,100];var o=[];var s=[];var l;HU(["start","end"],function(r,u){var f=t[r];var h=t[r+"Value"];if(a[u]==="percent"){f==null&&(f=n[u]);h=i.parse(Ra(f,n,e))}else{l=true;h=h==null?e[u]:i.parse(h);f=Ra(h,e,n)}s[u]=h;o[u]=f});WU(s);WU(o);var u=this._minMaxSpan;l?f(s,o,e,n,false):f(o,s,n,e,true);function f(t,e,r,a,n){var o=n?"Span":"ValueSpan";SE(0,t,r,"all",u["min"+o],u["max"+o]);for(var s=0;s<2;s++){e[s]=Ra(t[s],r,a,true);n&&(e[s]=i.parse(e[s]))}}return{valueWindow:s,percentWindow:o}};t.prototype.reset=function(t){if(t!==this._dataZoomModel){return}var e=this.getTargetSeriesModels();this._dataExtent=YU(this,this._dimName,e);this._updateMinMaxSpan();var r=this.calculateDataWindow(t.settledOption);this._valueWindow=r.valueWindow;this._percentWindow=r.percentWindow;this._setAxisModel()};t.prototype.filterData=function(t,e){if(t!==this._dataZoomModel){return}var r=this._dimName;var i=this.getTargetSeriesModels();var a=t.get("filterMode");var n=this._valueWindow;if(a==="none"){return}HU(i,function(t){var e=t.getData();var i=e.mapDimensionsAll(r);if(!i.length){return}if(a==="weakFilter"){var s=e.getStore();var l=N(i,function(t){return e.getDimensionIndex(t)},e);e.filterSelf(function(t){var e;var r;var a;for(var o=0;o<i.length;o++){var u=s.get(l[o],t);var f=!isNaN(u);var h=u<n[0];var v=u>n[1];if(f&&!h&&!v){return true}f&&(a=true);h&&(e=true);v&&(r=true)}return a&&e&&r})}else{HU(i,function(r){if(a==="empty"){t.setData(e=e.map(r,function(t){return!o(t)?NaN:t}))}else{var i={};i[r]=n;e.selectRange(i)}})}HU(i,function(t){e.setApproximateExtent(n,t)})});function o(t){return t>=n[0]&&t<=n[1]}};t.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={};var e=this._dataZoomModel;var r=this._dataExtent;HU(["min","max"],function(i){var a=e.get(i+"Span");var n=e.get(i+"ValueSpan");n!=null&&(n=this.getAxisModel().axis.scale.parse(n));if(n!=null){a=Ra(r[0]+n,r,[0,100],true)}else if(a!=null){n=Ra(a,[0,100],r,true)-r[0]}t[i+"Span"]=a;t[i+"ValueSpan"]=n},this)};t.prototype._setAxisModel=function(){var t=this.getAxisModel();var e=this._percentWindow;var r=this._valueWindow;if(!e){return}var i=Ga(r,[0,500]);i=Math.min(i,20);var a=t.axis.scale.rawExtentInfo;if(e[0]!==0){a.setDeterminedMinMax("min",+r[0].toFixed(i))}if(e[1]!==100){a.setDeterminedMinMax("max",+r[1].toFixed(i))}a.freeze()};return t}();function YU(t,e,r){var i=[Infinity,-Infinity];HU(r,function(t){iI(i,t.getData(),e)});var a=t.getAxisModel();var n=WM(a.axis.scale,a,i).calculate();return[n.min,n.max]}var XU={getTargetSeries:function(t){function e(e){t.eachComponent("dataZoom",function(r){r.eachTargetAxis(function(i,a){var n=t.getComponent(OU(i),a);e(i,a,n,r)})})}e(function(t,e,r,i){r.__dzAxisProxy=null});var r=[];e(function(e,i,a,n){if(!a.__dzAxisProxy){a.__dzAxisProxy=new UU(e,i,n,t);r.push(a.__dzAxisProxy)}});var i=ct();R(r,function(t){R(t.getTargetSeriesModels(),function(t){i.set(t.uid,t)})});return i},overallReset:function(t,e){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(e,r){t.getAxisProxy(e,r).reset(t)});t.eachTargetAxis(function(r,i){t.getAxisProxy(r,i).filterData(t,e)})});t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy();if(e){var r=e.getDataPercentWindow();var i=e.getDataValueWindow();t.setCalculatedRange({start:r[0],end:r[1],startValue:i[0],endValue:i[1]})}})}};function ZU(t){t.registerAction("dataZoom",function(t,e){var r=RU(e,t);R(r,function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var jU=false;function qU(t){if(jU){return}jU=true;t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,XU);ZU(t);t.registerSubTypeDefaulter("dataZoom",function(){return"slider"})}function KU(t){t.registerComponentModel(VU);t.registerComponentView(FU);qU(t)}var $U=function(){function t(){}return t}();var JU={};function QU(t,e){JU[t]=e}function tY(t){return JU[t]}var eY=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;R(this.option.feature,function(t,r){var i=tY(r);if(i){if(i.getDefaultOption){i.defaultOption=i.getDefaultOption(e)}I(t,i.defaultOption)}})};e.type="toolbox";e.layoutMode={type:"box",ignoreSize:true};e.defaultOption={show:true,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:true,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:false,position:"bottom"}};return e}(xp);function rY(t,e,r){var i=e.getBoxLayoutParams();var a=e.get("padding");var n={width:r.getWidth(),height:r.getHeight()};var o=hp(i,n,a);sp(e.get("orient"),t,e.get("itemGap"),o.width,o.height);vp(t,i,n,a)}function iY(t,e){var r=Wc(e.get("padding"));var i=e.getItemStyle(["color","opacity"]);i.fill=e.get("backgroundColor");t=new zl({shape:{x:t.x-r[3],y:t.y-r[0],width:t.width+r[1]+r[3],height:t.height+r[0]+r[2],r:e.get("borderRadius")},style:i,silent:true,z2:-1});return t}var aY=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.render=function(t,e,r,i){var a=this.group;a.removeAll();if(!t.get("show")){return}var n=+t.get("itemSize");var o=t.get("feature")||{};var s=this._features||(this._features={});var l=[];R(o,function(t,e){l.push(e)});new qw(this._featureNames||[],l).add(u).update(u).remove(H(u,null)).execute();this._featureNames=l;function u(a,n){var u=l[a];var h=l[n];var v=o[u];var c=new Uv(v,t,t.ecModel);var p;if(i&&i.newTitle!=null&&i.featureName===u){v.title=i.newTitle}if(u&&!h){if(nY(u)){p={onclick:c.option.onclick,featureName:u}}else{var d=tY(u);if(!d){return}p=new d}s[u]=p}else{p=s[h];if(!p){return}}p.uid=Xv("toolbox-feature");p.model=c;p.ecModel=e;p.api=r;var g=p instanceof $U;if(!u&&h){g&&p.dispose&&p.dispose(e,r);return}if(!c.get("show")||g&&p.unusable){g&&p.remove&&p.remove(e,r);return}f(c,p,u);c.setIconStatus=function(t,e){var r=this.option;var i=this.iconPaths;r.iconStatus=r.iconStatus||{};r.iconStatus[t]=e;if(i[t]){(e==="emphasis"?Nu:Eu)(i[t])}};if(p instanceof $U){if(p.render){p.render(c,e,r,i)}}}function f(i,o,s){var l=i.getModel("iconStyle");var u=i.getModel(["emphasis","iconStyle"]);var f=o instanceof $U&&o.getIcons?o.getIcons():i.get("icon");var h=i.get("title")||{};var v;var c;if(typeof f==="string"){v={};v[s]=f}else{v=f}if(typeof h==="string"){c={};c[s]=h}else{c=h}var p=i.iconPaths={};R(v,function(s,f){var h=hv(s,{},{x:-n/2,y:-n/2,width:n,height:n});h.setStyle(l.getItemStyle());var v=h.ensureState("emphasis");v.style=u.getItemStyle();var d=new Fl({style:{text:c[f],align:u.get("textAlign"),borderRadius:u.get("textBorderRadius"),padding:u.get("textPadding"),fill:null},ignore:true});h.setTextContent(d);gv({el:h,componentModel:t,itemName:f,formatterParamsExtra:{title:c[f]}});h.__title=c[f];h.on("mouseover",function(){var e=u.getItemStyle();var r=t.get("orient")==="vertical"?t.get("right")==null?"right":"left":t.get("bottom")==null?"bottom":"top";d.setStyle({fill:u.get("textFill")||e.fill||e.stroke||"#000",backgroundColor:u.get("textBackgroundColor")});h.setTextConfig({position:u.get("textPosition")||r});d.ignore=!t.get("showTitle");Nu(this)}).on("mouseout",function(){if(i.get(["iconStatus",f])!=="emphasis"){Eu(this)}d.hide()});(i.get(["iconStatus",f])==="emphasis"?Nu:Eu)(h);a.add(h);h.on("click",F(o.onclick,o,e,r,f));p[f]=h})}rY(a,t,r);a.add(iY(a.getBoundingRect(),t));a.eachChild(function(t){var e=t.__title;var i=t.ensureState("emphasis");var o=i.textConfig||(i.textConfig={});var s=t.getTextContent();var l=s&&s.states.emphasis;if(l&&!U(l)&&e){var u=l.style||(l.style={});var f=ta(e,Fl.makeFont(u));var h=t.x+a.x;var v=t.y+a.y+n;var c=false;if(v+f.height>r.getHeight()){o.position="top";c=true}var p=c?-5-f.height:n+8;if(h+f.width/2>r.getWidth()){o.position=["100%",p];u.align="right"}else if(h-f.width/2<0){o.position=[0,p];u.align="left"}}})};e.prototype.updateView=function(t,e,r,i){R(this._features,function(t){t instanceof $U&&t.updateView&&t.updateView(t.model,e,r,i)})};e.prototype.remove=function(t,e){R(this._features,function(r){r instanceof $U&&r.remove&&r.remove(t,e)});this.group.removeAll()};e.prototype.dispose=function(t,e){R(this._features,function(r){r instanceof $U&&r.dispose&&r.dispose(t,e)})};e.type="toolbox";return e}(Hy);function nY(t){return t.indexOf("my")===0}var oY=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.onclick=function(t,e){var r=this.model;var i=r.get("name")||t.get("title.0.text")||"echarts";var a=e.getZr().painter.getType()==="svg";var n=a?"svg":r.get("type",true)||"png";var o=e.getConnectedDataURL({type:n,backgroundColor:r.get("backgroundColor",true)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")});if(typeof MouseEvent==="function"&&(s.browser.newEdge||!s.browser.ie&&!s.browser.edge)){var l=document.createElement("a");l.download=i+"."+n;l.target="_blank";l.href=o;var u=new MouseEvent("click",{view:document.defaultView,bubbles:true,cancelable:false});l.dispatchEvent(u)}else{if(window.navigator.msSaveOrOpenBlob||a){var f=o.split(",");var h=f[0].indexOf("base64")>-1;var v=a?decodeURIComponent(f[1]):f[1];h&&(v=window.atob(v));var c=i+"."+n;if(window.navigator.msSaveOrOpenBlob){var p=v.length;var d=new Uint8Array(p);while(p--){d[p]=v.charCodeAt(p)}var g=new Blob([d]);window.navigator.msSaveOrOpenBlob(g,c)}else{var y=document.createElement("iframe");document.body.appendChild(y);var m=y.contentWindow;var x=m.document;x.open("image/svg+xml","replace");x.write(v);x.close();m.focus();x.execCommand("SaveAs",true,c);document.body.removeChild(y)}}else{var _=r.get("lang");var b=""+'<body style="margin:0;">'+'<img src="'+o+'" style="max-width:100%;" title="'+(_&&_[0]||"")+'" />'+"</body>";var w=window.open();w.document.write(b);w.document.title=i}}};e.getDefaultOption=function(t){var e={show:true,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return e};return e}($U);oY.prototype.unusable=!s.canvasSupported;var sY="__ec_magicType_stack__";var lY=[["line","bar"],["stack"]];var uY=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.getIcons=function(){var t=this.model;var e=t.get("icon");var r={};R(t.get("type"),function(t){if(e[t]){r[t]=e[t]}});return r};e.getDefaultOption=function(t){var e={show:true,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return e};e.prototype.onclick=function(t,e,r){var i=this.model;var a=i.get(["seriesIndex",r]);if(!fY[r]){return}var n={series:[]};var o=function(t){var e=t.subType;var a=t.id;var o=fY[r](e,a,t,i);if(o){D(o,t.option);n.series.push(o)}var s=t.coordinateSystem;if(s&&s.type==="cartesian2d"&&(r==="line"||r==="bar")){var l=s.getAxesByScale("ordinal")[0];if(l){var u=l.dim;var f=u+"Axis";var h=t.getReferringComponents(f,Yn).models[0];var v=h.componentIndex;n[f]=n[f]||[];for(var c=0;c<=v;c++){n[f][v]=n[f][v]||{}}n[f][v].boundaryGap=r==="bar"}}};R(lY,function(t){if(k(t,r)>=0){R(t,function(t){i.setIconStatus(t,"normal")})}});i.setIconStatus(r,"emphasis");t.eachComponent({mainType:"series",query:a==null?null:{seriesIndex:a}},o);var s;var l=r;if(r==="stack"){s=I({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title);if(i.get(["iconStatus",r])!=="emphasis"){l="tiled"}}e.dispatchAction({type:"changeMagicType",currentType:l,newOption:n,newTitle:s,featureName:"magicType"})};return e}($U);var fY={line:function(t,e,r,i){if(t==="bar"){return I({id:e,type:"line",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},i.get(["option","line"])||{},true)}},bar:function(t,e,r,i){if(t==="line"){return I({id:e,type:"bar",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},i.get(["option","bar"])||{},true)}},stack:function(t,e,r,i){var a=r.get("stack")===sY;if(t==="line"||t==="bar"){i.setIconStatus("stack",a?"normal":"emphasis");return I({id:e,stack:a?"":sY},i.get(["option","stack"])||{},true)}}};Lw({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)});var hY=new Array(60).join("-");var vY="\t";function cY(t){var e={};var r=[];var i=[];t.eachRawSeries(function(t){var a=t.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var n=a.getBaseAxis();if(n.type==="category"){var o=n.dim+"_"+n.index;if(!e[o]){e[o]={categoryAxis:n,valueAxis:a.getOtherAxis(n),series:[]};i.push({axisDim:n.dim,axisIndex:n.index})}e[o].series.push(t)}else{r.push(t)}}else{r.push(t)}});return{seriesGroupByCategoryAxis:e,other:r,meta:i}}function pY(t){var e=[];R(t,function(t,r){var i=t.categoryAxis;var a=t.valueAxis;var n=a.dim;var o=[" "].concat(N(t.series,function(t){return t.name}));var s=[i.model.getCategories()];R(t.series,function(t){var e=t.getRawData();s.push(t.getRawData().mapArray(e.mapDimension(n),function(t){return t}))});var l=[o.join(vY)];for(var u=0;u<s[0].length;u++){var f=[];for(var h=0;h<s.length;h++){f.push(s[h][u])}l.push(f.join(vY))}e.push(l.join("\n"))});return e.join("\n\n"+hY+"\n\n")}function dY(t){return N(t,function(t){var e=t.getRawData();var r=[t.name];var i=[];e.each(e.dimensions,function(){var t=arguments.length;var a=arguments[t-1];var n=e.getName(a);for(var o=0;o<t-1;o++){i[o]=arguments[o]}r.push((n?n+vY:"")+i.join(vY))});return r.join("\n")}).join("\n\n"+hY+"\n\n")}function gY(t){var e=cY(t);return{value:z([pY(e.seriesGroupByCategoryAxis),dY(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join("\n\n"+hY+"\n\n"),meta:e.meta}}function yY(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function mY(t){var e=t.slice(0,t.indexOf("\n"));if(e.indexOf(vY)>=0){return true}}var xY=new RegExp("["+vY+"]+","g");function _Y(t){var e=t.split(/\n+/g);var r=yY(e.shift()).split(xY);var i=[];var a=N(r,function(t){return{name:t,data:[]}});for(var n=0;n<e.length;n++){var o=yY(e[n]).split(xY);i.push(o.shift());for(var s=0;s<o.length;s++){a[s]&&(a[s].data[n]=o[s])}}return{series:a,categories:i}}function bY(t){var e=t.split(/\n+/g);var r=yY(e.shift());var i=[];for(var a=0;a<e.length;a++){var n=yY(e[a]);if(!n){continue}var o=n.split(xY);var s="";var l=void 0;var u=false;if(isNaN(o[0])){u=true;s=o[0];o=o.slice(1);i[a]={name:s,value:[]};l=i[a].value}else{l=i[a]=[]}for(var f=0;f<o.length;f++){l.push(+o[f])}if(l.length===1){u?i[a].value=l[0]:i[a]=l[0]}}return{name:r,data:i}}function wY(t,e){var r=t.split(new RegExp("\n*"+hY+"\n*","g"));var i={series:[]};R(r,function(t,r){if(mY(t)){var a=_Y(t);var n=e[r];var o=n.axisDim+"Axis";if(n){i[o]=i[o]||[];i[o][n.axisIndex]={data:a.categories};i.series=i.series.concat(a.series)}}else{var a=bY(t);i.series.push(a)}});return i}var SY=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.onclick=function(t,e){var r=e.getDom();var i=this.model;if(this._dom){r.removeChild(this._dom)}var a=document.createElement("div");a.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;";a.style.backgroundColor=i.get("backgroundColor")||"#fff";var n=document.createElement("h4");var o=i.get("lang")||[];n.innerHTML=o[0]||i.get("title");n.style.cssText="margin: 10px 20px;";n.style.color=i.get("textColor");var s=document.createElement("div");var l=document.createElement("textarea");s.style.cssText="display:block;width:100%;overflow:auto;";var u=i.get("optionToContent");var f=i.get("contentToOption");var h=gY(t);if(typeof u==="function"){var v=u(e.getOption());if(typeof v==="string"){s.innerHTML=v}else if($(v)){s.appendChild(v)}}else{s.appendChild(l);l.readOnly=i.get("readOnly");l.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;";l.style.color=i.get("textColor");l.style.borderColor=i.get("textareaBorderColor");l.style.backgroundColor=i.get("textareaColor");l.value=h.value}var c=h.meta;var p=document.createElement("div");p.style.cssText="position:absolute;bottom:0;left:0;right:0;";var d="float:right;margin-right:20px;border:none;"+"cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px";var g=document.createElement("div");var y=document.createElement("div");d+=";background-color:"+i.get("buttonColor");d+=";color:"+i.get("buttonTextColor");var m=this;function x(){r.removeChild(a);m._dom=null}ve(g,"click",x);ve(y,"click",function(){if(f==null&&u!=null||f!=null&&u==null){if("development"!=="production"){console.warn("It seems you have just provided one of `contentToOption` and `optionToContent` functions but missed the other one. Data change is ignored.")}x();return}var t;try{if(typeof f==="function"){t=f(s,e.getOption())}else{t=wY(l.value,c)}}catch(t){x();throw new Error("Data view format error "+t)}if(t){e.dispatchAction({type:"changeDataView",newOption:t})}x()});g.innerHTML=o[1];y.innerHTML=o[2];y.style.cssText=d;g.style.cssText=d;!i.get("readOnly")&&p.appendChild(y);p.appendChild(g);a.appendChild(n);a.appendChild(s);a.appendChild(p);s.style.height=r.clientHeight-80+"px";r.appendChild(a);this._dom=a};e.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)};e.prototype.dispose=function(t,e){this.remove(t,e)};e.getDefaultOption=function(t){var e={show:true,readOnly:false,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return e};return e}($U);function MY(t,e){return N(t,function(t,r){var i=e&&e[r];if(j(i)&&!W(i)){var a=j(t)&&!W(t);if(!a){t={value:t}}var n=i.name!=null&&t.name==null;t=D(t,i);n&&delete t.name;return t}else{return t}})}Lw({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var r=[];R(t.newOption.series,function(t){var i=e.getSeriesByName(t.name)[0];if(!i){r.push(C({type:"scatter"},t))}else{var a=i.get("data");r.push({name:t.name,data:MY(t.data,a)})}});e.mergeOption(D({series:r},t.newOption))});var IY=R;var TY=Fn();function CY(t,e){var r=LY(t);IY(e,function(e,i){var a=r.length-1;for(;a>=0;a--){var n=r[a];if(n[i]){break}}if(a<0){var o=t.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(o){var s=o.getPercentRange();r[0][i]={dataZoomId:i,start:s[0],end:s[1]}}}});r.push(e)}function DY(t){var e=LY(t);var r=e[e.length-1];e.length>1&&e.pop();var i={};IY(r,function(t,r){for(var a=e.length-1;a>=0;a--){t=e[a][r];if(t){i[r]=t;break}}});return i}function AY(t){TY(t).snapshots=null}function kY(t){return LY(t).length}function LY(t){var e=TY(t);if(!e.snapshots){e.snapshots=[{}]}return e.snapshots}var PY=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.onclick=function(t,e){AY(t);e.dispatchAction({type:"restore",from:this.uid})};e.getDefaultOption=function(t){var e={show:true,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return e};return e}($U);Lw({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")});var OY=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];var RY=function(){function t(t,e,r){var i=this;this._targetInfoList=[];var a=EY(e,t);R(zY,function(t,e){if(!r||!r.include||k(r.include,e)>=0){t(a,i._targetInfoList)}})}t.prototype.setOutputRanges=function(t,e){this.matchOutputRanges(t,e,function(t,e,r){(t.coordRanges||(t.coordRanges=[])).push(e);if(!t.coordRange){t.coordRange=e;var i=GY[t.brushType](0,r,e);t.__rangeOffset={offset:HY[t.brushType](i.values,t.range,[1,1]),xyMinMax:i.xyMinMax}}});return t};t.prototype.matchOutputRanges=function(t,e,r){R(t,function(t){var i=this.findTargetInfo(t,e);if(i&&i!==true){R(i.coordSyses,function(i){var a=GY[t.brushType](1,i,t.range,true);r(t,a.values,i,e)})}},this)};t.prototype.setInputRanges=function(t,e){R(t,function(t){var r=this.findTargetInfo(t,e);if("development"!=="production"){st(!r||r===true||t.coordRange,"coordRange must be specified when coord index specified.");st(!r||r!==true||t.range,"range must be specified in global brush.")}t.range=t.range||[];if(r&&r!==true){t.panelId=r.panelId;var i=GY[t.brushType](0,r.coordSys,t.coordRange);var a=t.__rangeOffset;t.range=a?HY[t.brushType](i.values,a.offset,UY(i.xyMinMax,a.xyMinMax)):i.values}},this)};t.prototype.makePanelOpts=function(t,e){return N(this._targetInfoList,function(r){var i=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:e?e(r):null,clipPath:Nz(i),isTargetByCursor:zz(i,t,r.coordSysModel),getLinearBrushOtherExtent:Ez(i)}})};t.prototype.controlSeries=function(t,e,r){var i=this.findTargetInfo(t,r);return i===true||i&&k(i.coordSyses,e.coordinateSystem)>=0};t.prototype.findTargetInfo=function(t,e){var r=this._targetInfoList;var i=EY(e,t);for(var a=0;a<r.length;a++){var n=r[a];var o=t.panelId;if(o){if(n.panelId===o){return n}}else{for(var s=0;s<BY.length;s++){if(BY[s](i,n)){return n}}}}return true};return t}();function NY(t){t[0]>t[1]&&t.reverse();return t}function EY(t,e){return Wn(t,e,{includeMainTypes:OY})}var zY={grid:function(t,e){var r=t.xAxisModels;var i=t.yAxisModels;var a=t.gridModels;var n=ct();var o={};var s={};if(!r&&!i&&!a){return}R(r,function(t){var e=t.axis.grid.model;n.set(e.id,e);o[e.id]=true});R(i,function(t){var e=t.axis.grid.model;n.set(e.id,e);s[e.id]=true});R(a,function(t){n.set(t.id,t);o[t.id]=true;s[t.id]=true});n.each(function(t){var a=t.coordinateSystem;var n=[];R(a.getCartesians(),function(t,e){if(k(r,t.getAxis("x").model)>=0||k(i,t.getAxis("y").model)>=0){n.push(t)}});e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:n[0],coordSyses:n,getPanelRect:VY.grid,xAxisDeclared:o[t.id],yAxisDeclared:s[t.id]})})},geo:function(t,e){R(t.geoModels,function(t){var r=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:r,coordSyses:[r],getPanelRect:VY.geo})})}};var BY=[function(t,e){var r=t.xAxisModel;var i=t.yAxisModel;var a=t.gridModel;!a&&r&&(a=r.axis.grid.model);!a&&i&&(a=i.axis.grid.model);return a&&a===e.gridModel},function(t,e){var r=t.geoModel;return r&&r===e.geoModel}];var VY={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys;var e=t.getBoundingRect().clone();e.applyTransform(iv(t));return e}};var GY={lineX:H(FY,0),lineY:H(FY,1),rect:function(t,e,r,i){var a=t?e.pointToData([r[0][0],r[1][0]],i):e.dataToPoint([r[0][0],r[1][0]],i);var n=t?e.pointToData([r[0][1],r[1][1]],i):e.dataToPoint([r[0][1],r[1][1]],i);var o=[NY([a[0],n[0]]),NY([a[1],n[1]])];return{values:o,xyMinMax:o}},polygon:function(t,e,r,i){var a=[[Infinity,-Infinity],[Infinity,-Infinity]];var n=N(r,function(r){var n=t?e.pointToData(r,i):e.dataToPoint(r,i);a[0][0]=Math.min(a[0][0],n[0]);a[1][0]=Math.min(a[1][0],n[1]);a[0][1]=Math.max(a[0][1],n[0]);a[1][1]=Math.max(a[1][1],n[1]);return n});return{values:n,xyMinMax:a}}};function FY(t,e,r,i){if("development"!=="production"){st(r.type==="cartesian2d","lineX/lineY brush is available only in cartesian2d.")}var a=r.getAxis(["x","y"][t]);var n=NY(N([0,1],function(t){return e?a.coordToData(a.toLocalCoord(i[t]),true):a.toGlobalCoord(a.dataToCoord(i[t]))}));var o=[];o[t]=n;o[1-t]=[NaN,NaN];return{values:n,xyMinMax:o}}var HY={lineX:H(WY,0),lineY:H(WY,1),rect:function(t,e,r){return[[t[0][0]-r[0]*e[0][0],t[0][1]-r[0]*e[0][1]],[t[1][0]-r[1]*e[1][0],t[1][1]-r[1]*e[1][1]]]},polygon:function(t,e,r){return N(t,function(t,i){return[t[0]-r[0]*e[i][0],t[1]-r[1]*e[i][1]]})}};function WY(t,e,r,i){return[e[0]-i[t]*r[0],e[1]-i[t]*r[1]]}function UY(t,e){var r=YY(t);var i=YY(e);var a=[r[0]/i[0],r[1]/i[1]];isNaN(a[0])&&(a[0]=1);isNaN(a[1])&&(a[1]=1);return a}function YY(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var XY=R;var ZY=En("toolbox-dataZoom_");var jY=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.render=function(t,e,r,i){if(!this._brushController){this._brushController=new JE(r.getZr());this._brushController.on("brush",F(this._onBrush,this)).mount()}JY(t,e,this,i,r);$Y(t,e)};e.prototype.onclick=function(t,e,r){qY[r].call(this)};e.prototype.remove=function(t,e){this._brushController&&this._brushController.unmount()};e.prototype.dispose=function(t,e){this._brushController&&this._brushController.dispose()};e.prototype._onBrush=function(t){var e=t.areas;if(!t.isEnd||!e.length){return}var r={};var i=this.ecModel;this._brushController.updateCovers([]);var a=new RY(KY(this.model),i,{include:["grid"]});a.matchOutputRanges(e,i,function(t,e,r){if(r.type!=="cartesian2d"){return}var i=t.brushType;if(i==="rect"){n("x",r,e[0]);n("y",r,e[1])}else{n({lineX:"x",lineY:"y"}[i],r,e)}});CY(i,r);this._dispatchZoomAction(r);function n(t,e,a){var n=e.getAxis(t);var s=n.model;var l=o(t,s,i);var u=l.findRepresentativeAxisProxy(s).getMinMaxSpan();if(u.minValueSpan!=null||u.maxValueSpan!=null){a=SE(0,a.slice(),n.scale.getExtent(),0,u.minValueSpan,u.maxValueSpan)}l&&(r[l.id]={dataZoomId:l.id,startValue:a[0],endValue:a[1]})}function o(t,e,r){var i;r.eachComponent({mainType:"dataZoom",subType:"select"},function(r){var a=r.getAxisModel(t,e.componentIndex);a&&(i=r)});return i}};e.prototype._dispatchZoomAction=function(t){var e=[];XY(t,function(t,r){e.push(M(t))});e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})};e.getDefaultOption=function(t){var e={show:true,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return e};return e}($U);var qY={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(DY(this.ecModel))}};function KY(t){var e={xAxisIndex:t.get("xAxisIndex",true),yAxisIndex:t.get("yAxisIndex",true),xAxisId:t.get("xAxisId",true),yAxisId:t.get("yAxisId",true)};if(e.xAxisIndex==null&&e.xAxisId==null){e.xAxisIndex="all"}if(e.yAxisIndex==null&&e.yAxisId==null){e.yAxisIndex="all"}return e}function $Y(t,e){t.setIconStatus("back",kY(e)>1?"emphasis":"normal")}function JY(t,e,r,i,a){var n=r._isZoomActive;if(i&&i.type==="takeGlobalCursor"){n=i.key==="dataZoomSelect"?i.dataZoomSelectActive:false}r._isZoomActive=n;t.setIconStatus("zoom",n?"emphasis":"normal");var o=new RY(KY(t),e,{include:["grid"]});var s=o.makePanelOpts(a,function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"});r._brushController.setPanels(s).enableBrush(n&&s.length?{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()}:false)}Wp("dataZoom",function(t){var e=t.getComponent("toolbox",0);var r=["feature","dataZoom"];if(!e||e.get(r)==null){return}var i=e.getModel(r);var a=[];var n=KY(i);var o=Wn(t,n);XY(o.xAxisModels,function(t){return s(t,"xAxis","xAxisIndex")});XY(o.yAxisModels,function(t){return s(t,"yAxis","yAxisIndex")});function s(t,e,r){var n=t.componentIndex;var o={type:"select",$fromToolbox:true,filterMode:i.get("filterMode",true)||"filter",id:ZY+e+n};o[r]=n;a.push(o)}return a});function QY(t){t.registerComponentModel(eY);t.registerComponentView(aY);QU("saveAsImage",oY);QU("magicType",uY);QU("dataView",SY);QU("dataZoom",jY);QU("restore",PY);Xw(KU)}var tX=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="tooltip";e.dependencies=["axisPointer"];e.defaultOption={zlevel:0,z:60,show:true,showContent:true,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:false,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:false,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}};return e}(xp);function eX(t){var e=t.get("confine");return e!=null?!!e:t.get("renderMode")==="richText"}function rX(t){if(!s.domSupported){return}var e=document.documentElement.style;for(var r=0,i=t.length;r<i;r++){if(t[r]in e){return t[r]}}}var iX=rX(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);var aX=rX(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function nX(t,e){if(!t){return e}e=Hc(e,true);var r=t.indexOf(e);t=r===-1?e:"-"+t.slice(0,r)+"-"+e;return t.toLowerCase()}function oX(t,e){var r=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return r?e?r[e]:r:null}var sX=nX(aX,"transition");var lX=nX(iX,"transform");var uX="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(s.transform3dSupported?"will-change:transform;":"");function fX(t){t=t==="left"?"right":t==="right"?"left":t==="top"?"bottom":"top";return t}function hX(t,e,r){if(!Y(r)||r==="inside"){return""}var i=t.get("backgroundColor");var a=t.get("borderWidth");e=ep(e);var n=fX(r);var o=Math.max(Math.round(a)*1.5,6);var s="";var l=lX+":";var u;if(k(["left","right"],n)>-1){s+="top:50%";l+="translateY(-50%) rotate("+(u=n==="left"?-225:-45)+"deg)"}else{s+="left:50%";l+="translateX(-50%) rotate("+(u=n==="top"?225:45)+"deg)"}var f=u*Math.PI/180;var h=o+a;var v=h*Math.abs(Math.cos(f))+h*Math.abs(Math.sin(f));var c=Math.round(((v-Math.SQRT2*a)/2+Math.SQRT2*a-(v-h)/2)*100)/100;s+=";"+n+":-"+c+"px";var p=e+" solid "+a+"px;";var d=["position:absolute;width:"+o+"px;height:"+o+"px;",s+";"+l+";","border-bottom:"+p,"border-right:"+p,"background-color:"+i+";"];return'<div style="'+d.join("")+'"></div>'}function vX(t,e){var r="cubic-bezier(0.23,1,0.32,1)";var i=" "+t/2+"s "+r;var a="opacity"+i+",visibility"+i;if(!e){i=" "+t+"s "+r;a+=s.transformSupported?","+lX+i:",left"+i+",top"+i}return sX+":"+a}function cX(t,e,r){var i=t.toFixed(0)+"px";var a=e.toFixed(0)+"px";if(!s.transformSupported){return r?"top:"+a+";left:"+i+";":[["top",a],["left",i]]}var n=s.transform3dSupported;var o="translate"+(n?"3d":"")+"("+i+","+a+(n?",0":"")+")";return r?"top:0;left:0;"+lX+":"+o+";":[["top",0],["left",0],[iX,o]]}function pX(t){var e=[];var r=t.get("fontSize");var i=t.getTextColor();i&&e.push("color:"+i);e.push("font:"+t.getFont());r&&e.push("line-height:"+Math.round(r*3/2)+"px");var a=t.get("textShadowColor");var n=t.get("textShadowBlur")||0;var o=t.get("textShadowOffsetX")||0;var s=t.get("textShadowOffsetY")||0;a&&n&&e.push("text-shadow:"+o+"px "+s+"px "+n+"px "+a);R(["decoration","align"],function(r){var i=t.get(r);i&&e.push("text-"+r+":"+i)});return e.join(";")}function dX(t,e,r){var i=[];var a=t.get("transitionDuration");var n=t.get("backgroundColor");var o=t.get("shadowBlur");var l=t.get("shadowColor");var u=t.get("shadowOffsetX");var f=t.get("shadowOffsetY");var h=t.getModel("textStyle");var v=Ty(t,"html");var c=u+"px "+f+"px "+o+"px "+l;i.push("box-shadow:"+c);e&&a&&i.push(vX(a,r));if(n){if(s.canvasSupported){i.push("background-color:"+n)}else{i.push("background-color:#"+gr(n));i.push("filter:alpha(opacity=70)")}}R(["width","color","radius"],function(e){var r="border-"+e;var a=Hc(r);var n=t.get(a);n!=null&&i.push(r+":"+n+(e==="color"?"":"px"))});i.push(pX(h));if(v!=null){i.push("padding:"+Wc(v).join("px ")+"px")}return i.join(";")+";"}function gX(t,e,r,i,a){var n=e&&e.painter;if(r){var o=n&&n.getViewportRoot();if(o){Qt(t,o,document.body,i,a)}}else{t[0]=i;t[1]=a;var s=n&&n.getViewportRootOffset();if(s){t[0]+=s.offsetLeft;t[1]+=s.offsetTop}}t[2]=t[0]/e.getWidth();t[3]=t[1]/e.getHeight()}var yX=function(){function t(t,e,r){this._show=false;this._styleCoord=[0,0,0,0];this._enterable=true;this._firstShow=true;this._longHide=true;if(s.wxa){return null}var i=document.createElement("div");i.domBelongToZr=true;this.el=i;var a=this._zr=e.getZr();var n=this._appendToBody=r&&r.appendToBody;gX(this._styleCoord,a,n,e.getWidth()/2,e.getHeight()/2);if(n){document.body.appendChild(i)}else{t.appendChild(i)}this._container=t;var o=this;i.onmouseenter=function(){if(o._enterable){clearTimeout(o._hideTimeout);o._show=true}o._inContent=true};i.onmousemove=function(t){t=t||window.event;if(!o._enterable){var e=a.handler;var r=a.painter.getViewportRoot();fe(r,t,true);e.dispatch("mousemove",t)}};i.onmouseleave=function(){o._inContent=false;if(o._enterable){if(o._show){o.hideLater(o._hideDelay)}}}}t.prototype.update=function(t){var e=this._container;var r=oX(e,"position");var i=e.style;if(i.position!=="absolute"&&r!=="absolute"){i.position="relative"}var a=t.get("alwaysShowContent");a&&this._moveIfResized();this.el.className=t.get("className")||""};t.prototype.show=function(t,e){clearTimeout(this._hideTimeout);clearTimeout(this._longHideTimeout);var r=this.el;var i=r.style;var a=this._styleCoord;if(!r.innerHTML){i.display="none"}else{i.cssText=uX+dX(t,!this._firstShow,this._longHide)+cX(a[0],a[1],true)+("border-color:"+ep(e)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none"))}this._show=true;this._firstShow=false;this._longHide=false};t.prototype.setContent=function(t,e,r,i,a){var n=this.el;if(t==null){n.innerHTML="";return}var o="";if(Y(a)&&r.get("trigger")==="item"&&!eX(r)){o=hX(r,i,a)}if(Y(t)){n.innerHTML=t+o}else if(t){n.innerHTML="";if(!W(t)){t=[t]}for(var s=0;s<t.length;s++){if($(t[s])&&t[s].parentNode!==n){n.appendChild(t[s])}}if(o&&n.childNodes.length){var l=document.createElement("div");l.innerHTML=o;n.appendChild(l)}}};t.prototype.setEnterable=function(t){this._enterable=t};t.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]};t.prototype.moveTo=function(t,e){var r=this._styleCoord;gX(r,this._zr,this._appendToBody,t,e);if(r[0]!=null&&r[1]!=null){var i=this.el.style;var a=cX(r[0],r[1]);R(a,function(t){i[t[0]]=t[1]})}};t.prototype._moveIfResized=function(){var t=this._styleCoord[2];var e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())};t.prototype.hide=function(){var t=this;var e=this.el.style;e.visibility="hidden";e.opacity="0";s.transform3dSupported&&(e.willChange="");this._show=false;this._longHideTimeout=setTimeout(function(){return t._longHide=true},500)};t.prototype.hideLater=function(t){if(this._show&&!(this._inContent&&this._enterable)){if(t){this._hideDelay=t;this._show=false;this._hideTimeout=setTimeout(F(this.hide,this),t)}else{this.hide()}}};t.prototype.isShow=function(){return this._show};t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)};return t}();var mX=function(){function t(t){this._show=false;this._styleCoord=[0,0,0,0];this._enterable=true;this._zr=t.getZr();bX(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}t.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized()};t.prototype.show=function(){if(this._hideTimeout){clearTimeout(this._hideTimeout)}this.el.show();this._show=true};t.prototype.setContent=function(t,e,r,i,a){if(j(t)){pn("development"!=="production"?"Passing DOM nodes as content is not supported in richText tooltip!":"")}if(this.el){this._zr.remove(this.el)}var n=r.getModel("textStyle");this.el=new Fl({style:{rich:e.richTextStyles,text:t,lineHeight:22,backgroundColor:r.get("backgroundColor"),borderRadius:r.get("borderRadius"),borderWidth:1,borderColor:i,shadowColor:r.get("shadowColor"),shadowBlur:r.get("shadowBlur"),shadowOffsetX:r.get("shadowOffsetX"),shadowOffsetY:r.get("shadowOffsetY"),textShadowColor:n.get("textShadowColor"),textShadowBlur:n.get("textShadowBlur")||0,textShadowOffsetX:n.get("textShadowOffsetX")||0,textShadowOffsetY:n.get("textShadowOffsetY")||0,fill:r.get(["textStyle","color"]),padding:Ty(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")});this._zr.add(this.el);var o=this;this.el.on("mouseover",function(){if(o._enterable){clearTimeout(o._hideTimeout);o._show=true}o._inContent=true});this.el.on("mouseout",function(){if(o._enterable){if(o._show){o.hideLater(o._hideDelay)}}o._inContent=false})};t.prototype.setEnterable=function(t){this._enterable=t};t.prototype.getSize=function(){var t=this.el;var e=this.el.getBoundingRect();var r=_X(t.style);return[e.width+r.left+r.right,e.height+r.top+r.bottom]};t.prototype.moveTo=function(t,e){var r=this.el;if(r){var i=this._styleCoord;bX(i,this._zr,t,e);t=i[0];e=i[1];var a=r.style;var n=xX(a.borderWidth||0);var o=_X(a);r.x=t+n+o.left;r.y=e+n+o.top;r.markRedraw()}};t.prototype._moveIfResized=function(){var t=this._styleCoord[2];var e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())};t.prototype.hide=function(){if(this.el){this.el.hide()}this._show=false};t.prototype.hideLater=function(t){if(this._show&&!(this._inContent&&this._enterable)){if(t){this._hideDelay=t;this._show=false;this._hideTimeout=setTimeout(F(this.hide,this),t)}else{this.hide()}}};t.prototype.isShow=function(){return this._show};t.prototype.dispose=function(){this._zr.remove(this.el)};return t}();function xX(t){return Math.max(0,t)}function _X(t){var e=xX(t.shadowBlur||0);var r=xX(t.shadowOffsetX||0);var i=xX(t.shadowOffsetY||0);return{left:xX(e-r),right:xX(e+r),top:xX(e-i),bottom:xX(e+i)}}function bX(t,e,r,i){t[0]=r;t[1]=i;t[2]=t[0]/e.getWidth();t[3]=t[1]/e.getHeight()}var wX=F;var SX=R;var MX=Na;var IX=new zl({shape:{x:-1,y:-1,width:2,height:2}});var TX=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(t,e){if(s.node){return}var r=t.getComponent("tooltip");var i=r.get("renderMode");this._renderMode=Kn(i);this._tooltipContent=this._renderMode==="richText"?new mX(e):new yX(e.getDom(),e,{appendToBody:r.get("appendToBody",true)})};e.prototype.render=function(t,e,r){if(s.node){return}this.group.removeAll();this._tooltipModel=t;this._ecModel=e;this._api=r;this._alwaysShowContent=t.get("alwaysShowContent");var i=this._tooltipContent;i.update(t);i.setEnterable(t.get("enterable"));this._initGlobalListener();this._keepShow()};e.prototype._initGlobalListener=function(){var t=this._tooltipModel;var e=t.get("triggerOn");NH("itemTooltip",this._api,wX(function(t,r,i){if(e!=="none"){if(e.indexOf(t)>=0){this._tryShow(r,i)}else if(t==="leave"){this._hide(i)}}},this))};e.prototype._keepShow=function(){var t=this._tooltipModel;var e=this._ecModel;var r=this._api;if(this._lastX!=null&&this._lastY!=null&&t.get("triggerOn")!=="none"){var i=this;clearTimeout(this._refreshUpdateTimeout);this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&i.manuallyShowTip(t,e,r,{x:i._lastX,y:i._lastY,dataByCoordSys:i._lastDataByCoordSys})})}};e.prototype.manuallyShowTip=function(t,e,r,i){if(i.from===this.uid||s.node){return}var a=DX(i,r);this._ticket="";var n=i.dataByCoordSys;var o=OX(i,e,r);if(o){var l=o.el.getBoundingRect().clone();l.applyTransform(o.el.transform);this._tryShow({offsetX:l.x+l.width/2,offsetY:l.y+l.height/2,target:o.el,position:i.position,positionDefault:"bottom"},a)}else if(i.tooltip&&i.x!=null&&i.y!=null){var u=IX;u.x=i.x;u.y=i.y;u.update();$l(u).tooltipConfig={name:null,option:i.tooltip};this._tryShow({offsetX:i.x,offsetY:i.y,target:u},a)}else if(n){this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:n,tooltipOption:i.tooltipOption},a)}else if(i.seriesIndex!=null){if(this._manuallyAxisShowTip(t,e,r,i)){return}var f=WH(i,e);var h=f.point[0];var v=f.point[1];if(h!=null&&v!=null){this._tryShow({offsetX:h,offsetY:v,target:f.el,position:i.position,positionDefault:"bottom"},a)}}else if(i.x!=null&&i.y!=null){r.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y});this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:r.getZr().findHover(i.x,i.y).target},a)}};e.prototype.manuallyHideTip=function(t,e,r,i){var a=this._tooltipContent;if(!this._alwaysShowContent&&this._tooltipModel){a.hideLater(this._tooltipModel.get("hideDelay"))}this._lastX=this._lastY=this._lastDataByCoordSys=null;if(i.from!==this.uid){this._hide(DX(i,r))}};e.prototype._manuallyAxisShowTip=function(t,e,r,i){var a=i.seriesIndex;var n=i.dataIndex;var o=e.getComponent("axisPointer").coordSysAxesInfo;if(a==null||n==null||o==null){return}var s=e.getSeriesByIndex(a);if(!s){return}var l=s.getData();var u=CX([l.getItemModel(n),s,(s.coordinateSystem||{}).model],this._tooltipModel);if(u.get("trigger")!=="axis"){return}r.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:n,position:i.position});return true};e.prototype._tryShow=function(t,e){var r=t.target;var i=this._tooltipModel;if(!i){return}this._lastX=t.offsetX;this._lastY=t.offsetY;var a=t.dataByCoordSys;if(a&&a.length){this._showAxisTooltip(a,t)}else if(r){this._lastDataByCoordSys=null;var n;var o;Xm(r,function(t){if($l(t).dataIndex!=null){n=t;return true}if($l(t).tooltipConfig!=null){o=t;return true}},true);if(n){this._showSeriesItemTooltip(t,n,e)}else if(o){this._showComponentItemTooltip(t,o,e)}else{this._hide(e)}}else{this._lastDataByCoordSys=null;this._hide(e)}};e.prototype._showOrMove=function(t,e){var r=t.get("showDelay");e=F(e,this);clearTimeout(this._showTimout);r>0?this._showTimout=setTimeout(e,r):e()};e.prototype._showAxisTooltip=function(t,e){var r=this._ecModel;var i=this._tooltipModel;var a=[e.offsetX,e.offsetY];var n=CX([e.tooltipOption],i);var o=this._renderMode;var s=[];var l=py("section",{blocks:[],noHeader:true});var u=[];var f=new Cy;SX(t,function(t){SX(t.dataByAxis,function(t){var e=r.getComponent(t.axisDim+"Axis",t.axisIndex);var i=t.value;if(!e||i==null){return}var a=wH(i,e.axis,r,t.seriesDataIndices,t.valueLabelOpt);var n=py("section",{header:a,noHeader:!lt(a),sortBlocks:true,blocks:[]});l.blocks.push(n);R(t.seriesDataIndices,function(l){var h=r.getSeriesByIndex(l.seriesIndex);var v=l.dataIndexInside;var c=h.getDataParams(v);if(c.dataIndex<0){return}c.axisDim=t.axisDim;c.axisIndex=t.axisIndex;c.axisType=t.axisType;c.axisId=t.axisId;c.axisValue=$M(e.axis,{value:i});c.axisValueLabel=a;c.marker=f.makeTooltipMarker("item",ep(c.color),o);var p=Ig(h.formatTooltip(v,true,null));if(p.markupFragment){n.blocks.push(p.markupFragment)}if(p.markupText){u.push(p.markupText)}s.push(c)})})});l.blocks.reverse();u.reverse();var h=e.position;var v=n.get("order");var c=my(l,f,o,v,r.get("useUTC"),n.get("textStyle"));c&&u.unshift(c);var p=o==="richText"?"\n\n":"<br/>";var d=u.join(p);this._showOrMove(n,function(){if(this._updateContentNotChangedOnAxis(t,s)){this._updatePosition(n,h,a[0],a[1],this._tooltipContent,s)}else{this._showTooltipContent(n,d,s,Math.random()+"",a[0],a[1],h,null,f)}})};e.prototype._showSeriesItemTooltip=function(t,e,r){var i=this._ecModel;var a=$l(e);var n=a.seriesIndex;var o=i.getSeriesByIndex(n);var s=a.dataModel||o;var l=a.dataIndex;var u=a.dataType;var f=s.getData(u);var h=this._renderMode;var v=t.positionDefault;var c=CX([f.getItemModel(l),s,o&&(o.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null);var p=c.get("trigger");if(p!=null&&p!=="item"){return}var d=s.getDataParams(l,u);var g=new Cy;d.marker=g.makeTooltipMarker("item",ep(d.color),h);var y=Ig(s.formatTooltip(l,false,u));var m=c.get("order");var x=y.markupFragment?my(y.markupFragment,g,h,m,i.get("useUTC"),c.get("textStyle")):y.markupText;var _="item_"+s.name+"_"+l;this._showOrMove(c,function(){this._showTooltipContent(c,x,d,_,t.offsetX,t.offsetY,t.position,t.target,g)});r({type:"showTip",dataIndexInside:l,dataIndex:f.getRawIndex(l),seriesIndex:n,from:this.uid})};e.prototype._showComponentItemTooltip=function(t,e,r){var i=$l(e);var a=i.tooltipConfig;var n=a.option||{};if(Y(n)){var o=n;n={content:o,formatter:o}}var s=[n];var l=this._ecModel.getComponent(i.componentMainType,i.componentIndex);if(l){s.push(l)}s.push({formatter:n.content});var u=t.positionDefault;var f=CX(s,this._tooltipModel,u?{position:u}:null);var h=f.get("content");var v=Math.random()+"";var c=new Cy;this._showOrMove(f,function(){var r=M(f.get("formatterParams")||{});this._showTooltipContent(f,h,r,v,t.offsetX,t.offsetY,t.position,e,c)});r({type:"showTip",from:this.uid})};e.prototype._showTooltipContent=function(t,e,r,i,a,n,o,s,l){this._ticket="";if(!t.get("showContent")||!t.get("show")){return}var u=this._tooltipContent;var f=t.get("formatter");o=o||t.get("position");var h=e;var v=this._getNearestPoint([a,n],r,t.get("trigger"),t.get("borderColor"));var c=v.color;if(f){if(Y(f)){var p=t.ecModel.get("useUTC");var d=W(r)?r[0]:r;var g=d&&d.axisType&&d.axisType.indexOf("time")>=0;h=f;if(g){h=wc(d.axisValue,h,p)}h=Kc(h,r,true)}else if(U(f)){var y=wX(function(e,i){if(e===this._ticket){u.setContent(i,l,t,c,o);this._updatePosition(t,o,a,n,u,r,s)}},this);this._ticket=i;h=f(r,i,y)}else{h=f}}u.setContent(h,l,t,c,o);u.show(t,c);this._updatePosition(t,o,a,n,u,r,s)};e.prototype._getNearestPoint=function(t,e,r,i){if(r==="axis"||W(e)){return{color:i||(this._renderMode==="html"?"#fff":"none")}}if(!W(e)){return{color:i||e.color||e.borderColor}}};e.prototype._updatePosition=function(t,e,r,i,a,n,o){var s=this._api.getWidth();var l=this._api.getHeight();e=e||t.get("position");var u=a.getSize();var f=t.get("align");var h=t.get("verticalAlign");var v=o&&o.getBoundingRect().clone();o&&v.applyTransform(o.transform);if(U(e)){e=e([r,i],n,a.el,v,{viewSize:[s,l],contentSize:u.slice()})}if(W(e)){r=MX(e[0],s);i=MX(e[1],l)}else if(j(e)){var c=e;c.width=u[0];c.height=u[1];var p=hp(c,{width:s,height:l});r=p.x;i=p.y;f=null;h=null}else if(Y(e)&&o){var d=LX(e,v,u,t.get("borderWidth"));r=d[0];i=d[1]}else{var d=AX(r,i,a,s,l,f?null:20,h?null:20);r=d[0];i=d[1]}f&&(r-=PX(f)?u[0]/2:f==="right"?u[0]:0);h&&(i-=PX(h)?u[1]/2:h==="bottom"?u[1]:0);if(eX(t)){var d=kX(r,i,a,s,l);r=d[0];i=d[1]}a.moveTo(r,i)};e.prototype._updateContentNotChangedOnAxis=function(t,e){var r=this._lastDataByCoordSys;var i=this._cbParamsList;var a=!!r&&r.length===t.length;a&&SX(r,function(r,n){var o=r.dataByAxis||[];var s=t[n]||{};var l=s.dataByAxis||[];a=a&&o.length===l.length;a&&SX(o,function(t,r){var n=l[r]||{};var o=t.seriesDataIndices||[];var s=n.seriesDataIndices||[];a=a&&t.value===n.value&&t.axisType===n.axisType&&t.axisId===n.axisId&&o.length===s.length;a&&SX(o,function(t,e){var r=s[e];a=a&&t.seriesIndex===r.seriesIndex&&t.dataIndex===r.dataIndex});i&&R(t.seriesDataIndices,function(t){var r=t.seriesIndex;var n=e[r];var o=i[r];if(n&&o&&o.data!==n.data){a=false}})})});this._lastDataByCoordSys=t;this._cbParamsList=e;return!!a};e.prototype._hide=function(t){this._lastDataByCoordSys=null;t({type:"hideTip",from:this.uid})};e.prototype.dispose=function(t,e){if(s.node){return}this._tooltipContent.dispose();FH("itemTooltip",e)};e.type="tooltip";return e}(Hy);function CX(t,e,r){var i=e.ecModel;var a;if(r){a=new Uv(r,i,i);a=new Uv(e.option,a,i)}else{a=e}for(var n=t.length-1;n>=0;n--){var o=t[n];if(o){if(o instanceof Uv){o=o.get("tooltip",true)}if(Y(o)){o={formatter:o}}if(o){a=new Uv(o,a,i)}}}return a}function DX(t,e){return t.dispatchAction||F(e.dispatchAction,e)}function AX(t,e,r,i,a,n,o){var s=r.getSize();var l=s[0];var u=s[1];if(n!=null){if(t+l+n+2>i){t-=l+n}else{t+=n}}if(o!=null){if(e+u+o>a){e-=u+o}else{e+=o}}return[t,e]}function kX(t,e,r,i,a){var n=r.getSize();var o=n[0];var s=n[1];t=Math.min(t+o,i)-o;e=Math.min(e+s,a)-s;t=Math.max(t,0);e=Math.max(e,0);return[t,e]}function LX(t,e,r,i){var a=r[0];var n=r[1];var o=Math.ceil(Math.SQRT2*i)+8;var s=0;var l=0;var u=e.width;var f=e.height;switch(t){case"inside":s=e.x+u/2-a/2;l=e.y+f/2-n/2;break;case"top":s=e.x+u/2-a/2;l=e.y-n-o;break;case"bottom":s=e.x+u/2-a/2;l=e.y+f+o;break;case"left":s=e.x-a-o;l=e.y+f/2-n/2;break;case"right":s=e.x+u+o;l=e.y+f/2-n/2}return[s,l]}function PX(t){return t==="center"||t==="middle"}function OX(t,e,r){var i=Un(t).queryOptionMap;var a=i.keys()[0];if(!a||a==="series"){return}var n=Zn(e,a,i.get(a),{useDefault:false,enableAll:false,enableNone:false});var o=n.models[0];if(!o){return}var s=r.getViewOfComponentModel(o);var l;s.group.traverse(function(e){var r=$l(e).tooltipConfig;if(r&&r.name===t.name){l=e;return true}});if(l){return{componentMainType:a,componentIndex:o.componentIndex,el:l}}}function RX(t){Xw(rW);t.registerComponentModel(tX);t.registerComponentView(TX);t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){});t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})}var NX=["rect","polygon","keep","clear"];function EX(t,e){var r=yn(t?t.brush:[]);if(!r.length){return}var i=[];R(r,function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];if(e instanceof Array){i=i.concat(e)}});var a=t&&t.toolbox;if(W(a)){a=a[0]}if(!a){a={feature:{}};t.toolbox=[a]}var n=a.feature||(a.feature={});var o=n.brush||(n.brush={});var s=o.type||(o.type=[]);s.push.apply(s,i);zX(s);if(e&&!s.length){s.push.apply(s,NX)}}function zX(t){var e={};R(t,function(t){e[t]=1});t.length=0;R(e,function(e,r){t.push(r)})}var BX=R;function VX(t){if(t){for(var e in t){if(t.hasOwnProperty(e)){return true}}}}function GX(t,e,r){var i={};BX(e,function(e){var n=i[e]=a();BX(t[e],function(t,i){if(!RO.isValidType(i)){return}var a={type:i,visual:t};r&&r(a,e);n[i]=new RO(a);if(i==="opacity"){a=M(a);a.type="colorAlpha";n.__hidden.__alphaForOpacity=new RO(a)}})});return i;function a(){var t=function(){};t.prototype.__hidden=t.prototype;var e=new t;return e}}function FX(t,e,r){var i;R(r,function(t){if(e.hasOwnProperty(t)&&VX(e[t])){i=true}});i&&R(r,function(r){if(e.hasOwnProperty(r)&&VX(e[r])){t[r]=M(e[r])}else{delete t[r]}})}function HX(t,e,r,i,a,n){var o={};R(t,function(t){var r=RO.prepareVisualTypes(e[t]);o[t]=r});var s;function l(t){return Gm(r,s,t)}function u(t,e){Hm(r,s,t,e)}if(n==null){r.each(f)}else{r.each([n],f)}function f(t,f){s=n==null?t:f;var h=r.getRawDataItem(s);if(h&&h.visualMap===false){return}var v=i.call(a,t);var c=e[v];var p=o[v];for(var d=0,g=p.length;d<g;d++){var y=p[d];c[y]&&c[y].applyVisual(t,l,u)}}}function WX(t,e,r,i){var a={};R(t,function(t){var r=RO.prepareVisualTypes(e[t]);a[t]=r});return{progress:function t(n,o){var s;if(i!=null){s=o.getDimensionIndex(i)}function l(t){return Gm(o,f,t)}function u(t,e){Hm(o,f,t,e)}var f;var h=o.getStore();while((f=n.next())!=null){var v=o.getRawDataItem(f);if(v&&v.visualMap===false){continue}var c=i!=null?h.get(s,f):f;var p=r(c);var d=e[p];var g=a[p];for(var y=0,m=g.length;y<m;y++){var x=g[y];d[x]&&d[x].applyVisual(c,l,u)}}}}}function UX(t){var e=t.brushType;var r={point:function(i){return YX[e].point(i,r,t)},rect:function(i){return YX[e].rect(i,r,t)}};return r}var YX={lineX:XX(0),lineY:XX(1),rect:{point:function(t,e,r){return t&&r.boundingRect.contain(t[0],t[1])},rect:function(t,e,r){return t&&r.boundingRect.intersect(t)}},polygon:{point:function(t,e,r){return t&&r.boundingRect.contain(t[0],t[1])&&C_(r.range,t[0],t[1])},rect:function(t,e,r){var i=r.range;if(!t||i.length<=1){return false}var a=t.x;var n=t.y;var o=t.width;var s=t.height;var l=i[0];if(C_(i,a,n)||C_(i,a+o,n)||C_(i,a,n+s)||C_(i,a+o,n+s)||Yi.create(t).contain(l[0],l[1])||vv(a,n,a+o,n,i)||vv(a,n,a,n+s,i)||vv(a+o,n,a+o,n+s,i)||vv(a,n+s,a+o,n+s,i)){return true}}}};function XX(t){var e=["x","y"];var r=["width","height"];return{point:function(e,r,i){if(e){var a=i.range;var n=e[t];return ZX(n,a)}},rect:function(i,a,n){if(i){var o=n.range;var s=[i[e[t]],i[e[t]]+i[r[t]]];s[1]<s[0]&&s.reverse();return ZX(s[0],o)||ZX(s[1],o)||ZX(o[0],s)||ZX(o[1],s)}}}}function ZX(t,e){return e[0]<=t&&t<=e[1]}var jX=["inBrush","outOfBrush"];var qX="__ecBrushSelect";var KX="__ecInBrushSelectEvent";function $X(t){t.eachComponent({mainType:"brush"},function(e){var r=e.brushTargetManager=new RY(e.option,t);r.setInputRanges(e.areas,t)})}function JX(t,e,r){var i=[];var a;var n;t.eachComponent({mainType:"brush"},function(t){r&&r.type==="takeGlobalCursor"&&t.setBrushOption(r.key==="brush"?r.brushOption:{brushType:false})});$X(t);t.eachComponent({mainType:"brush"},function(e,r){var o={brushId:e.id,brushIndex:r,brushName:e.name,areas:M(e.areas),selected:[]};i.push(o);var s=e.option;var l=s.brushLink;var u=[];var f=[];var h=[];var v=false;if(!r){a=s.throttleType;n=s.throttleDelay}var c=N(e.areas,function(t){var e=iZ[t.brushType];var r=D({boundingRect:e?e(t):void 0},t);r.selectors=UX(r);return r});var p=GX(e.option,jX,function(t){t.mappingMethod="fixed"});W(l)&&R(l,function(t){u[t]=1});function d(t){return l==="all"||!!u[t]}function g(t){return!!t.length}t.eachSeries(function(t,e){var r=h[e]=[];t.subType==="parallel"?y(t,e):m(t,e,r)});function y(t,e){var r=t.coordinateSystem;v=v||r.hasAxisBrushed();d(e)&&r.eachActiveState(t.getData(),function(t,e){t==="active"&&(f[e]=1)})}function m(r,i,a){if(!r.brushSelector||rZ(e,i)){return}R(c,function(i){if(e.brushTargetManager.controlSeries(i,r,t)){a.push(i)}v=v||g(a)});if(d(i)&&g(a)){var n=r.getData();n.each(function(t){if(eZ(r,a,n,t)){f[t]=1}})}}t.eachSeries(function(t,e){var r={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};o.selected.push(r);var i=h[e];var a=t.getData();var n=d(e)?function(t){return f[t]?(r.dataIndex.push(a.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(e){return eZ(t,i,a,e)?(r.dataIndex.push(a.getRawIndex(e)),"inBrush"):"outOfBrush"};(d(e)?v:g(i))&&HX(jX,p,a,n)})});QX(e,a,n,i,r)}function QX(t,e,r,i,a){if(!a){return}var n=t.getZr();if(n[KX]){return}if(!n[qX]){n[qX]=tZ}var o=rm(n,qX,r,e);o(t,i)}function tZ(t,e){if(!t.isDisposed()){var r=t.getZr();r[KX]=true;t.dispatchAction({type:"brushSelect",batch:e});r[KX]=false}}function eZ(t,e,r,i){for(var a=0,n=e.length;a<n;a++){var o=e[a];if(t.brushSelector(i,r,o.selectors,o)){return true}}}function rZ(t,e){var r=t.option.seriesIndex;return r!=null&&r!=="all"&&(W(r)?k(r,e)<0:e!==r)}var iZ={rect:function(t){return aZ(t.range)},polygon:function(t){var e;var r=t.range;for(var i=0,a=r.length;i<a;i++){e=e||[[Infinity,-Infinity],[Infinity,-Infinity]];var n=r[i];n[0]<e[0][0]&&(e[0][0]=n[0]);n[0]>e[0][1]&&(e[0][1]=n[0]);n[1]<e[1][0]&&(e[1][0]=n[1]);n[1]>e[1][1]&&(e[1][1]=n[1])}return e&&aZ(e)}};function aZ(t){return new Yi(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var nZ=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(t,e){this.ecModel=t;this.api=e;this.model;(this._brushController=new JE(e.getZr())).on("brush",F(this._onBrush,this)).mount()};e.prototype.render=function(t,e,r,i){this.model=t;this._updateController(t,e,r,i)};e.prototype.updateTransform=function(t,e,r,i){$X(e);this._updateController(t,e,r,i)};e.prototype.updateVisual=function(t,e,r,i){this.updateTransform(t,e,r,i)};e.prototype.updateView=function(t,e,r,i){this._updateController(t,e,r,i)};e.prototype._updateController=function(t,e,r,i){(!i||i.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(r)).enableBrush(t.brushOption).updateCovers(t.areas.slice())};e.prototype.dispose=function(){this._brushController.dispose()};e.prototype._onBrush=function(t){var e=this.model.id;var r=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:e,areas:M(r),$from:e});t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:e,areas:M(r),$from:e})};e.type="brush";return e}(Hy);var oZ="#ddd";var sZ=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.areas=[];r.brushOption={};return r}e.prototype.optionUpdated=function(t,e){var r=this.option;!e&&FX(r,t,["inBrush","outOfBrush"]);var i=r.inBrush=r.inBrush||{};r.outOfBrush=r.outOfBrush||{color:oZ};if(!i.hasOwnProperty("liftZ")){i.liftZ=5}};e.prototype.setAreas=function(t){if("development"!=="production"){st(W(t));R(t,function(t){st(t.brushType,"Illegal areas")})}if(!t){return}this.areas=N(t,function(t){return lZ(this.option,t)},this)};e.prototype.setBrushOption=function(t){this.brushOption=lZ(this.option,t);this.brushType=this.brushOption.brushType};e.type="brush";e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"];e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:true,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:true,z:1e4};return e}(xp);function lZ(t,e){return I({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new Uv(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,true)}var uZ=["rect","polygon","lineX","lineY","keep","clear"];var fZ=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.render=function(t,e,r){var i;var a;var n;e.eachComponent({mainType:"brush"},function(t){i=t.brushType;a=t.brushOption.brushMode||"single";n=n||!!t.areas.length});this._brushType=i;this._brushMode=a;R(t.get("type",true),function(e){t.setIconStatus(e,(e==="keep"?a==="multiple":e==="clear"?n:e===i)?"emphasis":"normal")})};e.prototype.updateView=function(t,e,r){this.render(t,e,r)};e.prototype.getIcons=function(){var t=this.model;var e=t.get("icon",true);var r={};R(t.get("type",true),function(t){if(e[t]){r[t]=e[t]}});return r};e.prototype.onclick=function(t,e,r){var i=this._brushType;var a=this._brushMode;if(r==="clear"){e.dispatchAction({type:"axisAreaSelect",intervals:[]});e.dispatchAction({type:"brush",command:"clear",areas:[]})}else{e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:r==="keep"?i:i===r?false:r,brushMode:r==="keep"?a==="multiple"?"single":"multiple":a}})}};e.getDefaultOption=function(t){var e={show:true,type:uZ.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])};return e};return e}($U);function hZ(t){t.registerComponentView(nZ);t.registerComponentModel(sZ);t.registerPreprocessor(EX);t.registerVisual(t.PRIORITY.VISUAL.BRUSH,JX);t.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(e){e.setAreas(t.areas)})});t.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){});t.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},function(){});QU("brush",fZ)}var vZ=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.layoutMode={type:"box",ignoreSize:true};return r}e.type="title";e.defaultOption={zlevel:0,z:6,show:true,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}};return e}(xp);var cZ=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){this.group.removeAll();if(!t.get("show")){return}var i=this.group;var a=t.getModel("textStyle");var n=t.getModel("subtextStyle");var o=t.get("textAlign");var s=it(t.get("textBaseline"),t.get("textVerticalAlign"));var l=new Fl({style:Sv(a,{text:t.get("text"),fill:a.getTextColor()},{disableBox:true}),z2:10});var u=l.getBoundingRect();var f=t.get("subtext");var h=new Fl({style:Sv(n,{text:f,fill:n.getTextColor(),y:u.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:true}),z2:10});var v=t.get("link");var c=t.get("sublink");var p=t.get("triggerEvent",true);l.silent=!v&&!p;h.silent=!c&&!p;if(v){l.on("click",function(){rp(v,"_"+t.get("target"))})}if(c){h.on("click",function(){rp(c,"_"+t.get("subtarget"))})}$l(l).eventData=$l(h).eventData=p?{componentType:"title",componentIndex:t.componentIndex}:null;i.add(l);f&&i.add(h);var d=i.getBoundingRect();var g=t.getBoxLayoutParams();g.width=d.width;g.height=d.height;var y=hp(g,{width:r.getWidth(),height:r.getHeight()},t.get("padding"));if(!o){o=t.get("left")||t.get("right");if(o==="middle"){o="center"}if(o==="right"){y.x+=y.width}else if(o==="center"){y.x+=y.width/2}}if(!s){s=t.get("top")||t.get("bottom");if(s==="center"){s="middle"}if(s==="bottom"){y.y+=y.height}else if(s==="middle"){y.y+=y.height/2}s=s||"top"}i.x=y.x;i.y=y.y;i.markRedraw();var m={align:o,verticalAlign:s};l.setStyle(m);h.setStyle(m);d=i.getBoundingRect();var x=y.margin;var _=t.getItemStyle(["color","opacity"]);_.fill=t.get("backgroundColor");var b=new zl({shape:{x:d.x-x[3],y:d.y-x[0],width:d.width+x[1]+x[3],height:d.height+x[0]+x[2],r:t.get("borderRadius")},style:_,subPixelOptimize:true,silent:true});i.add(b)};e.type="title";return e}(Hy);function pZ(t){t.registerComponentModel(vZ);t.registerComponentView(cZ)}var dZ=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.layoutMode="box";return r}e.prototype.init=function(t,e,r){this.mergeDefaultAndTheme(t,r);this._initData()};e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments);this._initData()};e.prototype.setCurrentIndex=function(t){if(t==null){t=this.option.currentIndex}var e=this._data.count();if(this.option.loop){t=(t%e+e)%e}else{t>=e&&(t=e-1);t<0&&(t=0)}this.option.currentIndex=t};e.prototype.getCurrentIndex=function(){return this.option.currentIndex};e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1};e.prototype.setPlayState=function(t){this.option.autoPlay=!!t};e.prototype.getPlayState=function(){return!!this.option.autoPlay};e.prototype._initData=function(){var t=this.option;var e=t.data||[];var r=t.axisType;var i=this._names=[];var a;if(r==="category"){a=[];R(e,function(t,e){var r=Ln(_n(t),"");var n;if(j(t)){n=M(t);n.value=e}else{n=e}a.push(n);i.push(r)})}else{a=e}var n={category:"ordinal",time:"time",value:"number"}[r]||"number";var o=this._data=new SS([{name:"value",type:n}],this);o.initData(a,i)};e.prototype.getData=function(){return this._data};e.prototype.getCategories=function(){if(this.get("axisType")==="category"){return this._names.slice()}};e.type="timeline";e.defaultOption={zlevel:0,z:4,show:true,axisType:"time",realtime:true,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:false,rewind:false,loop:true,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]};return e}(xp);var gZ=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="timeline.slider";e.defaultOption=qv(dZ.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:false,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:true,width:2,color:"#DAE1F5"},label:{position:"auto",show:true,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:true,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:true,showPlayBtn:true,showPrevBtn:true,showNextBtn:true,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:true,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]});return e}(dZ);P(gZ,Mg.prototype);var yZ=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="timeline";return e}(Hy);var mZ=function(t){r(e,t);function e(e,r,i,a){var n=t.call(this,e,r,i)||this;n.type=a||"value";return n}e.prototype.getLabelModel=function(){return this.model.getModel("label")};e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"};return e}(PI);var xZ=Math.PI;var _Z=Fn();var bZ=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(t,e){this.api=e};e.prototype.render=function(t,e,r){this.model=t;this.api=r;this.ecModel=e;this.group.removeAll();if(t.get("show",true)){var i=this._layout(t,r);var a=this._createGroup("_mainGroup");var n=this._createGroup("_labelGroup");var o=this._axis=this._createAxis(i,t);t.formatTooltip=function(t){var e=o.scale.getLabel({value:t});return py("nameValue",{noName:true,value:e})};R(["AxisLine","AxisTick","Control","CurrentPointer"],function(e){this["_render"+e](i,a,o,t)},this);this._renderAxisLabel(i,n,o,t);this._position(i,t)}this._doPlayStop();this._updateTicksStatus()};e.prototype.remove=function(){this._clearTimer();this.group.removeAll()};e.prototype.dispose=function(){this._clearTimer()};e.prototype._layout=function(t,e){var r=t.get(["label","position"]);var i=t.get("orient");var a=SZ(t,e);var n;if(r==null||r==="auto"){n=i==="horizontal"?a.y+a.height/2<e.getHeight()/2?"-":"+":a.x+a.width/2<e.getWidth()/2?"+":"-"}else if(Y(r)){n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[i][r]}else{n=r}var o={horizontal:"center",vertical:n>=0||n==="+"?"left":"right"};var s={horizontal:n>=0||n==="+"?"top":"bottom",vertical:"middle"};var l={horizontal:0,vertical:xZ/2};var u=i==="vertical"?a.height:a.width;var f=t.getModel("controlStyle");var h=f.get("show",true);var v=h?f.get("itemSize"):0;var c=h?f.get("itemGap"):0;var p=v+c;var d=t.get(["label","rotate"])||0;d=d*xZ/180;var g;var y;var m;var x=f.get("position",true);var _=h&&f.get("showPlayBtn",true);var b=h&&f.get("showPrevBtn",true);var w=h&&f.get("showNextBtn",true);var S=0;var M=u;if(x==="left"||x==="bottom"){_&&(g=[0,0],S+=p);b&&(y=[S,0],S+=p);w&&(m=[M-v,0],M-=p)}else{_&&(g=[M-v,0],M-=p);b&&(y=[0,0],S+=p);w&&(m=[M-v,0],M-=p)}var I=[S,M];if(t.get("inverse")){I.reverse()}return{viewRect:a,mainLength:u,orient:i,rotation:l[i],labelRotation:d,labelPosOpt:n,labelAlign:t.get(["label","align"])||o[i],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||s[i],playPosition:g,prevBtnPosition:y,nextBtnPosition:m,axisExtent:I,controlSize:v,controlGap:c}};e.prototype._position=function(t,e){var r=this._mainGroup;var i=this._labelGroup;var a=t.viewRect;if(t.orient==="vertical"){var n=yi();var o=a.x;var s=a.y+a.height;bi(n,n,[-o,-s]);wi(n,n,-xZ/2);bi(n,n,[o,s]);a=a.clone();a.applyTransform(n)}var l=g(a);var u=g(r.getBoundingRect());var f=g(i.getBoundingRect());var h=[r.x,r.y];var v=[i.x,i.y];v[0]=h[0]=l[0][0];var c=t.labelPosOpt;if(c==null||Y(c)){var p=c==="+"?0:1;y(h,u,l,1,p);y(v,f,l,1,1-p)}else{var p=c>=0?0:1;y(h,u,l,1,p);v[1]=h[1]+c}r.setPosition(h);i.setPosition(v);r.rotation=i.rotation=t.rotation;d(r);d(i);function d(t){t.originX=l[0][0]-t.x;t.originY=l[1][0]-t.y}function g(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function y(t,e,r,i,a){t[i]+=r[i][a]-e[i][a]}};e.prototype._createAxis=function(t,e){var r=e.getData();var i=e.get("axisType");var a=wZ(e,i);a.getTicks=function(){return r.mapArray(["value"],function(t){return{value:t}})};var n=r.getDataExtent("value");a.setExtent(n[0],n[1]);a.niceTicks();var o=new mZ("value",a,t.axisExtent,i);o.model=e;return o};e.prototype._createGroup=function(t){var e=this[t]=new ya;this.group.add(e);return e};e.prototype._renderAxisLine=function(t,e,r,i){var a=r.getExtent();if(!i.get(["lineStyle","show"])){return}var n=new vh({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:C({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:true,z2:1});e.add(n);var o=this._progressLine=new vh({shape:{x1:a[0],x2:this._currentPointer?this._currentPointer.x:a[0],y1:0,y2:0},style:D({lineCap:"round",lineWidth:n.style.lineWidth},i.getModel(["progress","lineStyle"]).getLineStyle()),silent:true,z2:1});e.add(o)};e.prototype._renderAxisTick=function(t,e,r,i){var a=this;var n=i.getData();var o=r.scale.getTicks();this._tickSymbols=[];R(o,function(t){var o=r.dataToCoord(t.value);var s=n.getItemModel(t.value);var l=s.getModel("itemStyle");var u=s.getModel(["emphasis","itemStyle"]);var f=s.getModel(["progress","itemStyle"]);var h={x:o,y:0,onclick:F(a._changeTimeline,a,t.value)};var v=IZ(s,l,e,h);v.ensureState("emphasis").style=u.getItemStyle();v.ensureState("progress").style=f.getItemStyle();Ju(v);var c=$l(v);if(s.get("tooltip")){c.dataIndex=t.value;c.dataModel=i}else{c.dataIndex=c.dataModel=null}a._tickSymbols.push(v)})};e.prototype._renderAxisLabel=function(t,e,r,i){var a=this;var n=r.getLabelModel();if(!n.get("show")){return}var o=i.getData();var s=r.getViewLabels();this._tickLabels=[];R(s,function(i){var n=i.tickValue;var s=o.getItemModel(n);var l=s.getModel("label");var u=s.getModel(["emphasis","label"]);var f=s.getModel(["progress","label"]);var h=r.dataToCoord(i.tickValue);var v=new Fl({x:h,y:0,rotation:t.labelRotation-t.rotation,onclick:F(a._changeTimeline,a,n),silent:false,style:Sv(l,{text:i.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});v.ensureState("emphasis").style=Sv(u);v.ensureState("progress").style=Sv(f);e.add(v);Ju(v);_Z(v).dataIndex=n;a._tickLabels.push(v)})};e.prototype._renderControl=function(t,e,r,i){var a=t.controlSize;var n=t.rotation;var o=i.getModel("controlStyle").getItemStyle();var s=i.getModel(["emphasis","controlStyle"]).getItemStyle();var l=i.getPlayState();var u=i.get("inverse",true);f(t.nextBtnPosition,"next",F(this._changeTimeline,this,u?"-":"+"));f(t.prevBtnPosition,"prev",F(this._changeTimeline,this,u?"+":"-"));f(t.playPosition,l?"stop":"play",F(this._handlePlayClick,this,!l),true);function f(t,r,l,u){if(!t){return}var f=aa(it(i.get(["controlStyle",r+"BtnSize"]),a),a);var h=[0,-f/2,f,f];var v=MZ(i,r+"Icon",h,{x:t[0],y:t[1],originX:a/2,originY:0,rotation:u?-n:0,rectHover:true,style:o,onclick:l});v.ensureState("emphasis").style=s;e.add(v);Ju(v)}};e.prototype._renderCurrentPointer=function(t,e,r,i){var a=i.getData();var n=i.getCurrentIndex();var o=a.getItemModel(n).getModel("checkpointStyle");var s=this;var l={onCreate:function(t){t.draggable=true;t.drift=F(s._handlePointerDrag,s);t.ondragend=F(s._handlePointerDragend,s);TZ(t,s._progressLine,n,r,i,true)},onUpdate:function(t){TZ(t,s._progressLine,n,r,i)}};this._currentPointer=IZ(o,o,this._mainGroup,{},this._currentPointer,l)};e.prototype._handlePlayClick=function(t){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})};e.prototype._handlePointerDrag=function(t,e,r){this._clearTimer();this._pointerChangeTimeline([r.offsetX,r.offsetY])};e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],true)};e.prototype._pointerChangeTimeline=function(t,e){var r=this._toAxisCoord(t)[0];var i=this._axis;var a=za(i.getExtent().slice());r>a[1]&&(r=a[1]);r<a[0]&&(r=a[0]);this._currentPointer.x=r;this._currentPointer.markRedraw();this._progressLine.shape.x2=r;this._progressLine.dirty();var n=this._findNearestTick(r);var o=this.model;if(e||n!==o.getCurrentIndex()&&o.get("realtime")){this._changeTimeline(n)}};e.prototype._doPlayStop=function(){var t=this;this._clearTimer();if(this.model.getPlayState()){this._timer=setTimeout(function(){var e=t.model;t._changeTimeline(e.getCurrentIndex()+(e.get("rewind",true)?-1:1))},this.model.get("playInterval"))}};e.prototype._toAxisCoord=function(t){var e=this._mainGroup.getLocalTransform();return av(t,e,true)};e.prototype._findNearestTick=function(t){var e=this.model.getData();var r=Infinity;var i;var a=this._axis;e.each(["value"],function(e,n){var o=a.dataToCoord(e);var s=Math.abs(o-t);if(s<r){r=s;i=n}});return i};e.prototype._clearTimer=function(){if(this._timer){clearTimeout(this._timer);this._timer=null}};e.prototype._changeTimeline=function(t){var e=this.model.getCurrentIndex();if(t==="+"){t=e+1}else if(t==="-"){t=e-1}this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})};e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex();var e=this._tickSymbols;var r=this._tickLabels;if(e){for(var i=0;i<e.length;i++){e&&e[i]&&e[i].toggleState("progress",i<t)}}if(r){for(var i=0;i<r.length;i++){r&&r[i]&&r[i].toggleState("progress",_Z(r[i]).dataIndex<=t)}}};e.type="timeline.slider";return e}(yZ);function wZ(t,e){e=e||t.get("type");if(e){switch(e){case"category":return new tM({ordinalMeta:t.getCategories(),extent:[Infinity,-Infinity]});case"time":return new _M({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new rM}}}function SZ(t,e){return hp(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}function MZ(t,e,r,i){var a=i.style;var n=hv(t.get(["controlStyle",e]),i||{},new Yi(r[0],r[1],r[2],r[3]));if(a){n.setStyle(a)}return n}function IZ(t,e,r,i,a,n){var o=e.get("color");if(!a){var s=t.get("symbol");a=nx(s,-1,-1,2,2,o);a.setStyle("strokeNoScale",true);r.add(a);n&&n.onCreate(a)}else{a.setColor(o);r.add(a);n&&n.onUpdate(a)}var l=e.getItemStyle(["color"]);a.setStyle(l);i=I({rectHover:true,z2:100},i,true);var u=ox(t.get("symbolSize"));i.scaleX=u[0]/2;i.scaleY=u[1]/2;var f=sx(t.get("symbolOffset"),u);if(f){i.x=(i.x||0)+f[0];i.y=(i.y||0)+f[1]}var h=t.get("symbolRotate");i.rotation=(h||0)*Math.PI/180||0;a.attr(i);a.updateTransform();return a}function TZ(t,e,r,i,a,n){if(t.dragging){return}var o=a.getModel("checkpointStyle");var s=i.dataToCoord(a.getData().get("value",r));if(n||!o.get("animation",true)){t.attr({x:s,y:0});e&&e.attr({shape:{x2:s}})}else{var l={duration:o.get("animationDuration",true),easing:o.get("animationEasing",true)};t.stopAnimation(null,true);t.animateTo({x:s,y:0},l);e&&e.animateTo({shape:{x2:s}},l)}}function CZ(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e,r){var i=e.getComponent("timeline");if(i&&t.currentIndex!=null){i.setCurrentIndex(t.currentIndex);if(!i.get("loop",true)&&i.isIndexMax()&&i.getPlayState()){i.setPlayState(false);r.dispatchAction({type:"timelinePlayChange",playState:false,from:t.from})}}e.resetOption("timeline",{replaceMerge:i.get("replaceMerge",true)});return D({currentIndex:i.option.currentIndex},t)});t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var r=e.getComponent("timeline");if(r&&t.playState!=null){r.setPlayState(t.playState)}})}function DZ(t){var e=t&&t.timeline;if(!W(e)){e=e?[e]:[]}R(e,function(t){if(!t){return}AZ(t)})}function AZ(t){var e=t.type;var r={number:"value",time:"time"};if(r[e]){t.axisType=r[e];delete t.type}kZ(t);if(LZ(t,"controlPosition")){var i=t.controlStyle||(t.controlStyle={});if(!LZ(i,"position")){i.position=t.controlPosition}if(i.position==="none"&&!LZ(i,"show")){i.show=false;delete i.position}delete t.controlPosition}R(t.data||[],function(t){if(j(t)&&!W(t)){if(!LZ(t,"value")&&LZ(t,"name")){t.value=t.name}kZ(t)}})}function kZ(t){var e=t.itemStyle||(t.itemStyle={});var r=e.emphasis||(e.emphasis={});var i=t.label||t.label||{};var a=i.normal||(i.normal={});var n={normal:1,emphasis:1};R(i,function(t,e){if(!n[e]&&!LZ(a,e)){a[e]=t}});if(r.label&&!LZ(i,"emphasis")){i.emphasis=r.label;delete r.label}}function LZ(t,e){return t.hasOwnProperty(e)}function PZ(t){t.registerComponentModel(gZ);t.registerComponentView(bZ);t.registerSubTypeDefaulter("timeline",function(){return"slider"});CZ(t);t.registerPreprocessor(DZ)}function OZ(t,e){if(!t){return false}var r=W(t)?t:[t];for(var i=0;i<r.length;i++){if(r[i]&&r[i][e]){return true}}return false}function RZ(t){mn(t,"label",["show"])}var NZ=Fn();var EZ=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.createdBySelf=false;return r}e.prototype.init=function(t,e,r){if("development"!=="production"){if(this.type==="marker"){throw new Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.")}}this.mergeDefaultAndTheme(t,r);this._mergeOption(t,r,false,true)};e.prototype.isAnimationEnabled=function(){if(s.node){return false}var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()};e.prototype.mergeOption=function(t,e){this._mergeOption(t,e,false,false)};e.prototype._mergeOption=function(t,e,r,i){var a=this.mainType;if(!r){e.eachSeries(function(t){var r=t.get(this.mainType,true);var n=NZ(t)[a];if(!r||!r.data){NZ(t)[a]=null;return}if(!n){if(i){RZ(r)}R(r.data,function(t){if(t instanceof Array){RZ(t[0]);RZ(t[1])}else{RZ(t)}});n=this.createMarkerModelFromSeries(r,this,e);C(n,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:true});n.__hostSeries=t}else{n._mergeOption(r,e,true)}NZ(t)[a]=n},this)}};e.prototype.formatTooltip=function(t,e,r){var i=this.getData();var a=this.getRawValue(t);var n=i.getName(t);return py("section",{header:this.name,blocks:[py("nameValue",{name:n,value:a,noName:!n,noValue:a==null})]})};e.prototype.getData=function(){return this._data};e.prototype.setData=function(t){this._data=t};e.getMarkerModelFromSeries=function(t,e){return NZ(t)[e]};e.type="marker";e.dependencies=["series","grid","polar","geo"];return e}(xp);P(EZ,Mg.prototype);var zZ=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.createMarkerModelFromSeries=function(t,r,i){return new e(t,r,i)};e.type="markPoint";e.defaultOption={zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:true,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:true}}};return e}(EZ);function BZ(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function VZ(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}function GZ(t,e,r,i,a,n){var o=[];var s=NS(e,i);var l=s?e.getCalculationInfo("stackResultDimension"):i;var u=ZZ(e,l,t);var f=e.indicesOfNearest(l,u)[0];o[a]=e.get(r,f);o[n]=e.get(l,f);var h=e.get(i,f);var v=Ba(e.get(i,f));v=Math.min(v,20);if(v>=0){o[n]=+o[n].toFixed(v)}return[o,h]}var FZ={min:H(GZ,"min"),max:H(GZ,"max"),average:H(GZ,"average"),median:H(GZ,"median")};function HZ(t,e){var r=t.getData();var i=t.coordinateSystem;if(e&&!VZ(e)&&!W(e.coord)&&i){var a=i.dimensions;var n=WZ(e,r,i,t);e=M(e);if(e.type&&FZ[e.type]&&n.baseAxis&&n.valueAxis){var o=k(a,n.baseAxis.dim);var s=k(a,n.valueAxis.dim);var l=FZ[e.type](r,n.baseDataDim,n.valueDataDim,o,s);e.coord=l[0];e.value=l[1]}else{var u=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis];for(var f=0;f<2;f++){if(FZ[u[f]]){u[f]=ZZ(r,r.mapDimension(a[f]),u[f])}}e.coord=u}}return e}function WZ(t,e,r,i){var a={};if(t.valueIndex!=null||t.valueDim!=null){a.valueDataDim=t.valueIndex!=null?e.getDimension(t.valueIndex):t.valueDim;a.valueAxis=r.getAxis(UZ(i,a.valueDataDim));a.baseAxis=r.getOtherAxis(a.valueAxis);a.baseDataDim=e.mapDimension(a.baseAxis.dim)}else{a.baseAxis=i.getBaseAxis();a.valueAxis=r.getOtherAxis(a.baseAxis);a.baseDataDim=e.mapDimension(a.baseAxis.dim);a.valueDataDim=e.mapDimension(a.valueAxis.dim)}return a}function UZ(t,e){var r=t.getData().getDimensionInfo(e);return r&&r.coordDim}function YZ(t,e){return t&&t.containData&&e.coord&&!BZ(e)?t.containData(e.coord):true}function XZ(t,e,r,i){if(i<2){return t.coord&&t.coord[i]}return t.value}function ZZ(t,e,r){if(r==="average"){var i=0;var a=0;t.each(e,function(t,e){if(!isNaN(t)){i+=t;a++}});return i/a}else if(r==="median"){return t.getMedian(e)}else{return t.getDataExtent(e)[r==="max"?1:0]}}var jZ=Fn();var qZ=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(){this.markerGroupMap=ct()};e.prototype.render=function(t,e,r){var i=this;var a=this.markerGroupMap;a.each(function(t){jZ(t).keep=false});e.eachSeries(function(t){var a=EZ.getMarkerModelFromSeries(t,i.type);a&&i.renderSeries(t,a,e,r)});a.each(function(t){!jZ(t).keep&&i.group.remove(t.group)})};e.prototype.markKeep=function(t){jZ(t).keep=true};e.prototype.blurSeries=function(t){var e=this;R(t,function(t){var r=EZ.getMarkerModelFromSeries(t,e.type);if(r){var i=r.getData();i.eachItemGraphicEl(function(t){if(t){zu(t)}})}})};e.type="marker";return e}(Hy);function KZ(t,e,r){var i=e.coordinateSystem;t.each(function(a){var n=t.getItemModel(a);var o;var s=Na(n.get("x"),r.getWidth());var l=Na(n.get("y"),r.getHeight());if(!isNaN(s)&&!isNaN(l)){o=[s,l]}else if(e.getMarkerPosition){o=e.getMarkerPosition(t.getValues(t.dimensions,a))}else if(i){var u=t.get(i.dimensions[0],a);var f=t.get(i.dimensions[1],a);o=i.dataToPoint([u,f])}if(!isNaN(s)){o[0]=s}if(!isNaN(l)){o[1]=l}t.setItemLayout(a,o)})}var $Z=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.updateTransform=function(t,e,r){e.eachSeries(function(t){var e=EZ.getMarkerModelFromSeries(t,"markPoint");if(e){KZ(e.getData(),t,r);this.markerGroupMap.get(t.id).updateLayout()}},this)};e.prototype.renderSeries=function(t,e,r,i){var a=t.coordinateSystem;var n=t.id;var o=t.getData();var s=this.markerGroupMap;var l=s.get(n)||s.set(n,new KC);var u=JZ(a,t,e);e.setData(u);KZ(e.getData(),t,i);u.each(function(t){var r=u.getItemModel(t);var i=r.getShallow("symbol");var a=r.getShallow("symbolSize");var n=r.getShallow("symbolRotate");var s=r.getShallow("symbolOffset");var l=r.getShallow("symbolKeepAspect");if(U(i)||U(a)||U(n)||U(s)){var f=e.getRawValue(t);var h=e.getDataParams(t);if(U(i)){i=i(f,h)}if(U(a)){a=a(f,h)}if(U(n)){n=n(f,h)}if(U(s)){s=s(f,h)}}var v=r.getModel("itemStyle").getItemStyle();var c=Fm(o,"color");if(!v.fill){v.fill=c}u.setItemVisual(t,{symbol:i,symbolSize:a,symbolRotate:n,symbolOffset:s,symbolKeepAspect:l,style:v})});l.updateData(u);this.group.add(l.group);u.eachItemGraphicEl(function(t){t.traverse(function(t){$l(t).dataModel=e})});this.markKeep(l);l.group.silent=e.get("silent")||t.get("silent")};e.type="markPoint";return e}(qZ);function JZ(t,e,r){var i;if(t){i=N(t&&t.dimensions,function(t){var r=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return C(C({},r),{name:t,ordinalMeta:null})})}else{i=[{name:"value",type:"float"}]}var a=new SS(i,r);var n=N(r.get("data"),H(HZ,e));if(t){n=z(n,H(YZ,t))}a.initData(n,null,t?XZ:function(t){return t.value});return a}function QZ(t){t.registerComponentModel(zZ);t.registerComponentView($Z);t.registerPreprocessor(function(t){if(OZ(t.series,"markPoint")){t.markPoint=t.markPoint||{}}})}var tj=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.createMarkerModelFromSeries=function(t,r,i){return new e(t,r,i)};e.type="markLine";e.defaultOption={zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:true,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:true},lineStyle:{width:3}},animationEasing:"linear"};return e}(EZ);var ej=Fn();var rj=function(t,e,r,i){var a=t.getData();var n;if(!W(i)){var o=i.type;if(o==="min"||o==="max"||o==="average"||o==="median"||i.xAxis!=null||i.yAxis!=null){var s=void 0;var l=void 0;if(i.yAxis!=null||i.xAxis!=null){s=e.getAxis(i.yAxis!=null?"y":"x");l=rt(i.yAxis,i.xAxis)}else{var u=WZ(i,a,e,t);s=u.valueAxis;var f=ES(a,u.valueDataDim);l=ZZ(a,f,o)}var h=s.dim==="x"?0:1;var v=1-h;var c=M(i);var p={coord:[]};c.type=null;c.coord=[];c.coord[v]=-Infinity;p.coord[v]=Infinity;var d=r.get("precision");if(d>=0&&typeof l==="number"){l=+l.toFixed(Math.min(d,20))}c.coord[h]=p.coord[h]=l;n=[c,p,{type:o,valueIndex:i.valueIndex,value:l}]}else{if("development"!=="production"){S("Invalid markLine data.")}n=[]}}else{n=i}var g=[HZ(t,n[0]),HZ(t,n[1]),C({},n[2])];g[2].type=g[2].type||null;I(g[2],g[0]);I(g[2],g[1]);return g};function ij(t){return!isNaN(t)&&!isFinite(t)}function aj(t,e,r,i){var a=1-t;var n=i.dimensions[t];return ij(e[a])&&ij(r[a])&&e[t]===r[t]&&i.getAxis(n).containData(e[t])}function nj(t,e){if(t.type==="cartesian2d"){var r=e[0].coord;var i=e[1].coord;if(r&&i&&(aj(1,r,i,t)||aj(0,r,i,t))){return true}}return YZ(t,e[0])&&YZ(t,e[1])}function oj(t,e,r,i,a){var n=i.coordinateSystem;var o=t.getItemModel(e);var s;var l=Na(o.get("x"),a.getWidth());var u=Na(o.get("y"),a.getHeight());if(!isNaN(l)&&!isNaN(u)){s=[l,u]}else{if(i.getMarkerPosition){s=i.getMarkerPosition(t.getValues(t.dimensions,e))}else{var f=n.dimensions;var h=t.get(f[0],e);var v=t.get(f[1],e);s=n.dataToPoint([h,v])}if(gD(n,"cartesian2d")){var c=n.getAxis("x");var p=n.getAxis("y");var f=n.dimensions;if(ij(t.get(f[0],e))){s[0]=c.toGlobalCoord(c.getExtent()[r?0:1])}else if(ij(t.get(f[1],e))){s[1]=p.toGlobalCoord(p.getExtent()[r?0:1])}}if(!isNaN(l)){s[0]=l}if(!isNaN(u)){s[1]=u}}t.setItemLayout(e,s)}var sj=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.updateTransform=function(t,e,r){e.eachSeries(function(t){var e=EZ.getMarkerModelFromSeries(t,"markLine");if(e){var i=e.getData();var a=ej(e).from;var n=ej(e).to;a.each(function(e){oj(a,e,true,t,r);oj(n,e,false,t,r)});i.each(function(t){i.setItemLayout(t,[a.getItemLayout(t),n.getItemLayout(t)])});this.markerGroupMap.get(t.id).updateLayout()}},this)};e.prototype.renderSeries=function(t,e,r,i){var a=t.coordinateSystem;var n=t.id;var o=t.getData();var s=this.markerGroupMap;var l=s.get(n)||s.set(n,new pN);this.group.add(l.group);var u=lj(a,t,e);var f=u.from;var h=u.to;var v=u.line;ej(e).from=f;ej(e).to=h;e.setData(v);var c=e.get("symbol");var p=e.get("symbolSize");var d=e.get("symbolRotate");var g=e.get("symbolOffset");if(!W(c)){c=[c,c]}if(!W(p)){p=[p,p]}if(!W(d)){d=[d,d]}if(!W(g)){g=[g,g]}u.from.each(function(t){y(f,t,true);y(h,t,false)});v.each(function(t){var e=v.getItemModel(t).getModel("lineStyle").getLineStyle();v.setItemLayout(t,[f.getItemLayout(t),h.getItemLayout(t)]);if(e.stroke==null){e.stroke=f.getItemVisual(t,"style").fill}v.setItemVisual(t,{fromSymbolKeepAspect:f.getItemVisual(t,"symbolKeepAspect"),fromSymbolOffset:f.getItemVisual(t,"symbolOffset"),fromSymbolRotate:f.getItemVisual(t,"symbolRotate"),fromSymbolSize:f.getItemVisual(t,"symbolSize"),fromSymbol:f.getItemVisual(t,"symbol"),toSymbolKeepAspect:h.getItemVisual(t,"symbolKeepAspect"),toSymbolOffset:h.getItemVisual(t,"symbolOffset"),toSymbolRotate:h.getItemVisual(t,"symbolRotate"),toSymbolSize:h.getItemVisual(t,"symbolSize"),toSymbol:h.getItemVisual(t,"symbol"),style:e})});l.updateData(v);u.line.eachItemGraphicEl(function(t,r){t.traverse(function(t){$l(t).dataModel=e})});function y(e,r,a){var n=e.getItemModel(r);oj(e,r,a,t,i);var s=n.getModel("itemStyle").getItemStyle();if(s.fill==null){s.fill=Fm(o,"color")}e.setItemVisual(r,{symbolKeepAspect:n.get("symbolKeepAspect"),symbolOffset:it(n.get("symbolOffset",true),g[a?0:1]),symbolRotate:it(n.get("symbolRotate",true),d[a?0:1]),symbolSize:it(n.get("symbolSize"),p[a?0:1]),symbol:it(n.get("symbol",true),c[a?0:1]),style:s})}this.markKeep(l);l.group.silent=e.get("silent")||t.get("silent")};e.type="markLine";return e}(qZ);function lj(t,e,r){var i;if(t){i=N(t&&t.dimensions,function(t){var r=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return C(C({},r),{name:t,ordinalMeta:null})})}else{i=[{name:"value",type:"float"}]}var a=new SS(i,r);var n=new SS(i,r);var o=new SS([],r);var s=N(r.get("data"),H(rj,e,t,r));if(t){s=z(s,H(nj,t))}var l=t?XZ:function(t){return t.value};a.initData(N(s,function(t){return t[0]}),null,l);n.initData(N(s,function(t){return t[1]}),null,l);o.initData(N(s,function(t){return t[2]}));o.hasItemOption=true;return{from:a,to:n,line:o}}function uj(t){t.registerComponentModel(tj);t.registerComponentView(sj);t.registerPreprocessor(function(t){if(OZ(t.series,"markLine")){t.markLine=t.markLine||{}}})}var fj=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.createMarkerModelFromSeries=function(t,r,i){return new e(t,r,i)};e.type="markArea";e.defaultOption={zlevel:0,z:1,tooltip:{trigger:"item"},animation:false,label:{show:true,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:true,position:"top"}}};return e}(EZ);var hj=Fn();var vj=function(t,e,r,i){var a=HZ(t,i[0]);var n=HZ(t,i[1]);var o=a.coord;var s=n.coord;o[0]=rt(o[0],-Infinity);o[1]=rt(o[1],-Infinity);s[0]=rt(s[0],Infinity);s[1]=rt(s[1],Infinity);var l=T([{},a,n]);l.coord=[a.coord,n.coord];l.x0=a.x;l.y0=a.y;l.x1=n.x;l.y1=n.y;return l};function cj(t){return!isNaN(t)&&!isFinite(t)}function pj(t,e,r,i){var a=1-t;return cj(e[a])&&cj(r[a])}function dj(t,e){var r=e.coord[0];var i=e.coord[1];if(gD(t,"cartesian2d")){if(r&&i&&(pj(1,r,i)||pj(0,r,i))){return true}}return YZ(t,{coord:r,x:e.x0,y:e.y0})||YZ(t,{coord:i,x:e.x1,y:e.y1})}function gj(t,e,r,i,a){var n=i.coordinateSystem;var o=t.getItemModel(e);var s;var l=Na(o.get(r[0]),a.getWidth());var u=Na(o.get(r[1]),a.getHeight());if(!isNaN(l)&&!isNaN(u)){s=[l,u]}else{if(i.getMarkerPosition){s=i.getMarkerPosition(t.getValues(r,e))}else{var f=t.get(r[0],e);var h=t.get(r[1],e);var v=[f,h];n.clampData&&n.clampData(v,v);s=n.dataToPoint(v,true)}if(gD(n,"cartesian2d")){var c=n.getAxis("x");var p=n.getAxis("y");var f=t.get(r[0],e);var h=t.get(r[1],e);if(cj(f)){s[0]=c.toGlobalCoord(c.getExtent()[r[0]==="x0"?0:1])}else if(cj(h)){s[1]=p.toGlobalCoord(p.getExtent()[r[1]==="y0"?0:1])}}if(!isNaN(l)){s[0]=l}if(!isNaN(u)){s[1]=u}}return s}var yj=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];var mj=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.updateTransform=function(t,e,r){e.eachSeries(function(t){var e=EZ.getMarkerModelFromSeries(t,"markArea");if(e){var i=e.getData();i.each(function(e){var a=N(yj,function(a){return gj(i,e,a,t,r)});i.setItemLayout(e,a);var n=i.getItemGraphicEl(e);n.setShape("points",a)})}},this)};e.prototype.renderSeries=function(t,e,r,i){var a=t.coordinateSystem;var n=t.id;var o=t.getData();var s=this.markerGroupMap;var l=s.get(n)||s.set(n,{group:new ya});this.group.add(l.group);this.markKeep(l);var u=xj(a,t,e);e.setData(u);u.each(function(e){var r=N(yj,function(r){return gj(u,e,r,t,i)});var n=a.getAxis("x").scale;var s=a.getAxis("y").scale;var l=n.getExtent();var f=s.getExtent();var h=[n.parse(u.get("x0",e)),n.parse(u.get("x1",e))];var v=[s.parse(u.get("y0",e)),s.parse(u.get("y1",e))];za(h);za(v);var c=!(l[0]>h[1]||l[1]<h[0]||f[0]>v[1]||f[1]<v[0]);var p=!c;u.setItemLayout(e,{points:r,allClipped:p});var d=u.getItemModel(e).getModel("itemStyle").getItemStyle();var g=Fm(o,"color");if(!d.fill){d.fill=g;if(typeof d.fill==="string"){d.fill=wr(d.fill,.4)}}if(!d.stroke){d.stroke=g}u.setItemVisual(e,"style",d)});u.diff(hj(l).data).add(function(t){var e=u.getItemLayout(t);if(!e.allClipped){var r=new sh({shape:{points:e.points}});u.setItemGraphicEl(t,r);l.group.add(r)}}).update(function(t,r){var i=hj(l).data.getItemGraphicEl(r);var a=u.getItemLayout(t);if(!a.allClipped){if(i){Oh(i,{shape:{points:a.points}},e,t)}else{i=new sh({shape:{points:a.points}})}u.setItemGraphicEl(t,i);l.group.add(i)}else if(i){l.group.remove(i)}}).remove(function(t){var e=hj(l).data.getItemGraphicEl(t);l.group.remove(e)}).execute();u.eachItemGraphicEl(function(t,r){var i=u.getItemModel(r);var a=u.getItemVisual(r,"style");t.useStyle(u.getItemVisual(r,"style"));bv(t,wv(i),{labelFetcher:e,labelDataIndex:r,defaultText:u.getName(r)||"",inheritColor:typeof a.fill==="string"?wr(a.fill,1):"#000"});rf(t,i);Ju(t);$l(t).dataModel=e});hj(l).data=u;l.group.silent=e.get("silent")||t.get("silent")};e.type="markArea";return e}(qZ);function xj(t,e,r){var i;var a;var n=["x0","y0","x1","y1"];if(t){i=N(t&&t.dimensions,function(t){var r=e.getData();var i=r.getDimensionInfo(r.mapDimension(t))||{};return C(C({},i),{name:t,ordinalMeta:null})});a=new SS(N(n,function(t,e){return{name:t,type:i[e%2].type}}),r)}else{i=[{name:"value",type:"float"}];a=new SS(i,r)}var o=N(r.get("data"),H(vj,e,t,r));if(t){o=z(o,H(dj,t))}var s=t?function(t,e,r,i){return t.coord[Math.floor(i/2)][i%2]}:function(t){return t.value};a.initData(o,null,s);a.hasItemOption=true;return a}function _j(t){t.registerComponentModel(fj);t.registerComponentView(mj);t.registerPreprocessor(function(t){if(OZ(t.series,"markArea")){t.markArea=t.markArea||{}}})}var bj=function(t,e){if(e==="all"){return{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])}}else if(e==="inverse"){return{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}}};var wj=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.layoutMode={type:"box",ignoreSize:true};return r}e.prototype.init=function(t,e,r){this.mergeDefaultAndTheme(t,r);t.selected=t.selected||{};this._updateSelector(t)};e.prototype.mergeOption=function(e,r){t.prototype.mergeOption.call(this,e,r);this._updateSelector(e)};e.prototype._updateSelector=function(t){var e=t.selector;var r=this.ecModel;if(e===true){e=t.selector=["all","inverse"]}if(W(e)){R(e,function(t,i){Y(t)&&(t={type:t});e[i]=I(t,bj(r,t.type))})}};e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){var e=false;for(var r=0;r<t.length;r++){var i=t[r].get("name");if(this.isSelected(i)){this.select(i);e=true;break}}!e&&this.select(t[0].get("name"))}};e.prototype._updateData=function(t){var e=[];var r=[];t.eachRawSeries(function(i){var a=i.name;r.push(a);var n;if(i.legendVisualProvider){var o=i.legendVisualProvider;var s=o.getAllNames();if(!t.isSeriesFiltered(i)){r=r.concat(s)}if(s.length){e=e.concat(s)}else{n=true}}else{n=true}if(n&&Rn(i)){e.push(i.name)}});this._availableNames=r;var i=this.get("data")||e;var a=N(i,function(t){if(typeof t==="string"||typeof t==="number"){t={name:t}}return new Uv(t,this,this.ecModel)},this);this._data=a};e.prototype.getData=function(){return this._data};e.prototype.select=function(t){var e=this.option.selected;var r=this.get("selectedMode");if(r==="single"){var i=this._data;R(i,function(t){e[t.get("name")]=false})}e[t]=true};e.prototype.unSelect=function(t){if(this.get("selectedMode")!=="single"){this.option.selected[t]=false}};e.prototype.toggleSelected=function(t){var e=this.option.selected;if(!e.hasOwnProperty(t)){e[t]=true}this[e[t]?"unSelect":"select"](t)};e.prototype.allSelect=function(){var t=this._data;var e=this.option.selected;R(t,function(t){e[t.get("name",true)]=true})};e.prototype.inverseSelect=function(){var t=this._data;var e=this.option.selected;R(t,function(t){var r=t.get("name",true);if(!e.hasOwnProperty(r)){e[r]=true}e[r]=!e[r]})};e.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&k(this._availableNames,t)>=0};e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}};e.type="legend.plain";e.dependencies=["series"];e.defaultOption={zlevel:0,z:4,show:true,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",decal:"inherit",shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit",shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0},textStyle:{color:"#333"},selectedMode:true,selector:false,selectorLabel:{show:true,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:true,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:false}};return e}(xp);var Sj=H;var Mj=R;var Ij=ya;var Tj=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.newlineDisabled=false;return r}e.prototype.init=function(){this.group.add(this._contentGroup=new Ij);this.group.add(this._selectorGroup=new Ij);this._isFirstRender=true};e.prototype.getContentGroup=function(){return this._contentGroup};e.prototype.getSelectorGroup=function(){return this._selectorGroup};e.prototype.render=function(t,e,r){var i=this._isFirstRender;this._isFirstRender=false;this.resetInner();if(!t.get("show",true)){return}var a=t.get("align");var n=t.get("orient");if(!a||a==="auto"){a=t.get("left")==="right"&&n==="vertical"?"right":"left"}var o=t.get("selector",true);var s=t.get("selectorPosition",true);if(o&&(!s||s==="auto")){s=n==="horizontal"?"end":"start"}this.renderInner(a,t,e,r,o,n,s);var l=t.getBoxLayoutParams();var u={width:r.getWidth(),height:r.getHeight()};var f=t.get("padding");var h=hp(l,u,f);var v=this.layoutInner(t,a,h,i,o,s);var c=hp(D({width:v.width,height:v.height},l),u,f);this.group.x=c.x-v.x;this.group.y=c.y-v.y;this.group.markRedraw();this.group.add(this._backgroundEl=iY(v,t))};e.prototype.resetInner=function(){this.getContentGroup().removeAll();this._backgroundEl&&this.group.remove(this._backgroundEl);this.getSelectorGroup().removeAll()};e.prototype.renderInner=function(t,e,r,i,a,n,o){var s=this.getContentGroup();var l=ct();var u=e.get("selectedMode");var f=[];r.eachRawSeries(function(t){!t.get("legendHoverLink")&&f.push(t.id)});Mj(e.getData(),function(a,n){var o=a.get("name");if(!this.newlineDisabled&&(o===""||o==="\n")){var h=new Ij;h.newline=true;s.add(h);return}var v=r.getSeriesByName(o)[0];if(l.get(o)){return}if(v){var c=v.getData();var p=c.getVisual("legendLineStyle")||{};var d=c.getVisual("legendIcon");var g=c.getVisual("style");var y=this._createItem(v,o,n,a,e,t,p,g,d,u);y.on("click",Sj(Aj,o,null,i,f)).on("mouseover",Sj(Lj,v.name,null,i,f)).on("mouseout",Sj(Pj,v.name,null,i,f));l.set(o,true)}else{r.eachRawSeries(function(r){if(l.get(o)){return}if(r.legendVisualProvider){var s=r.legendVisualProvider;if(!s.containName(o)){return}var h=s.indexOfName(o);var v=s.getItemVisual(h,"style");var c=s.getItemVisual(h,"legendIcon");var p=vr(v.fill);if(p&&p[3]===0){p[3]=.2;v.fill=Sr(p,"rgba")}var d=this._createItem(r,o,n,a,e,t,{},v,c,u);d.on("click",Sj(Aj,null,o,i,f)).on("mouseover",Sj(Lj,null,o,i,f)).on("mouseout",Sj(Pj,null,o,i,f));l.set(o,true)}},this)}if("development"!=="production"){if(!l.get(o)){console.warn(o+" series not exists. Legend data should be same with series name or data name.")}}},this);if(a){this._createSelector(a,e,i,n,o)}};e.prototype._createSelector=function(t,e,r,i,a){var n=this.getSelectorGroup();Mj(t,function t(i){var a=i.type;var o=new Fl({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:a==="all"?"legendAllSelect":"legendInverseSelect"})}});n.add(o);var s=e.getModel("selectorLabel");var l=e.getModel(["emphasis","selectorLabel"]);bv(o,{normal:s,emphasis:l},{defaultText:i.title});Ju(o)})};e.prototype._createItem=function(t,e,r,i,a,n,o,s,l,u){var f=t.visualDrawType;var h=a.get("itemWidth");var v=a.get("itemHeight");var c=a.isSelected(e);var p=i.get("symbolRotate");var d=i.get("icon");l=d||l||"roundRect";var g=a.getModel("lineStyle");var y=Cj(l,i,g,o,s,f,c);var m=new Ij;var x=i.getModel("textStyle");if(typeof t.getLegendIcon==="function"&&(!d||d==="inherit")){m.add(t.getLegendIcon({itemWidth:h,itemHeight:v,icon:l,iconRotate:p,itemStyle:y.itemStyle,lineStyle:y.lineStyle}))}else{var _=d==="inherit"&&t.getData().getVisual("symbol")?p==="inherit"?t.getData().getVisual("symbolRotate"):p:0;m.add(Dj({itemWidth:h,itemHeight:v,icon:l,iconRotate:_,itemStyle:y.itemStyle,lineStyle:y.lineStyle}))}var b=n==="left"?h+5:-5;var w=n;var S=a.get("formatter");var M=e;if(typeof S==="string"&&S){M=S.replace("{name}",e!=null?e:"")}else if(typeof S==="function"){M=S(e)}var I=i.get("inactiveColor");m.add(new Fl({style:Sv(x,{text:M,x:b,y:v/2,fill:c?x.getTextColor():I,align:w,verticalAlign:"middle"})}));var T=new zl({shape:m.getBoundingRect(),invisible:true});var C=i.getModel("tooltip");if(C.get("show")){gv({el:T,componentModel:a,itemName:e,itemTooltipOption:C.option})}m.add(T);m.eachChild(function(t){t.silent=true});T.silent=!u;this.getContentGroup().add(m);Ju(m);m.__legendDataIndex=r;return m};e.prototype.layoutInner=function(t,e,r,i,a,n){var o=this.getContentGroup();var s=this.getSelectorGroup();sp(t.get("orient"),o,t.get("itemGap"),r.width,r.height);var l=o.getBoundingRect();var u=[-l.x,-l.y];s.markRedraw();o.markRedraw();if(a){sp("horizontal",s,t.get("selectorItemGap",true));var f=s.getBoundingRect();var h=[-f.x,-f.y];var v=t.get("selectorButtonGap",true);var c=t.getOrient().index;var p=c===0?"width":"height";var d=c===0?"height":"width";var g=c===0?"y":"x";if(n==="end"){h[c]+=l[p]+v}else{u[c]+=f[p]+v}h[1-c]+=l[d]/2-f[d]/2;s.x=h[0];s.y=h[1];o.x=u[0];o.y=u[1];var y={x:0,y:0};y[p]=l[p]+v+f[p];y[d]=Math.max(l[d],f[d]);y[g]=Math.min(0,f[g]+h[1-c]);return y}else{o.x=u[0];o.y=u[1];return this.group.getBoundingRect()}};e.prototype.remove=function(){this.getContentGroup().removeAll();this._isFirstRender=true};e.type="legend.plain";return e}(Hy);function Cj(t,e,r,i,a,n,o){var s=e.getModel("itemStyle");var l=Fv.concat([["decal"]]);var u={};for(var f=0;f<l.length;++f){var h=l[f][l[f].length-1];var v=l[f][0];var c=s.getShallow(h);if(c==="inherit"){switch(v){case"fill":u.fill=a[n];break;case"stroke":u.stroke=a[t.lastIndexOf("empty",0)===0?"fill":"stroke"];break;case"opacity":u.opacity=(n==="fill"?a:i).opacity;break;default:u[v]=a[v]}}else if(c==="auto"&&v==="lineWidth"){u.lineWidth=a.lineWidth>0?2:0}else{u[v]=c}}var p=e.getModel("lineStyle");var d=Bv.concat([["inactiveColor"],["inactiveWidth"]]);var g={};for(var f=0;f<d.length;++f){var h=d[f][1];var v=d[f][0];var c=p.getShallow(h);if(c==="inherit"){g[v]=i[v]}else if(c==="auto"&&v==="lineWidth"){g.lineWidth=i.lineWidth>0?2:0}else{g[v]=c}}u.fill==="auto"&&(u.fill=a.fill);u.stroke==="auto"&&(u.stroke=a.fill);g.stroke==="auto"&&(g.stroke=a.fill);if(!o){var y=e.get("inactiveBorderWidth");var m=u[t.indexOf("empty")>-1?"fill":"stroke"];u.lineWidth=y==="auto"?a.lineWidth>0&&m?2:0:u.lineWidth;u.fill=e.get("inactiveColor");u.stroke=e.get("inactiveBorderColor");g.stroke=r.get("inactiveColor");g.lineWidth=r.get("inactiveWidth")}return{itemStyle:u,lineStyle:g}}function Dj(t){var e=t.icon||"roundRect";var r=nx(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);r.setStyle(t.itemStyle);r.rotation=(t.iconRotate||0)*Math.PI/180;r.setOrigin([t.itemWidth/2,t.itemHeight/2]);if(e.indexOf("empty")>-1){r.style.stroke=r.style.fill;r.style.fill="#fff";r.style.lineWidth=2}return r}function Aj(t,e,r,i){Pj(t,e,r,i);r.dispatchAction({type:"legendToggleSelect",name:t!=null?t:e});Lj(t,e,r,i)}function kj(t){var e=t.getZr().storage.getDisplayList();var r;var i=0;var a=e.length;while(i<a&&!(r=e[i].states.emphasis)){i++}return r&&r.hoverLayer}function Lj(t,e,r,i){if(!kj(r)){r.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:i})}}function Pj(t,e,r,i){if(!kj(r)){r.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:i})}}function Oj(t){var e=t.findComponents({mainType:"legend"});if(e&&e.length){t.filterSeries(function(t){for(var r=0;r<e.length;r++){if(!e[r].isSelected(t.name)){return false}}return true})}}function Rj(t,e,r){var i={};var a=t==="toggleSelected";var n;r.eachComponent("legend",function(r){if(a&&n!=null){r[n?"select":"unSelect"](e.name)}else if(t==="allSelect"||t==="inverseSelect"){r[t]()}else{r[t](e.name);n=r.isSelected(e.name)}var o=r.getData();R(o,function(t){var e=t.get("name");if(e==="\n"||e===""){return}var a=r.isSelected(e);if(i.hasOwnProperty(e)){i[e]=i[e]&&a}else{i[e]=a}})});return t==="allSelect"||t==="inverseSelect"?{selected:i}:{name:e.name,selected:i}}function Nj(t){t.registerAction("legendToggleSelect","legendselectchanged",H(Rj,"toggleSelected"));t.registerAction("legendAllSelect","legendselectall",H(Rj,"allSelect"));t.registerAction("legendInverseSelect","legendinverseselect",H(Rj,"inverseSelect"));t.registerAction("legendSelect","legendselected",H(Rj,"select"));t.registerAction("legendUnSelect","legendunselected",H(Rj,"unSelect"))}function Ej(t){t.registerComponentModel(wj);t.registerComponentView(Tj);t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,Oj);t.registerSubTypeDefaulter("legend",function(){return"plain"});Nj(t)}var zj=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t};e.prototype.init=function(e,r,i){var a=gp(e);t.prototype.init.call(this,e,r,i);Bj(this,e,a)};e.prototype.mergeOption=function(e,r){t.prototype.mergeOption.call(this,e,r);Bj(this,this.option,e)};e.type="legend.scroll";e.defaultOption=qv(wj.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800});return e}(wj);function Bj(t,e,r){var i=t.getOrient();var a=[1,1];a[i.index]=0;dp(e,r,{type:"box",ignoreSize:!!a})}var Vj=ya;var Gj=["width","height"];var Fj=["x","y"];var Hj=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.newlineDisabled=true;r._currentIndex=0;return r}e.prototype.init=function(){t.prototype.init.call(this);this.group.add(this._containerGroup=new Vj);this._containerGroup.add(this.getContentGroup());this.group.add(this._controllerGroup=new Vj)};e.prototype.resetInner=function(){t.prototype.resetInner.call(this);this._controllerGroup.removeAll();this._containerGroup.removeClipPath();this._containerGroup.__rectSize=null};e.prototype.renderInner=function(e,r,i,a,n,o,s){var l=this;t.prototype.renderInner.call(this,e,r,i,a,n,o,s);var u=this._controllerGroup;var f=r.get("pageIconSize",true);var h=W(f)?f:[f,f];c("pagePrev",0);var v=r.getModel("pageTextStyle");u.add(new Fl({name:"pageText",style:{text:"xx/xx",fill:v.getTextColor(),font:v.getFont(),verticalAlign:"middle",align:"center"},silent:true}));c("pageNext",1);function c(t,e){var i=t+"DataIndex";var n=hv(r.get("pageIcons",true)[r.getOrient().name][e],{onclick:F(l._pageGo,l,i,r,a)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});n.name=t;u.add(n)}};e.prototype.layoutInner=function(t,e,r,i,a,n){var o=this.getSelectorGroup();var s=t.getOrient().index;var l=Gj[s];var u=Fj[s];var f=Gj[1-s];var h=Fj[1-s];a&&sp("horizontal",o,t.get("selectorItemGap",true));var v=t.get("selectorButtonGap",true);var c=o.getBoundingRect();var p=[-c.x,-c.y];var d=M(r);a&&(d[l]=r[l]-c[l]-v);var g=this._layoutContentAndController(t,i,d,s,l,f,h,u);if(a){if(n==="end"){p[s]+=g[l]+v}else{var y=c[l]+v;p[s]-=y;g[u]-=y}g[l]+=c[l]+v;p[1-s]+=g[h]+g[f]/2-c[f]/2;g[f]=Math.max(g[f],c[f]);g[h]=Math.min(g[h],c[h]+p[1-s]);o.x=p[0];o.y=p[1];o.markRedraw()}return g};e.prototype._layoutContentAndController=function(t,e,r,i,a,n,o,s){var l=this.getContentGroup();var u=this._containerGroup;var f=this._controllerGroup;sp(t.get("orient"),l,t.get("itemGap"),!i?null:r.width,i?null:r.height);sp("horizontal",f,t.get("pageButtonItemGap",true));var h=l.getBoundingRect();var v=f.getBoundingRect();var c=this._showController=h[a]>r[a];var p=[-h.x,-h.y];if(!e){p[i]=l[s]}var d=[0,0];var g=[-v.x,-v.y];var y=it(t.get("pageButtonGap",true),t.get("itemGap",true));if(c){var m=t.get("pageButtonPosition",true);if(m==="end"){g[i]+=r[a]-v[a]}else{d[i]+=v[a]+y}}g[1-i]+=h[n]/2-v[n]/2;l.setPosition(p);u.setPosition(d);f.setPosition(g);var x={x:0,y:0};x[a]=c?r[a]:h[a];x[n]=Math.max(h[n],v[n]);x[o]=Math.min(0,v[o]+g[1-i]);u.__rectSize=r[a];if(c){var _={x:0,y:0};_[a]=Math.max(r[a]-v[a]-y,0);_[n]=x[n];u.setClipPath(new zl({shape:_}));u.__rectSize=_[a]}else{f.eachChild(function(t){t.attr({invisible:true,silent:true})})}var b=this._getPageInfo(t);b.pageIndex!=null&&Oh(l,{x:b.contentPosition[0],y:b.contentPosition[1]},c?t:null);this._updatePageInfoView(t,b);return x};e.prototype._pageGo=function(t,e,r){var i=this._getPageInfo(e)[t];i!=null&&r.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:e.id})};e.prototype._updatePageInfoView=function(t,e){var r=this._controllerGroup;R(["pagePrev","pageNext"],function(i){var a=i+"DataIndex";var n=e[a]!=null;var o=r.childOfName(i);if(o){o.setStyle("fill",n?t.get("pageIconColor",true):t.get("pageIconInactiveColor",true));o.cursor=n?"pointer":"default"}});var i=r.childOfName("pageText");var a=t.get("pageFormatter");var n=e.pageIndex;var o=n!=null?n+1:0;var s=e.pageCount;i&&a&&i.setStyle("text",Y(a)?a.replace("{current}",o==null?"":o+"").replace("{total}",s==null?"":s+""):a({current:o,total:s}))};e.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",true);var r=this.getContentGroup();var i=this._containerGroup.__rectSize;var a=t.getOrient().index;var n=Gj[a];var o=Fj[a];var s=this._findTargetItemIndex(e);var l=r.children();var u=l[s];var f=l.length;var h=!f?0:1;var v={contentPosition:[r.x,r.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!u){return v}var c=m(u);v.contentPosition[a]=-c.s;for(var p=s+1,d=c,g=c,y=null;p<=f;++p){y=m(l[p]);if(!y&&g.e>d.s+i||y&&!x(y,d.s)){if(g.i>d.i){d=g}else{d=y}if(d){if(v.pageNextDataIndex==null){v.pageNextDataIndex=d.i}++v.pageCount}}g=y}for(var p=s-1,d=c,g=c,y=null;p>=-1;--p){y=m(l[p]);if((!y||!x(g,y.s))&&d.i<g.i){g=d;if(v.pagePrevDataIndex==null){v.pagePrevDataIndex=d.i}++v.pageCount;++v.pageIndex}d=y}return v;function m(t){if(t){var e=t.getBoundingRect();var r=e[o]+t[o];return{s:r,e:r+e[n],i:t.__legendDataIndex}}}function x(t,e){return t.e>=e&&t.s<=e+i}};e.prototype._findTargetItemIndex=function(t){if(!this._showController){return 0}var e;var r=this.getContentGroup();var i;r.eachChild(function(r,a){var n=r.__legendDataIndex;if(i==null&&n!=null){i=a}if(n===t){e=a}});return e!=null?e:i};e.type="legend.scroll";return e}(Tj);function Wj(t){t.registerAction("legendScroll","legendscroll",function(t,e){var r=t.scrollDataIndex;r!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(t){t.setScrollDataIndex(r)})})}function Uj(t){Xw(Ej);t.registerComponentModel(zj);t.registerComponentView(Hj);Wj(t)}function Yj(t){Xw(Ej);Xw(Uj)}var Xj=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="dataZoom.inside";e.defaultOption=qv(zU.defaultOption,{disabled:false,zoomLock:false,zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:false,preventDefaultMouseMove:true});return e}(zU);var Zj=Fn();function jj(t,e,r){Zj(t).coordSysRecordMap.each(function(t){var i=t.dataZoomInfoMap.get(e.uid);if(i){i.getRange=r}})}function qj(t,e){var r=Zj(t).coordSysRecordMap;var i=r.keys();for(var a=0;a<i.length;a++){var n=i[a];var o=r.get(n);var s=o.dataZoomInfoMap;if(s){var l=e.uid;var u=s.get(l);if(u){s.removeKey(l);if(!s.keys().length){Kj(r,o)}}}}}function Kj(t,e){if(e){t.removeKey(e.model.uid);var r=e.controller;r&&r.dispose()}}function $j(t,e){var r={model:e,containsPoint:H(Qj,e),dispatchAction:H(Jj,t),dataZoomInfoMap:null,controller:null};var i=r.controller=new _L(t.getZr());R(["pan","zoom","scrollMove"],function(t){i.on(t,function(e){var i=[];r.dataZoomInfoMap.each(function(a){if(!e.isAvailableBehavior(a.model.option)){return}var n=(a.getRange||{})[t];var o=n&&n(a.dzReferCoordSysInfo,r.model.mainType,r.controller,e);!a.model.get("disabled",true)&&o&&i.push({dataZoomId:a.model.id,start:o[0],end:o[1]})});i.length&&r.dispatchAction(i)})});return r}function Jj(t,e){t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function Qj(t,e,r,i){return t.coordinateSystem.containPoint([r,i])}function tq(t){var e;var r="type_";var i={type_true:2,type_move:1,type_false:0,type_undefined:-1};var a=true;t.each(function(t){var n=t.model;var o=n.get("disabled",true)?false:n.get("zoomLock",true)?"move":true;if(i[r+o]>i[r+e]){e=o}a=a&&n.get("preventDefaultMouseMove",true)});return{controlType:e,opt:{zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:true,preventDefaultMouseMove:!!a}}}function eq(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,function(t,e){var r=Zj(e);var i=r.coordSysRecordMap||(r.coordSysRecordMap=ct());i.each(function(t){t.dataZoomInfoMap=null});t.eachComponent({mainType:"dataZoom",subType:"inside"},function(t){var r=NU(t);R(r.infoList,function(r){var a=r.model.uid;var n=i.get(a)||i.set(a,$j(e,r.model));var o=n.dataZoomInfoMap||(n.dataZoomInfoMap=ct());o.set(t.uid,{dzReferCoordSysInfo:r,model:t,getRange:null})})});i.each(function(t){var e=t.controller;var r;var a=t.dataZoomInfoMap;if(a){var n=a.keys()[0];if(n!=null){r=a.get(n)}}if(!r){Kj(i,t);return}var o=tq(a);e.enable(o.controlType,o.opt);e.setPointerChecker(t.containsPoint);rm(t,"dispatchAction",r.model.get("throttle",true),"fixRate")})})}var rq=function(t){r(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="dataZoom.inside";return e}e.prototype.render=function(e,r,i){t.prototype.render.apply(this,arguments);if(e.noTarget()){this._clear();return}this.range=e.getPercentRange();jj(i,e,{pan:F(iq.pan,this),zoom:F(iq.zoom,this),scrollMove:F(iq.scrollMove,this)})};e.prototype.dispose=function(){this._clear();t.prototype.dispose.apply(this,arguments)};e.prototype._clear=function(){qj(this.api,this.dataZoomModel);this.range=null};e.type="dataZoom.inside";return e}(GU);var iq={zoom:function(t,e,r,i){var a=this.range;var n=a.slice();var o=t.axisModels[0];if(!o){return}var s=nq[e](null,[i.originX,i.originY],o,r,t);var l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(n[1]-n[0])+n[0];var u=Math.max(1/i.scale,0);n[0]=(n[0]-l)*u+l;n[1]=(n[1]-l)*u+l;var f=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();SE(0,n,[0,100],0,f.minSpan,f.maxSpan);this.range=n;if(a[0]!==n[0]||a[1]!==n[1]){return n}},pan:aq(function(t,e,r,i,a,n){var o=nq[i]([n.oldX,n.oldY],[n.newX,n.newY],e,a,r);return o.signal*(t[1]-t[0])*o.pixel/o.pixelLength}),scrollMove:aq(function(t,e,r,i,a,n){var o=nq[i]([0,0],[n.scrollDelta,n.scrollDelta],e,a,r);return o.signal*(t[1]-t[0])*n.scrollDelta})};function aq(t){return function(e,r,i,a){var n=this.range;var o=n.slice();var s=e.axisModels[0];if(!s){return}var l=t(o,s,e,r,i,a);SE(l,o,[0,100],"all");this.range=o;if(n[0]!==o[0]||n[1]!==o[1]){return o}}}var nq={grid:function(t,e,r,i,a){var n=r.axis;var o={};var s=a.model.coordinateSystem.getRect();t=t||[0,0];if(n.dim==="x"){o.pixel=e[0]-t[0];o.pixelLength=s.width;o.pixelStart=s.x;o.signal=n.inverse?1:-1}else{o.pixel=e[1]-t[1];o.pixelLength=s.height;o.pixelStart=s.y;o.signal=n.inverse?-1:1}return o},polar:function(t,e,r,i,a){var n=r.axis;var o={};var s=a.model.coordinateSystem;var l=s.getRadiusAxis().getExtent();var u=s.getAngleAxis().getExtent();t=t?s.pointToCoord(t):[0,0];e=s.pointToCoord(e);if(r.mainType==="radiusAxis"){o.pixel=e[0]-t[0];o.pixelLength=l[1]-l[0];o.pixelStart=l[0];o.signal=n.inverse?1:-1}else{o.pixel=e[1]-t[1];o.pixelLength=u[1]-u[0];o.pixelStart=u[0];o.signal=n.inverse?-1:1}return o},singleAxis:function(t,e,r,i,a){var n=r.axis;var o=a.model.coordinateSystem.getRect();var s={};t=t||[0,0];if(n.orient==="horizontal"){s.pixel=e[0]-t[0];s.pixelLength=o.width;s.pixelStart=o.x;s.signal=n.inverse?1:-1}else{s.pixel=e[1]-t[1];s.pixelLength=o.height;s.pixelStart=o.y;s.signal=n.inverse?-1:1}return s}};function oq(t){qU(t);t.registerComponentModel(Xj);t.registerComponentView(rq);eq(t)}var sq=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="dataZoom.slider";e.layoutMode="box";e.defaultOption=qv(zU.defaultOption,{show:true,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:true,showDataShadow:"auto",realtime:true,zoomLock:false,textStyle:{color:"#6E7079"},brushSelect:true,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}});return e}(zU);var lq=zl;var uq=7;var fq=1;var hq=30;var vq=7;var cq="horizontal";var pq="vertical";var dq=5;var gq=["line","bar","candlestick","scatter"];var yq={easing:"cubicOut",duration:100,delay:0};var mq=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._displayables={};return r}e.prototype.init=function(t,e){this.api=e;this._onBrush=F(this._onBrush,this);this._onBrushEnd=F(this._onBrushEnd,this)};e.prototype.render=function(e,r,i,a){t.prototype.render.apply(this,arguments);rm(this,"_dispatchZoomAction",e.get("throttle"),"fixRate");this._orient=e.getOrient();if(e.get("show")===false){this.group.removeAll();return}if(e.noTarget()){this._clear();this.group.removeAll();return}if(!a||a.type!=="dataZoom"||a.from!==this.uid){this._buildView()}this._updateView()};e.prototype.dispose=function(){this._clear();t.prototype.dispose.apply(this,arguments)};e.prototype._clear=function(){im(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush);t.off("mouseup",this._onBrushEnd)};e.prototype._buildView=function(){var t=this.group;t.removeAll();this._brushing=false;this._displayables.brushRect=null;this._resetLocation();this._resetInterval();var e=this._displayables.sliderGroup=new ya;this._renderBackground();this._renderHandle();this._renderDataShadow();t.add(e);this._positionGroup()};e.prototype._resetLocation=function(){var t=this.dataZoomModel;var e=this.api;var r=t.get("brushSelect");var i=r?vq:0;var a=this._findCoordRect();var n={width:e.getWidth(),height:e.getHeight()};var o=this._orient===cq?{right:n.width-a.x-a.width,top:n.height-hq-uq-i,width:a.width,height:hq}:{right:uq,top:a.y,width:hq,height:a.height};var s=gp(t.option);R(["right","top","width","height"],function(t){if(s[t]==="ph"){s[t]=o[t]}});var l=hp(s,n);this._location={x:l.x,y:l.y};this._size=[l.width,l.height];this._orient===pq&&this._size.reverse()};e.prototype._positionGroup=function(){var t=this.group;var e=this._location;var r=this._orient;var i=this.dataZoomModel.getFirstTargetAxisModel();var a=i&&i.get("inverse");var n=this._displayables.sliderGroup;var o=(this._dataShadowInfo||{}).otherAxisInverse;n.attr(r===cq&&!a?{scaleY:o?1:-1,scaleX:1}:r===cq&&a?{scaleY:o?1:-1,scaleX:-1}:r===pq&&!a?{scaleY:o?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:o?-1:1,scaleX:-1,rotation:Math.PI/2});var s=t.getBoundingRect([n]);t.x=e.x-s.x;t.y=e.y-s.y;t.markRedraw()};e.prototype._getViewExtent=function(){return[0,this._size[0]]};e.prototype._renderBackground=function(){var t=this.dataZoomModel;var e=this._size;var r=this._displayables.sliderGroup;var i=t.get("brushSelect");r.add(new lq({silent:true,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var a=new lq({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:F(this._onClickPanel,this)});var n=this.api.getZr();if(i){a.on("mousedown",this._onBrushStart,this);a.cursor="crosshair";n.on("mousemove",this._onBrush);n.on("mouseup",this._onBrushEnd)}else{n.off("mousemove",this._onBrush);n.off("mouseup",this._onBrushEnd)}r.add(a)};e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();this._displayables.dataShadowSegs=[];if(!t){return}var e=this._size;var r=t.series;var i=r.getRawData();var a=r.getShadowDim?r.getShadowDim():t.otherDim;if(a==null){return}var n=i.getDataExtent(a);var o=(n[1]-n[0])*.3;n=[n[0]-o,n[1]+o];var s=[0,e[1]];var l=[0,e[0]];var u=[[e[0],0],[0,0]];var f=[];var h=l[1]/(i.count()-1);var v=0;var c=Math.round(i.count()/e[0]);var p;i.each([a],function(t,e){if(c>0&&e%c){v+=h;return}var r=t==null||isNaN(t)||t==="";var i=r?0:Ra(t,n,s,true);if(r&&!p&&e){u.push([u[u.length-1][0],0]);f.push([f[f.length-1][0],0])}else if(!r&&p){u.push([v,0]);f.push([v,0])}u.push([v,i]);f.push([v,i]);v+=h;p=r});var d=this.dataZoomModel;function g(t){var e=d.getModel(t?"selectedDataBackground":"dataBackground");var r=new ya;var i=new sh({shape:{points:u},segmentIgnoreThreshold:1,style:e.getModel("areaStyle").getAreaStyle(),silent:true,z2:-20});var a=new uh({shape:{points:f},segmentIgnoreThreshold:1,style:e.getModel("lineStyle").getLineStyle(),silent:true,z2:-19});r.add(i);r.add(a);return r}for(var y=0;y<3;y++){var m=g(y===1);this._displayables.sliderGroup.add(m);this._displayables.dataShadowSegs.push(m)}};e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel;var e=t.get("showDataShadow");if(e===false){return}var r;var i=this.ecModel;t.eachTargetAxis(function(a,n){var o=t.getAxisProxy(a,n).getTargetSeriesModels();R(o,function(t){if(r){return}if(e!==true&&k(gq,t.get("type"))<0){return}var o=i.getComponent(OU(a),n).axis;var s=xq(a);var l;var u=t.coordinateSystem;if(s!=null&&u.getOtherAxis){l=u.getOtherAxis(o).inverse}s=t.getData().mapDimension(s);r={thisAxis:o,series:t,thisDim:a,otherDim:s,otherAxisInverse:l}},this)},this);return r};e.prototype._renderHandle=function(){var t=this.group;var e=this._displayables;var r=e.handles=[null,null];var i=e.handleLabels=[null,null];var a=this._displayables.sliderGroup;var n=this._size;var o=this.dataZoomModel;var s=this.api;var l=o.get("borderRadius")||0;var u=o.get("brushSelect");var f=e.filler=new lq({silent:u,style:{fill:o.get("fillerColor")},textConfig:{position:"inside"}});a.add(f);a.add(new lq({silent:true,subPixelOptimize:true,shape:{x:0,y:0,width:n[0],height:n[1],r:l},style:{stroke:o.get("dataBackgroundColor")||o.get("borderColor"),lineWidth:fq,fill:"rgba(0,0,0,0)"}}));R([0,1],function(e){var n=o.get("handleIcon");if(!rx[n]&&n.indexOf("path://")<0&&n.indexOf("image://")<0){n="path://"+n;if("development"!=="production"){fn("handleIcon now needs 'path://' prefix when using a path string")}}var s=nx(n,-1,0,2,2,null,true);s.attr({cursor:_q(this._orient),draggable:true,drift:F(this._onDragMove,this,e),ondragend:F(this._onDragEnd,this),onmouseover:F(this._showDataInfo,this,true),onmouseout:F(this._showDataInfo,this,false),z2:5});var l=s.getBoundingRect();var u=o.get("handleSize");this._handleHeight=Na(u,this._size[1]);this._handleWidth=l.width/l.height*this._handleHeight;s.setStyle(o.getModel("handleStyle").getItemStyle());s.style.strokeNoScale=true;s.rectHover=true;s.ensureState("emphasis").style=o.getModel(["emphasis","handleStyle"]).getItemStyle();Ju(s);var f=o.get("handleColor");if(f!=null){s.style.fill=f}a.add(r[e]=s);var h=o.getModel("textStyle");t.add(i[e]=new Fl({silent:true,invisible:true,style:Sv(h,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:h.getTextColor(),font:h.getFont()}),z2:10}))},this);var h=f;if(u){var v=Na(o.get("moveHandleSize"),n[1]);var c=e.moveHandle=new zl({style:o.getModel("moveHandleStyle").getItemStyle(),silent:true,shape:{r:[0,0,2,2],y:n[1]-.5,height:v}});var p=v*.8;var d=e.moveHandleIcon=nx(o.get("moveHandleIcon"),-p/2,-p/2,p,p,"#fff",true);d.silent=true;d.y=n[1]+v/2-.5;c.ensureState("emphasis").style=o.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var g=Math.min(n[1]/2,Math.max(v,10));h=e.moveZone=new zl({invisible:true,shape:{y:n[1]-g,height:v+g}});h.on("mouseover",function(){s.enterEmphasis(c)}).on("mouseout",function(){s.leaveEmphasis(c)});a.add(c);a.add(d);a.add(h)}h.attr({draggable:true,cursor:_q(this._orient),drift:F(this._onDragMove,this,"all"),ondragstart:F(this._showDataInfo,this,true),ondragend:F(this._onDragEnd,this),onmouseover:F(this._showDataInfo,this,true),onmouseout:F(this._showDataInfo,this,false)})};e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange();var e=this._getViewExtent();this._handleEnds=[Ra(t[0],[0,100],e,true),Ra(t[1],[0,100],e,true)]};e.prototype._updateInterval=function(t,e){var r=this.dataZoomModel;var i=this._handleEnds;var a=this._getViewExtent();var n=r.findRepresentativeAxisProxy().getMinMaxSpan();var o=[0,100];SE(e,i,a,r.get("zoomLock")?"all":t,n.minSpan!=null?Ra(n.minSpan,o,a,true):null,n.maxSpan!=null?Ra(n.maxSpan,o,a,true):null);var s=this._range;var l=this._range=za([Ra(i[0],a,o,true),Ra(i[1],a,o,true)]);return!s||s[0]!==l[0]||s[1]!==l[1]};e.prototype._updateView=function(t){var e=this._displayables;var r=this._handleEnds;var i=za(r.slice());var a=this._size;R([0,1],function(t){var i=e.handles[t];var n=this._handleHeight;i.attr({scaleX:n/2,scaleY:n/2,x:r[t]+(t?-1:1),y:a[1]/2-n/2})},this);e.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:a[1]});var n={x:i[0],width:i[1]-i[0]};if(e.moveHandle){e.moveHandle.setShape(n);e.moveZone.setShape(n);e.moveZone.getBoundingRect();e.moveHandleIcon&&e.moveHandleIcon.attr("x",n.x+n.width/2)}var o=e.dataShadowSegs;var s=[0,i[0],i[1],a[0]];for(var l=0;l<o.length;l++){var u=o[l];var f=u.getClipPath();if(!f){f=new zl;u.setClipPath(f)}f.setShape({x:s[l],y:0,width:s[l+1]-s[l],height:a[1]})}this._updateDataInfo(t)};e.prototype._updateDataInfo=function(t){var e=this.dataZoomModel;var r=this._displayables;var i=r.handleLabels;var a=this._orient;var n=["",""];if(e.get("showDetail")){var o=e.findRepresentativeAxisProxy();if(o){var s=o.getAxisModel().axis;var l=this._range;var u=t?o.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:o.getDataValueWindow();n=[this._formatLabel(u[0],s),this._formatLabel(u[1],s)]}}var f=za(this._handleEnds.slice());h.call(this,0);h.call(this,1);function h(t){var e=iv(r.handles[t].parent,this.group);var o=nv(t===0?"right":"left",e);var s=this._handleWidth/2+dq;var l=av([f[t]+(t===0?-s:s),this._size[1]/2],e);i[t].setStyle({x:l[0],y:l[1],verticalAlign:a===cq?"middle":o,align:a===cq?o:"center",text:n[t]})}};e.prototype._formatLabel=function(t,e){var r=this.dataZoomModel;var i=r.get("labelFormatter");var a=r.get("labelPrecision");if(a==null||a==="auto"){a=e.getPixelPrecision()}var n=t==null||isNaN(t)?"":e.type==="category"||e.type==="time"?e.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(a,20));return U(i)?i(t,n):Y(i)?i.replace("{value}",n):n};e.prototype._showDataInfo=function(t){t=this._dragging||t;var e=this._displayables;var r=e.handleLabels;r[0].attr("invisible",!t);r[1].attr("invisible",!t);e.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](e.moveHandle,1)};e.prototype._onDragMove=function(t,e,r,i){this._dragging=true;pe(i.event);var a=this._displayables.sliderGroup.getLocalTransform();var n=av([e,r],a,true);var o=this._updateInterval(t,n[0]);var s=this.dataZoomModel.get("realtime");this._updateView(!s);o&&s&&this._dispatchZoomAction(true)};e.prototype._onDragEnd=function(){this._dragging=false;this._showDataInfo(false);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(false)};e.prototype._onClickPanel=function(t){var e=this._size;var r=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(r[0]<0||r[0]>e[0]||r[1]<0||r[1]>e[1]){return}var i=this._handleEnds;var a=(i[0]+i[1])/2;var n=this._updateInterval("all",r[0]-a);this._updateView();n&&this._dispatchZoomAction(false)};e.prototype._onBrushStart=function(t){var e=t.offsetX;var r=t.offsetY;this._brushStart=new Ei(e,r);this._brushing=true;this._brushStartTime=+new Date};e.prototype._onBrushEnd=function(t){if(!this._brushing){return}var e=this._displayables.brushRect;this._brushing=false;if(!e){return}e.attr("ignore",true);var r=e.shape;var i=+new Date;if(i-this._brushStartTime<200&&Math.abs(r.width)<5){return}var a=this._getViewExtent();var n=[0,100];this._range=za([Ra(r.x,a,n,true),Ra(r.x+r.width,a,n,true)]);this._handleEnds=[r.x,r.x+r.width];this._updateView();this._dispatchZoomAction(false)};e.prototype._onBrush=function(t){if(this._brushing){pe(t.event);this._updateBrushRect(t.offsetX,t.offsetY)}};e.prototype._updateBrushRect=function(t,e){var r=this._displayables;var i=this.dataZoomModel;var a=r.brushRect;if(!a){a=r.brushRect=new lq({silent:true,style:i.getModel("brushStyle").getItemStyle()});r.sliderGroup.add(a)}a.attr("ignore",false);var n=this._brushStart;var o=this._displayables.sliderGroup;var s=o.transformCoordToLocal(t,e);var l=o.transformCoordToLocal(n.x,n.y);var u=this._size;s[0]=Math.max(Math.min(u[0],s[0]),0);a.setShape({x:l[0],y:0,width:s[0]-l[0],height:u[1]})};e.prototype._dispatchZoomAction=function(t){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?yq:null,start:e[0],end:e[1]})};e.prototype._findCoordRect=function(){var t;var e=NU(this.dataZoomModel).infoList;if(!t&&e.length){var r=e[0].model.coordinateSystem;t=r.getRect&&r.getRect()}if(!t){var i=this.api.getWidth();var a=this.api.getHeight();t={x:i*.2,y:a*.2,width:i*.6,height:a*.6}}return t};e.type="dataZoom.slider";return e}(GU);function xq(t){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[t]}function _q(t){return t==="vertical"?"ns-resize":"ew-resize"}function bq(t){t.registerComponentModel(sq);t.registerComponentView(mq);qU(t)}function wq(t){Xw(oq);Xw(bq)}var Sq={get:function(t,e,r){var i=M((Mq[t]||{})[e]);return r?W(i)?i[i.length-1]:i:i}};var Mq={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};var Iq=RO.mapVisual;var Tq=RO.eachVisual;var Cq=W;var Dq=R;var Aq=za;var kq=Ra;var Lq=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.stateList=["inRange","outOfRange"];r.replacableOptionKeys=["inRange","outOfRange","target","controller","color"];r.layoutMode={type:"box",ignoreSize:true};r.dataBound=[-Infinity,Infinity];r.targetVisuals={};r.controllerVisuals={};return r}e.prototype.init=function(t,e,r){this.mergeDefaultAndTheme(t,r)};e.prototype.optionUpdated=function(t,e){var r=this.option;if(!s.canvasSupported){r.realtime=false}!e&&FX(r,t,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()};e.prototype.resetVisual=function(t){var e=this.stateList;t=F(t,this);this.controllerVisuals=GX(this.option.controller,e,t);this.targetVisuals=GX(this.option.target,e,t)};e.prototype.getItemSymbol=function(){return null};e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex;var e=[];if(t==null||t==="all"){this.ecModel.eachSeries(function(t,r){e.push(r)})}else{e=yn(t)}return e};e.prototype.eachTargetSeries=function(t,e){R(this.getTargetSeriesIndices(),function(r){var i=this.ecModel.getSeriesByIndex(r);if(i){t.call(e,i)}},this)};e.prototype.isTargetSeries=function(t){var e=false;this.eachTargetSeries(function(r){r===t&&(e=true)});return e};e.prototype.formatValueText=function(t,e,r){var i=this.option;var a=i.precision;var n=this.dataBound;var o=i.formatter;var s;r=r||["<",">"];if(W(t)){t=t.slice();s=true}var l=e?t:s?[u(t[0]),u(t[1])]:u(t);if(Y(o)){return o.replace("{value}",s?l[0]:l).replace("{value2}",s?l[1]:l)}else if(U(o)){return s?o(t[0],t[1]):o(t)}if(s){if(t[0]===n[0]){return r[0]+" "+l[1]}else if(t[1]===n[1]){return r[1]+" "+l[0]}else{return l[0]+" - "+l[1]}}else{return l}function u(t){return t===n[0]?"min":t===n[1]?"max":(+t).toFixed(Math.min(a,20))}};e.prototype.resetExtent=function(){var t=this.option;var e=Aq([t.min,t.max]);this._dataExtent=e};e.prototype.getDataDimensionIndex=function(t){var e=this.option.dimension;if(e!=null){return t.getDimensionIndex(e)}var r=t.dimensions;for(var i=r.length-1;i>=0;i--){var a=r[i];var n=t.getDimensionInfo(a);if(!n.isCalculationCoord){return n.storeDimIndex}}};e.prototype.getExtent=function(){return this._dataExtent.slice()};e.prototype.completeVisualOption=function(){var t=this.ecModel;var e=this.option;var r={inRange:e.inRange,outOfRange:e.outOfRange};var i=e.target||(e.target={});var a=e.controller||(e.controller={});I(i,r);I(a,r);var n=this.isCategory();o.call(this,i);o.call(this,a);s.call(this,i,"inRange","outOfRange");l.call(this,a);function o(r){if(Cq(e.color)&&!r.inRange){r.inRange={color:e.color.slice().reverse()}}r.inRange=r.inRange||{color:t.get("gradientColor")}}function s(t,e,r){var i=t[e];var a=t[r];if(i&&!a){a=t[r]={};Dq(i,function(t,e){if(!RO.isValidType(e)){return}var r=Sq.get(e,"inactive",n);if(r!=null){a[e]=r;if(e==="color"&&!a.hasOwnProperty("opacity")&&!a.hasOwnProperty("colorAlpha")){a.opacity=[0,0]}}})}}function l(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol;var r=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize;var i=this.get("inactiveColor");var a=this.getItemSymbol();var o=a||"roundRect";Dq(this.stateList,function(a){var s=this.itemSize;var l=t[a];if(!l){l=t[a]={color:n?i:[i]}}if(l.symbol==null){l.symbol=e&&M(e)||(n?o:[o])}if(l.symbolSize==null){l.symbolSize=r&&M(r)||(n?s[0]:[s[0],s[0]])}l.symbol=Iq(l.symbol,function(t){return t==="none"?o:t});var u=l.symbolSize;if(u!=null){var f=-Infinity;Tq(u,function(t){t>f&&(f=t)});l.symbolSize=Iq(u,function(t){return kq(t,[0,f],[0,s[0]],true)})}},this)}};e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]};e.prototype.isCategory=function(){return!!this.option.categories};e.prototype.setSelected=function(t){};e.prototype.getSelected=function(){return null};e.prototype.getValueState=function(t){return null};e.prototype.getVisualMeta=function(t){return null};e.type="visualMap";e.dependencies=["series"];e.defaultOption={show:true,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:false,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}};return e}(xp);var Pq=[20,140];var Oq=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.optionUpdated=function(e,r){t.prototype.optionUpdated.apply(this,arguments);this.resetExtent();this.resetVisual(function(t){t.mappingMethod="linear";t.dataExtent=this.getExtent()});this._resetRange()};e.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(e[0]==null||isNaN(e[0]))&&(e[0]=Pq[0]);(e[1]==null||isNaN(e[1]))&&(e[1]=Pq[1])};e.prototype._resetRange=function(){var t=this.getExtent();var e=this.option.range;if(!e||e.auto){t.auto=1;this.option.range=t}else if(W(e)){if(e[0]>e[1]){e.reverse()}e[0]=Math.max(e[0],t[0]);e[1]=Math.min(e[1],t[1])}};e.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments);R(this.stateList,function(t){var e=this.option.controller[t].symbolSize;if(e&&e[0]!==e[1]){e[0]=e[1]/3}},this)};e.prototype.setSelected=function(t){this.option.range=t.slice();this._resetRange()};e.prototype.getSelected=function(){var t=this.getExtent();var e=za((this.get("range")||[]).slice());e[0]>t[1]&&(e[0]=t[1]);e[1]>t[1]&&(e[1]=t[1]);e[0]<t[0]&&(e[0]=t[0]);e[1]<t[0]&&(e[1]=t[0]);return e};e.prototype.getValueState=function(t){var e=this.option.range;var r=this.getExtent();return(e[0]<=r[0]||e[0]<=t)&&(e[1]>=r[1]||t<=e[1])?"inRange":"outOfRange"};e.prototype.findTargetDataIndices=function(t){var e=[];this.eachTargetSeries(function(r){var i=[];var a=r.getData();a.each(this.getDataDimensionIndex(a),function(e,r){t[0]<=e&&e<=t[1]&&i.push(r)},this);e.push({seriesId:r.id,dataIndex:i})},this);return e};e.prototype.getVisualMeta=function(t){var e=Rq(this,"outOfRange",this.getExtent());var r=Rq(this,"inRange",this.option.range.slice());var i=[];function a(e,r){i.push({value:e,color:t(e,r)})}var n=0;var o=0;var s=r.length;var l=e.length;for(;o<l&&(!r.length||e[o]<=r[0]);o++){if(e[o]<r[n]){a(e[o],"outOfRange")}}for(var u=1;n<s;n++,u=0){u&&i.length&&a(r[n],"outOfRange");a(r[n],"inRange")}for(var u=1;o<l;o++){if(!r.length||r[r.length-1]<e[o]){if(u){i.length&&a(i[i.length-1].value,"outOfRange");u=0}a(e[o],"outOfRange")}}var f=i.length;return{stops:i,outerColors:[f?i[0].color:"transparent",f?i[f-1].color:"transparent"]}};e.type="visualMap.continuous";e.defaultOption=qv(Lq.defaultOption,{align:"auto",calculable:false,hoverLink:true,realtime:true,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}});return e}(Lq);function Rq(t,e,r){if(r[0]===r[1]){return r.slice()}var i=200;var a=(r[1]-r[0])/i;var n=r[0];var o=[];for(var s=0;s<=i&&n<r[1];s++){o.push(n);n+=a}o.push(r[1]);return o}var Nq=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.autoPositionValues={left:1,right:1,top:1,bottom:1};return r}e.prototype.init=function(t,e){this.ecModel=t;this.api=e};e.prototype.render=function(t,e,r,i){this.visualMapModel=t;if(t.get("show")===false){this.group.removeAll();return}this.doRender(t,e,r,i)};e.prototype.renderBackground=function(t){var e=this.visualMapModel;var r=Wc(e.get("padding")||0);var i=t.getBoundingRect();t.add(new zl({z2:-1,silent:true,shape:{x:i.x-r[3],y:i.y-r[0],width:i.width+r[3]+r[1],height:i.height+r[0]+r[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))};e.prototype.getControllerVisual=function(t,e,r){r=r||{};var i=r.forceState;var a=this.visualMapModel;var n={};if(e==="color"){var o=a.get("contentColor");n.color=o}function s(t){return n[t]}function l(t,e){n[t]=e}var u=a.controllerVisuals[i||a.getValueState(t)];var f=RO.prepareVisualTypes(u);R(f,function(i){var a=u[i];if(r.convertOpacityToAlpha&&i==="opacity"){i="colorAlpha";a=u.__alphaForOpacity}if(RO.dependsOn(i,e)){a&&a.applyVisual(t,s,l)}});return n[e]};e.prototype.positionGroup=function(t){var e=this.visualMapModel;var r=this.api;vp(t,e.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})};e.prototype.doRender=function(t,e,r,i){};e.type="visualMap";return e}(Hy);var Eq=[["left","right","width"],["top","bottom","height"]];function zq(t,e,r){var i=t.option;var a=i.align;if(a!=null&&a!=="auto"){return a}var n={width:e.getWidth(),height:e.getHeight()};var o=i.orient==="horizontal"?1:0;var s=Eq[o];var l=[0,null,10];var u={};for(var f=0;f<3;f++){u[Eq[1-o][f]]=l[f];u[s[f]]=f===2?r[0]:i[s[f]]}var h=[["x","width",3],["y","height",0]][o];var v=hp(u,n,i.padding);return s[(v.margin[h[2]]||0)+v[h[0]]+v[h[1]]*.5<n[h[1]]*.5?0:1]}function Bq(t,e){R(t||[],function(t){if(t.dataIndex!=null){t.dataIndexInside=t.dataIndex;t.dataIndex=null}t.highlightKey="visualMap"+(e?e.componentIndex:"")});return t}var Vq=Ra;var Gq=R;var Fq=Math.min;var Hq=Math.max;var Wq=12;var Uq=6;var Yq=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._shapes={};r._dataInterval=[];r._handleEnds=[];r._hoverLinkDataIndices=[];return r}e.prototype.doRender=function(t,e,r,i){this._api=r;if(!i||i.type!=="selectDataRange"||i.from!==this.uid){this._buildView()}};e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel;var e=this.group;this._orient=t.get("orient");this._useHandle=t.get("calculable");this._resetInterval();this._renderBar(e);var r=t.get("text");this._renderEndsText(e,r,0);this._renderEndsText(e,r,1);this._updateView(true);this.renderBackground(e);this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(e)};e.prototype._renderEndsText=function(t,e,r){if(!e){return}var i=e[1-r];i=i!=null?i+"":"";var a=this.visualMapModel;var n=a.get("textGap");var o=a.itemSize;var s=this._shapes.mainGroup;var l=this._applyTransform([o[0]/2,r===0?-n:o[1]+n],s);var u=this._applyTransform(r===0?"bottom":"top",s);var f=this._orient;var h=this.visualMapModel.textStyleModel;this.group.add(new Fl({style:{x:l[0],y:l[1],verticalAlign:f==="horizontal"?"middle":u,align:f==="horizontal"?u:"center",text:i,font:h.getFont(),fill:h.getTextColor()}}))};e.prototype._renderBar=function(t){var e=this.visualMapModel;var r=this._shapes;var i=e.itemSize;var a=this._orient;var n=this._useHandle;var o=zq(e,this.api,i);var s=r.mainGroup=this._createBarGroup(o);var l=new ya;s.add(l);l.add(r.outOfRange=Xq());l.add(r.inRange=Xq(null,n?qq(this._orient):null,F(this._dragHandle,this,"all",false),F(this._dragHandle,this,"all",true)));l.setClipPath(new zl({shape:{x:0,y:0,width:i[0],height:i[1],r:3}}));var u=e.textStyleModel.getTextRect("");var f=Hq(u.width,u.height);if(n){r.handleThumbs=[];r.handleLabels=[];r.handleLabelPoints=[];this._createHandle(e,s,0,i,f,a);this._createHandle(e,s,1,i,f,a)}this._createIndicator(e,s,i,f,a);t.add(s)};e.prototype._createHandle=function(t,e,r,i,a,n){var o=F(this._dragHandle,this,r,false);var s=F(this._dragHandle,this,r,true);var l=aa(t.get("handleSize"),i[0]);var u=nx(t.get("handleIcon"),-l/2,-l/2,l,l,null,true);var f=qq(this._orient);u.attr({cursor:f,draggable:true,drift:o,ondragend:s,onmousemove:function(t){pe(t.event)}});u.x=i[0]/2;u.useStyle(t.getModel("handleStyle").getItemStyle());u.setStyle({strokeNoScale:true,strokeFirst:true});u.style.lineWidth*=2;u.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle();af(u,true);e.add(u);var h=this.visualMapModel.textStyleModel;var v=new Fl({cursor:f,draggable:true,drift:o,onmousemove:function(t){pe(t.event)},ondragend:s,style:{x:0,y:0,text:"",font:h.getFont(),fill:h.getTextColor()}});v.ensureState("blur").style={opacity:.1};v.stateTransition={duration:200};this.group.add(v);var c=[l,0];var p=this._shapes;p.handleThumbs[r]=u;p.handleLabelPoints[r]=c;p.handleLabels[r]=v};e.prototype._createIndicator=function(t,e,r,i,a){var n=aa(t.get("indicatorSize"),r[0]);var o=nx(t.get("indicatorIcon"),-n/2,-n/2,n,n,null,true);o.attr({cursor:"move",invisible:true,silent:true,x:r[0]/2});var s=t.getModel("indicatorStyle").getItemStyle();if(o instanceof Al){var l=o.style;o.useStyle(C({image:l.image,x:l.x,y:l.y,width:l.width,height:l.height},s))}else{o.useStyle(s)}e.add(o);var u=this.visualMapModel.textStyleModel;var f=new Fl({silent:true,invisible:true,style:{x:0,y:0,text:"",font:u.getFont(),fill:u.getTextColor()}});this.group.add(f);var h=[(a==="horizontal"?i/2:Uq)+r[0]/2,0];var v=this._shapes;v.indicator=o;v.indicatorLabel=f;v.indicatorLabelPoint=h;this._firstShowIndicator=true};e.prototype._dragHandle=function(t,e,r,i){if(!this._useHandle){return}this._dragging=!e;if(!e){var a=this._applyTransform([r,i],this._shapes.mainGroup,true);this._updateInterval(t,a[1]);this._hideIndicator();this._updateView()}if(e===!this.visualMapModel.get("realtime")){this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()})}if(e){!this._hovering&&this._clearHoverLinkToSeries()}else if(jq(this.visualMapModel)){this._doHoverLinkToSeries(this._handleEnds[t],false)}};e.prototype._resetInterval=function(){var t=this.visualMapModel;var e=this._dataInterval=t.getSelected();var r=t.getExtent();var i=[0,t.itemSize[1]];this._handleEnds=[Vq(e[0],r,i,true),Vq(e[1],r,i,true)]};e.prototype._updateInterval=function(t,e){e=e||0;var r=this.visualMapModel;var i=this._handleEnds;var a=[0,r.itemSize[1]];SE(e,i,a,t,0);var n=r.getExtent();this._dataInterval=[Vq(i[0],a,n,true),Vq(i[1],a,n,true)]};e.prototype._updateView=function(t){var e=this.visualMapModel;var r=e.getExtent();var i=this._shapes;var a=[0,e.itemSize[1]];var n=t?a:this._handleEnds;var o=this._createBarVisual(this._dataInterval,r,n,"inRange");var s=this._createBarVisual(r,r,a,"outOfRange");i.inRange.setStyle({fill:o.barColor}).setShape("points",o.barPoints);i.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints);this._updateHandle(n,o)};e.prototype._createBarVisual=function(t,e,r,i){var a={forceState:i,convertOpacityToAlpha:true};var n=this._makeColorGradient(t,a);var o=[this.getControllerVisual(t[0],"symbolSize",a),this.getControllerVisual(t[1],"symbolSize",a)];var s=this._createBarPoints(r,o);return{barColor:new bh(0,0,0,1,n),barPoints:s,handlesColor:[n[0].color,n[n.length-1].color]}};e.prototype._makeColorGradient=function(t,e){var r=100;var i=[];var a=(t[1]-t[0])/r;i.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var n=1;n<r;n++){var o=t[0]+a*n;if(o>t[1]){break}i.push({color:this.getControllerVisual(o,"color",e),offset:n/r})}i.push({color:this.getControllerVisual(t[1],"color",e),offset:1});return i};e.prototype._createBarPoints=function(t,e){var r=this.visualMapModel.itemSize;return[[r[0]-e[0],t[0]],[r[0],t[0]],[r[0],t[1]],[r[0]-e[1],t[1]]]};e.prototype._createBarGroup=function(t){var e=this._orient;var r=this.visualMapModel.get("inverse");return new ya(e==="horizontal"&&!r?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:e==="horizontal"&&r?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:e==="vertical"&&!r?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})};e.prototype._updateHandle=function(t,e){if(!this._useHandle){return}var r=this._shapes;var i=this.visualMapModel;var a=r.handleThumbs;var n=r.handleLabels;var o=i.itemSize;var s=i.getExtent();Gq([0,1],function(l){var u=a[l];u.setStyle("fill",e.handlesColor[l]);u.y=t[l];var f=Vq(t[l],[0,o[1]],s,true);var h=this.getControllerVisual(f,"symbolSize");u.scaleX=u.scaleY=h/o[0];u.x=o[0]-h/2;var v=av(r.handleLabelPoints[l],iv(u,this.group));n[l].setStyle({x:v[0],y:v[1],text:i.formatValueText(this._dataInterval[l]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",r.mainGroup):"center"})},this)};e.prototype._showIndicator=function(t,e,r,i){var a=this.visualMapModel;var n=a.getExtent();var o=a.itemSize;var s=[0,o[1]];var l=this._shapes;var u=l.indicator;if(!u){return}u.attr("invisible",false);var f={convertOpacityToAlpha:true};var h=this.getControllerVisual(t,"color",f);var v=this.getControllerVisual(t,"symbolSize");var c=Vq(t,n,s,true);var p=o[0]-v/2;var d={x:u.x,y:u.y};u.y=c;u.x=p;var g=av(l.indicatorLabelPoint,iv(u,this.group));var y=l.indicatorLabel;y.attr("invisible",false);var m=this._applyTransform("left",l.mainGroup);var x=this._orient;var _=x==="horizontal";y.setStyle({text:(r?r:"")+a.formatValueText(e),verticalAlign:_?m:"middle",align:_?"center":m});var b={x:p,y:c,style:{fill:h}};var w={style:{x:g[0],y:g[1]}};if(a.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var S={duration:100,easing:"cubicInOut",additive:true};u.x=d.x;u.y=d.y;u.animateTo(b,S);y.animateTo(w,S)}else{u.attr(b);y.attr(w)}this._firstShowIndicator=false;var M=this._shapes.handleLabels;if(M){for(var I=0;I<M.length;I++){this._api.enterBlur(M[I])}}};e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(e){t._hovering=true;if(!t._dragging){var r=t.visualMapModel.itemSize;var i=t._applyTransform([e.offsetX,e.offsetY],t._shapes.mainGroup,true,true);i[1]=Fq(Hq(0,i[1]),r[1]);t._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=r[0])}}).on("mouseout",function(){t._hovering=false;!t._dragging&&t._clearHoverLinkToSeries()})};e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();if(this.visualMapModel.option.hoverLink){t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this);t.on("mouseout",this._hideIndicator,this)}else{this._clearHoverLinkFromSeries()}};e.prototype._doHoverLinkToSeries=function(t,e){var r=this.visualMapModel;var i=r.itemSize;if(!r.option.hoverLink){return}var a=[0,i[1]];var n=r.getExtent();t=Fq(Hq(a[0],t),a[1]);var o=Zq(r,n,a);var s=[t-o,t+o];var l=Vq(t,a,n,true);var u=[Vq(s[0],a,n,true),Vq(s[1],a,n,true)];s[0]<a[0]&&(u[0]=-Infinity);s[1]>a[1]&&(u[1]=Infinity);if(e){if(u[0]===-Infinity){this._showIndicator(l,u[1],"< ",o)}else if(u[1]===Infinity){this._showIndicator(l,u[0],"> ",o)}else{this._showIndicator(l,l," ",o)}}var f=this._hoverLinkDataIndices;var h=[];if(e||jq(r)){h=this._hoverLinkDataIndices=r.findTargetDataIndices(u)}var v=Vn(f,h);this._dispatchHighDown("downplay",Bq(v[0],r));this._dispatchHighDown("highlight",Bq(v[1],r))};e.prototype._hoverLinkFromSeriesMouseOver=function(t){var e=t.target;var r=this.visualMapModel;if(!e||$l(e).dataIndex==null){return}var i=$l(e);var a=this.ecModel.getSeriesByIndex(i.seriesIndex);if(!r.isTargetSeries(a)){return}var n=a.getData(i.dataType);var o=n.getStore().get(r.getDataDimensionIndex(n),i.dataIndex);if(!isNaN(o)){this._showIndicator(o,o)}};e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",true);t.indicatorLabel&&t.indicatorLabel.attr("invisible",true);var e=this._shapes.handleLabels;if(e){for(var r=0;r<e.length;r++){this._api.leaveBlur(e[r])}}};e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Bq(t,this.visualMapModel));t.length=0};e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver);t.off("mouseout",this._hideIndicator)};e.prototype._applyTransform=function(t,e,r,i){var a=iv(e,i?null:this.group);return W(t)?av(t,a,r):nv(t,a,r)};e.prototype._dispatchHighDown=function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})};e.prototype.dispose=function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()};e.prototype.remove=function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()};e.type="visualMap.continuous";return e}(Nq);function Xq(t,e,r,i){return new sh({shape:{points:t},draggable:!!r,cursor:e,drift:r,onmousemove:function(t){pe(t.event)},ondragend:i})}function Zq(t,e,r){var i=Wq/2;var a=t.get("hoverLinkDataSize");if(a){i=Vq(a,e,r,true)/2}return i}function jq(t){var e=t.get("hoverLinkOnHandle");return!!(e==null?t.get("realtime"):e)}function qq(t){return t==="vertical"?"ns-resize":"ew-resize"}var Kq={type:"selectDataRange",event:"dataRangeSelected",update:"update"};var $q=function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(e){e.setSelected(t.selected)})};var Jq=[{createOnAllSeries:true,reset:function(t,e){var r=[];e.eachComponent("visualMap",function(e){var i=t.pipelineContext;if(!e.isTargetSeries(t)||i&&i.large){return}r.push(WX(e.stateList,e.targetVisuals,F(e.getValueState,e),e.getDataDimensionIndex(t.getData())))});return r}},{createOnAllSeries:true,reset:function(t,e){var r=t.getData();var i=[];e.eachComponent("visualMap",function(e){if(e.isTargetSeries(t)){var a=e.getVisualMeta(F(Qq,null,t,e))||{stops:[],outerColors:[]};var n=e.getDataDimensionIndex(r);if(n>=0){a.dimension=n;i.push(a)}}});t.getData().setVisual("visualMeta",i)}}];function Qq(t,e,r,i){var a=e.targetVisuals[i];var n=RO.prepareVisualTypes(a);var o={color:Fm(t.getData(),"color")};for(var s=0,l=n.length;s<l;s++){var u=n[s];var f=a[u==="opacity"?"__alphaForOpacity":u];f&&f.applyVisual(r,h,v)}return o.color;function h(t){return o[t]}function v(t,e){o[t]=e}}var tK=R;function eK(t){var e=t&&t.visualMap;if(!W(e)){e=e?[e]:[]}tK(e,function(t){if(!t){return}if(rK(t,"splitList")&&!rK(t,"pieces")){t.pieces=t.splitList;delete t.splitList}var e=t.pieces;if(e&&W(e)){tK(e,function(t){if(j(t)){if(rK(t,"start")&&!rK(t,"min")){t.min=t.start}if(rK(t,"end")&&!rK(t,"max")){t.max=t.end}}})}})}function rK(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var iK=false;function aK(t){if(iK){return}iK=true;t.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"});t.registerAction(Kq,$q);R(Jq,function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)});t.registerPreprocessor(eK)}function nK(t){t.registerComponentModel(Oq);t.registerComponentView(Yq);aK(t)}var oK=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._pieceList=[];return r}e.prototype.optionUpdated=function(e,r){t.prototype.optionUpdated.apply(this,arguments);this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[];sK[this._mode].call(this,this._pieceList);this._resetSelected(e,r);var a=this.option.categories;this.resetVisual(function(t,e){if(i==="categories"){t.mappingMethod="category";t.categories=M(a)}else{t.dataExtent=this.getExtent();t.mappingMethod="piecewise";t.pieceList=N(this._pieceList,function(t){t=M(t);if(e!=="inRange"){t.visual=null}return t})}})};e.prototype.completeVisualOption=function(){var e=this.option;var r={};var i=RO.listVisualTypes();var a=this.isCategory();R(e.pieces,function(t){R(i,function(e){if(t.hasOwnProperty(e)){r[e]=1}})});R(r,function(t,r){var i=false;R(this.stateList,function(t){i=i||n(e,t,r)||n(e.target,t,r)},this);!i&&R(this.stateList,function(t){(e[t]||(e[t]={}))[r]=Sq.get(r,t==="inRange"?"active":"inactive",a)})},this);function n(t,e,r){return t&&t[e]&&t[e].hasOwnProperty(r)}t.prototype.completeVisualOption.apply(this,arguments)};e.prototype._resetSelected=function(t,e){var r=this.option;var i=this._pieceList;var a=(e?r:t).selected||{};r.selected=a;R(i,function(t,e){var r=this.getSelectedMapKey(t);if(!a.hasOwnProperty(r)){a[r]=true}},this);if(r.selectedMode==="single"){var n=false;R(i,function(t,e){var r=this.getSelectedMapKey(t);if(a[r]){n?a[r]=false:n=true}},this)}};e.prototype.getItemSymbol=function(){return this.get("itemSymbol")};e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""};e.prototype.getPieceList=function(){return this._pieceList};e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"};e.prototype.setSelected=function(t){this.option.selected=M(t)};e.prototype.getValueState=function(t){var e=RO.findPieceIndex(t,this._pieceList);return e!=null?this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange":"outOfRange"};e.prototype.findTargetDataIndices=function(t){var e=[];var r=this._pieceList;this.eachTargetSeries(function(i){var a=[];var n=i.getData();n.each(this.getDataDimensionIndex(n),function(e,i){var n=RO.findPieceIndex(e,r);n===t&&a.push(i)},this);e.push({seriesId:i.id,dataIndex:a})},this);return e};e.prototype.getRepresentValue=function(t){var e;if(this.isCategory()){e=t.value}else{if(t.value!=null){e=t.value}else{var r=t.interval||[];e=r[0]===-Infinity&&r[1]===Infinity?0:(r[0]+r[1])/2}}return e};e.prototype.getVisualMeta=function(t){if(this.isCategory()){return}var e=[];var r=["",""];var i=this;function a(a,n){var o=i.getRepresentValue({interval:a});if(!n){n=i.getValueState(o)}var s=t(o,n);if(a[0]===-Infinity){r[0]=s}else if(a[1]===Infinity){r[1]=s}else{e.push({value:a[0],color:s},{value:a[1],color:s})}}var n=this._pieceList.slice();if(!n.length){n.push({interval:[-Infinity,Infinity]})}else{var o=n[0].interval[0];o!==-Infinity&&n.unshift({interval:[-Infinity,o]});o=n[n.length-1].interval[1];o!==Infinity&&n.push({interval:[o,Infinity]})}var s=-Infinity;R(n,function(t){var e=t.interval;if(e){e[0]>s&&a([s,e[0]],"outOfRange");a(e.slice());s=e[1]}},this);return{stops:e,outerColors:r}};e.type="visualMap.piecewise";e.defaultOption=qv(Lq.defaultOption,{selected:null,minOpen:false,maxOpen:false,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:true});return e}(Lq);var sK={splitNumber:function(t){var e=this.option;var r=Math.min(e.precision,20);var i=this.getExtent();var a=e.splitNumber;a=Math.max(parseInt(a,10),1);e.splitNumber=a;var n=(i[1]-i[0])/a;while(+n.toFixed(r)!==n&&r<5){r++}e.precision=r;n=+n.toFixed(r);if(e.minOpen){t.push({interval:[-Infinity,i[0]],close:[0,0]})}for(var o=0,s=i[0];o<a;s+=n,o++){var l=o===a-1?i[1]:s+n;t.push({interval:[s,l],close:[1,1]})}if(e.maxOpen){t.push({interval:[i[1],Infinity],close:[0,0]})}Ja(t);R(t,function(t,e){t.index=e;t.text=this.formatValueText(t.interval)},this)},categories:function(t){var e=this.option;R(e.categories,function(e){t.push({text:this.formatValueText(e,true),value:e})},this);lK(e,t)},pieces:function(t){var e=this.option;R(e.pieces,function(e,r){if(!j(e)){e={value:e}}var i={text:"",index:r};if(e.label!=null){i.text=e.label}if(e.hasOwnProperty("value")){var a=i.value=e.value;i.interval=[a,a];i.close=[1,1]}else{var n=i.interval=[];var o=i.close=[0,0];var s=[1,0,1];var l=[-Infinity,Infinity];var u=[];for(var f=0;f<2;f++){var h=[["gte","gt","min"],["lte","lt","max"]][f];for(var v=0;v<3&&n[f]==null;v++){n[f]=e[h[v]];o[f]=s[v];u[f]=v===2}n[f]==null&&(n[f]=l[f])}u[0]&&n[1]===Infinity&&(o[0]=0);u[1]&&n[0]===-Infinity&&(o[1]=0);if("development"!=="production"){if(n[0]>n[1]){console.warn("Piece "+r+"is illegal: "+n+" lower bound should not greater then uppper bound.")}}if(n[0]===n[1]&&o[0]&&o[1]){i.value=n[0]}}i.visual=RO.retrieveVisuals(e);t.push(i)},this);lK(e,t);Ja(t);R(t,function(t){var e=t.close;var r=[["<",""][e[1]],[">",""][e[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,false,r)},this)}};function lK(t,e){var r=t.inverse;if(t.orient==="vertical"?!r:r){e.reverse()}}var uK=function(t){r(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.doRender=function(){var t=this.group;t.removeAll();var e=this.visualMapModel;var r=e.get("textGap");var i=e.textStyleModel;var a=i.getFont();var n=i.getTextColor();var o=this._getItemAlign();var s=e.itemSize;var l=this._getViewData();var u=l.endsText;var f=rt(e.get("showLabel",true),!u);u&&this._renderEndsText(t,u[0],s,f,o);R(l.viewPieceList,function(i){var l=i.piece;var u=new ya;u.onclick=F(this._onItemClick,this,l);this._enableHoverLink(u,i.indexInModelPieceList);var h=e.getRepresentValue(l);this._createItemSymbol(u,h,[0,0,s[0],s[1]]);if(f){var v=this.visualMapModel.getValueState(h);u.add(new Fl({style:{x:o==="right"?-r:s[0]+r,y:s[1]/2,text:l.text,verticalAlign:"middle",align:o,font:a,fill:n,opacity:v==="outOfRange"?.5:1}}))}t.add(u)},this);u&&this._renderEndsText(t,u[1],s,f,o);sp(e.get("orient"),t,e.get("itemGap"));this.renderBackground(t);this.positionGroup(t)};e.prototype._enableHoverLink=function(t,e){var r=this;t.on("mouseover",function(){return i("highlight")}).on("mouseout",function(){return i("downplay")});var i=function(t){var i=r.visualMapModel;i.option.hoverLink&&r.api.dispatchAction({type:t,batch:Bq(i.findTargetDataIndices(e),i)})}};e.prototype._getItemAlign=function(){var t=this.visualMapModel;var e=t.option;if(e.orient==="vertical"){return zq(t,this.api,t.itemSize)}else{var r=e.align;if(!r||r==="auto"){r="left"}return r}};e.prototype._renderEndsText=function(t,e,r,i,a){if(!e){return}var n=new ya;var o=this.visualMapModel.textStyleModel;n.add(new Fl({style:{x:i?a==="right"?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:"middle",align:i?a:"center",text:e,font:o.getFont(),fill:o.getTextColor()}}));t.add(n)};e.prototype._getViewData=function(){var t=this.visualMapModel;var e=N(t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e}});var r=t.get("text");var i=t.get("orient");var a=t.get("inverse");if(i==="horizontal"?a:!a){e.reverse()}else if(r){r=r.slice().reverse()}return{viewPieceList:e,endsText:r}};e.prototype._createItemSymbol=function(t,e,r){t.add(nx(this.getControllerVisual(e,"symbol"),r[0],r[1],r[2],r[3],this.getControllerVisual(e,"color")))};e.prototype._onItemClick=function(t){var e=this.visualMapModel;var r=e.option;var i=M(r.selected);var a=e.getSelectedMapKey(t);if(r.selectedMode==="single"){i[a]=true;R(i,function(t,e){i[e]=e===a})}else{i[a]=!i[a]}this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})};e.type="visualMap.piecewise";return e}(Nq);function fK(t){t.registerComponentModel(oK);t.registerComponentView(uK);aK(t)}function hK(t){Xw(nK);Xw(fK)}var vK={label:{enabled:true},decal:{show:false}};var cK=Fn();var pK={};function dK(t,e){var r=t.getModel("aria");if(!r.get("enabled")){return}var i=M(vK);I(i.label,t.getLocaleModel().get("aria"),false);I(r.option,i,false);a();n();function a(){var e=r.getModel("decal");var i=e.get("show");if(i){var a=ct();t.eachSeries(function(t){if(t.isColorBySeries()){return}var e=a.get(t.type);if(!e){e={};a.set(t.type,e)}cK(t).scope=e});t.eachRawSeries(function(e){if(t.isSeriesFiltered(e)){return}if(typeof e.enableAriaDecal==="function"){e.enableAriaDecal();return}var r=e.getData();if(!e.isColorBySeries()){var i=e.getRawData();var a={};var n=cK(e).scope;r.each(function(t){var e=r.getRawIndex(t);a[e]=t});var o=i.count();i.each(function(t){var s=a[t];var l=i.getName(t)||t+"";var f=jp(e.ecModel,l,n,o);var h=r.getItemVisual(s,"decal");r.setItemVisual(s,"decal",u(h,f))})}else{var s=jp(e.ecModel,e.name,pK,t.getSeriesCount());var l=r.getVisual("decal");r.setVisual("decal",u(l,s))}function u(t,e){var r=t?C(C({},e),t):e;r.dirty=true;return r}})}}function n(){var i=t.getLocaleModel().get("aria");var a=r.getModel("label");a.option=D(a.option,i);if(!a.get("enabled")){return}var n=e.getZr().dom;if(a.get("description")){n.setAttribute("aria-label",a.get("description"));return}var u=t.getSeriesCount();var f=a.get(["data","maxCount"])||10;var h=a.get(["series","maxCount"])||10;var v=Math.min(u,h);var c;if(u<1){return}else{var p=s();if(p){var d=a.get(["general","withTitle"]);c=o(d,{title:p})}else{c=a.get(["general","withoutTitle"])}var g=[];var y=u>1?a.get(["series","multiple","prefix"]):a.get(["series","single","prefix"]);c+=o(y,{seriesCount:u});t.eachSeries(function(t,e){if(e<v){var r=void 0;var i=t.get("name");var n=i?"withName":"withoutName";r=u>1?a.get(["series","multiple",n]):a.get(["series","single",n]);r=o(r,{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:l(t.subType)});var s=t.getData();if(s.count()>f){var h=a.get(["data","partialData"]);r+=o(h,{displayCnt:f})}else{r+=a.get(["data","allData"])}var c=[];for(var p=0;p<s.count();p++){if(p<f){var d=s.getName(p);var y=wg(s,p);var m=a.get(["data",d?"withName":"withoutName"]);c.push(o(m,{name:d,value:y}))}}var x=a.get(["data","separator","middle"]);var _=a.get(["data","separator","end"]);r+=c.join(x)+_;g.push(r)}});var m=a.getModel(["series","multiple","separator"]);var x=m.get("middle");var _=m.get("end");c+=g.join(x)+_;n.setAttribute("aria-label",c)}}function o(t,e){if(typeof t!=="string"){return t}var r=t;R(e,function(t,e){r=r.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)});return r}function s(){var e=t.get("title");if(e&&e.length){e=e[0]}return e&&e.text}function l(e){return t.getLocaleModel().get(["series","typeNames"])[e]||""}}function gK(t){if(!t||!t.aria){return}var e=t.aria;if(e.show!=null){e.enabled=e.show}e.label=e.label||{};R(["description","general","series","data"],function(t){if(e[t]!=null){e.label[t]=e[t]}})}function yK(t){t.registerPreprocessor(gK);t.registerVisual(t.PRIORITY.VISUAL.ARIA,dK)}var mK={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"};var xK=function(){function t(t){var e=this._condVal=Y(t)?new RegExp(t):tt(t)?t:null;if(e==null){var r="";if("development"!=="production"){r=cn("Illegal regexp",t,"in")}pn(r)}}t.prototype.evaluate=function(t){var e=typeof t;return e==="string"?this._condVal.test(t):e==="number"?this._condVal.test(t+""):false};return t}();var _K=function(){function t(){}t.prototype.evaluate=function(){return this.value};return t}();var bK=function(){function t(){}t.prototype.evaluate=function(){var t=this.children;for(var e=0;e<t.length;e++){if(!t[e].evaluate()){return false}}return true};return t}();var wK=function(){function t(){}t.prototype.evaluate=function(){var t=this.children;for(var e=0;e<t.length;e++){if(t[e].evaluate()){return true}}return false};return t}();var SK=function(){function t(){}t.prototype.evaluate=function(){return!this.child.evaluate()};return t}();var MK=function(){function t(){}t.prototype.evaluate=function(){var t=!!this.valueParser;var e=this.getValue;var r=e(this.valueGetterParam);var i=t?this.valueParser(r):null;for(var a=0;a<this.subCondList.length;a++){if(!this.subCondList[a].evaluate(t?i:r)){return false}}return true};return t}();function IK(t,e){if(t===true||t===false){var r=new _K;r.value=t;return r}var i="";if(!AK(t)){if("development"!=="production"){i=cn("Illegal config. Expect a plain object but actually",t)}pn(i)}if(t.and){return TK("and",t,e)}else if(t.or){return TK("or",t,e)}else if(t.not){return CK(t,e)}return DK(t,e)}function TK(t,e,r){var i=e[t];var a="";if("development"!=="production"){a=cn('"and"/"or" condition should only be `'+t+": [...]` and must not be empty array.","Illegal condition:",e)}if(!W(i)){pn(a)}if(!i.length){pn(a)}var n=t==="and"?new bK:new wK;n.children=N(i,function(t){return IK(t,r)});if(!n.children.length){pn(a)}return n}function CK(t,e){var r=t.not;var i="";if("development"!=="production"){i=cn('"not" condition should only be `not: {}`.',"Illegal condition:",t)}if(!AK(r)){pn(i)}var a=new SK;a.child=IK(r,e);if(!a.child){pn(i)}return a}function DK(t,e){var r="";var i=e.prepareGetValue(t);var a=[];var n=V(t);var o=t.parser;var s=o?Lg(o):null;for(var l=0;l<n.length;l++){var u=n[l];if(u==="parser"||e.valueGetterAttrMap.get(u)){continue}var f=gt(mK,u)?mK[u]:u;var h=t[u];var v=s?s(h):h;var c=Eg(f,v)||f==="reg"&&new xK(v);if(!c){if("development"!=="production"){r=cn('Illegal relational operation: "'+u+'" in condition:',t)}pn(r)}a.push(c)}if(!a.length){if("development"!=="production"){r=cn("Relational condition must have at least one operator.","Illegal condition:",t)}pn(r)}var p=new MK;p.valueGetterParam=i;p.valueParser=s;p.getValue=e.getValue;p.subCondList=a;return p}function AK(t){return j(t)&&!O(t)}var kK=function(){function t(t,e){this._cond=IK(t,e)}t.prototype.evaluate=function(){return this._cond.evaluate()};return t}();function LK(t,e){return new kK(t,e)}var PK={type:"echarts:filter",transform:function(t){var e=t.upstream;var r;var i=LK(t.config,{valueGetterAttrMap:ct({dimension:true}),prepareGetValue:function(t){var r="";var i=t.dimension;if(!gt(t,"dimension")){if("development"!=="production"){r=cn('Relation condition must has prop "dimension" specified.',"Illegal condition:",t)}pn(r)}var a=e.getDimensionInfo(i);if(!a){if("development"!=="production"){r=cn("Can not find dimension info via: "+i+".\n","Existing dimensions: ",e.cloneAllDimensionInfo(),".\n","Illegal condition:",t,".\n")}pn(r)}return{dimIdx:a.index}},getValue:function(t){return e.retrieveValueFromItem(r,t.dimIdx)}});var a=[];for(var n=0,o=e.count();n<o;n++){r=e.getRawDataItem(n);if(i.evaluate()){a.push(r)}}return{data:a}}};var OK="";if("development"!=="production"){OK=["Valid config is like:",'{ dimension: "age", order: "asc" }','or [{ dimension: "age", order: "asc"], { dimension: "date", order: "desc" }]'].join(" ")}var RK={type:"echarts:sort",transform:function(t){var e=t.upstream;var r=t.config;var i="";var a=yn(r);if(!a.length){if("development"!=="production"){i="Empty `config` in sort transform."}pn(i)}var n=[];R(a,function(t){var r=t.dimension;var a=t.order;var o=t.parser;var s=t.incomparable;if(r==null){if("development"!=="production"){i='Sort transform config must has "dimension" specified.'+OK}pn(i)}if(a!=="asc"&&a!=="desc"){if("development"!=="production"){i='Sort transform config must has "order" specified.'+OK}pn(i)}if(s&&s!=="min"&&s!=="max"){var l="";if("development"!=="production"){l='incomparable must be "min" or "max" rather than "'+s+'".'}pn(l)}if(a!=="asc"&&a!=="desc"){var u="";if("development"!=="production"){u='order must be "asc" or "desc" rather than "'+a+'".'}pn(u)}var f=e.getDimensionInfo(r);if(!f){if("development"!=="production"){i=cn("Can not find dimension info via: "+r+".\n","Existing dimensions: ",e.cloneAllDimensionInfo(),".\n","Illegal config:",t,".\n")}pn(i)}var h=o?Lg(o):null;if(o&&!h){if("development"!=="production"){i=cn("Invalid parser name "+o+".\n","Illegal config:",t,".\n")}pn(i)}n.push({dimIdx:f.index,parser:h,comparator:new Rg(a,s)})});var o=e.sourceFormat;if(o!==Tp&&o!==Cp){if("development"!=="production"){i='sourceFormat "'+o+'" is not supported yet'}pn(i)}var s=[];for(var l=0,u=e.count();l<u;l++){s.push(e.getRawDataItem(l))}s.sort(function(t,r){for(var i=0;i<n.length;i++){var a=n[i];var o=e.retrieveValueFromItem(t,a.dimIdx);var s=e.retrieveValueFromItem(r,a.dimIdx);if(a.parser){o=a.parser(o);s=a.parser(s)}var l=a.comparator.evaluate(o,s);if(l!==0){return l}}return 0});return{data:s}}};function NK(t){t.registerTransform(PK);t.registerTransform(RK)}var EK=function(t){r(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="dataset";return e}e.prototype.init=function(e,r,i){t.prototype.init.call(this,e,r,i);this._sourceManager=new oy(this);sy(this)};e.prototype.mergeOption=function(e,r){t.prototype.mergeOption.call(this,e,r);sy(this)};e.prototype.optionUpdated=function(){this._sourceManager.dirty()};e.prototype.getSourceManager=function(){return this._sourceManager};e.type="dataset";e.defaultOption={seriesLayoutBy:Lp};return e}(xp);var zK=function(t){r(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="dataset";return e}e.type="dataset";return e}(Hy);function BK(t){t.registerComponentModel(EK);t.registerComponentView(zK)}var VK=Js.CMD;function GK(t,e){return Math.abs(t-e)<1e-5}function FK(t){var e=t.data;var r=t.len();var i=[];var a;var n=0;var o=0;var s=0;var l=0;function u(t,e){if(a&&a.length>2){i.push(a)}a=[t,e]}function f(t,e,r,i){if(!(GK(t,r)&&GK(e,i))){a.push(t,e,r,i,r,i)}}function h(t,e,r,i,n,o){var s=Math.abs(e-t);var l=Math.tan(s/4)*4/3;var u=e<t?-1:1;var f=Math.cos(t);var h=Math.sin(t);var v=Math.cos(e);var c=Math.sin(e);var p=f*n+r;var d=h*o+i;var g=v*n+r;var y=c*o+i;var m=n*l*u;var x=o*l*u;a.push(p-m*h,d+x*f,g+m*c,y-x*v,g,y)}var v;var c;var p;var d;for(var g=0;g<r;){var y=e[g++];var m=g===1;if(m){n=e[g];o=e[g+1];s=n;l=o;if(y===VK.L||y===VK.C||y===VK.Q){a=[s,l]}}switch(y){case VK.M:n=s=e[g++];o=l=e[g++];u(s,l);break;case VK.L:v=e[g++];c=e[g++];f(n,o,v,c);n=v;o=c;break;case VK.C:a.push(e[g++],e[g++],e[g++],e[g++],n=e[g++],o=e[g++]);break;case VK.Q:v=e[g++];c=e[g++];p=e[g++];d=e[g++];a.push(n+2/3*(v-n),o+2/3*(c-o),p+2/3*(v-p),d+2/3*(c-d),p,d);n=p;o=d;break;case VK.A:var x=e[g++];var _=e[g++];var b=e[g++];var w=e[g++];var S=e[g++];var M=e[g++]+S;g+=1;var I=!e[g++];v=Math.cos(S)*b+x;c=Math.sin(S)*w+_;if(m){s=v;l=c;u(s,l)}else{f(n,o,v,c)}n=Math.cos(M)*b+x;o=Math.sin(M)*w+_;var T=(I?-1:1)*Math.PI/2;for(var C=S;I?C>M:C<M;C+=T){var D=I?Math.max(C+T,M):Math.min(C+T,M);h(C,D,x,_,b,w)}break;case VK.R:s=n=e[g++];l=o=e[g++];v=s+e[g++];c=l+e[g++];u(v,l);f(v,l,v,c);f(v,c,s,c);f(s,c,s,l);f(s,l,v,l);break;case VK.Z:a&&f(n,o,s,l);n=s;o=l;break}}if(a&&a.length>2){i.push(a)}return i}function HK(t,e,r,i,a,n,o,s,l,u){if(GK(t,r)&&GK(e,i)&&GK(a,o)&&GK(n,s)){l.push(o,s);return}var f=2/u;var h=f*f;var v=o-t;var c=s-e;var p=Math.sqrt(v*v+c*c);v/=p;c/=p;var d=r-t;var g=i-e;var y=a-o;var m=n-s;var x=d*d+g*g;var _=y*y+m*m;if(x<h&&_<h){l.push(o,s);return}var b=v*d+c*g;var w=-v*y-c*m;var S=x-b*b;var M=_-w*w;if(S<h&&b>=0&&M<h&&w>=0){l.push(o,s);return}var I=[];var T=[];ls(t,r,a,o,.5,I);ls(e,i,n,s,.5,T);HK(I[0],T[0],I[1],T[1],I[2],T[2],I[3],T[3],l,u);HK(I[4],T[4],I[5],T[5],I[6],T[6],I[7],T[7],l,u)}function WK(t,e){var r=FK(t);var i=[];e=e||1;for(var a=0;a<r.length;a++){var n=r[a];var o=[];var s=n[0];var l=n[1];o.push(s,l);for(var u=2;u<n.length;){var f=n[u++];var h=n[u++];var v=n[u++];var c=n[u++];var p=n[u++];var d=n[u++];HK(s,l,f,h,v,c,p,d,o,e);s=p;l=d}i.push(o)}return i}function UK(t,e,r){var i=t[e];var a=t[1-e];var n=Math.abs(i/a);var o=Math.ceil(Math.sqrt(n*r));var s=Math.floor(r/o);if(s===0){s=1;o=r}var l=[];for(var u=0;u<o;u++){l.push(s)}var f=o*s;var h=r-f;if(h>0){for(var u=0;u<h;u++){l[u%o]+=1}}return l}function YK(t,e,r){var i=t.r0;var a=t.r;var n=t.startAngle;var o=t.endAngle;var s=Math.abs(o-n);var l=s*a;var u=a-i;var f=l>Math.abs(u);var h=UK([l,u],f?0:1,e);var v=(f?s:u)/h.length;for(var c=0;c<h.length;c++){var p=(f?u:s)/h[c];for(var d=0;d<h[c];d++){var g={};if(f){g.startAngle=n+v*c;g.endAngle=n+v*(c+1);g.r0=i+p*d;g.r=i+p*(d+1)}else{g.startAngle=n+p*d;g.endAngle=n+p*(d+1);g.r0=i+v*c;g.r=i+v*(c+1)}g.clockwise=t.clockwise;g.cx=t.cx;g.cy=t.cy;r.push(g)}}}function XK(t,e,r){var i=t.width;var a=t.height;var n=i>a;var o=UK([i,a],n?0:1,e);var s=n?"width":"height";var l=n?"height":"width";var u=n?"x":"y";var f=n?"y":"x";var h=t[s]/o.length;for(var v=0;v<o.length;v++){var c=t[l]/o[v];for(var p=0;p<o[v];p++){var d={};d[u]=v*h;d[f]=p*c;d[s]=h;d[l]=c;d.x+=t.x;d.y+=t.y;r.push(d)}}}function ZK(t,e,r,i){return t*i-r*e}function jK(t,e,r,i,a,n,o,s){var l=r-t;var u=i-e;var f=o-a;var h=s-n;var v=ZK(f,h,l,u);if(Math.abs(v)<1e-6){return null}var c=t-a;var p=e-n;var d=ZK(c,p,f,h)/v;if(d<0||d>1){return null}return new Ei(d*l+t,d*u+e)}function qK(t,e,r){var i=new Ei;Ei.sub(i,r,e);i.normalize();var a=new Ei;Ei.sub(a,t,e);var n=a.dot(i);return n}function KK(t,e){var r=t[t.length-1];if(r&&r[0]===e[0]&&r[1]===e[1]){return}t.push(e)}function $K(t,e,r){var i=t.length;var a=[];for(var n=0;n<i;n++){var o=t[n];var s=t[(n+1)%i];var l=jK(o[0],o[1],s[0],s[1],e.x,e.y,r.x,r.y);if(l){a.push({projPt:qK(l,e,r),pt:l,idx:n})}}if(a.length<2){return[{points:t},{points:t}]}a.sort(function(t,e){return t.projPt-e.projPt});var u=a[0];var f=a[a.length-1];if(f.idx<u.idx){var h=u;u=f;f=h}var v=[u.pt.x,u.pt.y];var c=[f.pt.x,f.pt.y];var p=[v];var d=[c];for(var n=u.idx+1;n<=f.idx;n++){KK(p,t[n].slice())}KK(p,c);KK(p,v);for(var n=f.idx+1;n<=u.idx+i;n++){KK(d,t[n%i].slice())}KK(d,v);KK(d,c);return[{points:p},{points:d}]}function JK(t){var e=t.points;var r=[];var i=[];Ts(e,r,i);var a=new Yi(r[0],r[1],i[0]-r[0],i[1]-r[1]);var n=a.width;var o=a.height;var s=a.x;var l=a.y;var u=new Ei;var f=new Ei;if(n>o){u.x=f.x=s+n/2;u.y=l;f.y=l+o}else{u.y=f.y=l+o/2;u.x=s;f.x=s+n}return $K(e,u,f)}function QK(t,e,r,i){if(r===1){i.push(e)}else{var a=Math.floor(r/2);var n=t(e);QK(t,n[0],a,i);QK(t,n[1],r-a,i)}return i}function t$(t,e){var r=[];for(var i=0;i<e;i++){r.push(Of(t))}return r}function e$(t,e){e.setStyle(t.style);e.z=t.z;e.z2=t.z2;e.zlevel=t.zlevel}function r$(t){var e=[];for(var r=0;r<t.length;){e.push([t[r++],t[r++]])}return e}function i$(t,e){var r=[];var i=t.shape;var a;switch(t.type){case"rect":XK(i,e,r);a=zl;break;case"sector":YK(i,e,r);a=Qf;break;case"circle":YK({r0:0,r:i.r,startAngle:0,endAngle:Math.PI*2,cx:i.cx,cy:i.cy},e,r);a=Qf;break;default:var n=t.getComputedTransform();var o=n?Math.sqrt(Math.max(n[0]*n[0]+n[1]*n[1],n[2]*n[2]+n[3]*n[3])):1;var s=N(WK(t.getUpdatedPathProxy(),o),function(t){return r$(t)});var l=s.length;if(l===0){QK(JK,{points:s[0]},e,r)}else if(l===e){for(var u=0;u<l;u++){r.push({points:s[u]})}}else{var f=0;var h=N(s,function(t){var e=[];var r=[];Ts(t,e,r);var i=(r[1]-e[1])*(r[0]-e[0]);f+=i;return{poly:t,area:i}});h.sort(function(t,e){return e.area-t.area});var v=e;for(var u=0;u<l;u++){var c=h[u];if(v<=0){break}var p=u===l-1?v:Math.ceil(c.area/f*e);if(p<0){continue}QK(JK,{points:c.poly},p,r);v-=p}}a=sh;break}if(!a){return t$(t,e)}var d=[];for(var u=0;u<r.length;u++){var g=new a;g.setShape(r[u]);e$(t,g);d.push(g)}return d}function a$(t,e){var r=t.length;var i=e.length;if(r===i){return[t,e]}var a=[];var n=[];var o=r<i?t:e;var s=Math.min(r,i);var l=Math.abs(i-r)/6;var u=(s-2)/6;var f=Math.ceil(l/u)+1;var h=[o[0],o[1]];var v=l;for(var c=2;c<s;){var p=o[c-2];var d=o[c-1];var g=o[c++];var y=o[c++];var m=o[c++];var x=o[c++];var _=o[c++];var b=o[c++];if(v<=0){h.push(g,y,m,x,_,b);continue}var w=Math.min(v,f-1)+1;for(var S=1;S<=w;S++){var M=S/w;ls(p,g,m,_,M,a);ls(d,y,x,b,M,n);p=a[3];d=n[3];h.push(a[1],n[1],a[2],n[2],p,d);g=a[5];y=n[5];m=a[6];x=n[6]}v-=w-1}return o===t?[h,e]:[t,h]}function n$(t,e){var r=t.length;var i=t[r-2];var a=t[r-1];var n=[];for(var o=0;o<e.length;){n[o++]=i;n[o++]=a}return n}function o$(t,e){var r;var i;var a;var n=[];var o=[];for(var s=0;s<Math.max(t.length,e.length);s++){var l=t[s];var u=e[s];var f=void 0;var h=void 0;if(!l){f=n$(i||u,u);h=u}else if(!u){h=n$(a||l,l);f=l}else{r=a$(l,u),f=r[0],h=r[1];i=f;a=h}n.push(f);o.push(h)}return[n,o]}function s$(t){var e=0;var r=0;var i=0;var a=t.length;for(var n=0,o=a-2;n<a;o=n,n+=2){var s=t[o];var l=t[o+1];var u=t[n];var f=t[n+1];var h=s*f-u*l;e+=h;r+=(s+u)*h;i+=(l+f)*h}if(e===0){return[t[0]||0,t[1]||0]}return[r/e/3,i/e/3,e]}function l$(t,e,r,i){var a=(t.length-2)/6;var n=Infinity;var o=0;var s=t.length;var l=s-2;for(var u=0;u<a;u++){var f=u*6;var h=0;for(var v=0;v<s;v+=2){var c=v===0?f:(f+v-2)%l+2;var p=t[c]-r[0];var d=t[c+1]-r[1];var g=e[v]-i[0];var y=e[v+1]-i[1];var m=g-p;var x=y-d;h+=m*m+x*x}if(h<n){n=h;o=u}}return o}function u$(t){var e=[];var r=t.length;for(var i=0;i<r;i+=2){e[i]=t[r-i-2];e[i+1]=t[r-i-1]}return e}function f$(t,e,r,i){var a=[];var n;for(var o=0;o<t.length;o++){var s=t[o];var l=e[o];var u=s$(s);var f=s$(l);if(n==null){n=u[2]<0!==f[2]<0}var h=[];var v=[];var c=0;var p=Infinity;var d=[];var g=s.length;if(n){s=u$(s)}var y=l$(s,l,u,f)*6;var m=g-2;for(var x=0;x<m;x+=2){var _=(y+x)%m+2;h[x+2]=s[_]-u[0];h[x+3]=s[_+1]-u[1]}h[0]=s[y]-u[0];h[1]=s[y+1]-u[1];if(r>0){var b=i/r;for(var w=-i/2;w<=i/2;w+=b){var S=Math.sin(w);var M=Math.cos(w);var I=0;for(var x=0;x<s.length;x+=2){var T=h[x];var C=h[x+1];var D=l[x]-f[0];var A=l[x+1]-f[1];var k=D*M-A*S;var L=D*S+A*M;d[x]=k;d[x+1]=L;var P=k-T;var O=L-C;I+=P*P+O*O}if(I<p){p=I;c=w;for(var R=0;R<d.length;R++){v[R]=d[R]}}}}else{for(var N=0;N<g;N+=2){v[N]=l[N]-f[0];v[N+1]=l[N+1]-f[1]}}a.push({from:h,to:v,fromCp:u,toCp:f,rotation:-c})}return a}function h$(t){return t.__isCombineMorphing}var v$="__mOriginal_";function c$(t,e,r){var i=v$+e;var a=t[i]||t[e];if(!t[i]){t[i]=t[e]}var n=r.replace;var o=r.after;var s=r.before;t[e]=function(){var t=arguments;var e;s&&s.apply(this,t);if(n){e=n.apply(this,t)}else{e=a.apply(this,t)}o&&o.apply(this,t);return e}}function p$(t,e){var r=v$+e;if(t[r]){t[e]=t[r];t[r]=null}}function d$(t,e){for(var r=0;r<t.length;r++){var i=t[r];for(var a=0;a<i.length;){var n=i[a];var o=i[a+1];i[a++]=e[0]*n+e[2]*o+e[4];i[a++]=e[1]*n+e[3]*o+e[5]}}}function g$(t,e){var r=t.getUpdatedPathProxy();var i=e.getUpdatedPathProxy();var a=o$(FK(r),FK(i)),n=a[0],o=a[1];var s=t.getComputedTransform();var l=e.getComputedTransform();function u(){this.transform=null}s&&d$(n,s);l&&d$(o,l);c$(e,"updateTransform",{replace:u});e.transform=null;var f=f$(n,o,10,Math.PI);var h=[];c$(e,"buildPath",{replace:function(t){var r=e.__morphT;var i=1-r;var a=[];for(var n=0;n<f.length;n++){var o=f[n];var s=o.from;var l=o.to;var u=o.rotation*r;var v=o.fromCp;var c=o.toCp;var p=Math.sin(u);var d=Math.cos(u);Gt(a,v,c,r);for(var g=0;g<s.length;g+=2){var y=s[g];var m=s[g+1];var x=l[g];var _=l[g+1];var b=y*i+x*r;var w=m*i+_*r;h[g]=b*d-w*p+a[0];h[g+1]=b*p+w*d+a[1]}var S=h[0];var M=h[1];t.moveTo(S,M);for(var g=2;g<s.length;){var x=h[g++];var _=h[g++];var I=h[g++];var T=h[g++];var C=h[g++];var D=h[g++];if(S===x&&M===_&&I===C&&T===D){t.lineTo(C,D)}else{t.bezierCurveTo(x,_,I,T,C,D)}S=C;M=D}}}})}function y$(t,e,r){if(!t||!e){return e}var i=r.done;var a=r.during;g$(t,e);e.__morphT=0;function n(){p$(e,"buildPath");p$(e,"updateTransform");e.__morphT=-1;e.createPathProxy();e.dirtyShape()}e.animateTo({__morphT:1},D({during:function(t){e.dirtyShape();a&&a(t)},done:function(){n();i&&i()}},r));return e}function m$(t,e,r,i,a,n){var o=16;t=a===r?0:Math.round(32767*(t-r)/(a-r));e=n===i?0:Math.round(32767*(e-i)/(n-i));var s=0;var l;for(var u=(1<<o)/2;u>0;u/=2){var f=0;var h=0;if((t&u)>0){f=1}if((e&u)>0){h=1}s+=u*u*(3*f^h);if(h===0){if(f===1){t=u-1-t;e=u-1-e}l=t;t=e;e=l}}return s}function x$(t){var e=Infinity;var r=Infinity;var i=-Infinity;var a=-Infinity;var n=N(t,function(t){var n=t.getBoundingRect();var o=t.getComputedTransform();var s=n.x+n.width/2+(o?o[4]:0);var l=n.y+n.height/2+(o?o[5]:0);e=Math.min(s,e);r=Math.min(l,r);i=Math.max(s,i);a=Math.max(l,a);return[s,l]});var o=N(n,function(n,o){return{cp:n,z:m$(n[0],n[1],e,r,i,a),path:t[o]}});return o.sort(function(t,e){return t.z-e.z}).map(function(t){return t.path})}function _$(t){return i$(t.path,t.count)}function b$(){return{fromIndividuals:[],toIndividuals:[],count:0}}function w$(t,e,r){var i=[];function a(t){for(var e=0;e<t.length;e++){var r=t[e];if(h$(r)){a(r.childrenRef())}else if(r instanceof Sl){i.push(r)}}}a(t);var n=i.length;if(!n){return b$()}var o=r.dividePath||_$;var s=o({path:e,count:n});if(s.length!==n){console.error("Invalid morphing: unmatched splitted path");return b$()}i=x$(i);s=x$(s);var l=r.done;var u=r.during;var f=r.individualDelay;var h=new Ri;for(var v=0;v<n;v++){var c=i[v];var p=s[v];p.parent=e;p.copyTransform(h);if(!f){g$(c,p)}}e.__isCombineMorphing=true;e.childrenRef=function(){return s};function d(t){for(var e=0;e<s.length;e++){s[e].addSelfToZr(t)}}c$(e,"addSelfToZr",{after:function(t){d(t)}});c$(e,"removeSelfFromZr",{after:function(t){for(var e=0;e<s.length;e++){s[e].removeSelfFromZr(t)}}});function g(){e.__isCombineMorphing=false;e.__morphT=-1;e.childrenRef=null;p$(e,"addSelfToZr");p$(e,"removeSelfFromZr")}var y=s.length;if(f){var m=y;var x=function(){m--;if(m===0){g();l&&l()}};for(var v=0;v<y;v++){var _=f?D({delay:(r.delay||0)+f(v,y,i[v],s[v]),done:x},r):r;y$(i[v],s[v],_)}}else{e.__morphT=0;e.animateTo({__morphT:1},D({during:function(t){for(var r=0;r<y;r++){var i=s[r];i.__morphT=e.__morphT;i.dirtyShape()}u&&u(t)},done:function(){g();for(var e=0;e<t.length;e++){p$(t[e],"updateTransform")}l&&l()}},r))}if(e.__zr){d(e.__zr)}return{fromIndividuals:i,toIndividuals:s,count:y}}function S$(t,e,r){var i=e.length;var a=[];var n=r.dividePath||_$;function o(t){for(var e=0;e<t.length;e++){var r=t[e];if(h$(r)){o(r.childrenRef())}else if(r instanceof Sl){a.push(r)}}}if(h$(t)){o(t.childrenRef());var s=a.length;if(s<i){var l=0;for(var u=s;u<i;u++){a.push(Of(a[l++%s]))}}a.length=i}else{a=n({path:t,count:i});var f=t.getComputedTransform();for(var u=0;u<a.length;u++){a[u].setLocalTransform(f)}if(a.length!==i){console.error("Invalid morphing: unmatched splitted path");return b$()}}a=x$(a);e=x$(e);var h=r.individualDelay;for(var u=0;u<i;u++){var v=h?D({delay:(r.delay||0)+h(u,i,a[u],e[u])},r):r;y$(a[u],e[u],v)}return{fromIndividuals:a,toIndividuals:e,count:e.length}}function M$(t){return W(t[0])}function I$(t,e){var r=[];var i=t.length;for(var a=0;a<i;a++){r.push({one:t[a],many:[]})}for(var a=0;a<e.length;a++){var n=e[a].length;var o=void 0;for(o=0;o<n;o++){r[o%i].many.push(e[a][o])}}var s=0;for(var a=i-1;a>=0;a--){if(!r[a].many.length){var l=r[s].many;if(l.length<=1){if(s){s=0}else{return r}}var n=l.length;var u=Math.ceil(n/2);r[a].many=l.slice(u,n);r[s].many=l.slice(0,u);s++}}return r}var T$={clone:function(t){var e=[];var r=1-Math.pow(1-t.path.style.opacity,1/t.count);for(var i=0;i<t.count;i++){var a=Of(t.path);a.setStyle("opacity",r);e.push(a)}return e},split:null};function C$(t,e,r,i,a,n){if(!t.length||!e.length){return}var o=Lh("update",i,a);if(!(o&&o.duration>0)){return}var s=i.getModel("universalTransition").get("delay");var l=Object.assign({setToFinal:true},o);var u;var f;if(M$(t)){u=t;f=e}if(M$(e)){u=e;f=t}function h(t,e,i,a,o){var u=t.many;var f=t.one;if(u.length===1&&!o){var v=e?u[0]:f;var c=e?f:u[0];if(h$(v)){h({many:[v],one:c},true,i,a,true)}else{var p=s?D({delay:s(i,a)},l):l;y$(v,c,p);n(v,c,v,c,p)}}else{var d=D({dividePath:T$[r],individualDelay:s&&function(t,e,r,n){return s(t+i,a)}},l);var g=e?w$(u,f,d):S$(f,u,d),y=g.fromIndividuals,m=g.toIndividuals;var x=y.length;for(var _=0;_<x;_++){var p=s?D({delay:s(_,x)},l):l;n(y[_],m[_],e?u[_]:t.one,e?t.one:u[_],p)}}}var v=u?u===t:t.length>e.length;var c=u?I$(f,u):I$(v?e:t,[v?t:e]);var p=0;for(var d=0;d<c.length;d++){p+=c[d].many.length}var g=0;for(var d=0;d<c.length;d++){h(c[d],v,g,p);g+=c[d].many.length}}function D$(t){if(!t){return[]}if(W(t)){var e=[];for(var r=0;r<t.length;r++){e.push(D$(t[r]))}return e}var i=[];t.traverse(function(t){if(t instanceof Sl&&!t.disableMorphing&&!t.invisible&&!t.ignore){i.push(t)}});return i}var A$=1e4;var k$=Fn();function L$(t){var e=t.dimensions;for(var r=0;r<e.length;r++){var i=t.getDimensionInfo(e[r]);if(i&&i.otherDims.itemGroupId===0){return e[r]}}}function P$(t){var e=[];R(t,function(t){var r=t.data;if(r.count()>A$){if("development"!=="production"){ln("Universal transition is disabled on large data > 10k.")}return}var i=r.getIndices();var a=L$(r);for(var n=0;n<i.length;n++){e.push({data:r,dim:t.dim||a,divide:t.divide,dataIndex:n})}});return e}function O$(t,e,r){t.traverse(function(t){if(t instanceof Sl){Rh(t,{style:{opacity:0}},e,{dataIndex:r,isFrom:true})}})}function R$(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e);t.parent.remove(t)}}function N$(t){t.stopAnimation();if(t.isGroup){t.traverse(function(t){t.stopAnimation()})}}function E$(t,e,r){var i=Lh("update",r,e);i&&t.traverse(function(t){if(t instanceof Wo){var e=Gh(t);if(e){t.animateFrom({style:e},i)}}})}function z$(t,e){var r=t.length;if(r!==e.length){return false}for(var i=0;i<r;i++){var a=t[i];var n=e[i];if(a.data.getId(a.dataIndex)!==n.data.getId(n.dataIndex)){return false}}return true}function B$(t,e,r){var i=P$(t);var a=P$(e);function n(t,e,r,i,a){if(r||t){e.animateFrom({style:(r||t).style},a)}}function o(t){for(var e=0;e<t.length;e++){if(t[e].dim){return t[e].dim}}}var s=o(i);var l=o(a);var u=false;function f(t,e){return function(r){var i=r.data;var a=r.dataIndex;if(e){return i.getId(a)}var n=i.hostModel&&i.hostModel.get("dataGroupId");var o=t?s||l:l||s;var u=o&&i.getDimensionInfo(o);var f=u&&u.ordinalMeta;if(u){var h=i.get(u.name,a);if(f){return f.categories[h]||h+""}return h+""}var v=i.getRawDataItem(a);if(v&&v.groupId){return v.groupId+""}return n||i.getId(a)}}var h=z$(i,a);var v={};if(!h){for(var c=0;c<a.length;c++){var p=a[c];var d=p.data.getItemGraphicEl(p.dataIndex);if(d){v[d.id]=true}}}function g(t,e){var r=i[e];var o=a[t];var s=o.data.hostModel;var l=r.data.getItemGraphicEl(r.dataIndex);var f=o.data.getItemGraphicEl(o.dataIndex);if(l===f){f&&E$(f,o.dataIndex,s);return}if(l&&v[l.id]){return}if(f){N$(f);if(l){N$(l);R$(l);u=true;C$(D$(l),D$(f),o.divide,s,t,n)}else{O$(f,s,t)}}}new qw(i,a,f(true,h),f(false,h),null,"multiple").update(g).updateManyToOne(function(t,e){var r=a[t];var o=r.data;var s=o.hostModel;var l=o.getItemGraphicEl(r.dataIndex);var f=z(N(e,function(t){return i[t].data.getItemGraphicEl(i[t].dataIndex)}),function(t){return t&&t!==l&&!v[t.id]});if(l){N$(l);if(f.length){R(f,function(t){N$(t);R$(t)});u=true;C$(D$(f),D$(l),r.divide,s,t,n)}else{O$(l,s,r.dataIndex)}}}).updateOneToMany(function(t,e){var r=i[e];var o=r.data.getItemGraphicEl(r.dataIndex);if(o&&v[o.id]){return}var s=z(N(t,function(t){return a[t].data.getItemGraphicEl(a[t].dataIndex)}),function(t){return t&&t!==o});var l=a[t[0]].data.hostModel;if(s.length){R(s,function(t){return N$(t)});if(o){N$(o);R$(o);u=true;C$(D$(o),D$(s),r.divide,l,t[0],n)}else{R(s,function(e){return O$(e,l,t[0])})}}}).updateManyToMany(function(t,e){new qw(e,t,function(t){return i[t].data.getId(i[t].dataIndex)},function(t){return a[t].data.getId(a[t].dataIndex)}).update(function(r,i){g(t[r],e[i])}).execute()}).execute();if(u){R(e,function(t){var e=t.data;var i=e.hostModel;var a=i&&r.getViewOfSeriesModel(i);var n=Lh("update",i,0);if(a&&i.isAnimationEnabled()&&n&&n.duration>0){a.group.traverse(function(t){if(t instanceof Sl&&!t.animators.length){t.animateFrom({style:{opacity:0}},n)}})}})}}function V$(t){var e=t.getModel("universalTransition").get("seriesKey");if(!e){return t.id}return e}function G$(t){if(W(t)){return t.sort().join(",")}return t}function F$(t){if(t.hostModel){return t.hostModel.getModel("universalTransition").get("divideShape")}}function H$(t,e){var r=ct();var i=ct();var a=ct();R(t.oldSeries,function(e,r){var n=t.oldData[r];var o=V$(e);var s=G$(o);i.set(s,n);if(W(o)){R(o,function(t){a.set(t,{data:n,key:s})})}});function n(t){if(r.get(t)){ln("Duplicated seriesKey in universalTransition "+t)}}R(e.updatedSeries,function(t){if(t.isUniversalTransitionEnabled()&&t.isAnimationEnabled()){var e=t.getData();var o=V$(t);var s=G$(o);var l=i.get(s);if(l){if("development"!=="production"){n(s)}r.set(s,{oldSeries:[{divide:F$(l),data:l}],newSeries:[{divide:F$(e),data:e}]})}else{if(W(o)){if("development"!=="production"){n(s)}var u=[];R(o,function(t){var e=i.get(t);if(e){u.push({divide:F$(e),data:e})}});if(u.length){r.set(s,{oldSeries:u,newSeries:[{data:e,divide:F$(e)}]})}}else{var f=a.get(o);if(f){var h=r.get(f.key);if(!h){h={oldSeries:[{data:f.data,divide:F$(f.data)}],newSeries:[]};r.set(f.key,h)}h.newSeries.push({data:e,divide:F$(e)})}}}}});return r}function W$(t,e){for(var r=0;r<t.length;r++){var i=e.seriesIndex!=null&&e.seriesIndex===t[r].seriesIndex||e.seriesId!=null&&e.seriesId===t[r].id;if(i){return r}}}function U$(t,e,r,i){var a=[];var n=[];R(yn(t.from),function(t){var r=W$(e.oldSeries,t);if(r>=0){a.push({data:e.oldData[r],divide:F$(e.oldData[r]),dim:t.dimension})}});R(yn(t.to),function(t){var e=W$(r.updatedSeries,t);if(e>=0){var i=r.updatedSeries[e].getData();n.push({data:i,divide:F$(i),dim:t.dimension})}});if(a.length>0&&n.length>0){B$(a,n,i)}}function Y$(t){t.registerUpdateLifecycle("series:beforeupdate",function(t,e,r){R(yn(r.seriesTransition),function(t){R(yn(t.to),function(t){var e=r.updatedSeries;for(var i=0;i<e.length;i++){if(t.seriesIndex!=null&&t.seriesIndex===e[i].seriesIndex||t.seriesId!=null&&t.seriesId===e[i].id){e[i][Py]=true}}})})});t.registerUpdateLifecycle("series:transition",function(t,e,r){var i=k$(e);if(i.oldSeries&&r.updatedSeries&&r.optionChanged){var a=r.seriesTransition;if(a){R(yn(a),function(t){U$(t,i,r,e)})}else{var n=H$(i,r);R(n.keys(),function(t){var r=n.get(t);B$(r.oldSeries,r.newSeries,e)})}R(r.updatedSeries,function(t){if(t[Py]){t[Py]=false}})}var o=t.getSeries();var s=i.oldSeries=[];var l=i.oldData=[];for(var u=0;u<o.length;u++){var f=o[u].getData();if(f.count()<A$){s.push(o[u]);l.push(f)}}})}Xw([FC]);Xw([AC]);Xw([BD,_A,VA,Qk,pL,oP,tO,IR,zN,YN,tE,jz,MB,FB,hV,gV,LV,VV,cG,bG,zG,uH]);Xw(iW);Xw(GW);Xw(nP);Xw(oU);Xw(Zz);Xw(dU);Xw(AU);Xw(QY);Xw(RX);Xw(rW);Xw(hZ);Xw(pZ);Xw(PZ);Xw(QZ);Xw(uj);Xw(_j);Xw(Yj);Xw(wq);Xw(oq);Xw(bq);Xw(hK);Xw(nK);Xw(fK);Xw(yK);Xw(NK);Xw(BK);Xw(Y$);Xw(MT);t.Axis=PI;t.ChartView=Xy;t.ComponentModel=xp;t.ComponentView=Hy;t.List=SS;t.Model=Uv;t.PRIORITY=Sb;t.SeriesModel=Oy;t.color=Tr;t.connect=xw;t.dataTool=Ww;t.dependencies=ob;t.disConnect=_w;t.disconnect=bw;t.dispose=ww;t.env=s;t.extendChartView=BI;t.extendComponentModel=NI;t.extendComponentView=EI;t.extendSeriesModel=zI;t.format=pI;t.getCoordinateSystemDimensions=Ow;t.getInstanceByDom=Sw;t.getInstanceById=Mw;t.getMap=Fw;t.graphic=cI;t.helper=fI;t.init=mw;t.innerDrawElementOnCanvas=Vx;t.matrix=Ti;t.number=hI;t.parseGeoJSON=B_;t.parseGeoJson=B_;t.registerAction=Lw;t.registerCoordinateSystem=Pw;t.registerLayout=Rw;t.registerLoading=Bw;t.registerLocale=ac;t.registerMap=Gw;t.registerPostInit=Dw;t.registerPostUpdate=Aw;t.registerPreprocessor=Tw;t.registerProcessor=Cw;t.registerTheme=Iw;t.registerTransform=Hw;t.registerUpdateLifecycle=kw;t.registerVisual=Nw;t.setCanvasCreator=Vw;t.throttle=em;t.time=vI;t.use=Xw;t.util=dI;t.vector=Ut;t.version=nb;t.zrUtil=mt;t.zrender=ka;Object.defineProperty(t,"__esModule",{value:true})});