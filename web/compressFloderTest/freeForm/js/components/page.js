var $page={type:"page",dataType:"singeleData",getConfig:getPageConfig,showProperty:showPropertyPage,onchage:pageChage};function getPageConfig(){return{ds_id:"PAGE",ds_pagejs:"",ds_pagecss:"",ds_pubjs:"",ds_pageJsFile:"",ds_pageCssFile:"",ds_page_background_color:"",ds_page_background_image:"",ds_page_background_repeat:false,ds_page_background_size:"100% 100%",ds_page_background_position:"center",ds_page_allloadsuccess:""}}function showPropertyPage(s){var e=[];var d=getProInfoByObj("input",{ds_id:"ds_pubjs",ds_pid:"PAGE",ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"公共脚本",ds_placeholder:"请点击选择脚本",ds_input:"",ds_name:"ds_pubjs",ds_readonly:true,ds_ispro:true,ds_height:"5rem",ds_input_focus:"selectPubJs"});e.push(d);var a=getProInfoByObj("input",{ds_id:"ds_pageJsFile",ds_pid:"PAGE",ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"页面JS文件",ds_placeholder:"请点击设置JS文件",ds_input:"",ds_name:"ds_pageJsFile",ds_readonly:true,ds_ispro:true,ds_height:"5rem",ds_input_focus:"selectPageFile"});e.push(a);var _=getProInfoByObj("jseditor",{ds_id:"ds_pagejs",ds_pid:"PAGE",ds_labeltxt:"页面脚本",ds_placeholder:"请点击编辑脚本",ds_style:"ds-mt-1",ds_draggable:"false",ds_jseditor:"",ds_prepend:"",ds_append:"",ds_jseditor_change:"",ds_name:"ds_pagejs",ds_ispro:true,ds_savedb:true,ds_height:"5rem"});e.push(_);var t=getProInfoByObj("input",{ds_id:"ds_pageCssFile",ds_pid:"PAGE",ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"页面CSS文件",ds_placeholder:"请点击设置CSS文件",ds_input:"",ds_name:"ds_pageCssFile",ds_readonly:true,ds_ispro:true,ds_height:"5rem",ds_input_focus:"selectPageFile"});e.push(t);var r=getProInfoByObj("csseditor",{ds_id:"ds_pagecss",ds_pid:"PAGE",ds_labeltxt:"页面CSS",ds_placeholder:"请点击编辑CSS",ds_style:"ds-mt-1",ds_draggable:"false",ds_csseditor:"",ds_prepend:"",ds_name:"ds_pagecss",ds_ispro:true,ds_savedb:true,ds_height:"5rem"});e.push(r);var g=getProInfoByObj("color",{ds_id:"ds_page_background_color",ds_pid:"PAGE",ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"页面背景颜色",ds_name:"ds_page_background_color",ds_ispro:true,ds_show_alpha:true,ds_color:"#ffffff"});e.push(g);var o=getProInfoByObj("input",{ds_id:"ds_page_background_image",ds_pid:"PAGE",ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"页面背景图片",ds_placeholder:"图片地址",ds_input:"图片地址",ds_name:"ds_page_background_image",ds_ispro:true,ds_input_focus:"setPageBackgroundImage"});e.push(o);var p=getProInfoByObj("input",{ds_id:"ds_page_background_size",ds_pid:"PAGE",ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"背景图宽高",ds_placeholder:"100%100%",ds_input:"100% 100%",ds_name:"ds_page_background_size",ds_ispro:true});e.push(p);var i=getProInfoByObj("input",{ds_id:"ds_label_background_position",ds_pid:"PAGE",ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"背景图位置",ds_placeholder:"center",ds_input:"center",ds_name:"ds_label_background_position",ds_ispro:true});e.push(i);var l=getProInfoByObj("switch",{ds_id:"ds_page_background_repeat",ds_pid:"PAGE",ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"图片是否可重复",ds_name:"ds_page_background_repeat",ds_switch:false,ds_active_value:true,ds_inactive_value:false,ds_ispro:true,ds_switch_change:"changePageImgRepeat"});e.push(l);var n=getProInfoByObj("jseditor",{ds_id:"ds_page_allloadsuccess",ds_pid:"PAGE",ds_labeltxt:"加载完成事件",ds_placeholder:"脚本",ds_style:"ds-mt-1",ds_draggable:"false",ds_jseditor:"",ds_prepend:"fn(){",ds_jseditor_change:"",ds_name:"ds_page_allloadsuccess",ds_ispro:true,ds_savedb:false,group1:"事件",group2:""});e.push(n);if(VUECFG.pageArr&&VUECFG.pageArr.length>0&&!s){var u=VUECFG.pageArr;for(var c=0;c<e.length;c++){for(var f=0;f<u.length;f++){if(e[c].info.ds_name==u[f].info.ds_name){var b=e[c].type.split("drag_")[1];e[c].info["ds_"+b]=u[f].info["ds_"+b];if(u[f].info["ds_show"])e[c].info["ds_show"]=u[f].info["ds_show"]}}}}VUECFG.pageArr=[];VUECFG.pageArr=e;return e}function pageChage(s,e){}function selectPubJs(s,e){showMyDialog("页面公共脚本","95%","95%","manage/selectJs.jsp?pubId="+s.ds_input,function(){})}function setPubjs(s,e,d){if(VUECFG.pageArr&&VUECFG.pageArr.length>0){var a=VUECFG.pageArr;for(var _=0;_<a.length;_++){if(a[_].info.ds_name==="ds_pubjs"){a[_].info.ds_input=s;continue}}}}function setPageBackgroundImage(){showMyDialog("图片库","95%","95%","manage/imageUpLoad/upload.html?ctrlId=page&ctrlType=page&basePath="+$DS.util.getProjectName(VUECFG.appId),function(){})}function changePageImgRepeat(s,e){setProperties("PAGE","ds_page_background_repeat","switch",e)}function selectPageFile(s){var e=s.ds_id;var d="";if(e=="ds_pageJsFile"){d="设置要加载JS的文件"}else{d="设置要加载CSS的文件"}var a=[{field:"FILEURL",title:"文件路径",width:1,edit:"text"}];var _=$DS.getPageProValByName(e);var t=[];t=_;if(t&&$DS.util.isString(t)){t=JSON.parse(t)}$DS.openCfgTable(a,t,function(s){if(JSON.parse(s).length==0){$DS.setPageProValByName(e,"")}else{$DS.setPageProValByName(e,s)}},"90%","90%",d)}