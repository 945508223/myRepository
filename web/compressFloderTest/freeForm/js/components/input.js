var $input={type:"drag_input",dataType:"singeleData",uuid:Date.parse(new Date),getConfig:getInputConfig,register:registerInput,showProperty:showPropertyInput,setData:setInputVal,getData:getInputVal,clearData:clearInputVal};function getInputConfig(){return{ds_id:"",ds_ctrlname:"INPUT_"+$input.uuid++,ds_show:true,ds_showCondition:"",ds_width:"100%",ds_height:"5rem",ds_labelwidth:"10",ds_labelcolor:"#606266",ds_labelfontweight:"bold",ds_labelfontfamily:"微软雅黑",ds_labelfontsize:"1",ds_innerwidth:"calc(100% - 2rem)",ds_style:"drawing-item",ds_name:"",ds_datasource:"",ds_showlable:true,ds_isrequired:false,ds_param:"",ds_backParamCondition:"",ds_trigger:"",ds_loading:"normal",ds_out_padding:"1rem",ds_out_margin:"0rem",ds_ispro:false,ds_pid:"",ds_draggable:"true",ds_defaultval:"",ds_labeltxt:"单行文本",ds_placeholder:"请输入单行文本",ds_input:"",ds_valformat:"",ds_prepend:"",ds_append:"",ds_prefix_icon:"",ds_suffix_icon:"",ds_maxlength:"",ds_title:"",ds_clearable:false,ds_readonly:false,ds_disabled:false,ds_input_contentType:"text",ds_input_addThousand:false,ds_input_addPrecision:0,ds_checkRegular:"",ds_inner_color:"",ds_inner_bordercolor:"",ds_inner_fontsize:"",ds_inner_fontfamily:"",ds_inner_borderwidth:"",ds_load_success:"//obj:配置对象{ds_id:组件id,ds_ctrlname:组件名称},//trigger:是否触发控件刷新",ds_input_change:"//obj:配置对象{ds_id:组件id,ds_ctrlname:组件名称}//val:变更值",ds_input_blur:"//obj:配置对象{ds_id:组件id,ds_ctrlname:组件名称}//event:事件对象",ds_input_focus:"//obj:配置对象{ds_id:组件id,ds_ctrlname:组件名称}//event:事件对象",ds_input_input:"//obj:配置对象{ds_id:组件id,ds_ctrlname:组件名称}//val:变更值",ds_input_clear:"//obj:配置对象{ds_id:组件id,ds_ctrlname:组件名称}",ds_input_enter:"//obj:配置对象{ds_id:组件id,ds_ctrlname:组件名称}",ds_input_appendclick:"//obj:配置对象{ds_id:组件id,ds_ctrlname:组件名称}",ds_input_prependclick:"//obj:配置对象{ds_id:组件id,ds_ctrlname:组件名称}"}}function registerInput(){Vue.component("drag_input",{props:["type","info"],created:function(){this.$nextTick(function(){addListener(this);if(!this.info.ds_ispro)temporary.loadRegister[this.info.ds_id]=true;VUECFG.$refs[this.info.ds_id]=this})},data:function(){return{hide:"y-hide",refdate:Date.parse(new Date)}},watch:{},computed:{computed_inputVal:{get:function(){var s=this.info.ds_input;if(this.info.ds_valformat=="JSON"&&($DS.util.isArray(this.info.ds_input)||$DS.util.isObject(this.info.ds_input))){try{s=JSON.stringify(this.info.ds_input)}catch(d){console.error("INPUT值JSON格式化异常!");s=s}}if(this.info.ds_valformat=="ARRAY"&&($DS.util.isArray(this.info.ds_input)||$DS.util.isObject(this.info.ds_input))){s=this.info.ds_input+""}return s},set:function(s){this.info.ds_input=s}},computed_drag:function(){if(VUECFG.viewStatu)return false;return this.info.ds_draggable},computed_outerstyle:function(){var s=`${this.refdate}_change`;if(this.info.ds_ispro===true){return{padding:"1rem 0px"}}return{padding:this.info.ds_out_padding,margin:this.info.ds_out_margin}},computed_width:function(){return this.info.ds_showlable?"calc("+this.info.ds_innerwidth+" - "+this.info.ds_labelwidth+"rem)":this.info.ds_innerwidth},computed_show:function(){var refdateStr=`${this.refdate}_change`;if(!VUECFG.viewStatu){return this.info.ds_ispro&&!this.info.ds_show?"y-hide":"y-show"}else{if(this.info.ds_showCondition){var str=$DS.util.replace(this.info.ds_showCondition);return eval(str)?"y-show":"y-hide"}return this.info.ds_show?"y-show":"y-hide"}},computed_marginleft:function(){return this.info.ds_showlable?this.info.ds_labelwidth+"rem":"0rem"},computed_isrequired:function(){return this.info.ds_isrequired?"ds_isrequired":""},computed_innerstyle:function(){var s=`${this.refdate}_change`;this.$nextTick(function(){if(this.info.ds_inner_color){$(`#${this.info.ds_id} .el-input__inner`).css("color",this.info.ds_inner_color)}if(this.info.ds_inner_bordercolor){$(`#${this.info.ds_id} .el-input__inner`).css("border-color",this.info.ds_inner_bordercolor)}if(this.info.ds_inner_fontsize){$(`#${this.info.ds_id} .el-input__inner`).css("font-size",this.info.ds_inner_fontsize)}if(this.info.ds_inner_fontfamily){$(`#${this.info.ds_id} .el-input__inner`).css("font-family",this.info.ds_inner_fontfamily)}if(this.info.ds_inner_borderwidth){var s=this.info.ds_inner_borderwidth.split(",");var d="";for(let e=0;e<s.length;e++){d+=s[e]+"px "}$(`#${this.info.ds_id} .el-input__inner`).css("border-width",d)}});return{color:this.info.ds_inner_color,borderColor:this.info.ds_inner_bordercolor,"font-size":this.info.ds_inner_fontsize,"font-family":this.info.ds_inner_fontfamily,"border-width":this.info.ds_inner_borderwidth,display:"none"}},computed_title:function(){return this.info.ds_title},computed_labelstyle:function(){var s=`${this.refdate}_change`;return{width:this.info.ds_labelwidth+"rem",color:this.info.ds_labelcolor,fontWeight:!this.info.ds_ispro?this.info.ds_labelfontweight:"normal",fontFamily:this.info.ds_labelfontfamily,fontSize:this.info.ds_labelfontsize}}},methods:{changeCurrId:changeCurrId,mouseOver:ctrlMouseOver,mouseLeave:ctrlMouseLeave,inputChange:inputChange,inputBlur:inputBlur,inputFocus:inputFocus,inputInput:inputInput,inputClear:inputClear,inputEnter:inputEnter,appendClick:appendClick,prependClick:prependClick,clickChooseIcon:clickChooseIcon},template:util.getModelHtml("drag_input")})}function inputChange(s){var d=this.info;$DS.eval(d.ds_input_change,d,s);$DS.dealPms(d,s);if(d.ds_trigger&&d.ds_trigger.length>0){triggerComps(d.ds_trigger,$DS.getCtrlType(d.ds_id))}if(d.ds_ispro){if(d.ds_pid=="PAGE"){$page.onchage(d,s);return}switch(d.ds_valformat){case"STRING":s=s+"";break;case"NUMBER":try{s=parseInt(s)?parseInt(s):0}catch(d){s=0;console.error("整型格式化错误,请检查数值格式是否符合规则!")}break;case"FLOAT":try{s=parseFloat(s)?parseFloat(s):0}catch(d){s=0;console.error("浮点型格式化错误,请检查数值格式是否符合规则!")}break;case"BOOLEAN":s=s.toUpperCase()=="TRUE"?true:false;break;case"ARRAY":s=s.split(",");break;case"JSON":try{s=JSON.parse(s)}catch(d){s=s?s:"";console.error("JSON格式化错误,请检查值格式是否符合规则!")}break}var e=VUECFG.formObj[d.ds_pid];e.info[d.ds_name]=s;VUECFG.$refs[d.ds_pid].refdate++}else{var t=VUECFG.proObj[VUECFG.ctrlId];if(t){for(var r=0;r<t.length;r++){if(t[r].info.ds_name=="ds_input"){VUECFG.proObj[VUECFG.ctrlId][r].info.ds_input=[s].join("");if(VUECFG.proArr[r]&&VUECFG.proArr[r].info)VUECFG.proArr[r].info.ds_input=[s].join("")}}}}}function loadSuccess(s,d){var e=this.info;$DS.eval(e.ds_load_success,e)}function inputBlur(s){var d=this.info;isFilter(this.info.ds_trigger,d.ds_input);var e=checkRegular(d);if(!e){return false}checkContentIsLegal(d);$DS.eval(d.ds_input_blur,d,null,s)}function inputFocus(s){var d=this.info;if(d.ds_input_contentType=="num"&&d.ds_input_addThousand&&d.ds_input!==null&&d.ds_input!==undefined&&d.ds_input!=""){d.ds_input=$DS.util.removeThousands(d.ds_input)}$DS.eval(d.ds_input_focus,d,null,s)}function inputInput(s){var d=this.info;$DS.eval(d.ds_input_input,d,s)}function inputClear(){var s=this.info;$DS.eval(s.ds_input_clear,s)}function inputEnter(s){$(s.currentTarget).find("input")[0].blur();var d=this.info;$DS.eval(d.ds_input_enter,d)}function appendClick(){if(!VUECFG.viewStatu&&!this.info.ds_ispro)return;var s=this.info;$DS.eval(s.ds_input_appendclick,s)}function prependClick(){if(!VUECFG.viewStatu&&!this.info.ds_ispro)return;if(!VUECFG.viewStatu)return;var s=this.info;$DS.eval(s.ds_input_prependclick,s)}function isFilter(s,d){debugger;if(s&&s.length>0){for(let i=0;i<s.length;i++){if($DS.getCtrlType(s[i])==="tree"&&$DS.getCtrlById(s[i]).info.ds_tree_isfilter===true){var e=window.top[s[i]+"treeRef"];var t=$DS.getCtrlById(s[i]).info;if(e.data&&e.data.length>0){var r=t.ds_tree_filterFiled;if(r===""||r===undefined||r.length<=0){r=[];r.push(t.ds_label_filed)}var _=$DS.getSourceById(t.ds_datasource);if(_){r=r.map(s=>{if(s==_.treeId){return"ID"}else if(s==_.treeName){return"NAME"}else if(s==_.treePid){return"PID"}else{return s}})}for(let s=0;s<r.length;s++){if(!e.data[0].hasOwnProperty([r[s]])){alert("设置过滤有误,数据中不存在 "+"【 "+r[s]+" 】字段");return}}t.ds_tree_click_flag=false;e.filter(d);t.ds_tree_click_flag=true}}else if($DS.getCtrlType(s[i])==="grid"&&$DS.getCtrlById(s[i]).info.ds_enablesearch===true){$grid.search(s[i],d)}else if($DS.getCtrlType(s[i])==="menu"&&$DS.getCtrlById(s[i]).info.ds_menu_filter===true){$menu.search(s[i],d)}}}}function checkContentIsLegal(s,d){var e=s.ds_input_contentType;if(d===true){s=$DS.getCtrlById(s.ds_pid).info}var t=s.ds_input;if(e!=="num"||t==""){return}t=$DS.util.removeThousands(t);if(e&&e==="num"&&isNaN(t)){alert("请输入数值");s.ds_input="";return}else if(e&&e==="num"){if(t!=""){t=util.fixedNumber(t,s.ds_input_addPrecision);if(s.ds_input_addThousand===true){t=$DS.util.addThousands(t)}}s.ds_input=t}}function checkProContentIsLegal(s,d){checkContentIsLegal(s,true)}function changeContentType(s,d){var e=d==="num"?true:false;var t=["ds_input_addThousand","ds_input_addPrecision"];for(let s=0;s<t.length;s++){for(var r=0;r<VUECFG.proArr.length;r++){if(VUECFG.proArr[r].info.ds_name===t[s]){VUECFG.proArr[r].info.ds_show=e}}}}function showPropertyInput(s){var d=[];d=showInputPro(d);if(VUECFG.proObj[VUECFG.ctrlId]&&!s){var e=VUECFG.proObj[VUECFG.ctrlId];for(var t=0;t<d.length;t++){for(var r=0;r<e.length;r++){if(d[t].info.ds_name==e[r].info.ds_name){var _=d[t].type.split("drag_")[1];d[t].info["ds_"+_]=e[r].info["ds_"+_];if(!$DS.util.isUndefined(e[r].info["ds_show"]))d[t].info["ds_show"]=e[r].info["ds_show"]}}}}VUECFG.proObj[VUECFG.ctrlId]=[];VUECFG.proArr=formatterCtrlProCfg(d);VUECFG.proObj[VUECFG.ctrlId]=d;$("#templetePro").click()}function showInputPro(s){var d=getProInfoByObj("select",{ds_id:"type",ds_pid:VUECFG.ctrlId,ds_labeltxt:"组件类型",ds_placeholder:"组件类型",ds_style:"ds-mt-1",ds_draggable:"false",ds_group:true,ds_options:getAllCtrl(),ds_select:$input.type,ds_select_change:"changeFormCtrl",ds_name:"type",ds_ispro:true,ds_isrequired:true});s.push(d);var e=getProInfoByObj("input",{ds_id:"ds_ctrlname",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"控件名",ds_placeholder:"控件名",ds_input:VUECFG.formObj[VUECFG.ctrlId].info.ds_ctrlname,ds_input_blur:"checkDuplication",ds_name:"ds_ctrlname",ds_ispro:true,ds_isrequired:true});s.push(e);var t=getProInfoByObj("input",{ds_id:"ds_width",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"控件宽度",ds_placeholder:"控件宽度",ds_input:"100%",ds_name:"ds_width",ds_ispro:true,ds_isrequired:true,group1:"",group2:""});s.push(t);var r=getProInfoByObj("input",{ds_id:"ds_height",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"控件高度",ds_placeholder:"控件高度",ds_input:"5rem",ds_name:"ds_height",ds_ispro:true,ds_isrequired:true,group1:"",group2:""});s.push(r);var _=getProInfoByObj("input",{ds_id:"ds_labeltxt",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"标题",ds_placeholder:"标题",ds_input:"单行文本",ds_name:"ds_labeltxt",ds_ispro:true,group1:"",group2:""});s.push(_);var i=getProInfoByObj("input",{ds_id:"ds_placeholder",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"占位提示",ds_placeholder:"占位提示",ds_input:"请输入单行文本",ds_name:"ds_placeholder",ds_ispro:true,group1:"",group2:""});s.push(i);var n=getProInfoByObj("input",{ds_id:"ds_input",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"默认值",ds_placeholder:"默认值",ds_input:"",ds_name:"ds_input",ds_ispro:true,ds_input_blur:"checkProContentIsLegal",group1:"",group2:""});s.push(n);var o=getProInfoByObj("select",{ds_id:"ds_datasource",ds_pid:VUECFG.ctrlId,ds_labeltxt:"数据源",ds_placeholder:"数据源",ds_style:"ds-mt-1",ds_draggable:"false",ds_options:getAllDatasource(),ds_select:"",ds_select_change:"changeDataSourceForCtrl",ds_select_visible_change:"changeDatasourceOption",ds_name:"ds_datasource",ds_ispro:true,ds_isrequired:true,group1:"数据源",group2:""});s.push(o);var a=getProInfoByObj("select",{ds_id:"ds_name",ds_pid:VUECFG.ctrlId,ds_labeltxt:"字段名",ds_placeholder:"字段名",ds_style:"ds-mt-1",ds_draggable:"false",ds_options:getAllDatasourceField(),ds_select:"",ds_select_change:"changeFieldNameForCtrl",ds_select_visible_change:"changeFieldOption",ds_name:"ds_name",ds_ispro:true,ds_isrequired:true,group1:"数据源",group2:""});s.push(a);var l=getProInfoByObj("input",{ds_id:"ds_innerwidth",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"组件宽度",ds_placeholder:"组件宽度",ds_input:"calc(100% - 2rem)",ds_name:"ds_innerwidth",ds_ispro:true,group1:"属性",group2:"组件布局"});s.push(l);var p=getProInfoByObj("input",{ds_id:"ds_out_padding",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"内边距大小",ds_placeholder:"内边距大小",ds_input:"1rem",ds_name:"ds_out_padding",ds_ispro:true,group1:"属性",group2:"组件布局"});s.push(p);var u=getProInfoByObj("input",{ds_id:"ds_out_margin",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"外边距大小",ds_placeholder:"外边距大小",ds_input:"0rem",ds_name:"ds_out_margin",ds_ispro:true,group1:"属性",group2:"组件布局"});s.push(u);var c=getProInfoByObj("input",{ds_id:"ds_labelwidth",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"标题宽度",ds_placeholder:"标题宽度",ds_input:"10",ds_name:"ds_labelwidth",ds_ispro:true,ds_append:"rem",group1:"属性",group2:"标题样式"});s.push(c);var f=getProInfoByObj("color",{ds_id:"ds_labelcolor",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"标题颜色",ds_name:"ds_labelcolor",ds_ispro:true,ds_show_alpha:true,ds_color:"#606266",group1:"属性",group2:"标题样式"});s.push(f);var g=getProInfoByObj("select",{ds_id:"ds_labelfontweight",ds_pid:VUECFG.ctrlId,ds_labeltxt:"标题字体加粗",ds_placeholder:"标题字体加粗",ds_style:"ds-mt-1",ds_draggable:"false",ds_options:getFontWeight(),ds_select:"bold",ds_name:"ds_labelfontweight",ds_ispro:true,group1:"属性",group2:"标题样式"});s.push(g);var h=getProInfoByObj("select",{ds_id:"ds_labelfontfamily",ds_pid:VUECFG.ctrlId,ds_labeltxt:"标题字体样式",ds_placeholder:"标题字体样式",ds_style:"ds-mt-1",ds_draggable:"false",ds_options:getFontFamily(),ds_select:"微软雅黑",ds_name:"ds_labelfontfamily",ds_ispro:true,group1:"属性",group2:"标题样式"});s.push(h);var b=getProInfoByObj("input",{ds_id:"ds_labelfontsize",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"标题字体大小",ds_placeholder:"标题字体大小",ds_input:"1rem",ds_name:"ds_labelfontsize",ds_ispro:true,ds_isrequired:false,group1:"属性",group2:"标题样式"});s.push(b);var m=getProInfoByObj("color",{ds_id:"ds_inner_bordercolor",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"输入框颜色",ds_name:"ds_inner_bordercolor",ds_ispro:true,ds_show_alpha:true,ds_color:"#DCDFE6",group1:"属性",group2:"组件样式"});s.push(m);var y=getProInfoByObj("input",{ds_id:"ds_inner_borderwidth",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"输入框宽度",ds_placeholder:"输入框宽度",ds_input:"1",ds_name:"ds_inner_borderwidth",ds_ispro:true,ds_isrequired:false,group1:"属性",group2:"组件样式"});s.push(y);var I=getProInfoByObj("color",{ds_id:"ds_inner_color",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"输入字体颜色",ds_name:"ds_inner_color",ds_ispro:true,ds_show_alpha:true,ds_color:"#606266",group1:"属性",group2:"组件字体"});s.push(I);var v=getProInfoByObj("input",{ds_id:"ds_inner_fontsize",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"输入框字体大小",ds_placeholder:"输入框字体大小",ds_input:"1rem",ds_name:"ds_inner_fontsize",ds_ispro:true,ds_isrequired:false,group1:"属性",group2:"组件字体"});s.push(v);var C=getProInfoByObj("select",{ds_id:"ds_inner_fontfamily",ds_pid:VUECFG.ctrlId,ds_labeltxt:"输入框字体样式",ds_placeholder:"输入框字体样式",ds_style:"ds-mt-1",ds_draggable:"false",ds_options:getFontFamily(),ds_select:"宋体",ds_name:"ds_inner_fontfamily",ds_ispro:true,group1:"属性",group2:"组件字体"});s.push(C);var j=getProInfoByObj("switch",{ds_id:"ds_readonly",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"是否只读",ds_name:"ds_readonly",ds_switch:false,ds_ispro:true,group1:"属性",group2:"组件属性"});s.push(j);var F=getProInfoByObj("switch",{ds_id:"ds_disabled",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"是否禁用",ds_name:"ds_disabled",ds_switch:false,ds_ispro:true,group1:"属性",group2:"组件属性"});s.push(F);var V=getProInfoByObj("switch",{ds_id:"ds_isrequired",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"是否必填",ds_name:"ds_isrequired",ds_switch:false,ds_ispro:true,group1:"属性",group2:"组件属性"});s.push(V);var E=getProInfoByObj("switch",{ds_id:"ds_clearable",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"能否清空",ds_name:"ds_clearable",ds_switch:false,ds_ispro:true,group1:"属性",group2:"组件属性"});s.push(E);var U=getProInfoByObj("input",{ds_id:"ds_prepend",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"前缀",ds_placeholder:"前缀",ds_input:"",ds_name:"ds_prepend",ds_ispro:true,group1:"属性",group2:"前后缀"});s.push(U);var w=getProInfoByObj("input",{ds_id:"ds_append",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"后缀",ds_placeholder:"后缀",ds_input:"",ds_name:"ds_append",ds_ispro:true,group1:"属性",group2:"前后缀"});s.push(w);var G=getProInfoByObj("input",{ds_id:"ds_prefix_icon",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"前图标",ds_placeholder:"请输入前图标名称",ds_input:"",ds_name:"ds_prefix_icon",ds_append:"选择",ds_input_appendclick:"clickChooseIcon",ds_ispro:true,group1:"属性",group2:"图标"});s.push(G);var P=getProInfoByObj("input",{ds_id:"ds_suffix_icon",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"后图标",ds_placeholder:"请输入后图标名称",ds_input:"",ds_name:"ds_suffix_icon",ds_append:"选择",ds_input_appendclick:"clickChooseIcon",ds_ispro:true,group1:"属性",group2:"图标"});s.push(P);var O=getProInfoByObj("input",{ds_id:"ds_maxlength",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"最多输入",ds_placeholder:"最多输入",ds_input:"",ds_name:"ds_maxlength",ds_ispro:true,ds_append:"个字符",group1:"属性",group2:"数值格式"});s.push(O);var x=getProInfoByObj("radio",{ds_id:"ds_input_contentType",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"输入内容类型",ds_name:"ds_input_contentType",ds_radio:"text",ds_options:[{value:"text",text:"文本"},{value:"num",text:"数值"}],ds_radiobtn:true,ds_ispro:true,group1:"属性",group2:"数值格式"});s.push(x);var B=getProInfoByObj("select",{ds_id:"ds_valformat",ds_pid:VUECFG.ctrlId,ds_labeltxt:"值格式化",ds_placeholder:"值格式化",ds_style:"ds-mt-1",ds_draggable:"false",ds_options:getFormatObj(),ds_select:"STRING",ds_name:"ds_valformat",ds_ispro:true,group1:"属性",group2:"数值格式"});s.push(B);var $=getProInfoByObj("inputnumber",{ds_id:"ds_input_addPrecision",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"精确小数位数",ds_name:"ds_input_addPrecision",ds_ispro:true,ds_step:1,ds_step_strictly:true,ds_inputnumber:0,ds_min:0,ds_show:true,group1:"属性",group2:"数值格式"});s.push($);var S=getProInfoByObj("switch",{ds_id:"ds_input_addThousand",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"是否添加千分符",ds_name:"ds_input_addThousand",ds_switch:false,ds_ispro:true,ds_show:true,group1:"属性",group2:"数值格式"});s.push(S);var D=getProInfoByObj("input",{ds_id:"ds_checkRegular",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"正则校验",ds_placeholder:"正则校验",ds_input:"",ds_name:"ds_checkRegular",ds_ispro:true,ds_input_focus:"editRegular",ds_valformat:"JSON",group1:"属性",group2:"正则校验"});s.push(D);var k=getProInfoByObj("input",{ds_id:"ds_title",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"提示内容",ds_placeholder:"提示内容",ds_input:"",ds_name:"ds_title",ds_ispro:true,ds_isrequired:false,group1:"属性",group2:"提示信息"});s.push(k);var T=getProInfoByObj("input",{ds_id:"ds_defaultval",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"缺省值",ds_placeholder:"${V.参数,'缺省值'}",ds_input:"",ds_name:"ds_defaultval",ds_ispro:true,group1:"缺省值",group2:""});s.push(T);var A=getProInfoByObj("input",{ds_id:"ds_param",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"推送参数名",ds_placeholder:"控件推送参数名",ds_input:"",ds_name:"ds_param",ds_ispro:true,group1:"参数推送",group2:""});s.push(A);var N=getProInfoByObj("input",{ds_id:"ds_backParamCondition",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"撤销推送条件",ds_placeholder:"推送参数名.A=='a'||推送参数名.A=='b'",ds_input:"",ds_name:"ds_backParamCondition",ds_ispro:true,group1:"参数推送",group2:""});s.push(N);var q=getProInfoByObj("select",{ds_id:"ds_trigger",ds_pid:VUECFG.ctrlId,ds_labeltxt:"触发刷新控件",ds_placeholder:"请选择触发刷新控件",ds_style:"ds-mt-1",ds_draggable:"false",ds_options:[],ds_select_visible_change:"getAllPageCtrl",ds_select:"",ds_name:"ds_trigger",ds_ispro:true,ds_multiple:true,group1:"控件加载",group2:""});s.push(q);var R=getProInfoByObj("select",{ds_id:"ds_loading",ds_pid:VUECFG.ctrlId,ds_labeltxt:"加载机制",ds_placeholder:"请选择加载机制",ds_style:"ds-mt-1",ds_draggable:"false",ds_group:false,ds_options:[{value:"first",label:"优先加载"},{value:"normal",label:"正常加载"},{value:"lazy",label:"懒加载"}],ds_select:"normal",ds_select_change:"changeCtrlLoading",ds_name:"ds_loading",ds_ispro:true,group1:"控件加载",group2:""});s.push(R);var z=getProInfoByObj("switch",{ds_id:"ds_show",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"显示控件",ds_name:"ds_show",ds_switch:true,ds_ispro:true,group1:"显示设置",group2:""});s.push(z);var L=getProInfoByObj("input",{ds_id:"ds_showCondition",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"显示条件",ds_placeholder:"${V.推送参数名.A}=='a'||${V.推送参数名.A}=='b'",ds_input:"",ds_name:"ds_showCondition",ds_ispro:true,group1:"显示设置",group2:""});s.push(L);var J=getProInfoByObj("switch",{ds_id:"ds_showlable",ds_pid:VUECFG.ctrlId,ds_draggable:"false",ds_style:"ds-mt-1",ds_labeltxt:"显示标题",ds_name:"ds_showlable",ds_switch:true,ds_ispro:true,group1:"显示设置",group2:""});s.push(J);var M=getProInfoByObj("jseditor",{ds_id:"ds_load_success",ds_pid:VUECFG.ctrlId,ds_labeltxt:"加载完成事件",ds_placeholder:"脚本",ds_style:"ds-mt-1",ds_draggable:"false",ds_jseditor:"//obj:配置对象{ds_id:组件id,ds_ctrlname:组件名称},//trigger:是否触发控件刷新",ds_prepend:"fn(obj,trigger){",ds_jseditor_change:"",ds_name:"ds_load_success",ds_ispro:true,ds_savedb:false,group1:"事件",group2:""});s.push(M);var W=getProInfoByObj("jseditor",{ds_id:"ds_input_change",ds_pid:VUECFG.ctrlId,ds_labeltxt:"变更事件",ds_placeholder:"脚本",ds_style:"ds-mt-1",ds_draggable:"false",ds_jseditor:"//obj:配置对象{ds_id:组件id,ds_ctrlname:组件名称}//val:变更值",ds_prepend:"fn(obj,val){",ds_jseditor_change:"",ds_name:"ds_input_change",ds_ispro:true,ds_savedb:false,group1:"事件",group2:""});s.push(W);var Y=getProInfoByObj("jseditor",{ds_id:"ds_input_blur",ds_pid:VUECFG.ctrlId,ds_labeltxt:"失去焦点事件",ds_placeholder:"脚本",ds_style:"ds-mt-1",ds_draggable:"false",ds_jseditor:"//obj:配置对象{ds_id:组件id,ds_ctrlname:组件名称}//event:事件对象",ds_prepend:"fn(obj,event){",ds_jseditor_change:"",ds_name:"ds_input_blur",ds_ispro:true,ds_savedb:false,group1:"事件",group2:""});s.push(Y);var H=getProInfoByObj("jseditor",{ds_id:"ds_input_focus",ds_pid:VUECFG.ctrlId,ds_labeltxt:"获得焦点事件",ds_placeholder:"脚本",ds_style:"ds-mt-1",ds_draggable:"false",ds_jseditor:"//obj:配置对象{ds_id:组件id,ds_ctrlname:组件名称}//event:事件对象",ds_prepend:"fn(obj,event){",ds_jseditor_change:"",ds_name:"ds_input_focus",ds_ispro:true,ds_savedb:false,group1:"事件",group2:""});s.push(H);var K=getProInfoByObj("jseditor",{ds_id:"ds_input_input",ds_pid:VUECFG.ctrlId,ds_labeltxt:"值改变事件",ds_placeholder:"脚本",ds_style:"ds-mt-1",ds_draggable:"false",ds_jseditor:"//obj:配置对象{ds_id:组件id,ds_ctrlname:组件名称}//val:变更值",ds_prepend:"fn(obj,val){",ds_jseditor_change:"",ds_name:"ds_input_input",ds_ispro:true,ds_savedb:false,group1:"事件",group2:""});s.push(K);var Q=getProInfoByObj("jseditor",{ds_id:"ds_input_clear",ds_pid:VUECFG.ctrlId,ds_labeltxt:"清空按钮事件",ds_placeholder:"脚本",ds_style:"ds-mt-1",ds_draggable:"false",ds_jseditor:"//obj:配置对象{ds_id:组件id,ds_ctrlname:组件名称}",ds_prepend:"fn(obj){",ds_jseditor_change:"",ds_name:"ds_input_clear",ds_ispro:true,ds_savedb:false,group1:"事件",group2:""});s.push(Q);var X=getProInfoByObj("jseditor",{ds_id:"ds_input_enter",ds_pid:VUECFG.ctrlId,ds_labeltxt:"按下回车事件",ds_placeholder:"脚本",ds_style:"ds-mt-1",ds_draggable:"false",ds_jseditor:"//obj:配置对象{ds_id:组件id,ds_ctrlname:组件名称}",ds_prepend:"fn(obj){",ds_jseditor_change:"",ds_name:"ds_input_enter",ds_ispro:true,ds_savedb:false,group1:"事件",group2:""});s.push(X);var Z=getProInfoByObj("jseditor",{ds_id:"ds_input_prependclick",ds_pid:VUECFG.ctrlId,ds_labeltxt:"前缀点击事件",ds_placeholder:"脚本",ds_style:"ds-mt-1",ds_draggable:"false",ds_jseditor:"//obj:配置对象{ds_id:组件id,ds_ctrlname:组件名称}",ds_prepend:"fn(obj){",ds_jseditor_change:"",ds_name:"ds_input_prependclick",ds_ispro:true,ds_savedb:false,group1:"事件",group2:""});s.push(Z);var ss=getProInfoByObj("jseditor",{ds_id:"ds_input_appendclick",ds_pid:VUECFG.ctrlId,ds_labeltxt:"后缀点击事件",ds_placeholder:"脚本",ds_style:"ds-mt-1",ds_draggable:"false",ds_jseditor:"//obj:配置对象{ds_id:组件id,ds_ctrlname:组件名称}",ds_prepend:"fn(obj){",ds_jseditor_change:"",ds_name:"ds_input_appendclick",ds_ispro:true,ds_savedb:false,group1:"事件",group2:""});s.push(ss);return s}function setInputVal(s,d,e){var t=$DS.getCtrlById(s);var r=getSourceById(VUECFG.groupObj[s]);if(r){if(!d&&t.info.ds_name&&$DS.getSourceData(r,e)){d=$DS.getSourceData(r,e)[t.info.ds_name]}d=formatterInputVal(t.info,d);t.info.ds_input=d}else{d=formatterInputVal(t.info,d);t.info.ds_input=d?d:""}}function formatterInputVal(s,d){if(d!=""&&d!==null&&d!==undefined&&s.ds_input_contentType=="num"&&(s.ds_input_addThousand||s.ds_input_addPrecision)){d=$DS.util.removeThousands(d);if(s.ds_input_addPrecision){d=$DS.util.fixedNumber(d,s.ds_input_addPrecision)}d=$DS.util.addThousands(d)}return d}function getInputVal(s){var d=$DS.getCtrlById(s).info;if(!d)console.error("【ID为"+s+"】的控件不存在!");if(d.ds_input_contentType=="num"&&d.ds_input_addThousand){return $DS.util.removeThousands(d.ds_input)}return d.ds_input}function clearInputVal(s){s.info.ds_input=""}